window.__require = function e(t, n, r) {
  function s(o, u) {
    if (!n[o]) {
      if (!t[o]) {
        var b = o.split("/");
        b = b[b.length - 1];
        if (!t[b]) {
          var a = "function" == typeof __require && __require;
          if (!u && a) return a(b, !0);
          if (i) return i(b, !0);
          throw new Error("Cannot find module '" + o + "'");
        }
        o = b;
      }
      var f = n[o] = {
        exports: {}
      };
      t[o][0].call(f.exports, function(e) {
        var n = t[o][1][e];
        return s(n || e);
      }, f, f.exports, e, t, n, r);
    }
    return n[o].exports;
  }
  var i = "function" == typeof __require && __require;
  for (var o = 0; o < r.length; o++) s(r[o]);
  return s;
}({
  AState: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ce431fnyCFEwbUEzeU6jzxg", "AState");
    "use strict";
    var StateType = require("State");
    cc.Class({
      extends: StateType,
      onStateEnter: function onStateEnter() {
        this._super();
      },
      onStateExit: function onStateExit() {
        this._super();
      }
    });
    cc._RF.pop();
  }, {
    State: "State"
  } ],
  AToB: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "13eccKdFdlEOLEuAw/Y+luv", "AToB");
    "use strict";
    var TransitionType = require("Transition");
    cc.Class({
      extends: TransitionType,
      properties: {},
      onLoad: function onLoad() {}
    });
    cc._RF.pop();
  }, {
    Transition: "Transition"
  } ],
  AbstractScreen: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "51660YOCt5N84a6ikB19mdq", "AbstractScreen");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.data = data;
      },
      onHide: function onHide() {},
      onButtonClickEvent: function onButtonClickEvent() {},
      onDestroy: function onDestroy() {}
    });
    cc._RF.pop();
  }, {} ],
  ActivateFullScreen: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0629f/fPzVIzKk3CI+FUtme", "ActivateFullScreen");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: cc.Component,
      properties: {
        heightNode: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        window.GameScreen = null;
        cc.sys.platform == cc.sys.MOBILE_BROWSER && cc.sys.os == cc.sys.OS_IOS ? this.heightNode.height = 790 : this.heightNode.height = 1080;
        this.listener = cc.EventListener.create({
          event: cc.EventListener.TOUCH_ONE_BY_ONE,
          onTouchBegan: function onTouchBegan(touch, event) {
            cc.sys.platform == cc.sys.MOBILE_BROWSER && cc.sys.os != cc.sys.OS_OSX && cc.sys.os != cc.sys.OS_IOS && cc.screen.autoFullScreen(cc.game.frame);
          }
        });
        cc.eventManager.addListener(this.listener, this.node);
      }
    });
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager"
  } ],
  AdjustSpriteOrder: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f0738fNsc1H1L/atXHqo94E", "AdjustSpriteOrder");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        zOrder: -1,
        isLocal: true,
        isRelative: true
      },
      onEnable: function onEnable() {
        this.isLocal ? this.isRelative ? this.node.setLocalZOrder(this.node.getLocalZOrder() + this.zOrder) : this.node.setLocalZOrder(this.zOrder) : this.isRelative ? this.node.setGlobalZOrder(this.node.getGlobalZOrder() + this.zOrder) : this.node.setGlobalZOrder(this.zOrder);
      }
    });
    cc._RF.pop();
  }, {} ],
  AdminNoticePopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f6c7bZJUr9I47S0LhOcSVW6", "AdminNoticePopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        title: {
          default: null,
          type: cc.Label
        },
        label: {
          default: null,
          type: cc.Label
        }
      },
      onShow: function onShow(data) {
        console.log("onShow", data);
        this.title.string = data.title;
        this.label.string = data.content;
        this.callback = data.callback;
      },
      onLoad: function onLoad() {},
      onClose: function onClose() {
        this.popUpManager.hide(PopUpType.AdminNoticePopup, function() {});
        this.callback && this.callback();
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  Advancefilter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "eac08cvrXdBd4Z8yMrT1dTw", "Advancefilter");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var EditBoxType = require("CustomEditBox");
    var UtilEditBoxType = require("EditBoxUtil");
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    var Advancefilter = cc.Class({
      extends: PopUpBase,
      properties: {
        minStake: {
          default: null,
          type: cc.EditBox
        },
        maxStake: {
          default: null,
          type: cc.EditBox
        },
        buyInUltraLow: {
          default: null,
          type: cc.Node
        },
        buyInLow: {
          default: null,
          type: cc.Node
        },
        buyInMedium: {
          default: null,
          type: cc.Node
        },
        buyInHigh: {
          default: null,
          type: cc.Node
        },
        player2: {
          default: null,
          type: cc.Node
        },
        player3: {
          default: null,
          type: cc.Node
        },
        player4: {
          default: null,
          type: cc.Node
        },
        player5: {
          default: null,
          type: cc.Node
        },
        player6: {
          default: null,
          type: cc.Node
        },
        player7: {
          default: null,
          type: cc.Node
        },
        player8: {
          default: null,
          type: cc.Node
        },
        player9: {
          default: null,
          type: cc.Node
        },
        rit: {
          default: null,
          type: cc.Node
        },
        noLimit: {
          default: null,
          type: cc.Node
        },
        limit: {
          default: null,
          type: cc.Node
        },
        activeSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        inactiveSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        activeColor: {
          default: new cc.Color()
        },
        inactiveColor: {
          default: new cc.Color()
        }
      },
      statics: {
        config: {
          stakes: {
            min: "",
            max: ""
          },
          players: {
            2: false,
            3: false,
            4: false,
            5: false,
            6: false,
            7: false,
            8: false,
            9: false
          },
          buyin: {
            UltraLow: false,
            Low: false,
            Medium: false,
            High: false
          },
          format: {
            rit: false
          },
          limit: {
            NoLimit: false,
            PotLimit: false
          },
          enabled: false
        }
      },
      onDestroy: function onDestroy() {},
      onEnable: function onEnable() {},
      onLoad: function onLoad() {},
      onPlayers: function onPlayers(event, msg) {
        true == Advancefilter.config.players[msg] ? Advancefilter.config.players[msg] = false : Advancefilter.config.players[msg] = true;
        this.updateFilters();
      },
      onBuyin: function onBuyin(event, msg) {
        true == Advancefilter.config.buyin[msg] ? Advancefilter.config.buyin[msg] = false : Advancefilter.config.buyin[msg] = true;
        this.updateFilters();
      },
      onFormat: function onFormat(event, msg) {
        true == Advancefilter.config.format[msg] ? Advancefilter.config.format[msg] = false : Advancefilter.config.format[msg] = true;
        this.updateFilters();
      },
      onLimitTypes: function onLimitTypes(event, msg) {
        true == Advancefilter.config.limit[msg] ? Advancefilter.config.limit[msg] = false : Advancefilter.config.limit[msg] = true;
        this.updateFilters();
      },
      onMin: function onMin() {
        Advancefilter.config.stakes.min = this.minStake.string;
      },
      onMax: function onMax() {
        Advancefilter.config.stakes.max = this.maxStake.string;
      },
      onShow: function onShow(data) {
        this.updateFilters();
      },
      updateFilters: function updateFilters() {
        this.minStake.string = Advancefilter.config.stakes.min;
        this.maxStake.string = Advancefilter.config.stakes.max;
        Advancefilter.config.buyin.UltraLow ? this.setActiveButton(this.buyInUltraLow) : this.setInActiveButton(this.buyInUltraLow);
        Advancefilter.config.buyin.Low ? this.setActiveButton(this.buyInLow) : this.setInActiveButton(this.buyInLow);
        Advancefilter.config.buyin.Medium ? this.setActiveButton(this.buyInMedium) : this.setInActiveButton(this.buyInMedium);
        Advancefilter.config.buyin.High ? this.setActiveButton(this.buyInHigh) : this.setInActiveButton(this.buyInHigh);
        Advancefilter.config.players["2"] ? this.setActiveButton(this.player2) : this.setInActiveButton(this.player2);
        Advancefilter.config.players["3"] ? this.setActiveButton(this.player3) : this.setInActiveButton(this.player3);
        Advancefilter.config.players["4"] ? this.setActiveButton(this.player4) : this.setInActiveButton(this.player4);
        Advancefilter.config.players["5"] ? this.setActiveButton(this.player5) : this.setInActiveButton(this.player5);
        Advancefilter.config.players["6"] ? this.setActiveButton(this.player6) : this.setInActiveButton(this.player6);
        Advancefilter.config.players["7"] ? this.setActiveButton(this.player7) : this.setInActiveButton(this.player7);
        Advancefilter.config.players["8"] ? this.setActiveButton(this.player8) : this.setInActiveButton(this.player8);
        Advancefilter.config.players["9"] ? this.setActiveButton(this.player9) : this.setInActiveButton(this.player9);
        Advancefilter.config.format.rit ? this.setActiveButton(this.rit) : this.setInActiveButton(this.rit);
        Advancefilter.config.limit.NoLimit ? this.setActiveButton(this.noLimit) : this.setInActiveButton(this.noLimit);
        Advancefilter.config.limit.PotLimit ? this.setActiveButton(this.limit) : this.setInActiveButton(this.limit);
      },
      setActiveButton: function setActiveButton(currBtn) {
        currBtn.getChildByName("scaler").getChildByName("off").active = false;
        currBtn.getChildByName("scaler").getChildByName("on").active = true;
      },
      setInActiveButton: function setInActiveButton(currBtn) {
        currBtn.getChildByName("scaler").getChildByName("off").active = true;
        currBtn.getChildByName("scaler").getChildByName("on").active = false;
      },
      onClearAll: function onClearAll(data) {
        Advancefilter.config = {
          stakes: {
            min: "",
            max: ""
          },
          players: {
            2: false,
            3: false,
            4: false,
            5: false,
            6: false,
            7: false,
            8: false,
            9: false
          },
          buyin: {
            UltraLow: false,
            Low: false,
            Medium: false,
            High: false
          },
          format: {
            rit: false
          },
          limit: {
            NoLimit: false,
            PotLimit: false
          },
          enabled: false
        };
        this.updateFilters();
      },
      onApply: function onApply() {
        false == Advancefilter.config.players["2"] && false == Advancefilter.config.players["3"] && false == Advancefilter.config.players["4"] && false == Advancefilter.config.players["5"] && false == Advancefilter.config.players["6"] && false == Advancefilter.config.players["7"] && false == Advancefilter.config.players["8"] && false == Advancefilter.config.players["9"] && false == Advancefilter.config.buyin["UltraLow"] && false == Advancefilter.config.buyin["Low"] && false == Advancefilter.config.buyin["Medium"] && false == Advancefilter.config.buyin["High"] && false == Advancefilter.config.format["rit"] && false == Advancefilter.config.limit["NoLimit"] && false == Advancefilter.config.limit["PotLimit"] && "" == Advancefilter.config.stakes["min"] && "" == Advancefilter.config.stakes["max"] ? Advancefilter.config.enabled = false : Advancefilter.config.enabled = true;
        GameManager.emit("AdvancefilterUpdated");
        this.node.active = false;
      },
      onClose: function onClose() {
        this.node.active = false;
      }
    });
    cc._RF.pop();
  }, {
    CustomEditBox: "CustomEditBox",
    EditBoxUtil: "EditBoxUtil",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    SliderTouch: "SliderTouch"
  } ],
  AnimBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c2487weeKNBTYg1LY5JTWCX", "AnimBase");
    "use strict";
    var instance;
    cc.Class({
      extends: cc.Component,
      properties: {
        animCtrl: {
          default: null,
          type: cc.Animation
        },
        callBack: {
          default: null,
          visible: false
        }
      },
      onLoad: function onLoad() {
        instance = this;
      },
      play: function play(name, callBack) {
        this.callBack = callBack;
        this.animCtrl.play(name, 0);
      },
      stop: function stop() {
        this.animCtrl.stop();
      },
      onAnimFinished: function onAnimFinished() {
        this.callBack();
      }
    });
    cc._RF.pop();
  }, {} ],
  AvatarPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5d0e4UmdPxAKYDgBGvSmrxu", "AvatarPopup");
    "use strict";
    var root = window;
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var AvatarSelection = require("AvatarSelection");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        avatarGridParent: {
          default: null,
          type: cc.Node
        },
        avatars: {
          default: [],
          type: AvatarSelection
        },
        selectedAvatarID: 0,
        downloadedSprite: {
          default: null,
          type: cc.Sprite
        },
        isAvatarTab: true,
        imageLoaded: false,
        okBtn: {
          default: null,
          type: cc.Button
        },
        avatarScrollViewRef: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.loadAvatars();
        this.on("SelectedAvatar", this.onSelectAvatar.bind(this));
        root.AvatarPopup = this;
        this.avatars.forEach(function(element) {
          element.unSelectAvatar();
        }, this);
      },
      loadAvatars: function loadAvatars() {
        for (var i = 0; i < GameManager.avatarPool.length; i++) {
          this.avatarGridParent.addChild(GameManager.avatarPool[i]);
          GameManager.avatarPool[i].active = true;
          GameManager.avatarPool[i].getComponent("AvatarSelection").AvatarPopUp = this;
          this.avatars.push(GameManager.avatarPool[i].getComponent("AvatarSelection"));
        }
      },
      onShow: function onShow(data) {
        this.soundValue = null;
        null != data && (this.soundValue = data);
        !GameManager.isMobile;
        this.avatars.forEach(function(avatar) {
          avatar.unSelectAvatar();
        });
        this.selectedAvatarID = -1;
        if (GameManager.isMobile || cc.sys.os === cc.sys.OS_WINDOWS && !cc.sys.isBrowser) {
          var imageIndex = parseInt(GameManager.user.profileImage);
          0 == imageIndex || imageIndex || (imageIndex = 0);
          this.onAvatarTab();
          if (imageIndex >= 0) {
            imageIndex > this.avatars.length - 1 && (imageIndex = 0);
            this.selectedAvatarID = imageIndex;
            this.avatars[imageIndex].selection.active = true;
          }
        } else {
          var imageIndex = parseInt(GameManager.user.profileImage);
          if (0 == imageIndex || imageIndex) {
            this.getComponent("TabBtnUtil").onShowTab_01();
            this.onAvatarTab();
            if (imageIndex >= 0) {
              this.selectedAvatarID = imageIndex;
              this.avatars[imageIndex].selection.active = true;
            }
          } else {
            this.getComponent("TabBtnUtil").onShowTab_02();
            this.onCustomImageTab();
            this.imageLoaded = true;
            this.downloadedSprite.spriteFrame = GameManager.user.urlImg;
          }
        }
      },
      onAvatarTab: function onAvatarTab() {
        null != this.soundValue && false != this.soundValue || GameManager.playSound(K.Sounds.click);
        if (!this.isAvatarTab) {
          this.isAvatarTab = true;
          this.okBtn.interactable = true;
          this.okBtn.interactable = this.selectedAvatarID >= 0;
        }
      },
      onCustomImageTab: function onCustomImageTab() {
        null != this.soundValue && false != this.soundValue || GameManager.playSound(K.Sounds.click);
        if (this.isAvatarTab) {
          this.isAvatarTab = false;
          this.okBtn.interactable = this.imageLoaded;
        }
      },
      onSelectAvatar: function onSelectAvatar(avatarId) {
        this.avatars.forEach(function(avatar) {
          avatar.unSelectAvatar();
        });
        this.avatars[avatarId].showSelection();
        this.selectedAvatarID = avatarId;
        this.okBtn.interactable = this.selectedAvatarID >= 0;
      },
      onConfirm: function onConfirm() {
        this.updateAvatar();
        null != this.soundValue && false != this.soundValue || GameManager.playSound(K.Sounds.click);
      },
      onBrowseAvatar: function onBrowseAvatar() {
        WebImageUpload.loadImage(function(spriteFrame) {
          this.okBtn.interactable = true;
          this.imageLoaded = true;
          this.downloadedSprite.spriteFrame = spriteFrame;
        }.bind(this));
      },
      updateAvatar: function updateAvatar() {
        var profileData = {
          query: {
            playerId: "hsdfhd"
          },
          updateKeys: {
            profileImage: "0"
          }
        };
        var data = profileData;
        data.query.playerId = GameManager.user.playerId;
        this.isAvatarTab ? data.updateKeys.profileImage = this.selectedAvatarID.toString() : data.updateKeys.profileImage = WebImageUpload.base64Data;
        this.isAvatarTab ? ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(response) {
          if (response.success) {
            if (this.isAvatarTab) {
              GameManager.user.profileImage = this.selectedAvatarID;
              GameManager.user.urlImg = GameManager.avatarImages[GameManager.user.profileImage];
            } else {
              GameManager.user.profileImage = WebImageUpload.base64Data;
              GameManager.user.urlImg = WebImageUpload.spriteLoaded;
            }
            GameManager.emit("image-loaded", GameManager.user);
            this.popUpManager.hide(PopUpType.AvatarDialog, function() {});
          }
        }.bind(this)) : ServerCom.httpPostRequest(K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.imageUpload, {
          playerId: GameManager.user.playerId,
          base64Image: WebImageUpload.base64Data
        }, function(response) {
          response.success && this.popUpManager.hide(PopUpType.AvatarDialog, function() {});
        }.bind(this));
      },
      onCancel: function onCancel() {
        this.popUpManager.hide(PopUpType.AvatarDialog, function() {
          AvatarPopup.avatars.forEach(function(element) {
            element.unSelectAvatar();
          }, this);
        });
        null != this.soundValue && false != this.soundValue || GameManager.playSound(K.Sounds.click);
      },
      registerUPandDOWN: function registerUPandDOWN() {
        return;
        var scrollView;
      },
      onHide: function onHide() {
        !GameManager.isMobile;
      }
    });
    cc._RF.pop();
  }, {
    AvatarSelection: "AvatarSelection",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  AvatarSelection: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3f7f4qwR4JMoIzxMoHoNe8+", "AvatarSelection");
    "use strict";
    var emitter = require("EventEmitter");
    cc.Class({
      extends: emitter,
      properties: {
        selection: {
          default: null,
          type: cc.Node
        },
        avatarImg: {
          default: null,
          type: cc.Sprite
        },
        id: null
      },
      onLoad: function onLoad() {},
      selectAvatar: function selectAvatar() {
        this.showSelection();
        GameManager.emit("SelectedAvatar", this.id);
      },
      showSelection: function showSelection() {
        this.selection.active = true;
      },
      setAvatarImg: function setAvatarImg(spriteFrame, id) {
        this.avatarImg.spriteFrame = spriteFrame;
        this.id = id;
      },
      unSelectAvatar: function unSelectAvatar() {
        this.selection.active = false;
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  BState: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c1e47V7pGpJKaI7GM9K9QfE", "BState");
    "use strict";
    var StateType = require("State");
    cc.Class({
      extends: StateType,
      onStateEnter: function onStateEnter() {
        this._super();
      },
      onStateExit: function onStateExit() {
        this._super();
      }
    });
    cc._RF.pop();
  }, {
    State: "State"
  } ],
  BetBtnUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "288b7CcjMtEVoBchnc3DNzV", "BetBtnUtil");
    "use strict";
    var sliderType = require("SliderTouch");
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerPresenter: {
          default: null
        },
        betSlider: {
          default: null,
          type: sliderType
        },
        minAmount: {
          default: 0
        },
        maxAmount: {
          default: 0
        },
        potAmount: {
          default: 0
        },
        allinmaxLbl: {
          default: null,
          type: cc.Label
        },
        editBox: {
          default: null,
          type: cc.EditBox
        },
        isWindows: false,
        minButton: {
          default: null,
          type: cc.Button
        },
        halfPotButton: {
          default: null,
          type: cc.Button
        },
        potButton: {
          default: null,
          type: cc.Button
        },
        maxButton: {
          default: null,
          type: cc.Button
        },
        fullPotButton: {
          default: null,
          type: cc.Button
        },
        bbButton: {
          default: null,
          type: cc.Button
        },
        playerChips: {
          default: 0
        },
        bb: 0,
        last: "",
        blured: false,
        roundName: "",
        raiseBtn: {
          default: null,
          type: cc.Button
        },
        betBtn: {
          default: null,
          type: cc.Button
        },
        raiseLbl: {
          default: null,
          type: cc.Label
        },
        betLbl: {
          default: null,
          type: cc.Label
        },
        mobEditBox: {
          default: null,
          type: cc.EditBox
        },
        holdemBtns: {
          default: null,
          type: cc.Node
        },
        omahaBtns: {
          type: cc.Node,
          default: null
        },
        holdemPreflopBtns: {
          type: cc.Node,
          default: null
        }
      },
      onLoad: function onLoad() {
        this.isMobile = cc.sys.isMobile && !cc.sys.isBrowser;
        if (this.isMobile) {
          this.editBox.InputFlag = cc.EditBox.InputFlag.SENSITIVE;
          this.editBox.InputMode = cc.EditBox.InputMode.NUMERIC;
        }
        this.betSlider.callback = this.onSliderChange.bind(this);
        GameManager.on("switchBB", this.switchBBNow.bind(this));
      },
      start: function start() {
        var _this = this;
        setTimeout(function() {
          if (cc.isValid(_this.node) && _this.editBox._textLabel) {
            _this.editBox._textLabel.overflow = cc.Label.Overflow.SHRINK;
            _this.editBox._placeholderLabel.overflow = cc.Label.Overflow.SHRINK;
          }
        }, 100);
      },
      updateDefaultEditMax: function updateDefaultEditMax() {
        if (isNaN(this.editBox.string)) {
          var pat = /\d+/g;
          var x = this.editBox.string.match(pat);
          var t = "";
          if (x) for (var count = 0; count < x.length; count++) t += x[count];
          this.editBox.string = t;
        } else {
          if (/\s/.test(this.editBox.string)) {
            var temp = this.editBox.string.toString().trim();
            this.editBox.string = temp;
          }
          var t = "e";
          if (-1 != this.editBox.string.indexOf(t)) {
            var x = this.editBox.string;
            x = x.replace("e", "");
            this.editBox.string = x;
          }
          var t = "-";
          if (-1 != this.editBox.string.indexOf(t)) {
            var x = this.editBox.string;
            x = x.replace("-", "");
            this.editBox.string = x;
          }
        }
        "" == this.editBox.string.trim() && (this.editBox.string = this.minAmount + "");
        if (Number(this.editBox.string) >= this.minAmount && Number(this.editBox.string) <= this.maxAmount) {
          this.betBtn.interactable = true;
          this.raiseBtn.interactable = true;
          this.betLbl.string = this.editBox.string;
          this.raiseLbl.string = this.editBox.string;
        }
        if (Number(this.editBox.string) > this.maxAmount) {
          this.editBox.string = this.maxAmount + "";
          this.betBtn.interactable = false;
          this.raiseBtn.interactable = false;
          this.betLbl.string = this.maxAmount + "";
          this.raiseLbl.string = this.maxAmount + "";
        } else if (Number(this.editBox.string) < this.minAmount) {
          this.betBtn.interactable = false;
          this.raiseBtn.interactable = false;
          this.betLbl.string = this.minAmount + "";
          this.raiseLbl.string = this.minAmount + "";
        }
      },
      updateDefaultEditMin: function updateDefaultEditMin() {
        if (this.blured) {
          this.blured = false;
          return;
        }
        this.editBox.string < this.minAmount && (this.editBox.string = this.minAmount.toString());
        this.maxAmount == this.minAmount ? this.betSlider.setSliderValue(1) : this.betSlider.setSliderValue((this.editBox.string - this.minAmount) / (this.maxAmount - this.minAmount));
      },
      updateMobEditMax: function updateMobEditMax() {
        if (isNaN(this.editBox.string)) {
          this.betBtn.interactable = false;
          this.raiseBtn.interactable = false;
          return;
        }
        if (this.editBox.string >= this.minAmount && this.editBox.string <= this.maxAmount) {
          this.betBtn.interactable = true;
          this.raiseBtn.interactable = true;
          this.betLbl.string = this.editBox.string;
          this.raiseLbl.string = this.editBox.string;
        }
        if (this.editBox.string > this.maxAmount) {
          this.betBtn.interactable = false;
          this.raiseBtn.interactable = false;
          this.betLbl.string = this.maxAmount;
          this.raiseLbl.string = this.maxAmount;
        } else if (this.editBox.string < this.minAmount) {
          this.betBtn.interactable = false;
          this.raiseBtn.interactable = false;
          this.betLbl.string = this.minAmount;
          this.raiseLbl.string = this.minAmount;
        }
      },
      updateMobEditMin: function updateMobEditMin() {
        if (isNaN(this.editBox.string)) {
          this.betBtn.interactable = false;
          this.raiseBtn.interactable = false;
          return;
        }
        var t = "e";
        if (-1 != this.editBox.string.indexOf(t)) {
          var x = this.editBox.string;
          x = x.replace("e", "");
          this.editBox.string = x;
        }
        this.editBox.string < this.minAmount && (this.editBox.string = this.minAmount.toString());
        this.maxAmount == this.minAmount ? this.betSlider.setSliderValue(1) : this.betSlider.setSliderValue((this.editBox.string - this.minAmount) / (this.maxAmount - this.minAmount));
      },
      updateData: function updateData(data, activateNLBtns, flagForNLPreflopOptions) {
        this.step = 0;
        this.minAmount = data.minAmount;
        this.maxAmount = data.maxAmount;
        this.potAmount = data.potAmount || 0;
        this.editBox.string = this.minAmount.toString();
        this.roundName = data.roundName;
        this.bb = data.bb;
        var rName = this.roundName.toUpperCase();
        this.roundMaxBet = data.roundMaxBet;
        this.fullPotButton.node.active = activateNLBtns;
        this.omahaBtns.active = activateNLBtns;
        this.holdemBtns.active = !activateNLBtns;
        this.playerChips = data.playerChips;
        this.roundBet = data.roundBet;
        this.holdemPreflopBtns.active = flagForNLPreflopOptions;
        this.adjustBtns();
        this.betSlider.setSliderValue(0);
      },
      adjustBtns: function adjustBtns() {
        var flag = this.minAmount < this.maxAmount;
        var selectedNode = this.omahaBtns.active ? this.omahaBtns : this.holdemBtns;
        "FullButton" == selectedNode.children[0].name && (selectedNode.children[0].getComponent(cc.Button).interactable = this.maxAmount >= this.minAmount && this.maxAmount <= this.playerChips && this.maxAmount <= this.maxAmount && flag);
        selectedNode.children[1].getComponent(cc.Button).interactable = this.potAmount / 2 >= this.minAmount && this.potAmount / 2 <= this.playerChips && this.potAmount / 2 <= this.maxAmount && flag;
        selectedNode.children[2].getComponent(cc.Button).interactable = 3 * this.potAmount / 4 >= this.minAmount && 3 * this.potAmount / 4 <= this.playerChips && 3 * this.potAmount / 4 <= this.maxAmount && flag;
        if (this.maxAmount >= this.playerChips + this.roundBet) {
          var mbtn = this.maxButton.node.children[0].getChildByName("Label").getComponent(cc.Label);
          mbtn.string = LocalizedManager.t("TXT_ALL_IN");
        } else {
          var mbtn = this.maxButton.node.children[0].getChildByName("Label").getComponent(cc.Label);
          mbtn.string = LocalizedManager.t("TXT_MAX");
        }
      },
      onIncrementSlider: function onIncrementSlider() {
        if (this.holdemPreflopBtns.active || true) {
          cc.log(this.betSlider.getSliderValue());
          var value = parseFloat(this.editBox.string) + this.bb;
          value > this.maxAmount && (value = this.maxAmount);
          this.betSlider.setSliderValue((value - this.minAmount) / (this.maxAmount - this.minAmount), true, true);
        } else {
          this.step++;
          if (this.step > 3) {
            this.step = 3;
            return;
          }
          0 == this.step ? this.onMin() : 1 == this.step ? this.onHalfPot() : 2 == this.step ? this.onPot() : 3 == this.step && this.onMax();
        }
      },
      onDecrementSlider: function onDecrementSlider() {
        if (this.holdemPreflopBtns.active || true) {
          var value = parseFloat(this.editBox.string) - this.bb;
          value < this.minAmount && (value = this.minAmount);
          this.betSlider.setSliderValue((value - this.minAmount) / (this.maxAmount - this.minAmount), true, true);
        } else {
          this.step--;
          if (this.step < 0) {
            this.step = 0;
            return;
          }
          0 == this.step ? this.onMin() : 1 == this.step ? this.onHalfPot() : 2 == this.step ? this.onPot() : 3 == this.step && this.onMax();
        }
      },
      onMin: function onMin() {
        this.betSlider.setSliderValue(0);
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onMax: function onMax() {
        this.betSlider.setSliderValue(1);
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onPot: function onPot() {
        this.maxAmount == this.minAmount ? this.betSlider.setSliderValue(1) : this.betSlider.setSliderValue((3 * this.potAmount / 4 - this.minAmount) / (this.maxAmount - this.minAmount));
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onHalfPot: function onHalfPot() {
        this.maxAmount == this.minAmount ? this.betSlider.setSliderValue(1) : this.betSlider.setSliderValue((this.potAmount / 2 - this.minAmount) / (this.maxAmount - this.minAmount));
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      on3BB: function on3BB() {
        this.maxAmount == this.minAmount ? this.betSlider.setSliderValue(1) : this.betSlider.setSliderValue((3 * this.bb - this.minAmount) / (this.maxAmount - this.minAmount));
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onFullPot: function onFullPot() {
        this.onMax();
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onTwiceBet: function onTwiceBet() {
        this.betSlider.setSliderValue((2 * this.roundMaxBet - this.minAmount) / (this.maxAmount - this.minAmount));
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onThriceBet: function onThriceBet() {
        this.betSlider.setSliderValue((3 * this.roundMaxBet - this.minAmount) / (this.maxAmount - this.minAmount));
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onQuintupleBet: function onQuintupleBet() {
        this.betSlider.setSliderValue((5 * this.roundMaxBet - this.minAmount) / (this.maxAmount - this.minAmount));
        this.editBox.node.parent.stopAllActions();
        this.editBox.node.parent.scale = 1;
        this.editBox.node.parent.runAction(cc.sequence(cc.scaleTo(.1, .9), cc.scaleTo(.1, 1.1), cc.scaleTo(.1, 1)));
      },
      onBet: function onBet() {
        if (this.isWindows) {
          if (this.amountEditLbl.string < this.minAmount) {
            this.amountEditLbl.string = this.minAmount;
            return;
          }
          this.pokerPresenter.onBet(this.amountEditLbl.string, K.PlayerMove.Bet);
        } else {
          this.editBox.string < this.minAmount && (this.editBox.string = this.minAmount);
          this.editBox.string > this.maxAmount && (this.editBox.string = this.minAmount);
          this.pokerPresenter.onBet(this.editBox.string, K.PlayerMove.Bet);
        }
      },
      onTextChanged: function onTextChanged(text, editbox, customEventData) {
        this.updateDefaultEditMax();
        this.betSlider.setSliderValue((this.editBox.string - this.minAmount) / (this.maxAmount - this.minAmount));
      },
      onTextBegan: function onTextBegan(text, editbox, customEventData) {
        this.blured = false;
        this.last = this.editBox.string;
      },
      onRaise: function onRaise() {
        if (this.isWindows) {
          if (this.amountEditLbl.string < this.minAmount) {
            this.amountEditLbl.string = this.minAmount;
            return;
          }
          this.pokerPresenter.onBet(this.amountEditLbl.string, K.PlayerMove.Raise);
        } else {
          this.editBox.string < this.minAmount && (this.editBox.string = this.minAmount);
          this.editBox.string > this.maxAmount && (this.editBox.string = this.minAmount);
          this.pokerPresenter.onBet(this.editBox.string, K.PlayerMove.Raise);
        }
      },
      onSubmitRaiseOrBet: function onSubmitRaiseOrBet() {
        this.scheduleOnce(function() {
          this.betBtn.node.active ? this.onBet() : this.raiseBtn.node.active && this.onRaise();
        }, .1);
      },
      onSliderChange: function onSliderChange(range, round) {
        range = range < 0 ? 0 : range;
        range = range > 1 ? 1 : range;
        var amount = (range * (this.maxAmount - this.minAmount) + this.minAmount).roundOff(2);
        amount <= this.minAmount && (amount = this.minAmount);
        amount >= this.maxAmount && (amount = this.maxAmount);
        this.holdemPreflopBtns.active, amount == this.maxAmount, this.editBox.string = amount.toString();
        this.betBtn.interactable = true;
        this.raiseBtn.interactable = true;
        this.raiseLbl.string = amount.toString();
        this.betLbl.string = amount.toString();
        this.updateBB();
        if (amount == this.maxAmount) {
          this.editBox.node.active = false;
          this.allinmaxLbl.node.active = true;
          this.holdemBtns.active ? this.allinmaxLbl.string = "All in" : this.allinmaxLbl.string = "Max";
        } else {
          this.allinmaxLbl.node.active = false;
          this.editBox.node.active = true;
        }
      },
      onSliderChange2: function onSliderChange2(value, round) {
        this.holdemPreflopBtns.active ? this.editBox.string = round ? Math.ceil(value.toString()) : value.toString() : this.editBox.string = value.toString();
        this.betBtn.interactable = true;
        this.raiseBtn.interactable = true;
        this.raiseLbl.string = value.toString();
        this.betLbl.string = value.toString();
      },
      updateBB: function updateBB() {
        if (!this.pokerPresenter) return;
        this.raiseLbl.node.parent.getChildByName("bb").getComponent(cc.Label).string = (Number(this.raiseLbl.string) / this.pokerPresenter.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        this.betLbl.node.parent.getChildByName("bb").getComponent(cc.Label).string = (Number(this.betLbl.string) / this.pokerPresenter.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        this.editBox.node.getChildByName("bb").getComponent(cc.Label).string = (Number(this.editBox.string) / this.pokerPresenter.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        if (GameManager.isBB && GameManager.user.settings.stackInBB) {
          this.raiseLbl.node.scale = 0;
          this.betLbl.node.scale = 0;
          this.editBox.node.getChildByName("TEXT_LABEL").scale = 0;
          this.raiseLbl.node.parent.getChildByName("bb").scale = .5;
          this.betLbl.node.parent.getChildByName("bb").scale = .5;
          this.editBox.node.getChildByName("bb").scale = .5;
        } else {
          this.raiseLbl.node.scale = .5;
          this.betLbl.node.scale = .5;
          this.editBox.node.getChildByName("TEXT_LABEL").scale = .5;
          this.raiseLbl.node.parent.getChildByName("bb").scale = 0;
          this.betLbl.node.parent.getChildByName("bb").scale = 0;
          this.editBox.node.getChildByName("bb").scale = 0;
        }
      },
      switchBBNow: function switchBBNow() {
        this.updateBB();
      }
    });
    cc._RF.pop();
  }, {
    SliderTouch: "SliderTouch"
  } ],
  BlindsChangedPopUp: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a70f5QqYnxJTpp5U0QHGH5g", "BlindsChangedPopUp");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        smallBlindLbl: {
          default: null,
          type: cc.Label
        },
        bigBlindLbl: {
          default: null,
          type: cc.Label
        }
      },
      onShow: function onShow(data) {
        if (null != data) {
          this.smallBlindLbl.string = data.tableSmallBlind;
          this.bigBlindLbl.string = data.tableBigBlind;
          this.scheduleOnce(function() {
            this.popUpManager.hide(PopUpType.BlindChangedPopup, function() {});
          }.bind(this), 1);
        }
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  BuddiesItemContent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e5d42H2+6BCO79MCVcAL9Wh", "BuddiesItemContent");
    "use strict";
    var BuddiesItemContent = cc.Class({
      extends: cc.Component,
      properties: {
        bg_1: {
          default: null,
          type: cc.Node
        },
        bg_2: {
          default: null,
          type: cc.Node
        },
        playerNameLbl: {
          default: null,
          type: cc.Label
        },
        statusLbl: {
          default: null,
          type: cc.Label
        },
        onlineStat: {
          default: null,
          type: cc.Node
        },
        offlineStat: {
          default: null,
          type: cc.Node
        },
        buddiesStatus: {
          default: null,
          type: cc.Node
        },
        inviteStatus: {
          default: null,
          type: cc.Node
        },
        addFriendStatus: {
          default: null,
          type: cc.Node
        },
        avatarImage: {
          default: null,
          type: cc.Sprite
        },
        addFriendBtn: {
          default: null,
          type: cc.Button
        },
        playerName: ""
      },
      onLoad: function onLoad() {
        var inst = this;
        this.friendId = "";
      },
      loadAvatar: function loadAvatar(avatarUrl) {
        var t = this;
        var urlImg;
        console.log("Load Avatar 1111 , ", avatarUrl);
        if (isNaN(avatarUrl) && isNaN(parseInt(avatarUrl)) && "" != avatarUrl) cc.loader.load(avatarUrl + "?w=125&h=125", function(err, tex) {
          urlImg = err ? GameManager.avatarImages[1] : new cc.SpriteFrame(tex);
          console.log("Load Avatar 22222222 , ", urlImg);
          t.avatarImage.spriteFrame = urlImg;
        }); else {
          "" == avatarUrl && (avatarUrl = 1);
          urlImg = GameManager.avatarImages[avatarUrl];
          console.log("Load Avatar 3333333333 , ", urlImg);
          t.avatarImage.spriteFrame = urlImg;
        }
      },
      initInfo: function initInfo(data, isBuddies) {
        this.bg_1.active = data.index % 2 == 0;
        this.bg_2.active = data.index % 2 != 0;
        this.playerNameLbl.string = this.playerName = data.userName;
        this.statusLbl.string = data.megaPointLevel;
        this.statusLbl.node.active = isBuddies;
        this.onlineStat.active = isBuddies && data.isOnline;
        this.offlineStat.active = isBuddies && !data.isOnline;
        this.buddiesStatus.active = isBuddies;
        this.inviteStatus.active = !isBuddies && !data.isAddFriend;
        this.addFriendStatus.active = !isBuddies && data.isAddFriend;
        this.loadAvatar(data.profileImage);
        this.friendId = data.playerId;
      },
      onClickRemoveBtn: function onClickRemoveBtn() {
        this.removeFriend();
      },
      onClickAcceptBtn: function onClickAcceptBtn() {
        this.acceptFriendRequest();
      },
      onClickRejectBtn: function onClickRejectBtn() {
        this.rejectFriendRequest();
      },
      onClickAddFriendBtn: function onClickAddFriendBtn() {
        this.addFriendRequest();
      },
      acceptFriendRequest: function acceptFriendRequest() {
        var _this = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        var requestCallback = function requestCallback(response) {
          _this.node.parent = null;
          _this.node.destroy();
        };
        ServerCom.pomeloRequest(K.BuddyAPI.acceptFriendRequest, payload, function(response) {
          console.log("acceptFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      getName: function getName() {
        return this.playerName;
      },
      rejectFriendRequest: function rejectFriendRequest() {
        var _this2 = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        var requestCallback = function requestCallback(response) {
          _this2.node.parent = null;
          _this2.node.destroy();
        };
        ServerCom.pomeloRequest(K.BuddyAPI.rejectFriendRequest, payload, function(response) {
          console.log("rejectFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      addFriendRequest: function addFriendRequest() {
        var _this3 = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        var requestCallback = function requestCallback(response) {
          _this3.addFriendBtn.interactable = false;
          var label = _this3.addFriendBtn.node.children[0];
          LocalizedManager.setTextKey(label, "TXT_SENT");
        };
        ServerCom.pomeloRequest(K.BuddyAPI.sendFriendRequest, payload, function(response) {
          console.log("addFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      removeFriend: function removeFriend() {
        var _this4 = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        var requestCallback = function requestCallback(response) {
          _this4.node.parent = null;
          _this4.node.destroy();
        };
        ServerCom.pomeloRequest(K.BuddyAPI.removeFriend, payload, function(response) {
          console.log("removeFriend reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {} ],
  BuddiesItemIngame: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "78a23pd7RdOlI2UHDgh92vE", "BuddiesItemIngame");
    "use strict";
    var BuddiesItemContent = cc.Class({
      extends: cc.Component,
      properties: {
        playerNameLbl: {
          default: null,
          type: cc.Label
        },
        onlineStat: {
          default: null,
          type: cc.Node
        },
        offlineStat: {
          default: null,
          type: cc.Node
        },
        avatarImage: {
          default: null,
          type: cc.Sprite
        },
        inviteBtn: {
          default: null,
          type: cc.Node
        },
        invitedBtn: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        var inst = this;
        this.friendId = "";
        this.invitedBtn.active = false;
      },
      loadAvatar: function loadAvatar(avatarUrl) {
        var t = this;
        var urlImg;
        console.log("Load Avatar 1111 , ", avatarUrl);
        if (isNaN(avatarUrl) && isNaN(parseInt(avatarUrl)) && "" != avatarUrl) cc.loader.load(avatarUrl + "?w=125&h=125", function(err, tex) {
          urlImg = err ? GameManager.avatarImages[1] : new cc.SpriteFrame(tex);
          console.log("Load Avatar 22222222 , ", urlImg);
          t.avatarImage.spriteFrame = urlImg;
        }); else {
          "" == avatarUrl && (avatarUrl = 1);
          urlImg = GameManager.avatarImages[avatarUrl];
          console.log("Load Avatar 3333333333 , ", urlImg);
          t.avatarImage.spriteFrame = urlImg;
        }
      },
      initInfo: function initInfo(data) {
        cc.log("initInfo(data)  ", data);
        this.playerNameLbl.string = this.playerName = data.userName;
        this.onlineStat.active = data.isOnline;
        this.offlineStat.active = !data.isOnline;
        this.friendId = data.playerId;
        this.channelId = data.channelId;
        this.loadAvatar(data.profileImage);
      },
      onClickInviteBtn: function onClickInviteBtn() {
        this.clientSendInvitePlayRequest();
      },
      clientSendInvitePlayRequest: function clientSendInvitePlayRequest() {
        var payload = {};
        var t = this;
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        payload.channelId = this.channelId;
        console.log("clientSendInvitePlayRequest payload", payload);
        var requestCallback = function requestCallback(response) {
          t.invitedBtn.active = true;
          t.inviteBtn.active = false;
          console.log("playWithFriend requestCallback  reponse", response);
        };
        ServerCom.pomeloRequest(K.BuddyAPI.playWithFriend, payload, function(response) {
          console.log("playWithFriend reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      getName: function getName() {
        return this.playerName;
      },
      rejectFriendRequest: function rejectFriendRequest() {
        var _this = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        var requestCallback = function requestCallback(response) {
          _this.node.parent = null;
          _this.node.destroy();
        };
        ServerCom.pomeloRequest(K.BuddyAPI.rejectFriendRequest, payload, function(response) {
          console.log("rejectFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      addFriendRequest: function addFriendRequest() {
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        var requestCallback = function requestCallback(response) {
          BuddiesTablePresenter.showInvitesList();
        };
        ServerCom.pomeloRequest(K.BuddyAPI.sendFriendRequest, payload, function(response) {
          console.log("addFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      removeFriend: function removeFriend() {
        var _this2 = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        payload.friendId = this.friendId;
        var requestCallback = function requestCallback(response) {
          _this2.node.parent = null;
          _this2.node.destroy();
        };
        ServerCom.pomeloRequest(K.BuddyAPI.removeFriend, payload, function(response) {
          console.log("removeFriend reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {} ],
  BuddiesPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0a8f2/HQ6FN0rn1UhPjsTTC", "BuddiesPopup");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        skipButton: {
          default: null,
          type: cc.Button,
          visible: true
        },
        contentHolder: {
          default: null,
          type: cc.Node
        },
        buddiesItemContent: {
          default: null,
          type: cc.Prefab
        },
        inputName: {
          default: null,
          type: cc.EditBox
        },
        channelId: ""
      },
      onLoad: function onLoad() {},
      createBuddiesList: function createBuddiesList(data) {
        var _this = this;
        this.currentTableData = data || [];
        this.contentHolder.removeAllChildren();
        if (0 === data.length) {
          LocalizedManager.setTextKey(this.bottomInfoLbl.node, "TXT_NO_BUDDIES_AVAILABLE");
          this.bottomInfo.active = true;
          return;
        }
        data.forEach(function(element, i) {
          var instance = cc.instantiate(_this.buddiesItemContent);
          instance.setPosition(0, 0);
          instance.active = true;
          _this.contentHolder.addChild(instance);
          var tableContent = instance.getComponent("BuddiesItemIngame");
          element.index = i;
          element.channelId = _this.channelId;
          tableContent.initInfo(element);
        });
      },
      getBuddiesListData: function getBuddiesListData() {
        var _this2 = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        console.log("getBuddiesListData ", payload);
        var requestCallback = function requestCallback(response) {
          console.log("sendFriendRequest requestCallback reponse", response);
          _this2.createBuddiesList(response.friends || response.result);
        };
        ServerCom.pomeloRequest(K.BuddyAPI.getFriendList, payload, function(response) {
          console.log("sendFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      start: function start() {
        this.defaultPos = this.node.getPosition();
        this.skipButton.interactable = false;
        var widget = this.skipButton.getComponent(cc.Widget);
        widget.target = this.node.parent;
      },
      init: function init(channelId) {
        this.channelId = channelId;
        this.getBuddiesListData();
        this.show();
      },
      autoSearch: function autoSearch() {
        console.log("autoSearch autoSearch");
        var playerName = this.inputName.string;
        var child = this.contentHolder.children;
        if ("" === this.inputName.string && this.contentHolder.children.length > 0) {
          child.forEach(function(e) {
            e.active = true;
          });
          return;
        }
        if (null == this.inputName.string || "" == this.inputName.string || void 0 == this.inputName.string) {
          child.forEach(function(e) {
            e.active = true;
          });
          return;
        }
        child.forEach(function(e) {
          e.active = -1 != e.getComponent("BuddiesItemIngame").getName().toLowerCase().indexOf(playerName.toLowerCase());
        });
      },
      findLocalPlayer: function findLocalPlayer() {
        var playerName = this.inputName.string;
        var child = this.contentHolder.children;
        if (null == this.inputName.string || "" == this.inputName.string || void 0 == this.inputName.string) {
          child.forEach(function(e) {
            e.active = true;
          });
          return;
        }
        child.forEach(function(e) {
          e.active = -1 != e.getComponent("BuddiesItemIngame").getName().toLowerCase().indexOf(playerName.toLowerCase());
        });
      },
      show: function show() {
        this.isShowing = true;
        this.inputName.string = "";
        this.node.active = true;
        var pos = this.node.parent.getChildByName("DummyStickerPop").getPosition();
        var t = this;
        cc.tween(this.node).to(.3, {
          position: pos
        }, {
          easing: "circIn"
        }).call(function() {
          t.skipButton.interactable = true;
        }).start();
      },
      hideIfShowing: function hideIfShowing() {
        if (this.isShowing) {
          this.node.active = false;
          this.hide();
        }
      },
      hide: function hide() {
        this.isShowing = true;
        this.skipButton.interactable = false;
        var pos = this.defaultPos;
        var t = this;
        cc.tween(this.node).to(.3, {
          position: pos
        }, {
          easing: "circOut"
        }).call(function() {
          t.node.active = false;
        }).start();
      },
      sendInviteAll: function sendInviteAll() {
        var child = this.contentHolder.children;
        this.curInvite = 0;
        var t = this;
        var sendInvite = function sendInvite() {
          console.log("sendInvite for player ", t.curInvite);
          if (t.curInvite == t.contentHolder.children.length) return;
          t.contentHolder.children[t.curInvite].getComponent("BuddiesItemIngame").onClickInviteBtn(sendInvite);
          t.curInvite++;
        };
        sendInvite(0);
      }
    });
    cc._RF.pop();
  }, {} ],
  BuddiesTablePresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "41db6zt6atIdqp7y1OcDnQr", "BuddiesTablePresenter");
    "use strict";
    var BuddiesTablePresenter = cc.Class({
      extends: cc.Component,
      properties: {
        findBtn: {
          default: null,
          type: cc.Button
        },
        contentHolder: {
          default: null,
          type: cc.Node
        },
        buddiesItemContent: {
          default: null,
          type: cc.Node
        },
        tabBtnLbl: {
          default: [],
          type: cc.Label
        },
        activeColor: {
          default: new cc.Color()
        },
        inactiveColor: {
          default: new cc.Color()
        },
        inputName: {
          default: null,
          type: cc.EditBox
        },
        bottomInfo: {
          default: null,
          type: cc.Node
        },
        bottomInfoLbl: {
          default: null,
          type: cc.Label
        },
        isBuddiesListTab: true,
        curTab: 0,
        currentTableData: []
      },
      onEnable: function onEnable() {
        this.showBuddiesList();
      },
      onLoad: function onLoad() {
        window.BuddiesTablePresenter = this;
        this.currentTableData = [];
        this.isBuddiesListTab = true;
        this.buddiesData = [];
        this.invitesData = [];
        this.showBuddiesList();
      },
      setActiveButton: function setActiveButton(isBuddies) {
        console.log("setActiveButton ", isBuddies);
        this.tabBtnLbl[0].node.color = isBuddies ? this.activeColor : this.inactiveColor;
        this.tabBtnLbl[1].node.color = isBuddies ? this.inactiveColor : this.activeColor;
      },
      showBuddiesList: function showBuddiesList() {
        this.inputName.string = "";
        this.bottomInfo.active = false;
        this.isBuddiesListTab = true;
        this.getBuddiesListData();
        this.setActiveButton(true);
        this.removeTableContent();
        this.findBtn.node.active = false;
      },
      showInvitesList: function showInvitesList() {
        this.inputName.string = "";
        this.bottomInfo.active = false;
        this.isBuddiesListTab = false;
        this.getInvitesListData();
        this.setActiveButton(false);
        this.removeTableContent();
        this.findBtn.node.active = true;
      },
      getBuddiesListData: function getBuddiesListData() {
        var _this = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        console.log("getBuddiesListData ", payload);
        var requestCallback = function requestCallback(response) {
          console.log("sendFriendRequest requestCallback reponse", response);
          _this.createBuddiesList(response.friends || response.result);
        };
        ServerCom.pomeloRequest(K.BuddyAPI.getFriendList, payload, function(response) {
          console.log("sendFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      getInvitesListData: function getInvitesListData() {
        var _this2 = this;
        var payload = {};
        payload.playerId = GameManager.user.playerId;
        console.log("getBuddiesListData ", payload);
        var requestCallback = function requestCallback(response) {
          console.log("sendFriendRequest requestCallback reponse", response);
          _this2.createInvitesList(response.result);
        };
        ServerCom.pomeloRequest(K.BuddyAPI.getFriendRequests, payload, function(response) {
          console.log("sendFriendRequest reponse", response);
          response.success && requestCallback(response);
        }, null, 5e3, false);
      },
      removeTableContent: function removeTableContent() {
        this.contentHolder.removeAllChildren();
      },
      createBuddiesList: function createBuddiesList(data) {
        var _this3 = this;
        this.currentTableData = data || [];
        if (0 === data.length) {
          LocalizedManager.setTextKey(this.bottomInfoLbl.node, "TXT_NO_BUDDIES_AVAILABLE");
          this.bottomInfo.active = true;
          return;
        }
        data.forEach(function(element, i) {
          var instance = cc.instantiate(_this3.buddiesItemContent);
          instance.setPosition(0, 0);
          instance.active = true;
          _this3.contentHolder.addChild(instance);
          var tableContent = instance.getComponent("BuddiesItemContent");
          element.index = i;
          tableContent.initInfo(element, _this3.isBuddiesListTab);
        });
      },
      createInvitesList: function createInvitesList(data) {
        var _this4 = this;
        this.currentTableData = data || [];
        if (0 === data.length) {
          LocalizedManager.setTextKey(this.bottomInfoLbl.node, "TXT_NO_FRIEND_INVITE_AVAILABLE");
          this.bottomInfo.active = true;
          return;
        }
        data.forEach(function(element, i) {
          var instance = cc.instantiate(_this4.buddiesItemContent);
          instance.setPosition(0, 0);
          instance.active = true;
          _this4.contentHolder.addChild(instance);
          var tableContent = instance.getComponent("BuddiesItemContent");
          element.index = i;
          tableContent.initInfo(element, _this4.isBuddiesListTab);
        });
      },
      createFriend: function createFriend(data) {
        var _this5 = this;
        if (0 === data.length) {
          LocalizedManager.setTextKey(this.bottomInfoLbl.node, "TXT_USERNAME_NOT_EXIST");
          this.bottomInfo.active = true;
          return;
        }
        this.bottomInfo.active = false;
        data.forEach(function(element, i) {
          var instance = cc.instantiate(_this5.buddiesItemContent);
          instance.setPosition(0, 0);
          instance.active = true;
          _this5.contentHolder.addChild(instance);
          var tableContent = instance.getComponent("BuddiesItemContent");
          element.index = i;
          element.isAddFriend = true;
          tableContent.initInfo(element, _this5.isBuddiesListTab);
        });
      },
      autoSearch: function autoSearch() {
        if (!this.isBuddiesListTab) return;
        if ("" === this.inputName.string && this.contentHolder.children.length > 0) {
          this.showAllContent();
          return;
        }
        if (this.inputName.string === GameManager.user.userName || null === this.inputName.string || "" === this.inputName.string) return;
        if (this.isBuddiesListTab) this.findLocalPlayer(this.inputName.string) ? console.log("isBuddiesListTab: ", this.isBuddiesListTab, "   FOUND") : console.log("isBuddiesListTab: ", this.isBuddiesListTab, "  NOT FOUND"); else if (this.findLocalPlayer(this.inputName.string)) console.log("isBuddiesListTab: ", this.isBuddiesListTab, "   FOUND"); else {
          console.log("isBuddiesListTab: ", this.isBuddiesListTab, "  NOT FOUND");
          this.findRemotePlayer(this.inputName.string);
        }
      },
      onClickFindBtn: function onClickFindBtn() {
        if ("" === this.inputName.string && this.contentHolder.children.length > 0) {
          this.showAllContent();
          return;
        }
        if (this.inputName.string === GameManager.user.userName || null === this.inputName.string || "" === this.inputName.string) return;
        if (this.isBuddiesListTab) this.findLocalPlayer(this.inputName.string) ? console.log("isBuddiesListTab: ", this.isBuddiesListTab, "   FOUND") : console.log("isBuddiesListTab: ", this.isBuddiesListTab, "  NOT FOUND"); else if (this.findLocalPlayer(this.inputName.string)) console.log("isBuddiesListTab: ", this.isBuddiesListTab, "   FOUND"); else {
          console.log("isBuddiesListTab: ", this.isBuddiesListTab, "  NOT FOUND");
          this.findRemotePlayer(this.inputName.string);
        }
      },
      showAllContent: function showAllContent() {
        if (null == this.inputName.string || "" == this.inputName.string || void 0 == this.inputName.string) {
          var child = this.contentHolder.children;
          child.forEach(function(e) {
            e.active = true;
          });
        }
      },
      findLocalPlayer: function findLocalPlayer(playerName) {
        var child = this.contentHolder.children;
        var isFound = false;
        child.forEach(function(e) {
          -1 != e.getComponent("BuddiesItemContent").getName().toLowerCase().indexOf(playerName.toLowerCase()) && (isFound = true);
          e.active = -1 != e.getComponent("BuddiesItemContent").getName().toLowerCase().indexOf(playerName.toLowerCase());
        });
        return isFound;
      },
      findRemotePlayer: function findRemotePlayer(playerName) {
        var _this6 = this;
        var payload = {};
        payload.userName = playerName;
        payload.playerId = GameManager.user.playerId;
        console.log("findPlayer ", payload);
        var requestCallback = function requestCallback(response) {
          console.log("findRemotePlayer requestCallback reponse", response);
          _this6.createFriend(response.result);
        };
        ServerCom.pomeloRequest(K.BuddyAPI.searchPlayer, payload, function(response) {
          response.success && requestCallback(response);
        }, null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {} ],
  BuildTime: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "78b31tWeQpDWrTEwt5MtDRP", "BuildTime");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      start: function start() {},
      goToWebsite: function goToWebsite() {
        var url = "";
        GameManager.isSD ? url = "https://pokerbuddy365.com" : GameManager.isJ && (url = "https://pokerbuddy365.com");
        window.open(url, "_self");
      }
    });
    cc._RF.pop();
  }, {} ],
  BuyInPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47f0bFPcFdD7JAk2rAYyuV+", "BuyInPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var EditBoxType = require("CustomEditBox");
    var UtilEditBoxType = require("EditBoxUtil");
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    var timeCountDown = 10;
    cc.Class({
      extends: PopUpBase,
      properties: {
        goldSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        diamondSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        autoBuyIn: {
          default: null,
          type: cc.Node
        },
        disable: {
          default: null,
          type: cc.Node
        },
        buyinContent: {
          default: null,
          type: cc.Node
        },
        rebuyContent: {
          default: null,
          type: cc.Node
        },
        rebuyMyChipsLbl: {
          default: null,
          type: cc.Label
        },
        rebuyChipsLbl: {
          default: null,
          type: cc.Label
        },
        rebuyAmountLbl: {
          default: null,
          type: cc.Label
        },
        rebuyHoursFeeLbl: {
          default: null,
          type: cc.Label
        },
        rebuyTotalChipsLbl: {
          default: null,
          type: cc.Label
        },
        rebuyTimer: {
          default: null,
          type: cc.Label
        },
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        totalChipsLbl: {
          default: null,
          type: cc.Label
        },
        buyInLbl: {
          default: null,
          type: cc.Label
        },
        defaultBuyInLbl: {
          default: null,
          type: cc.Label
        },
        minLbl: {
          default: null,
          type: cc.Label
        },
        maxLbl: {
          default: null,
          type: cc.Label
        },
        sliderTouch: {
          default: null,
          type: SliderTouchType
        },
        checkBox: {
          default: null,
          type: cc.Toggle
        },
        editBox: {
          default: null,
          type: cc.EditBox
        },
        defaultBuyInEdit: {
          default: null,
          type: UtilEditBoxType
        },
        callback: {
          default: null,
          visible: false
        },
        index: {
          default: 0,
          visible: false
        },
        minAmount: {
          default: 0,
          visible: false
        },
        maxAmount: {
          default: 10,
          visible: false
        },
        onSitHere: false,
        isWindows: false,
        checkMinUpdatedInAndroid: false,
        playerStandUp: false,
        disableUI: {
          default: null,
          type: cc.Node
        },
        msgLbl: {
          default: null,
          type: cc.Label
        },
        confirmBtn: {
          default: null,
          type: cc.Button
        },
        buyChipsButton: {
          default: null,
          type: cc.Button
        },
        claimButton: {
          default: null,
          type: cc.Button
        },
        cancelCallback: null,
        playerInfoRef: null,
        lbs: {
          default: [],
          type: [ cc.Label ]
        },
        tiledSize: 0,
        untiledSize: 0,
        rebuyTimerCount: 0,
        isMobile: false,
        mobEditBox: {
          default: null,
          type: cc.EditBox
        },
        dialogHeadingText: {
          default: null,
          type: cc.Label
        },
        topHeadingLbl: {
          default: null,
          type: cc.Label
        },
        timeDonw: {
          default: null,
          type: cc.Label
        }
      },
      gridRefreshed: function gridRefreshed() {},
      onDestroy: function onDestroy() {
        GameManager.off("playerInfo", this.playerInfoRef);
      },
      onEnable: function onEnable() {},
      onPlayerInfo: function onPlayerInfo(response) {
        void 0 === response && (response = null);
        if (!response.channelId || !GameScreen || ScreenManager.currentScreen != K.ScreenEnum.GamePlayScreen) this.popUpManager.hide(PopUpType.BuyInPopup, function() {}); else for (var index = 0; index < GameScreen.gameModel.activePokerModels.length; index++) if (response.channelId === GameScreen.gameModel.activePokerModels[index].gameData.channelId) {
          GameScreen.gameModel.activePokerModels[index].popUpManager.hide(PopUpType.BuyInPopup, function() {});
          return;
        }
      },
      onClickEnter: function onClickEnter() {
        this.onConfirm();
      },
      onLoad: function onLoad() {
        this.isMobile = cc.sys.isMobile && !cc.sys.isBrowser;
        if (this.isMobile) {
          this.editBox.InputFlag = cc.EditBox.InputFlag.SENSITIVE;
          this.editBox.InputMode = cc.EditBox.InputMode.NUMERIC;
        }
        this.playerInfoRef = this.onPlayerInfo.bind(this);
        GameManager.on("playerInfo", this.playerInfoRef);
        this.sliderTouch.registerCallback(this.onSliderValueChange.bind(this));
      },
      updateRebuy: function updateRebuy() {
        this.rebuyTimerCount -= 1;
        if (this.rebuyTimerCount <= 0) {
          this.rebuyTimerCount = 0;
          this.unschedule(this.updateRebuy);
        }
        this.rebuyTimer.string = "(" + this.rebuyTimerCount + "s)";
      },
      onShow: function onShow(data) {
        this.data = data;
        GameManager.emit("disablePageView");
        this.claimButton.node.active = false;
        if ("GOLD" == GameManager.user.category) {
          cc.find("Container/header/r2/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.goldSprite;
          cc.find("Container/Cashier/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.goldSprite;
          cc.find("Container/Center/InputBox/editbox/chips", this.node).getComponent(cc.Sprite).spriteFrame = this.goldSprite;
          cc.find("Container/min/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.goldSprite;
          cc.find("Container/max/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.goldSprite;
        } else {
          cc.find("Container/header/r2/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.diamondSprite;
          cc.find("Container/Cashier/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.diamondSprite;
          cc.find("Container/Center/InputBox/editbox/chips", this.node).getComponent(cc.Sprite).spriteFrame = this.diamondSprite;
          cc.find("Container/min/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.diamondSprite;
          cc.find("Container/max/icon", this.node).getComponent(cc.Sprite).spriteFrame = this.diamondSprite;
        }
        if (data.isRebuy) {
          this.buyinContent.active = false;
          this.rebuyContent.active = true;
          this.callback = data.confirm;
          this.rebuyMyChipsLbl.string = GameManager.convertChips(data.totalChips);
          this.rebuyChipsLbl.string = GameManager.convertChips(data.rebuyChips);
          this.rebuyAmountLbl.string = GameManager.convertChips(data.rebuyAmount);
          this.rebuyHoursFeeLbl.string = GameManager.convertChips(data.rebuyHoursFee);
          this.rebuyTotalChipsLbl.string = GameManager.convertChips(data.rebuyTotalChips);
          this.rebuyTimerCount = data.rebuyTimer;
          this.updateRebuy();
          this.schedule(this.updateRebuy, 1);
        } else {
          this.buyinContent.active = true;
          this.rebuyContent.active = false;
          if (true === data.quickSeat) ; else {
            cc.find("Container/header/r1/vari", this.node).getComponent(cc.Label).string = data.config.channelName;
            cc.find("Container/header/r2/blind", this.node).getComponent(cc.Label).string = GameManager.convertChips(data.config.smallBlind) + "/" + GameManager.convertChips(data.config.bigBlind);
          }
          cc.find("Container/min/realMoney", this.node).getComponent(cc.Label).string = GameManager.convertChips(data.minValue);
          cc.find("Container/max/realMoney", this.node).getComponent(cc.Label).string = GameManager.convertChips(data.maxValue);
          this.sound = data.playSound;
          this.topHeadingLbl.string = data.topHeading;
          var info = data.maxValue <= 0 ? "" : LocalizedManager.t("TXT_FUNDS_INSUFFICIENT");
          data.minValue <= 0 && (data.minValue = 1);
          data.maxValue > 0 && (data.maxValue = data.maxValue < data.totalChips ? data.maxValue : data.totalChips);
          this.disableView(data.maxValue < data.minValue, info, data.maxValue <= 0 && !data.quickSeat);
          if (data.maxValue < data.minValue) {
            data.minValue = 0;
            data.maxValue = 0;
          }
          data.minValue = Math.floor(data.minValue);
          data.maxValue = Math.floor(data.maxValue);
          this.editBox.string = data.minValue.toString();
          this.minLbl.string = GameManager.convertChips(data.minValue.toString());
          this.maxLbl.string = GameManager.convertChips(data.maxValue.toString());
          this.minAmount = data.minValue;
          this.maxAmount = data.maxValue;
          var midVal = (this.minAmount + this.maxAmount) / 2;
          data.isAllInAndFold && (midVal = this.minAmount);
          midVal > 0 && (data.isAllInAndFold ? this.sliderTouch.setSliderValue(0) : this.sliderTouch.setSliderValue(midVal / (this.maxAmount + this.minAmount)));
          this.totalChipsLbl.string = GameManager.convertChips(data.totalChips);
          this.callback = data.confirm;
          this.index = data.index;
          this.onSitHere = data.onSitHere;
          this.cancelCallback = data.cancelCallback;
          this.channelId = data.channelId;
          this.playerStandUp = data.playerStandUp;
          this.disableUI.active = data.maxValue == data.minValue;
          this.checkBox.node.parent.active = !this.disableUI.active;
          if (data.isAllInAndFold) {
            this.disable.active = true;
            this.msgLbl.string = "You can not change buyin amount in this room";
            this.checkBox.node.parent.active = false;
          } else this.disable.active = false;
        }
        data.isRealMoney || (this.claimButton.node.active = true);
        if (true === data.isAddChips) {
          this.timeDonw.string = "";
          this.unschedule(this.updateTimeDown);
        } else this.startCountdown(timeCountDown);
      },
      updateDefaultEditMax: function updateDefaultEditMax() {
        if (isNaN(this.editBox.string)) {
          var pat = /\d+/g;
          var x = this.editBox.string.match(pat);
          var t = "";
          if (x) for (var count = 0; count < x.length; count++) t += x[count];
          this.editBox.string = t;
        } else {
          if (/\s/.test(this.editBox.string)) {
            var temp = this.editBox.string.toString().trim();
            this.editBox.string = temp;
          }
          var t = ".";
          if (-1 != this.editBox.string.indexOf(t)) {
            var x = this.editBox.string;
            x = x.replace(".", "");
            this.editBox.string = x;
          }
          var t = "e";
          if (-1 != this.editBox.string.indexOf(t)) {
            var x = this.editBox.string;
            x = x.replace("e", "");
            this.editBox.string = x;
          }
          var t = "-";
          if (-1 != this.editBox.string.indexOf(t)) {
            var x = this.editBox.string;
            x = x.replace("-", "");
            this.editBox.string = x;
          }
          var patt = this.editBox.string.length > 1 ? /[0-9]/ : /[1-9]/;
          if (patt.test(this.editBox.string)) ; else {
            var x = this.editBox.string;
            x = x.replace("0", "");
            this.editBox.string = x;
          }
        }
        if (this.editBox.string >= this.minAmount && this.editBox.string <= this.maxAmount) {
          this.confirmBtn.interactable = true;
          this.msgLbl.string = "";
        }
        if (this.editBox.string > this.maxAmount) this.msgLbl.string = LocalizedManager.t("TEXT_CANNOT_MORE_CHIPS"); else if (this.editBox.string < this.minAmount) {
          this.confirmBtn.interactable = false;
          this.msgLbl.string = LocalizedManager.t("TXT_CANNOT_LESS_CHIPS");
        }
      },
      updateDefaultEditMin: function updateDefaultEditMin() {
        if (this.editBox.string < this.minAmount) {
          this.msgLbl.string = LocalizedManager.t("TXT_CANNOT_LESS_CHIPS");
          this.confirmBtn.interactable = false;
        } else if (this.editBox.string > this.maxAmount) {
          this.msgLbl.string = LocalizedManager.t("TEXT_CANNOT_MORE_CHIPS");
          this.confirmBtn.interactable = false;
        } else this.msgLbl.string = "";
        this.sliderTouch.setSliderValue((this.editBox.string - this.minAmount) / (this.maxAmount - this.minAmount));
      },
      updateTimeDown: function updateTimeDown() {
        if (this.timeDonw) {
          var timeLeft = parseInt(this.timeDonw.string.split(":").reduce(function(acc, time) {
            return 60 * acc + +time;
          }));
          isNaN(timeLeft) && (timeLeft = 0);
          if (timeLeft > 0) {
            timeLeft -= 1;
            var minutes = Math.floor(timeLeft / 60);
            var seconds = timeLeft % 60;
            this.timeDonw.string = (minutes < 10 ? "0" : "") + minutes + ":" + (seconds < 10 ? "0" : "") + seconds;
          } else {
            this.unschedule(this.updateTimeDown);
            this.onCancel();
          }
        }
      },
      startCountdown: function startCountdown(duration) {
        var minutes = Math.floor(duration / 60);
        var seconds = duration % 60;
        this.timeDonw.string = (minutes < 10 ? "0" : "") + minutes + ":" + (seconds < 10 ? "0" : "") + seconds;
        this.schedule(this.updateTimeDown, 1);
      },
      updateMobEditMax: function updateMobEditMax() {
        if (isNaN(this.editBox.string)) {
          this.msgLbl.string = LocalizedManager.t("TXT_ENTER_VALID_CHIPS");
          this.confirmBtn.interactable = false;
          return;
        }
        if (this.editBox.string >= this.minAmount && this.editBox.string <= this.maxAmount) {
          this.confirmBtn.interactable = true;
          this.msgLbl.string = "";
        }
        if (this.editBox.string > this.maxAmount) {
          this.msgLbl.string = LocalizedManager.t("TEXT_CANNOT_MORE_CHIPS");
          this.confirmBtn.interactable = false;
        } else if (this.editBox.string < this.minAmount) {
          this.confirmBtn.interactable = false;
          this.msgLbl.string = LocalizedManager.t("TXT_CANNOT_LESS_CHIPS");
        }
      },
      updateMobEditMin: function updateMobEditMin() {
        if (isNaN(this.editBox.string)) {
          this.msgLbl.string = LocalizedManager.t("TXT_ENTER_VALID_CHIPS");
          this.confirmBtn.interactable = false;
          return;
        }
        if (this.editBox.string < this.minAmount) {
          this.msgLbl.string = LocalizedManager.t("TXT_CANNOT_LESS_CHIPS");
          this.confirmBtn.interactable = false;
        } else if (this.editBox.string > this.maxAmount) {
          this.msgLbl.string = LocalizedManager.t("TEXT_CANNOT_MORE_CHIPS");
          this.confirmBtn.interactable = false;
        } else this.msgLbl.string = "";
        this.sliderTouch.setSliderValue((this.editBox.string - this.minAmount) / (this.maxAmount - this.minAmount + 1));
      },
      onSliderValueChange: function onSliderValueChange(value) {
        value = value < 0 ? 0 : value;
        value = value > 1 ? 1 : value;
        var amount = Math.floor(value * (this.maxAmount - this.minAmount + 1) + this.minAmount);
        amount = amount > this.maxAmount ? this.maxAmount : amount;
        this.editBox.string = isNaN(amount.toString()) ? "0" : amount.toString();
        this.confirmBtn.interactable = true;
      },
      onAutoBuySelected: function onAutoBuySelected() {
        GameManager.user.autoBuyIn = this.checkBox.isChecked;
        if (!this.playerStandUp) {
          var data = new SetPlayerValData(this.channelId, GameManager.user.playerId, "isAutoReBuy", GameManager.user.autoBuyIn);
          ServerCom.pomeloRequest(K.PomeloAPI.setPlayerValOnTable, data, function(response) {
            response.success;
          }, null, 5e3, false, false);
        }
        this.sound && this.sound(K.Sounds.click);
      },
      onMin: function onMin() {
        this.sliderTouch.setSliderValue(0);
        this.editBox.string = this.minAmount.toString();
      },
      onMax: function onMax() {
        this.sliderTouch.setSliderValue(1);
        this.editBox.string = this.maxAmount.toString();
      },
      onIncrementSlider: function onIncrementSlider() {
        this.sliderTouch.setSliderValue(this.sliderTouch.getSliderValue() + .1);
        this.sound && this.sound(K.Sounds.click);
      },
      onDecrementSlider: function onDecrementSlider() {
        this.sliderTouch.setSliderValue(this.sliderTouch.getSliderValue() - .1);
        this.sound && this.sound(K.Sounds.click);
      },
      onConfirm: function onConfirm() {
        if (this.checkVal()) {
          this.callback(this.index, this.editBox.string);
          GameManager.emit("enablePageView");
          this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
          this.sound && this.sound(K.Sounds.click);
        }
      },
      onConfirmRebuy: function onConfirmRebuy() {
        this.callback();
        GameManager.emit("enablePageView");
        this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
      },
      onCancel: function onCancel() {
        if (this.rebuyContent.active) return;
        null != this.cancelCallback && this.cancelCallback();
        GameManager.emit("enablePageView");
        this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
        this.sound && this.sound(K.Sounds.click);
      },
      checkVal: function checkVal() {
        var value = this.editBox.string;
        this.disableView(false);
        if (isNaN(value)) {
          this.msgLbl.string = LocalizedManager.t("TXT_ENTER_VALID_CHIPS");
          return false;
        }
        if (value >= this.minAmount) {
          if (value <= this.maxAmount) return true;
          this.msgLbl.string = LocalizedManager.t("TEXT_CANNOT_MORE_CHIPS");
          return false;
        }
        this.msgLbl.string = LocalizedManager.t("TXT_CANNOT_LESS_CHIPS");
        return false;
      },
      disableView: function disableView(val, msg, promptBuy) {
        void 0 === msg && (msg = "");
        void 0 === promptBuy && (promptBuy = false);
        this.disableUI.active = val;
        this.checkBox.node.parent.active = !val;
        if (promptBuy) {
          this.confirmBtn.interactable = false;
          this.buyChipsButton.interactable = true;
          this.buyChipsButton.node.active = true;
        } else {
          this.confirmBtn.interactable = true;
          this.buyChipsButton.interactable = false;
          this.buyChipsButton.node.active = false;
        }
        msg = !msg ? LocalizedManager.t("TXT_ALREADY_MAXIMUM_CHIP") : msg;
        this.msgLbl.string = val ? msg : "";
        this.confirmBtn.interactable = !val;
        if (this.confirmBtn.interactable) this.confirmBtn.node.color = cc.Color.WHITE; else {
          var color2 = new cc.Color(27, 53, 15);
          this.confirmBtn.node.color = color2;
        }
      },
      onBuyMoreChips: function onBuyMoreChips() {
        this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
        GameManager.emit("onDashboardAddCash");
      },
      onClaim: function onClaim() {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.playerClaimFreeChips", {
          playerId: GameManager.user.playerId
        }, function(response) {
          console.log("onClaim", JSON.parse(JSON.stringify(response)));
          if (response.success) {
            GameManager.popUpManager.show(PopUpType.NotificationPopup, "Claim free chips succeeded!", function() {});
            GameManager.user.freeChips = response.result.freeChips;
            inst.data.totalChips = GameManager.user.freeChips;
            inst.onShow(inst.data);
          } else GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Error!",
            content: response.message
          }, function() {});
        }, null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {
    CustomEditBox: "CustomEditBox",
    EditBoxUtil: "EditBoxUtil",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    SliderTouch: "SliderTouch"
  } ],
  CClick: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6bb72qgXxlDapwkUKaIDibc", "CClick");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      start: function start() {
        this.node.on(cc.Node.EventType.MOUSE_DOWN, function() {
          console.log("click detected");
        }.bind(this));
      }
    });
    cc._RF.pop();
  }, {} ],
  CardDistributer: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f521eFwz9VEU4U7SbJNfz+Z", "CardDistributer");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        dealer: {
          default: null,
          type: cc.Node
        },
        cardPrefab: {
          default: null,
          type: cc.Prefab
        },
        timersToKill: []
      },
      distributeCards: function distributeCards(noOfCards, data, pokerPresenter) {
        this.timersToKill = [];
        var animationDelayInCardsDistibution = .121;
        var count = 0;
        var self = this;
        var prevAnchorPoint;
        for (var i = 0; i < noOfCards; i++) data.forEach(function(element) {
          var targets = element.targetNode.getChildByName("HandPlayer").getChildByName("Cards").children;
          targets.length < 1 && (targets = element.targetNode.getChildByName("HandPlayer").getChildByName("MyCards").children);
          var instance = targets[i];
          var target = instance.getPosition();
          var WPcord = this.dealer.parent.convertToWorldSpaceAR(cc.v2(this.dealer.getPosition()));
          instance.setPosition(instance.parent.convertToNodeSpaceAR(WPcord));
          instance.opacity = 0;
          var rotateAction = cc.repeat(cc.rotateBy(.1, 360), 2).easing(cc.easeCubicActionOut());
          var skewer = cc.sequence(cc.skewTo(.1, 22, 0).easing(cc.easeCubicActionOut()), cc.skewTo(.1, 0, 0).easing(cc.easeCubicActionOut()));
          var moveAction = cc.spawn(rotateAction, skewer, cc.moveTo(.2, cc.v2(target.x, target.y)).easing(cc.easeCubicActionOut()));
          var fadeAction = cc.fadeIn(.2).easing(cc.easeCubicActionOut());
          var delayInAnimaiton = cc.delayTime(animationDelayInCardsDistibution * count);
          var funcAction = cc.callFunc(function() {
            instance.setPosition(target);
            noOfCards * data.length == instance.CountTag;
          }, this);
          var show = cc.callFunc(function() {
            instance.opacity = 145;
            pokerPresenter.playAudio(K.Sounds.playerCardFlip);
          });
          var splitSequence = cc.sequence(show, moveAction, funcAction);
          instance.runAction(cc.sequence(delayInAnimaiton, splitSequence));
          instance.runAction(cc.sequence(delayInAnimaiton, fadeAction));
          (function(ins, tar, x) {
            self.timersToKill.push(setTimeout(function() {
              if (cc.isValid(ins)) {
                ins.stopAllActions();
                ins.setPosition(tar);
                ins.setScale(1);
                ins.opacity = 255;
                ins.skewX = 0;
                ins.skewY = 0;
                noOfCards * data.length == ins.CountTag && pokerPresenter.forceAddPlayerCards();
              }
            }, x));
          })(instance, target, 1e3 * (.5 + animationDelayInCardsDistibution * count));
          count++;
          instance.CountTag = count;
        }, this);
      },
      clearTimers: function clearTimers() {
        this.timersToKill.forEach(function(element) {
          clearTimeout(element);
        }, this);
        this.timersToKill = [];
      }
    });
    cc._RF.pop();
  }, {} ],
  CardMovement: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6d3f0hPuyFHRqXpwIJVCBX/", "CardMovement");
    "use strict";
    var EventEmitter = require("EventEmitter");
    cc.Class({
      extends: EventEmitter,
      properties: {
        dropZones: {
          default: [],
          type: [ cc.Node ]
        },
        dragging: false,
        dropZone: {
          default: null,
          type: cc.Node
        },
        enableDragging: true,
        DragManager: null
      },
      onLoad: function onLoad() {},
      registerTouchInput: function registerTouchInput() {
        this.node.on(cc.Node.EventType.TOUCH_START, function(event) {
          this.dragging = true;
          this.dropZone = null;
          this.target = null;
          false == this.disableDrag && DragManager.emit("onCardDragStart", this.dropZone, this.node);
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, function(event) {
          if (this.dragging && false == this.disableDrag) {
            var touch = event.touch;
            this.target = this.node.parent.convertTouchToNodeSpaceAR(touch);
          }
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          if (this.dragging) {
            this.dragging = false;
            this.stopDrag();
          }
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, function(event) {
          if (this.dragging) {
            this.dragging = false;
            this.stopDrag();
          }
        }, this);
      },
      onEnable: function onEnable() {
        this.checkCollisions();
        this.touchListener = this.registerTouchInput();
      },
      dragCard: function dragCard(dt) {
        this.node.position = this.node.position.lerp(this.target, 20 * dt);
        this.node.setLocalZOrder(15);
        this.node.scale = new cc.Vec2(1, 1);
        this.node.rotation = 0;
        this.checkCollisions();
      },
      addDropZone: function addDropZone(node) {
        this.dropZones.push(node);
      },
      removeDropZone: function removeDropZone(node) {
        this.dropZones.splice(this.dropZones.indexOf(node), 1);
      },
      checkCollisions: function checkCollisions() {
        if (null == this.node) return;
        var nodePos = this.node.parent.convertToWorldSpaceAR(this.node.position);
        var nodeRect = new cc.Rect(nodePos.x - this.node.width / 2, nodePos.y - this.node.height / 2, this.node.width, this.node.height);
        var temp = null;
        var tempArr = [];
        var distArray = [];
        for (var i = 0; i < DragManager.dropZones.length; i++) if (!!DragManager.dropZones[i] && DragManager.dropZones[i] != this.node && DragManager.dropZones[i].active) {
          var dropZonePos = DragManager.dropZones[i].parent.convertToWorldSpaceAR(DragManager.dropZones[i].position);
          var dropZoneRect = new cc.Rect(dropZonePos.x - DragManager.dropZones[i].width / 2, dropZonePos.y - DragManager.dropZones[i].height / 2, DragManager.dropZones[i].width, DragManager.dropZones[i].height);
          if (dropZoneRect.intersects(nodeRect)) {
            tempArr.push(DragManager.dropZones[i]);
            var intersectRect = cc.rectIntersection(nodeRect, dropZoneRect);
            var overLap = intersectRect.width * intersectRect.height / (dropZoneRect.width * dropZoneRect.height);
            distArray.push(overLap);
          }
        }
        var min = Math.max.apply(null, distArray);
        temp = tempArr[distArray.indexOf(min)];
        if (!temp || this.dropZone == temp) {
          if (!temp && !!this.dropZone) {
            DragManager.emit("exitDropZone", this.dropZone);
            this.dropZone = temp;
          }
        } else {
          !this.dropZone || DragManager.emit("exitDropZone", this.dropZone, this.node);
          this.dropZone = temp;
          DragManager.emit("enterDropZone", this.dropZone, this.node);
        }
      },
      update: function update(dt) {
        !!this.target && this.dragging && false == this.disableDrag && this.dragCard(dt);
      },
      stopDrag: function stopDrag() {
        this.DragManager.emit("onCardDragStop", this.dropZone, this.node);
      },
      onDestroy: function onDestroy() {},
      onDisable: function onDisable() {
        cc.eventManager.removeListener(this.touchListener);
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  CardPool: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "df7eeuPrI1IdbWwOrEga7PX", "CardPool");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        cardPrefabs: {
          default: [],
          type: cc.Prefab
        },
        cardPPrefabs: {
          default: [],
          type: cc.Prefab
        },
        usedCardList: {
          default: [],
          type: cc.Node,
          visible: false
        },
        handCardPool: {
          default: [],
          type: cc.Node,
          visible: false
        },
        poolSize: 100
      },
      onLoad: function onLoad() {
        this.poolSize = 100;
        window.CardPool = this;
        this.cardPools = new Array(2);
        this.cardPPools = new Array(2);
        this.createPool();
      },
      createPool: function createPool() {
        this.cardPools[0] = [];
        this.cardPools[1] = [];
        for (var i = 0; i < this.poolSize; i++) {
          var card = cc.instantiate(this.cardPrefabs[0]);
          card.parent = GameManager.node;
          card.name = this.cardPrefabs[0].name;
          card.active = false;
          this.cardPools[0].push(card);
          var handCard = cc.instantiate(this.cardPrefabs[1]);
          handCard.name = this.cardPrefabs[1].name;
          handCard.parent = GameManager.node;
          handCard.active = false;
          this.cardPools[1].push(handCard);
        }
        if (K.PORTRAIT && false) {
          this.cardPPools[0] = [];
          this.cardPPools[1] = [];
          for (var i = 0; i < this.poolSize; i++) {
            var card = cc.instantiate(this.cardPPrefabs[0]);
            card.parent = GameManager.node;
            card.name = this.cardPPrefabs[0].name;
            card.active = false;
            this.cardPPools[0].push(card);
            var handCard = cc.instantiate(this.cardPPrefabs[1]);
            handCard.name = this.cardPPrefabs[1].name;
            handCard.parent = GameManager.node;
            handCard.active = false;
            this.cardPPools[1].push(handCard);
          }
        }
      },
      generateCard: function generateCard(prefabName, callBack) {
        !callBack || callBack();
        if (K.PORTRAIT && false) {
          if (prefabName == this.cardPPrefabs[0].name) {
            if (0 == this.cardPools[0].length) {
              var card = cc.instantiate(this.cardPPrefabs[0]);
              card.parent = GameManager.node;
              card.name = this.cardPPrefabs[0].name;
              card.active = true;
              this.usedCardList.push(card);
              card.setPosition(cc.Vec2.ZERO);
              card.setScale(1);
              return card;
            }
            var card = this.cardPPools[0].pop();
            this.usedCardList.push(card);
            card.active = true;
            card.setPosition(cc.Vec2.ZERO);
            card.getChildByName("FrontFace").color = cc.Color.WHITE;
            card.getChildByName("FrontFace").getChildByName("Big_Suit").color = cc.Color.WHITE;
            card.getChildByName("CardGlow").active = false;
            card.opacity = 255;
            card.setScale(1);
            card.rotation = 0;
            card.skewX = 0;
            card.skewY = 0;
            return card;
          }
          if (prefabName == this.cardPPrefabs[1].name) {
            var handCard = this.cardPPools[1].pop();
            this.usedCardList.push(handCard);
            handCard.active = true;
            return handCard;
          }
        } else {
          if (prefabName == this.cardPrefabs[0].name) {
            if (0 == this.cardPools[0].length) {
              var card = cc.instantiate(this.cardPrefabs[0]);
              card.parent = GameManager.node;
              card.name = this.cardPrefabs[0].name;
              card.active = true;
              this.usedCardList.push(card);
              card.setPosition(cc.Vec2.ZERO);
              card.setScale(1);
              for (var i = 0; i < GameManager.cardBackImages.length; i++) {
                var stickerImages = GameManager.cardBackImages[i];
                "" != GameManager.user.defaultCard && GameManager.user.defaultCard._id && stickerImages.___data._id == GameManager.user.defaultCard._id && (card.getChildByName("BackFace").getComponent(cc.Sprite).spriteFrame = GameManager.cardBackImages[i]);
              }
              return card;
            }
            var card = this.cardPools[0].pop();
            this.usedCardList.push(card);
            card.active = true;
            card.setPosition(cc.Vec2.ZERO);
            card.getChildByName("FrontFace").color = cc.Color.WHITE;
            card.getChildByName("FrontFace").getChildByName("Big_Suit").color = cc.Color.WHITE;
            card.getChildByName("CardGlow").active = false;
            card.opacity = 255;
            card.setScale(1);
            card.rotation = 0;
            card.skewX = 0;
            card.skewY = 0;
            for (var i = 0; i < GameManager.cardBackImages.length; i++) {
              var _stickerImages = GameManager.cardBackImages[i];
              "" != GameManager.user.defaultCard && GameManager.user.defaultCard._id && _stickerImages.___data._id == GameManager.user.defaultCard._id && (card.getChildByName("BackFace").getComponent(cc.Sprite).spriteFrame = GameManager.cardBackImages[i]);
            }
            return card;
          }
          if (prefabName == this.cardPrefabs[1].name) {
            var handCard = this.cardPools[1].pop();
            this.usedCardList.push(handCard);
            handCard.active = true;
            return handCard;
          }
        }
      },
      destroyCard: function destroyCard(card, callBack) {
        if (K.PORTRAIT && false) {
          if (!!card && (card.name == this.cardPPrefabs[0].name || card.name == this.cardPPrefabs[1].name) && !!callBack) {
            callBack();
            card.getComponent("Card").resetCardColor();
            card.parent = GameManager.node;
            card.opacity = 255;
            card.active = false;
            var cardIndex = this.usedCardList.indexOf(card);
            if (-1 !== cardIndex) if (card.name == this.cardPPrefabs[0].name) {
              this.usedCardList.splice(cardIndex, 1);
              this.cardPPools[0].push(card);
            } else if (card.name == this.cardPPrefabs[1].name) {
              this.usedCardList.splice(cardIndex, 1);
              this.cardPPools[1].push(card);
            }
          }
        } else if (!!card && (card.name == this.cardPrefabs[0].name || card.name == this.cardPrefabs[1].name) && !!callBack) {
          callBack();
          card.getComponent("Card").resetCardColor();
          card.parent = GameManager.node;
          card.opacity = 255;
          card.active = false;
          var cardIndex = this.usedCardList.indexOf(card);
          if (-1 !== cardIndex) if (card.name == this.cardPrefabs[0].name) {
            this.usedCardList.splice(cardIndex, 1);
            this.cardPools[0].push(card);
          } else if (card.name == this.cardPrefabs[1].name) {
            this.usedCardList.splice(cardIndex, 1);
            this.cardPools[1].push(card);
          }
        }
      },
      destroyAllCards: function destroyAllCards(callBack) {
        !callBack || callBack();
        if (K.PORTRAIT && false) for (var i = 0; i < this.usedCardList.length; i++) {
          this.usedCardList[i].getComponent("Card").resetCardColor();
          this.usedCardList[i].parent = GameManager.node;
          this.usedCardList[i].active = false;
          this.usedCardList[i].name == this.cardPPrefabs[0].name ? this.cardPPools[0].push(this.usedCardList[i]) : this.usedCardList[i].name == this.cardPPrefabs[1].name && this.cardPPools[1].push(this.usedCardList[i]);
        } else for (var i = 0; i < this.usedCardList.length; i++) {
          this.usedCardList[i].getComponent("Card").resetCardColor();
          this.usedCardList[i].parent = GameManager.node;
          this.usedCardList[i].active = false;
          this.usedCardList[i].name == this.cardPrefabs[0].name ? this.cardPools[0].push(this.usedCardList[i]) : this.usedCardList[i].name == this.cardPrefabs[1].name && this.cardPools[1].push(this.usedCardList[i]);
        }
        this.usedCardList = [];
      },
      destroyAllHandCards: function destroyAllHandCards(callBack) {
        !callBack || callBack();
        if (K.PORTRAIT && false) {
          for (var i = 0; i < this.usedCardList.length; i++) if (this.usedCardList[i].name == this.cardPPrefabs[1].name) {
            this.usedCardList[i].getComponent("Card").resetCardColor();
            this.usedCardList[i].parent = GameManager.node;
            this.usedCardList[i].active = false;
            this.cardPPools[1].push(this.usedCardList[i]);
            this.usedCardList.splice(i, 1);
          }
        } else for (var i = 0; i < this.usedCardList.length; i++) if (this.usedCardList[i].name == this.cardPrefabs[1].name) {
          this.usedCardList[i].getComponent("Card").resetCardColor();
          this.usedCardList[i].parent = GameManager.node;
          this.usedCardList[i].active = false;
          this.cardPools[1].push(this.usedCardList[i]);
          this.usedCardList.splice(i, 1);
        }
      }
    });
    cc._RF.pop();
  }, {} ],
  CardTypes: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3a015TS4V5J4qP9cZFoD3zo", "CardTypes");
    "use strict";
    var A2_10JQK = "NAN,A,2,3,4,5,6,7,8,9,10,J,Q,K".split(",");
    function Card(point, suit) {
      Object.defineProperties(this, {
        point: {
          value: point,
          writable: false
        },
        suit: {
          value: suit,
          writable: false
        },
        id: {
          value: 13 * (suit - 1) + (point - 1),
          writable: false
        },
        pointName: {
          get: function get() {
            return A2_10JQK[this.point];
          }
        },
        suitName: {
          get: function get() {
            return K.Suit[this.suit];
          }
        },
        isBlackSuit: {
          get: function get() {
            return this.suit === K.Suit.Spade || this.suit === K.Suit.Club;
          }
        },
        isRedSuit: {
          get: function get() {
            return this.suit === K.Suit.Heart || this.suit === K.Suit.Diamond;
          }
        }
      });
    }
    Card.prototype.toString = function() {
      return this.suitName + " " + this.pointName;
    };
    module.exports = {
      Card: Card
    };
    cc._RF.pop();
  }, {} ],
  Card: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5e058tT1gVMM5QDsAFxEWIo", "Card");
    "use strict";
    var EventEmitter = require("EventEmitter");
    cc.Class({
      extends: EventEmitter,
      properties: {
        point: {
          default: null,
          type: cc.Label
        },
        bigSuit: {
          default: null,
          type: cc.Sprite
        },
        smallSuit: {
          default: null,
          type: cc.Sprite
        },
        backFace: {
          default: null,
          type: cc.Sprite
        },
        frontFace: {
          default: null,
          type: cc.Sprite
        },
        texFaces: {
          default: [],
          type: cc.SpriteFrame
        },
        texRedFaces: {
          default: [],
          type: cc.SpriteFrame
        },
        texBlueFaces: {
          default: [],
          type: cc.SpriteFrame
        },
        texGreenFaces: {
          default: [],
          type: cc.SpriteFrame
        },
        texSuitBig: {
          default: [],
          type: cc.SpriteFrame
        },
        texSuitSmall: {
          default: [],
          type: cc.SpriteFrame
        },
        suit: {
          default: null
        },
        isFaceCard: {
          default: false
        },
        cardColorChangeCb: {
          default: null
        },
        cardRank: 0,
        redTextColor: cc.Color.WHITE,
        blackTextColor: cc.Color.WHITE,
        blueTextColor: cc.Color.WHITE,
        greenTextColor: cc.Color.WHITE,
        cardData: null,
        model: null,
        isCommunityCard: false
      },
      onLoad: function onLoad() {
        this.setOriginalPosition();
      },
      onDestroy: function onDestroy() {
        this.model && this.model.off(K.GameEvents.onCardColorChange, this.cardColorChangeCb);
        GameManager.off("updateCardBackImage", this.onUpdateCardBackImage.bind(this));
      },
      init: function init(card, model, toBePlayerCards) {
        void 0 === toBePlayerCards && (toBePlayerCards = false);
        this.isCommunityCard = false;
        this.model = model;
        this.toBePlayerCards = toBePlayerCards && GameManager.isMobile;
        this.cardColorChangeCb = function(arg, model) {
          this.model == model && this.setCardColor(arg);
        }.bind(this);
        this.model.off(K.GameEvents.onCardColorChange, this.cardColorChangeCb);
        this.model.on(K.PokerEvents.onCardColorChange, this.cardColorChangeCb);
        this.onUpdateCardBackImage();
        if (!card) return;
        this.card = card;
        this.isFaceCard = card.point > 10;
        this.cardRank = card.point;
        this.suit = card.suit;
        this.isFaceCard = false;
        if (this.isFaceCard && !this.toBePlayerCards) {
          this.suit === K.Suit.Heart || this.suit === K.Suit.Diamond ? this.bigSuit.spriteFrame = this.texRedFaces[card.point - 10 - 1] : this.bigSuit.spriteFrame = this.texFaces[card.point - 10 - 1];
          if (K.PORTRAIT && 0) this.bigSuit.node.scale = .5; else {
            this.bigSuit.node.setPosition(0, -17.8);
            this.bigSuit.node.getComponent(cc.Widget).left = -.0015;
            this.bigSuit.node.getComponent(cc.Widget).right = -.0015;
            this.bigSuit.node.getComponent(cc.Widget).top = .2599;
            this.bigSuit.node.getComponent(cc.Widget).bottom = 0;
          }
        } else {
          this.bigSuit.spriteFrame = this.texSuitBig[card.suit - 1];
          if (K.PORTRAIT && 0) this.bigSuit.node.scale = .7; else {
            this.bigSuit.node.setPosition(10.8, -23.5);
            this.bigSuit.node.getComponent(cc.Widget).left = .253;
            this.bigSuit.node.getComponent(cc.Widget).right = .0391;
            this.bigSuit.node.getComponent(cc.Widget).top = .3962;
            this.bigSuit.node.getComponent(cc.Widget).bottom = .0531;
          }
        }
        this.point.string = card.pointName;
        this.smallSuit.spriteFrame = this.texSuitSmall[card.suit - 1];
        this.model.gameData.settings.cardColor ? this.setCardColor(K.CardColoring.FourCardColor) : this.setCardColor(K.CardColoring.TwoCardColor);
        GameManager.off("updateCardBackImage", this.onUpdateCardBackImage.bind(this));
        GameManager.on("updateCardBackImage", this.onUpdateCardBackImage.bind(this));
        this.onUpdateCardBackImage();
        if (this.isCommunityCard) {
          this.smallSuit.node.active = false;
          this.bigSuit.node.y = -20;
        } else {
          this.smallSuit.node.active = true;
          this.bigSuit.node.y = -30;
        }
      },
      reveal: function reveal(isFaceUp) {
        this.point.node.active = isFaceUp;
        this.bigSuit.node.active = isFaceUp;
        this.smallSuit.node.active = isFaceUp;
        this.frontFace.node.active = isFaceUp;
        this.backFace.node.active = !isFaceUp;
        if (this.isCommunityCard) {
          this.smallSuit.node.active = false;
          this.bigSuit.node.y = -20;
        } else {
          this.smallSuit.node.active = true;
          this.bigSuit.node.y = -30;
        }
      },
      setCardColor: function setCardColor(deckSettings, pokerModel) {
        if (null === this.suit) return;
        if (deckSettings === K.CardColoring.TwoCardColor) {
          !this.isFaceCard || this.toBePlayerCards ? this.suit === K.Suit.Heart || this.suit === K.Suit.Diamond ? this.bigSuit.node.color = this.redTextColor : this.bigSuit.node.color = this.blackTextColor : this.suit === K.Suit.Heart || this.suit === K.Suit.Diamond ? this.bigSuit.spriteFrame = this.texRedFaces[this.cardRank - 10 - 1] : this.bigSuit.spriteFrame = this.texFaces[this.cardRank - 10 - 1];
          if (this.suit === K.Suit.Heart || this.suit === K.Suit.Diamond) {
            this.point.node.color = this.redTextColor;
            this.smallSuit.node.color = this.redTextColor;
          } else {
            this.point.node.color = this.blackTextColor;
            this.smallSuit.node.color = this.blackTextColor;
          }
        } else {
          !this.isFaceCard || this.toBePlayerCards ? this.suit === K.Suit.Heart ? this.bigSuit.node.color = this.redTextColor : this.suit === K.Suit.Diamond ? this.bigSuit.node.color = this.blueTextColor : this.suit === K.Suit.Spade ? this.bigSuit.node.color = this.blackTextColor : this.bigSuit.node.color = this.greenTextColor : this.suit === K.Suit.Heart ? this.bigSuit.spriteFrame = this.texRedFaces[this.cardRank - 10 - 1] : this.suit === K.Suit.Diamond ? this.bigSuit.spriteFrame = this.texBlueFaces[this.cardRank - 10 - 1] : this.suit === K.Suit.Spade ? this.bigSuit.spriteFrame = this.texFaces[this.cardRank - 10 - 1] : this.bigSuit.spriteFrame = this.texGreenFaces[this.cardRank - 10 - 1];
          if (this.suit === K.Suit.Heart) {
            this.point.node.color = this.redTextColor;
            this.smallSuit.node.color = this.redTextColor;
          } else if (this.suit === K.Suit.Diamond) {
            this.point.node.color = this.blueTextColor;
            this.smallSuit.node.color = this.blueTextColor;
          } else if (this.suit === K.Suit.Spade) {
            this.point.node.color = this.blackTextColor;
            this.smallSuit.node.color = this.blackTextColor;
          } else {
            this.point.node.color = this.greenTextColor;
            this.smallSuit.node.color = this.greenTextColor;
          }
        }
      },
      resetCardColor: function resetCardColor() {
        this.point.node.color = cc.Color.WHITE;
        this.smallSuit.node.color = cc.Color.WHITE;
        this.bigSuit.node.color = cc.Color.WHITE;
        this.node.scale = 1;
        this.node.opacity = 255;
        this.node.children[0].getComponent(cc.Sprite).enabled = true;
        this.reveal(false);
        this.restoreGray();
      },
      setOriginalPosition: function setOriginalPosition(pos) {
        this.originalPosition = this.node.position;
        this.originalScale = 1;
      },
      returnToOriginalPosition: function returnToOriginalPosition() {
        this.node.position = this.originalPosition;
      },
      onUpdateCardBackImage: function onUpdateCardBackImage() {
        if (this.backFace && this.model && this.model.presenter) if (this.model.presenter.isTournament2) for (var i = 0; i < GameManager.cardBackImagesTour.length; i++) {
          var stickerImages = GameManager.cardBackImagesTour[i];
          "" != GameManager.user.defaultTourCard && GameManager.user.defaultTourCard._id && stickerImages.___data._id == GameManager.user.defaultTourCard._id && (this.backFace.spriteFrame = GameManager.cardBackImagesTour[i]);
        } else for (var i = 0; i < GameManager.cardBackImages.length; i++) {
          var _stickerImages = GameManager.cardBackImages[i];
          "" != GameManager.user.defaultCard && GameManager.user.defaultCard._id && _stickerImages.___data._id == GameManager.user.defaultCard._id && (this.backFace.spriteFrame = GameManager.cardBackImages[i]);
        }
      },
      gray: function gray() {
        this.point.setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
        this.bigSuit.setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
        this.smallSuit.setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
        this.backFace.setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
        this.frontFace.node.color = new cc.Color().fromHEX("#BBBBBB");
      },
      restoreGray: function restoreGray() {
        this.point.setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
        this.bigSuit.setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
        this.smallSuit.setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
        this.backFace.setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
        this.frontFace.node.color = new cc.Color().fromHEX("#FFFFFF");
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  CashRoom: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ebab6zWEWpL0L5fV6mkmh+p", "CashRoom");
    "use strict";
    var JoinData = require("PostTypes").JoinChannel;
    var Table = require("Table");
    var TableContent = require("TableContent");
    var Advancefilter = require("Advancefilter");
    var DropDownType = require("DropDown");
    var timerID = null;
    var Variation = cc.Enum({
      None: -1,
      TexasHoldem: 1,
      Omaha: 2,
      OmahaHiLo: 3,
      OpenFaceChinesePoker: 4
    });
    var tabType = cc.Enum({
      CashGames: 1,
      SitAndGo: 2,
      Tournaments: 3
    });
    var CashRoom = cc.Class({
      extends: cc.Component,
      properties: {
        dblClk: false,
        filter: {
          default: null,
          type: cc.Node
        },
        top: {
          default: null,
          type: cc.Node
        },
        top2: {
          default: null,
          type: cc.Node
        },
        contentHolder: {
          default: null,
          type: cc.Node
        },
        original: {
          default: null,
          type: cc.Node
        },
        cashierTable: {
          default: null,
          type: cc.Node
        },
        variation: Variation.TexasHoldem,
        isShowHoldem: false,
        isShowPLO: false,
        isShowMega: false,
        isShowAllIn: false,
        isShowFast: false,
        isShowAll: true,
        lockClick: false
      },
      statics: {
        init: false,
        prevSelection: null,
        isPriactice: false
      },
      onLoad: function onLoad() {
        ServerCom.pomeloBroadcast("newRoomAdd", this.onNewRoomAdd.bind(this));
        ServerCom.pomeloBroadcast("deleteRoom", this.onDeleteRoom.bind(this));
        GameManager.on("onRoomUpdate2", this.onRoomUpdate2.bind(this));
        GameManager.on("AdvancefilterUpdated", this.onAdvancefilterUpdated.bind(this));
        cc.systemEvent.on("leaveLobby", this.leaveLobby, this);
      },
      leaveLobby: function leaveLobby() {
        this.contentHolder.removeAllChildren(true);
      },
      onClick: function onClick(event) {},
      onNewRoomAdd: function onNewRoomAdd(data) {
        console.log("onNewRoomAdd", data);
        data = data.updated;
        var instance = cc.instantiate(this.original);
        instance.active = true;
        instance.setPosition(0, 0);
        cc.find("TableName", instance).getComponent(cc.Label).string = data.channelName;
        cc.find("avgPot", instance).getComponent(cc.Label).string = GameManager.convertChips(data.smallBlind) + "/" + GameManager.convertChips(data.bigBlind);
        cc.find("l/vari/vari", instance).getComponent(cc.Label).string = data.channelVariation;
        if ("Texas Hold\u2019em" == data.channelVariation) {
          cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "Hold\u2019em";
          cc.loader.loadRes("tags/holdem", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Omaha" == data.channelVariation) {
          cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "PLO";
          cc.loader.loadRes("tags/plo", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Omaha 5" == data.channelVariation) {
          cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "PLO 5";
          cc.loader.loadRes("tags/plo5", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Omaha 6" == data.channelVariation) {
          cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "PLO 6";
          cc.loader.loadRes("tags/plo6", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Mega Hold\u2019em" == data.channelVariation) {
          cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "Mega Hold\u2019em";
          cc.loader.loadRes("tags/mega", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else cc.loader.loadRes("tags/holdem", cc.SpriteFrame, function(err, tex) {
          err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
        });
        if (data.roomImage) {
          cc.find("icon", instance).roomImage = data.roomImage;
          cc.loader.load(K.ServerAddress.assets_server_s + data.roomImage, function(err, tex) {
            err || (cc.find("icon", instance).getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex));
          });
        }
        cc.find("Rit_Icon", instance).active = data.isRunItTwice;
        cc.find("allin_Icon", instance).active = data.isAllInAndFold;
        cc.find("go/Background/MinMax", instance).getComponent(cc.Label).string = GameManager.convertChips(data.minBuyIn);
        cc.find("players/plyrLbl", instance).getComponent(cc.Label).string = data.totalPlayer || 0;
        cc.find("sta", instance).active = false;
        cc.find("go", instance).getComponent(cc.Button).clickEvents[0].customEventData = data._id;
        instance.getComponent(cc.Button).clickEvents[0].customEventData = data._id;
        this.contentHolder.addChild(instance);
      },
      onRoomUpdate2: function onRoomUpdate2(data) {
        console.log("onRoomUpdate2", data);
        for (var i = 0; i < this.contentHolder.children.length; i++) {
          var c = this.contentHolder.children[i];
          if (cc.find("go", c).getComponent(cc.Button).clickEvents[0].customEventData == data._id) {
            data.updated && null != data.updated.playingPlayers && void 0 != data.updated.playingPlayers && (cc.find("players/plyrLbl", c).getComponent(cc.Label).string = data.updated.playingPlayers);
            break;
          }
        }
      },
      onDeleteRoom: function onDeleteRoom(data) {
        console.log("onDeleteRoom", data);
        for (var i = 0; i < this.contentHolder.children.length; i++) {
          var c = this.contentHolder.children[i];
          if (cc.find("go", c).getComponent(cc.Button).clickEvents[0].customEventData == data._id) {
            c.removeFromParent(true);
            break;
          }
        }
      },
      onEnable: function onEnable() {
        Advancefilter.config.enabled, GameManager.isMobile;
      },
      onEnable2: function onEnable2(data, animated) {
        void 0 === animated && (animated = true);
        animated = false;
        Advancefilter.config.enabled, GameManager.isMobile;
        this.populateTable(data, animated);
      },
      onGetTableData: function onGetTableData(channelType) {
        void 0 === channelType && (channelType = null);
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getLobbyRooms", {
          isRealMoney: false,
          channelVariation: "All",
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("TABLE DATA IS ", JSON.parse(JSON.stringify(response)));
          response.success && response.result && inst.populateTable(response.result);
        }, null, 5e3, false);
      },
      populateTable: function populateTable(data, animated) {
        var _this = this;
        void 0 === animated && (animated = true);
        animated = false;
        console.log("isShowHoldem", this.isShowHoldem);
        console.log("isShowPLO", this.isShowPLO);
        console.log("isShowMega", this.isShowMega);
        console.log("isShowAllIn", this.isShowAllIn);
        console.log("isShowFast", this.isShowFast);
        console.log("isShowAll", this.isShowAll);
        this.contentHolder.removeAllChildren(true);
        this.cashierTable.getComponent("Table").roomData = data;
        var _loop = function _loop() {
          var hit = false;
          if (_this.isShowAll) hit = true; else {
            _this.isShowHoldem && "Texas Hold\u2019em" == data[i].gameInfo.GameVariation && !data[i].isAllInAndFold && (hit = true);
            !_this.isShowPLO || "Omaha" != data[i].gameInfo.GameVariation && "Omaha 5" != data[i].gameInfo.GameVariation && "Omaha 6" != data[i].gameInfo.GameVariation || (hit = true);
            _this.isShowMega && "Mega Hold\u2019em" == data[i].gameInfo.GameVariation && (hit = true);
            _this.isShowFast && 10 == data[i].turnTime && (hit = true);
            _this.isShowAllIn && data[i].isAllInAndFold && (hit = true);
            if (!hit) return "continue";
          }
          var adHit = false;
          if (Advancefilter.config.enabled) {
            Advancefilter.config.players["2"] && 2 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.players["3"] && 3 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.players["4"] && 4 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.players["5"] && 5 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.players["6"] && 6 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.players["7"] && 7 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.players["8"] && 8 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.players["9"] && 9 == data[i].maxPlayers && (adHit = true);
            Advancefilter.config.buyin["UltraLow"] && data[i].minBuyIn > 0 && data[i].minBuyIn <= 1 && (adHit = true);
            Advancefilter.config.buyin["Low"] && data[i].minBuyIn > 1 && data[i].minBuyIn <= 20 && (adHit = true);
            Advancefilter.config.buyin["Medium"] && data[i].minBuyIn > 20 && data[i].minBuyIn <= 100 && (adHit = true);
            Advancefilter.config.buyin["High"] && data[i].minBuyIn > 100 && (adHit = true);
            Advancefilter.config.limit["NoLimit"] && !data[i].isPotLimit && (adHit = true);
            Advancefilter.config.limit["PotLimit"] && data[i].isPotLimit && (adHit = true);
            Advancefilter.config.format["rit"] && data[i].isRunItTwice && (adHit = true);
            "" != Advancefilter.config.stakes["min"] && "" != Advancefilter.config.stakes["max"] ? data[i].smallBlind >= Number(Advancefilter.config.stakes["min"]) && data[i].smallBlind <= Number(Advancefilter.config.stakes["max"]) && (adHit = true) : "" != Advancefilter.config.stakes["max"] && data[i].smallBlind <= Number(Advancefilter.config.stakes["max"]) ? adHit = true : "" != Advancefilter.config.stakes["min"] && data[i].smallBlind >= Number(Advancefilter.config.stakes["min"]) && (adHit = true);
            if (!adHit) return "continue";
          }
          var instance = cc.instantiate(_this.original);
          instance.active = true;
          animated && (instance.opacity = 0);
          cc.find("TableName", instance).getComponent(cc.Label).string = data[i].roomName;
          cc.find("avgPot", instance).getComponent(cc.Label).string = GameManager.convertChips(data[i].smallBlind) + "/" + GameManager.convertChips(data[i].bigBlind);
          cc.find("l/vari/vari", instance).getComponent(cc.Label).string = data[i].gameInfo.GameVariation;
          if ("Texas Hold\u2019em" == data[i].gameInfo.GameVariation) {
            cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "Hold\u2019em";
            cc.loader.loadRes("tags/holdem", cc.SpriteFrame, function(err, tex) {
              err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
            });
          } else if ("Omaha" == data[i].gameInfo.GameVariation) {
            cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "PLO";
            cc.loader.loadRes("tags/plo", cc.SpriteFrame, function(err, tex) {
              err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
            });
          } else if ("Omaha 5" == data[i].gameInfo.GameVariation) {
            cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "PLO 5";
            cc.loader.loadRes("tags/plo5", cc.SpriteFrame, function(err, tex) {
              err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
            });
          } else if ("Omaha 6" == data[i].gameInfo.GameVariation) {
            cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "PLO 6";
            cc.loader.loadRes("tags/plo6", cc.SpriteFrame, function(err, tex) {
              err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
            });
          } else if ("Mega Hold\u2019em" == data[i].gameInfo.GameVariation) {
            cc.find("l/vari/vari", instance).getComponent(cc.Label).string = "Mega Hold\u2019em";
            cc.loader.loadRes("tags/mega", cc.SpriteFrame, function(err, tex) {
              err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
            });
          } else cc.loader.loadRes("tags/holdem", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("l/vari", instance).getComponent(cc.Sprite).spriteFrame = tex);
          });
          cc.find("Rit_Icon", instance).active = data[i].isRunItTwice;
          cc.find("allin_Icon", instance).active = data[i].isAllInAndFold;
          cc.find("go/Background/MinMax", instance).getComponent(cc.Label).string = data[i].gameInfo.BuyIn;
          cc.find("players/plyrLbl", instance).getComponent(cc.Label).string = data[i].totalPlayer;
          cc.find("sta", instance).active = false;
          cc.find("go", instance).getComponent(cc.Button).clickEvents[0].customEventData = data[i]._id;
          instance.getComponent(cc.Button).clickEvents[0].customEventData = data[i]._id;
          if (data[i].roomImage) if (cc.find("icon", instance).getComponent(cc.Sprite).spriteFrame) data[i].roomImage == cc.find("icon", instance).roomImage || cc.loader.load(K.ServerAddress.assets_server_s + data[i].roomImage, function(err, tex) {
            if (err) ; else {
              cc.find("icon", instance).roomImage = data[i].roomImage;
              cc.find("icon", instance).getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex);
            }
          }); else {
            cc.find("icon", instance).roomImage = data[i].roomImage;
            cc.loader.load(K.ServerAddress.assets_server_s + data[i].roomImage, function(err, tex) {
              err || (cc.find("icon", instance).getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex));
            });
          }
          _this.contentHolder.addChild(instance);
          animated && _this.scheduleOnce(function() {
            instance.x = 1e3;
            instance.opacity = 255;
            instance.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, instance.y)), cc.callFunc(function() {})));
          }, .05 * i);
        };
        for (var i = 0; i < data.length; i++) {
          var _ret = _loop();
          if ("continue" === _ret) continue;
        }
      },
      tableContentClick: function tableContentClick() {},
      addTable: function addTable(data) {
        data.updated.channelType == K.ChannelType.Normal && this._super(data);
      },
      makeContent: function makeContent(data) {
        if (this.variation == K.Variation.OpenFaceChinesePoker) var content = [ data.channelName, data.chipsPointRatio, data.channelVariation, GameManager.getGameTypeByValue(data.turnTime), data.minBuyIn, data.maxBuyIn, data.playingPlayers + "/" + data.maxPlayers, data.queuePlayers ]; else {
          data && data.avgPot && (data.avgStack = data.avgPot);
          var variation = data.channelVariation;
          switch (data.channelVariation) {
           case K.Variation.TexasHoldem:
            variation = LocalizedManager.t("TXT_HOLDEM");
            break;

           case K.Variation.Omaha:
            variation = LocalizedManager.t("TXT_OMAHA");
            break;

           case K.Variation.OmahaHiLo:
            variation = LocalizedManager.t("TXT_OMAHA_HI_LO");
            break;

           default:
            variation = data.channelVariation;
          }
          if (GameManager.isMobile) var content = [ data.channelName, data.smallBlind + "/" + data.bigBlind + ", " + variation, LocalizedManager.t("TXT_AVG_POT") + ": " + data.avgStack, data.minBuyIn + "/" + data.maxBuyIn, LocalizedManager.t("TXT_PLAYERS"), data.playingPlayers + "/" + data.maxPlayers ]; else var content = [ data.channelName, data.smallBlind + "/" + data.bigBlind, variation, data.minBuyIn, data.maxBuyIn, data.playingPlayers + "/" + data.maxPlayers, data.queuePlayers, " " + data.avgStack, parseInt(data.flopPercent) ];
        }
        return content;
      },
      getTableData2: function getTableData2(roomId, filter, callback) {
        ServerCom.pomeloRequest("connector.entryHandler.getTableByRoomId", {
          isRealMoney: true,
          channelVariation: filter,
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          roomId: roomId
        }, callback, null, 5e3, false);
      },
      goto: function goto(event, msg) {
        var _this2 = this;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this2.lockClick = false;
        }, 1);
        console.log("goto", msg);
        var inst = this;
        inst.cashierTable.getComponent("Table").roomId = msg;
        this.getTableData2(msg, 1, function(response) {
          ServerCom.loading.active = false;
          inst.cashierTable.getComponent("Table").onEnable2(response.result);
          inst.cashierTable.active = true;
          inst.node.scale = 0;
          inst.top.active = false;
          inst.top2.active = true;
        });
      },
      onAdvancefilterUpdated: function onAdvancefilterUpdated() {
        Advancefilter.config.enabled ? cc.find("filter", this.filter).color = new cc.color(255, 166, 39) : cc.find("filter", this.filter).color = new cc.color(255, 255, 255);
        this.onGetTableData();
      }
    });
    cc._RF.pop();
  }, {
    Advancefilter: "Advancefilter",
    DropDown: "DropDown",
    PostTypes: "PostTypes",
    Table: "Table",
    TableContent: "TableContent"
  } ],
  CashTablePresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fbf7476b3lKUq68DsODlJrF", "CashTablePresenter");
    "use strict";
    var JoinData = require("PostTypes").JoinChannel;
    var Table = require("Table");
    var TableContent = require("TableContent");
    var DropDownType = require("DropDown");
    var timerID = null;
    var LoginData = require("PostTypes").Login;
    var PopUpType = require("PopUpManager").PopUpType;
    var CashTablePresenter = cc.Class({
      extends: Table,
      properties: {
        top: {
          default: null,
          type: cc.Node
        },
        top2: {
          default: null,
          type: cc.Node
        },
        room: {
          default: null,
          type: cc.Label
        },
        tables: {
          default: null,
          type: cc.Label
        },
        blinds: {
          default: null,
          type: cc.Label
        },
        players: {
          default: null,
          type: cc.Label
        },
        minbuyin: {
          default: null,
          type: cc.Label
        },
        buyCounter: {
          default: 0,
          visible: false
        },
        playerCounter: {
          default: 0,
          visible: false
        },
        gameTypeDropdown: {
          default: null,
          type: DropDownType
        },
        stakesDropdown: {
          default: null,
          type: DropDownType
        },
        maxPlayersDropdown: {
          default: null,
          type: DropDownType
        },
        hideFullTablesCB: {
          default: null,
          type: cc.Toggle
        },
        favTableCB: {
          default: null,
          type: cc.Toggle
        },
        sideTableInfoPrefab: {
          default: null,
          type: cc.Node
        },
        tableInfoHolder: {
          default: null,
          type: cc.Node
        },
        favPrimaryCB: {
          default: null,
          type: cc.Toggle
        },
        sideTableNameLbl: {
          default: null,
          type: cc.Label
        },
        sideTableInfo: {
          default: null,
          type: cc.Node
        },
        selectedTableDetails: {
          default: null,
          type: cc.Node
        },
        selectedTableDetailsTour: {
          default: null,
          type: cc.Node
        },
        joinWaitingListBtn: {
          default: null,
          type: cc.Button
        },
        joinBtn: {
          default: null,
          type: cc.Node
        },
        avgPotLbl: {
          default: null,
          type: cc.Label
        },
        numWaitingPlayers: {
          default: null,
          type: cc.Label
        }
      },
      statics: {
        init: false
      },
      onEnable: function onEnable() {
        this._super();
        !GameManager.isMobile;
        !GameManager.isMobile && this.DropDownData;
        GameManager.on("waiting_List_Event", function(channelId, flag) {
          null !== TableContent.prevSelection && TableContent.prevSelection.channelData._id == channelId && this.onAlreadyJoined(flag);
        }.bind(this));
      },
      onRoomUpdate: function onRoomUpdate(eventData) {
        console.log("onRoomUpdate", eventData);
        GameManager.emit("onRoomUpdate2", eventData);
        eventData._id == this.roomId && eventData.updated;
      },
      tableContentClick: function tableContentClick() {
        null !== TableContent.prevSelection && (this.tempSelection = this.contentPool.indexOf(TableContent.prevSelection.node));
      },
      addTable: function addTable(data) {
        data.updated.channelType == K.ChannelType.Normal && this._super(data);
      },
      onHFTSound: function onHFTSound() {
        GameManager.playSound(K.Sounds.click);
        this.applyFilter();
      },
      formatNumber: function formatNumber(num) {
        if (num < 1e3) return num;
        if (num < 1e6) return 1e3 == num ? "1k" : (num / 1e3).toFixed(1) + "k";
        return (num / 1e6).toFixed(1) + "m";
      },
      makeContent: function makeContent(data) {
        if (this.variation == K.Variation.OpenFaceChinesePoker) var content = [ data.channelName, data.chipsPointRatio, data.channelVariation, GameManager.getGameTypeByValue(data.turnTime), data.minBuyIn, data.maxBuyIn, data.playingPlayers + "/" + data.maxPlayers, data.queuePlayers ]; else {
          data && data.avgPot && (data.avgStack = data.avgPot);
          var variation = data.channelVariation;
          switch (data.channelVariation) {
           case K.Variation.TexasHoldem:
            variation = LocalizedManager.t("TXT_HOLDEM");
            break;

           case K.Variation.Omaha:
            variation = LocalizedManager.t("TXT_OMAHA");
            break;

           case K.Variation.OmahaHiLo:
            variation = LocalizedManager.t("TXT_OMAHA_HI_LO");
            break;

           default:
            variation = data.channelVariation;
          }
          var content = [ data.channelName, GameManager.convertChips(data.smallBlind) + "/" + GameManager.convertChips(data.bigBlind), "" + GameManager.convertChips(data.minBuyIn), "", "", data.playingPlayers + "/" + data.maxPlayers ];
        }
        return content;
      },
      onJoinTable: function onJoinTable() {
        if (null === TableContent.prevSelection) return;
        var data = new JoinData(TableContent.prevSelection.channelData);
        console.log("onJoinTable ", data);
        var route = K.PomeloAPI.joinChannel;
        this.variation == window.K.Variation.OpenFaceChinesePoker && (route = require("OFCConfigs").PomeloAPI.joinChannel);
        GameManager.join(TableContent.prevSelection.channelData._id, route, data);
      },
      onJoinWaitingList: function onJoinWaitingList() {
        if (null === TableContent.prevSelection) return;
        var flag = this.joinWaitingListBtn.node.children[0].children[2].getComponent(cc.Label).string == LocalizedManager.t("TXT_JOIN_WAITTING");
        if ("true" == TableContent.prevSelection.channelData.isPrivateTabel && !TableContent.prevSelection.joinEffect.active && flag) {
          var func = function(response, closePopupFunc) {
            if (response.success) {
              GameManager.emit("waiting_List_Event", response.channelId, flag);
              closePopupFunc();
            }
          }.bind(this);
          var privateData = {
            type: "WAITING_LIST",
            flag: flag,
            id: TableContent.prevSelection.channelData._id,
            cb: func,
            toCallFunction: this.handler.joinWaitingList
          };
          GameManager.popUpManager.show(30, privateData, function() {});
        } else this.handler.joinWaitingList(flag, TableContent.prevSelection.channelData._id, function(response) {
          response.success && GameManager.emit("waiting_List_Event", response.channelId, flag);
        }.bind(this), function(errorResponse) {});
      },
      onAlreadyJoined: function onAlreadyJoined(flag) {
        GameManager.isMobile || (this.joinWaitingListBtn.node.children[0].children[2].getComponent(cc.Label).string = flag ? LocalizedManager.t("TXT_UNJOIN_WAITTING") : LocalizedManager.t("TXT_JOIN_WAITTING"));
      },
      onAutoSit: function onAutoSit() {
        if (null === TableContent.prevSelection) return;
        var data = new JoinData(TableContent.prevSelection.channelData);
        data.seatIndex = GameManager.getPreferredSeat(data.maxPlayers);
        data.imageAvtar = "";
        var route = K.PomeloAPI.autoSit;
        this.variation == window.K.Variation.OpenFaceChinesePoker && (route = require("OFCConfigs").PomeloAPI.autoSit);
        GameManager.join(TableContent.prevSelection.channelData._id, route, data);
      },
      onSideTableUpdate: function onSideTableUpdate(data) {
        if (null == TableContent.prevSelection || 0 == this.contentPool.length) return;
        if (!data.tournamentId && TableContent.prevSelection.channelData._id == data._id && this.currentSideTableData) switch (data.event) {
         case "TABLEVIEWNEWPLAYER":
          data.updated.playerId = data.playerId;
          this.currentSideTableData.players.push(data.updated);
          this.currentSideTableData.isTableFull = TableContent.prevSelection.channelData.maxPlayers == this.currentSideTableData.players.length;
          this.currentSideTableData.isAlreadyPlaying || (this.currentSideTableData.isAlreadyPlaying = data.playerId == GameManager.user.playerId);
          break;

         case "TABLEVIEWLEFTPLAYER":
          this.removePlayer(data.playerId, this.currentSideTableData.players);
          this.currentSideTableData.isTableFull = TableContent.prevSelection.channelData.maxPlayers == this.currentSideTableData.players.length;
          data.playerId == GameManager.user.playerId && (this.currentSideTableData.isAlreadyPlaying = false);
          break;

         case "TABLEVIEWCHIPSUPDATE":
          this.updateChips(data.playerId, data.updated.chips);
          break;

         case "TABLEVIEWNEWWAITINGPLAYER":
          data.updated.playerId = data.playerId;
          this.currentSideTableData.waitingPlayer.push(data.updated);
          this.currentSideTableData.isJoinedWaitingList || (this.currentSideTableData.isJoinedWaitingList = data.playerId == GameManager.user.playerId);
          break;

         case "TABLEVIEWLEFTWAITINGPLAYER":
          this.removePlayer(data.playerId, this.currentSideTableData.waitingPlayer);
          data.playerId == GameManager.user.playerId && (this.currentSideTableData.isJoinedWaitingList = false);
        }
      },
      setSideTableData: function setSideTableData(response) {
        GameManager.removeAllChildren(this.tableInfoHolder);
        null == TableContent.prevSelection || GameManager.isMobile || (this.sideTableNameLbl.string = TableContent.prevSelection.channelData.channelName);
        if (response.success) {
          this.currentSideTableData = response;
          this.joinWaitingListBtn.node.active = response.isTableFull;
          this.onAlreadyJoined(response.isJoinedWaitingList);
          this.joinBtn.active = !response.isAlreadyPlaying;
          this.avgPotLbl.string = response.avgStack;
          this.numWaitingPlayers.string = response.waitingPlayer.length;
          response.isAlreadyPlaying && (this.joinWaitingListBtn.node.active = !response.isAlreadyPlaying);
          if (null != TableContent.prevSelection && "true" == TableContent.prevSelection.channelData.isPrivateTabel && !TableContent.prevSelection.joinEffect.active) return;
          if (!GameManager.isMobile) {
            if (response.players.length > 0) for (var i = 0; i < response.players.length; i++) this.addPlayerInView(response.players[i]);
            if (response.waitingPlayer.length > 0) for (var i = 0; i < response.waitingPlayer.length; i++) this.addPlayerInView(response.waitingPlayer[i], true);
          }
        }
      },
      addPlayerInView: function addPlayerInView(player, isWaiting) {
        void 0 === isWaiting && (isWaiting = false);
        if (GameManager.isMobile) return;
        var obj = cc.instantiate(this.sideTableInfoPrefab);
        obj.active = true;
        this.tableInfoHolder.addChild(obj);
        obj.getChildByName("Name").getComponent(cc.Label).string = player.playerName;
        var text = isWaiting ? "Waiting" : (player.chips || player.points || 0).roundOff(2);
        obj.getChildByName("Chips").getComponent(cc.Label).string = text;
      },
      removePlayer: function removePlayer(playerId, playersArray) {
        if (playersArray.length > 0) {
          var index = -1;
          for (var i = 0; i < playersArray.length; i++) if (playersArray[i].playerId == playerId) {
            index = i;
            break;
          }
          -1 != index && playersArray.splice(index, 1);
        }
      },
      updateChips: function updateChips(playerId, chips) {
        if (this.currentSideTableData.players.length > 0) {
          var index = -1;
          for (var i = 0; i < this.currentSideTableData.players.length; i++) if (this.currentSideTableData.players[i].playerId == playerId) {
            index = i;
            break;
          }
          -1 != index && (this.currentSideTableData.players[index].chips = chips);
        }
      },
      onBuyInConfirm: function onBuyInConfirm(index, amount) {
        var self = this;
        ServerCom.pomeloRequest("room.channelHandler.quickSeat", {
          roomId: this.roomId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          imageAvtar: "",
          chips: Number(amount),
          playerId: GameManager.user.playerId,
          playerName: GameManager.user.userName,
          isRequested: true
        }, function(response) {
          console.log(response);
          var route = K.PomeloAPI.joinChannel;
          GameManager.join2(response.data.channelId, route, {
            channelId: response.data.channelId,
            isRequested: true,
            channelType: response.data.channelType,
            tableId: "",
            playerId: GameManager.user.playerId,
            playerName: GameManager.user.userName,
            networkIp: LoginData.ipV4Address,
            maxPlayers: 5,
            isPrivateTable: false
          });
        });
      },
      quickSeat: function quickSeat() {
        console.log(this.roomData);
        var room = null;
        for (var i = 0; i < this.roomData.length; i++) if (this.roomData[i]._id == this.roomId) {
          room = this.roomData[i];
          break;
        }
        if (!room) return;
        null != GameScreen ? GameManager.isMobile ? GameManager.activeTableCount = GameScreen.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = GameScreen.gridParent.children.length : GameManager.activeTableCount = 0;
        if (GameManager.activeTableCount >= GameManager.maxTableCounts) {
          GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
          return;
        }
        var data = {};
        data.minValue = room.minBuyIn;
        data.maxValue = room.maxBuyIn;
        var text_chips = LocalizedManager.t("TXT_AVAILABLE_CHIPS") + ":";
        "DIAMOND" == GameManager.user.category ? data.totalChips = GameManager.user.realChips : data.totalChips = GameManager.user.freeChips;
        data.dialogHeadingText = text_chips;
        data.autoBuyIn = GameManager.user.autoBuyIn;
        data.confirm = this.onBuyInConfirm.bind(this);
        data.channelId = room._id;
        data.isRealMoney = true;
        data.autoConfirm = true;
        data.isAllInAndFold = room.isAllInAndFold;
        data.topHeading = LocalizedManager.t("TXT_BUY_IN");
        data.quickSeat = true;
        GameManager.popUpManager.show(PopUpType.BuyInPopup, data, function() {});
      },
      leaveLobby: function leaveLobby() {
        this.contentHolder.removeAllChildren();
      }
    });
    cc._RF.pop();
  }, {
    DropDown: "DropDown",
    OFCConfigs: "OFCConfigs",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    Table: "Table",
    TableContent: "TableContent"
  } ],
  CashierPopUp: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d5a1920wy9EmpQcSW5tWx1S", "CashierPopUp");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var CheckBoxType = require("Checkbox");
    var megaCircleType = cc.Enum({
      Bronze: 0,
      Chrome: 1,
      Silver: 2,
      Gold: 3,
      Diamond: 4,
      Platinum: 5
    });
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        playerID: {
          default: null,
          type: cc.Label
        },
        email: {
          default: null,
          type: cc.Label
        },
        TournamentEarningsUnclaimed: {
          default: null,
          type: cc.Label
        },
        megaBonusUnclaimed: {
          default: null,
          type: cc.Label
        },
        megaBonusClaimed: {
          default: null,
          type: cc.Label
        },
        megaChipsAvailable: {
          default: null,
          type: cc.Label
        },
        megaChipsInPlay: {
          default: null,
          type: cc.Label
        },
        megaChips: {
          default: null,
          type: cc.Label
        },
        playChipsInPlay: {
          default: null,
          type: cc.Label
        },
        playChipsAvailable: {
          default: null,
          type: cc.Label
        },
        playChips: {
          default: null,
          type: cc.Label
        },
        megaPoints: {
          default: null,
          type: cc.Label
        },
        megaChipsClaimed: {
          default: null,
          type: cc.Label
        },
        megaPointLevel: {
          default: null,
          type: cc.Label
        },
        megaLevelSprites: {
          default: [],
          type: cc.SpriteFrame
        },
        circleInScene: {
          default: null,
          type: cc.Sprite
        },
        cashierView: {
          default: null,
          type: cc.Node
        },
        cashoutView: {
          default: null,
          type: cc.Node
        },
        cashoutAmount: {
          default: null,
          type: cc.EditBox
        },
        affiliateId: {
          default: null,
          type: cc.Label
        },
        stars: {
          default: [],
          type: cc.Sprite
        },
        playerImg: {
          default: null,
          type: cc.Sprite
        },
        temporary: {
          default: null,
          type: cc.Label
        },
        buttons: {
          default: null,
          type: cc.Node
        },
        instantBonusChips: {
          default: null,
          type: cc.Label
        },
        withdrawableChips: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {
        var color = cc.Color.BLACK;
        this.colorObj = {
          Bronze: color.fromHEX("#B76316"),
          Chrome: color.fromHEX("#685F2D"),
          Silver: color.fromHEX("#606060"),
          Gold: color.fromHEX("#BB8000"),
          Diamond: color.fromHEX("#32C1CE"),
          Platinum: color.fromHEX("#653A38")
        };
      },
      onShow: function onShow(data) {
        if (null == data) return;
        this.playerID.string = data.userName;
        this.megaBonusUnclaimed.string = parseInt(data.unClaimedMegaBonus);
        this.megaBonusClaimed.string = parseInt(data.claimedMegaBonus);
        this.playChipsAvailable.string = Number(data.freeChips.toFixed(2));
        this.megaPointLevel.string = data.megaPointLevel;
        this.playerImg.spriteFrame = GameManager.user.urlImg;
        this.cb = data.restoreActiveTab;
        this.megaStarsUpdateInView();
        this.temporary.string = Number(data.realChips.toFixed(2));
        this.instantBonusChips.string = !data.instantBonusAmount ? 0 : data.instantBonusAmount.roundOff(2);
        this.withdrawableChips.string = Number(data.withdrawableChips.toFixed(2));
        if (GameManager.isP) {
          this.cashierView.active = false;
          this.cashoutView.active = true;
          this.buttons.active = false;
          this.onShowCashout();
        }
        return;
      },
      onCashout: function onCashout() {
        if (null != GameManager.user.affiliateId || GameManager.isMobile) this.popUpManager.show(PopUpType.CashoutPopup, null, function() {}); else {
          var url = K.ServerAddress.cashier_CashOut_URL;
          cc.sys.openURL(url);
        }
      },
      onWithdrawChips: function onWithdrawChips() {
        GameManager.playSound(K.Sounds.click);
        if (this.cashoutView.active) return;
        if (!GameManager.user.isCashout) {
          cc.sys.openURL(K.ServerAddress.cashier_CashOut_URL);
          return;
        }
        this.cashierView.active = false;
        this.cashoutView.active = true;
        this.onShowCashout();
      },
      onAddChips: function onAddChips() {
        if (this.cashierView.active) return;
        this.cashoutView.active = false;
        this.cashierView.active = true;
      },
      onAddCash: function onAddCash() {
        GameManager.playSound(K.Sounds.click);
        var url = K.ServerAddress.cashier_AddCash_URL;
        cc.sys.openURL(url);
      },
      onMyTransactions: function onMyTransactions() {
        GameManager.playSound(K.Sounds.click);
        var url = K.ServerAddress.cashier_MyTransaction_URL;
        cc.sys.openURL(url);
      },
      onMyTickets: function onMyTickets() {
        GameManager.playSound(K.Sounds.click);
        this.showComingSoonPopup();
      },
      onMerchandise: function onMerchandise() {
        this.showComingSoonPopup();
      },
      onTournamentHistory: function onTournamentHistory() {
        GameManager.playSound(K.Sounds.click);
        this.showComingSoonPopup();
      },
      showComingSoonPopup: function showComingSoonPopup() {
        GameManager.playSound(K.Sounds.click);
        var param = {
          code: K.Error.FeatureComingSoon,
          response: "Feature Coming Soon!!!"
        };
        GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
      },
      onInfo: function onInfo() {
        console.log("info clicked");
        GameManager.playSound(K.Sounds.click);
        var url2 = K.ServerAddress.cashier_Profile_URL;
        cc.sys.openURL(url2);
      },
      onQuit: function onQuit() {
        GameManager.playSound(K.Sounds.click);
        this.popUpManager.hide(PopUpType.CashierPopup, function() {});
      },
      onShowCashout: function onShowCashout() {
        GameManager.user.affiliateId ? this.affiliateId.string = GameManager.user.affiliateId : this.affiliateId.string = "Not an Affiliate.";
        this.cashoutAmount.string = "";
      },
      getAmount: function getAmount() {
        var amount;
        var minAmount = 1;
        var maxAmount = Number(GameManager.user.realChips.toFixed(2));
        if (isNaN(this.cashoutAmount.string)) {
          var pat = /\d+/g;
          var x = this.cashoutAmount.string.match(pat);
          var t = "";
          if (x) for (var count = 0; count < x.length; count++) t += x[count];
          this.cashoutAmount.string = t;
        } else {
          if (/\s/.test(this.cashoutAmount.string)) {
            var temp = this.cashoutAmount.string.toString().trim();
            this.cashoutAmount.string = temp;
          }
          var t = ".";
          if (-1 != this.cashoutAmount.string.indexOf(t)) {
            var x = this.cashoutAmount.string;
            x = x.replace(".", "");
            this.cashoutAmount.string = x;
          }
          var t = "e";
          if (-1 != this.cashoutAmount.string.indexOf(t)) {
            var x = this.cashoutAmount.string;
            x = x.replace("e", "");
            this.cashoutAmount.string = x;
          }
          var t = "-";
          if (-1 != this.cashoutAmount.string.indexOf(t)) {
            var x = this.cashoutAmount.string;
            x = x.replace("-", "");
            this.cashoutAmount.string = x;
          }
          var patt = this.cashoutAmount.string.length > 1 ? /[0-9]/ : /[1-9]/;
          if (patt.test(this.cashoutAmount.string)) ; else {
            var x = this.cashoutAmount.string;
            x = x.replace("0", "");
            this.cashoutAmount.string = x;
          }
        }
        this.cashoutAmount.string >= minAmount && this.cashoutAmount.string <= maxAmount && (this.submitButton.interactable = true);
      },
      onSubmit: function onSubmit() {
        if ("Not an Affiliate." == this.affiliateId.string) return;
        var amount = parseInt(this.cashoutAmount.string);
        var data = {
          playerId: GameManager.user.playerId,
          realChips: amount
        };
        ServerCom.pomeloRequest(K.PomeloAPI.cashoutRequest, data, function(response) {
          response.success && this.popUpManager.hide(PopUpType.CashierPopup, function() {});
        }.bind(this), null);
      },
      onHide: function onHide() {
        this.cashoutView.active = false;
        this.cashierView.active = true;
        !this.cb || this.cb();
      },
      fillStar: function fillStar(starIndex, starPercentfill) {
        for (var i = 0; i < starIndex; i++) this.stars[i].fillRange = 1;
        this.stars[starIndex].fillRange = starPercentfill / 100;
      },
      megaStarsUpdateInView: function megaStarsUpdateInView() {
        for (var i = 0; i < 5; i++) {
          this.stars[i].spriteFrame = this.megaLevelSprites[megaCircleType[GameManager.user.megaPointDetail.megaPointLevel]];
          this.stars[i].fillRange = 0;
        }
        var megaPtPrcnt = GameManager.user.megaPointDetail.megaPointsPercent;
        var starPercentfill = megaPtPrcnt % 20 * 5;
        megaPtPrcnt <= 20 ? this.fillStar(0, starPercentfill) : megaPtPrcnt > 20 && megaPtPrcnt <= 40 ? this.fillStar(1, starPercentfill) : megaPtPrcnt > 40 && megaPtPrcnt <= 60 ? this.fillStar(2, starPercentfill) : megaPtPrcnt > 60 && megaPtPrcnt <= 80 ? this.fillStar(3, starPercentfill) : this.fillStar(4, starPercentfill);
      },
      validateCashoutAmount: function validateCashoutAmount() {
        var str = this.cashoutAmount.string;
        var value = parseInt(str.getDecimal());
        this.cashoutAmount.string = isNaN(value) ? "" : value.toString();
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    SliderTouch: "SliderTouch"
  } ],
  CashoutPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6be5bWSK/5Be60WmSayKuW3", "CashoutPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var CheckBoxType = require("Checkbox");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        cashoutAmount: {
          default: null,
          type: cc.EditBox
        },
        affiliateId: {
          default: null,
          type: cc.Label
        },
        submitButton: {
          default: null,
          type: cc.Button
        },
        quitButton: {
          default: null,
          type: cc.Button
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow() {
        GameManager.user.affiliateId ? this.affiliateId.string = GameManager.user.affiliateId : this.affiliateId.string = "Not an Affiliate.";
        this.cashoutAmount.string = "";
      },
      onQuit: function onQuit() {
        this.popUpManager.hide(PopUpType.CashoutPopup, function() {});
      },
      getAmount: function getAmount() {
        var amount;
        var minAmount = 1;
        var maxAmount = parseInt(GameManager.user.realChips);
        if (isNaN(this.cashoutAmount.string)) {
          var pat = /\d+/g;
          var x = this.cashoutAmount.string.match(pat);
          var t = "";
          if (x) for (var count = 0; count < x.length; count++) t += x[count];
          this.cashoutAmount.string = t;
        } else {
          if (/\s/.test(this.cashoutAmount.string)) {
            var temp = this.cashoutAmount.string.toString().trim();
            this.cashoutAmount.string = temp;
          }
          var t = ".";
          if (-1 != this.cashoutAmount.string.indexOf(t)) {
            var x = this.cashoutAmount.string;
            x = x.replace(".", "");
            this.cashoutAmount.string = x;
          }
          var t = "e";
          if (-1 != this.cashoutAmount.string.indexOf(t)) {
            var x = this.cashoutAmount.string;
            x = x.replace("e", "");
            this.cashoutAmount.string = x;
          }
          var t = "-";
          if (-1 != this.cashoutAmount.string.indexOf(t)) {
            var x = this.cashoutAmount.string;
            x = x.replace("-", "");
            this.cashoutAmount.string = x;
          }
          var patt = this.cashoutAmount.string.length > 1 ? /[0-9]/ : /[1-9]/;
          if (patt.test(this.cashoutAmount.string)) ; else {
            var x = this.cashoutAmount.string;
            x = x.replace("0", "");
            this.cashoutAmount.string = x;
          }
        }
        this.cashoutAmount.string >= minAmount && this.cashoutAmount.string <= maxAmount && (this.submitButton.interactable = true);
      },
      onSubmit: function onSubmit() {
        var amount = parseInt(this.cashoutAmount.string);
        var data = {
          playerId: GameManager.user.playerId,
          realChips: amount
        };
        ServerCom.pomeloRequest(K.PomeloAPI.cashoutRequest, data, function(response) {
          response.success && this.popUpManager.hide(PopUpType.CashoutPopup, function() {});
        }.bind(this), null);
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    SliderTouch: "SliderTouch"
  } ],
  ChatInfoPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8a2a7Z7Tm1HgYBNP1ov8ng4", "ChatInfoPanel");
    "use strict";
    var ChatPanel = require("ChatPanel");
    var ChatData = require("PostTypes").ChatData;
    var emojiNames = [];
    cc.Class({
      extends: cc.Component,
      properties: {
        empty: {
          default: null,
          type: cc.Node
        },
        chatLbl: {
          default: null,
          type: cc.EditBox
        },
        chatPrefab: {
          default: null,
          type: cc.Prefab
        },
        chatGridParent: {
          default: null,
          type: cc.Node
        },
        chat: [],
        richTexts: {
          default: [],
          type: cc.RichText
        },
        emoticonBox: {
          default: null,
          type: cc.Node
        },
        emoticons: {
          default: [],
          type: cc.SpriteFrame
        },
        emoticonPrefab: {
          default: null,
          type: cc.Node
        },
        emotParent: {
          default: null,
          type: cc.Node
        },
        pokerModel: {
          default: null,
          type: cc.Node
        },
        pokerGame: null,
        otherPopup: {
          default: null,
          type: cc.Node
        },
        emotiBtns: {
          default: null,
          type: cc.Node
        },
        chatContent: {
          default: null,
          type: cc.Prefab
        },
        chatMeContent: {
          default: null,
          type: cc.Prefab
        },
        chatPopUp: null,
        onChatFunc: null,
        isLoaded: false,
        editBoxData: "",
        loaded: false,
        playerNameColor: new cc.Color(0, 0, 0, 255),
        textColor: new cc.Color(0, 0, 0, 255)
      },
      onLoad: function onLoad() {
        if (this.loaded) return;
        this.loaded = true;
        this.___height = this.node.height;
        !this.otherPopup || this.otherPopup.getComponent("ChatInfoPanel").onLoad();
        this.onChatFunc = this.onChat.bind(this);
        this.pokerGame = this.pokerModel.getComponent("PokerModel");
        this.generateEmoticons();
        this.registerBroadcast();
        this.isLoaded = true;
        this.empty.active = true;
        if (this.pokerGame.chat) {
          this.generateChat(this.pokerGame.chat);
          this.scrollToBottom();
        }
      },
      onEnable: function onEnable() {
        this.scheduleOnce(function() {
          this.chatLbl.string = this.editBoxData;
        }, .2);
        K.PORTRAIT && (0 == this.chatGridParent.children.length ? this.empty.active = true : this.empty.active = false);
      },
      enableotherPopup: function enableotherPopup() {
        if (!this.otherPopup.getComponent("ChatInfoPanel").isLoaded) {
          var chats = [];
          this.chatGridParent.children.forEach(function(element) {
            chats.push(element.getComponent(cc.RichText).string);
          }, this);
          this.otherPopup.getComponent("ChatInfoPanel").showBackUp(chats);
        }
        this.otherPopup.active = true;
        this.node.active = false;
      },
      showBackUp: function showBackUp(chats) {
        chats.forEach(function(element) {
          this.generateChat(element);
        }, this);
        this.scrollToBottom();
      },
      close: function close() {
        this.onEditEnd();
        this.node.active = false;
      },
      showChatPopUp: function showChatPopUp() {
        this.node.active = true;
      },
      showMessages: function showMessages(chat) {
        this.unscheduleAllCallbacks();
        if (!this.pokerGame) return;
        this.generateChat(chat);
        this.scrollToBottom();
      },
      generateChat: function generateChat(msg) {
        this.empty.active = false;
        if (K.PORTRAIT) {
          var obj = null;
          obj = msg.split("|")[3] == GameManager.user.playerId ? cc.instantiate(this.chatMeContent) : cc.instantiate(this.chatContent);
          if (!obj.children[1].children[1].getComponent(cc.RichText)) return;
          obj.children[1].children[1].getComponent(cc.RichText).string = msg.split("|")[1];
          obj.children[1].children[0].children[0].getComponent(cc.Label).string = msg.split("|")[0];
          var today = new Date();
          var time = today.getHours() + ":" + today.getMinutes();
          obj.children[1].children[0].children[1].getComponent(cc.Label).string = time;
          this.chatGridParent.addChild(obj);
          if (msg.split("|")[2]) obj.children[0].children[1].children[0].getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[parseInt(msg.split("|")[2])]; else {
            var randomIndex = Math.round(Math.random() * GameManager.avatarImages.length - 1);
            obj.children[0].children[1].children[0].getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[randomIndex];
          }
        } else {
          var obj = cc.instantiate(this.chatContent);
          obj.getComponent(cc.RichText).string = msg;
          this.chatGridParent.addChild(obj);
        }
      },
      scrollToBottom: function scrollToBottom() {
        var chatScroll = this.chatGridParent.parent.parent;
        var scrollView = chatScroll.getComponent(cc.ScrollView);
        scrollView.scrollToBottom(.5);
      },
      onSubmit: function onSubmit() {
        this.onEditEnd();
        this.pokerGame.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        this.emoticonBox.active = false;
        var tempData = this.chatLbl.string.trim();
        if (!this.pokerGame.gameData.settings.playerChat || this.pokerGame.isPlayerStandUp()) {
          this.chatLbl.string = "";
          this.chatLbl.string = this.chatLbl.string.trim();
          return;
        }
        if ("" != tempData) {
          var chatString = tempData;
          var rightEmoji = chatString.split(">");
          rightEmoji.length > 0 && rightEmoji.forEach(function(element) {
            if (!!element) {
              var leftEmoji = element.split("<");
              leftEmoji[1] && (chatString = chatString.replace("<" + leftEmoji[1] + ">", "<img src = '" + leftEmoji[1] + "'/>"));
            }
          }, this);
          if (this.pokerGame.presenter.isTournament()) ServerCom.socketIORequest("tournamentGameEvent|message", {
            tournamentId: this.pokerGame.gameData.raw.tournamentId,
            tableId: this.pokerGame.gameData.tableId,
            messageText: chatString,
            playerId: GameManager.user.playerId
          }, function(response) {
            response.success;
          }.bind(this), null, 5e3, false); else {
            var data = new ChatData(GameManager.user.playerId, GameManager.user.userName, this.pokerGame.gameData.channelId, chatString);
            ServerCom.pomeloRequest(K.PomeloAPI.chatRequest, data, function(response) {
              response.success;
            }.bind(this), null, 5e3, false);
          }
          this.chatLbl.string = "";
          this.chatLbl.string = this.chatLbl.string.trim();
          GameScreen.isMobile || this.chatLbl.setFocus();
        }
        this.editBoxData = "";
        this.pokerGame.presenter.onClose();
      },
      registerBroadcast: function registerBroadcast() {
        this.pokerGame || (this.pokerGame = this.pokerModel.getComponent("PokerModel"));
        this.pokerGame.off(K.PokerEvents.OnChat, this.onChat.bind(this));
        this.pokerGame.on(K.PokerEvents.OnChat, this.onChat.bind(this));
      },
      getPlayerName: function getPlayerName(playerId) {
        for (var i = 0; i < this.pokerGame.gameData.tableDetails.players.length; i++) if (this.pokerGame.gameData.tableDetails.players[i].playerId == playerId) return this.pokerGame.gameData.tableDetails.players[i].playerName;
        return "N/A";
      },
      getPlayerAvatar: function getPlayerAvatar(playerId) {
        for (var i = 0; i < this.pokerGame.gameData.tableDetails.players.length; i++) if (this.pokerGame.gameData.tableDetails.players[i].playerId == playerId) return this.pokerGame.gameData.tableDetails.players[i].imageAvtar;
        return null;
      },
      onChat: function onChat(response) {
        var message = "<color=#" + this.playerNameColor.toHEX("#rrggbb") + ">" + this.getPlayerName(response.playerId) + ": </c><color=#" + this.textColor.toHEX("#rrggbb") + ">" + response.message + "</c>";
        K.PORTRAIT && (message = this.getPlayerName(response.playerId) + "|" + response.message + "|" + (Number(response.profileImage) - 1) + "|" + response.playerId);
        this.showMessages(message);
      },
      onShowEmoticons: function onShowEmoticons() {
        !this.emoticonBox || (this.emoticonBox.active = !this.emoticonBox.active);
      },
      recordMessage: function recordMessage() {
        this.editBoxData = this.chatLbl.string;
      },
      disableEmoticons: function disableEmoticons() {
        this.emoticonBox.active = false;
        this.emotiBtns.active = false;
      },
      enableEmoticons: function enableEmoticons() {
        this.emotiBtns.active = true;
      },
      onEmoticonClicked: function onEmoticonClicked(btnEvent) {
        GameScreen.isMobile || this.chatLbl.setFocus();
        var emot = btnEvent.target.getComponent(cc.Sprite).spriteFrame.name;
        var t = this.chatLbl.string;
        if ((t += "<" + emot + ">").length > 140) return;
        this.chatLbl.string += "<" + emot + ">";
        this.recordMessage();
      },
      generateEmoticons: function generateEmoticons() {
        !this.emotParent || GameManager.removeAllChildren(this.emotParent);
        var obj = null;
        for (var i = 0; i < this.emoticons.length; i++) {
          obj = cc.instantiate(this.emoticonPrefab);
          obj.active = true;
          obj.getComponent(cc.Sprite).spriteFrame = this.emoticons[i];
          this.emotParent.addChild(obj);
        }
      },
      onEditBegan: function onEditBegan() {},
      onEditEnd: function onEditEnd() {}
    });
    cc._RF.pop();
  }, {
    ChatPanel: "ChatPanel",
    PostTypes: "PostTypes"
  } ],
  ChatPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "333ca0DbEdAlZGvnHb2pkTn", "ChatPanel");
    "use strict";
    var _reportIssue = require("PostTypes").reportIssue;
    var TabBtnUtil = require("TabBtnUtil");
    cc.Class({
      extends: cc.Component,
      properties: {
        isVisible: true,
        reportLabel: {
          default: null,
          type: cc.EditBox
        },
        infoLabel: {
          default: null,
          type: cc.Label
        },
        indicator: {
          default: null,
          type: cc.Node
        },
        isMobile: false,
        isMobileView: false,
        bgA: {
          default: null,
          type: cc.Node
        },
        onHideCallBack: null
      },
      onLoad: function onLoad() {
        window.ChatPanel = this;
        this.actA = cc.moveTo(.1, new cc.Vec2(0, -177));
        var xx = this.johnnyMobile ? 5 : 0;
        this.actB = cc.moveTo(.1, new cc.Vec2(0, xx));
        this.isMobile = false;
        this.johnnyMobile = GameScreen.isMobile;
        if (this.isMobileView) {
          this.isVisible = false;
          setTimeout(function() {}.bind(this), 500);
          this.onHideCallBack = function() {
            1 == GameScreen.viewType && GameManager.activeTableCount > 1 || this.hideMobileView();
            1 == GameScreen.viewType && this.isMobileView && (2 == GameManager.activeTableCount ? this.node.getComponent(cc.Widget).right = .319 : this.node.getComponent(cc.Widget).right = -.0124);
          }.bind(this);
          GameManager.on(K.GameEvents.OnTableClosed, this.onHideCallBack);
          GameScreen.node.on("grid-refreshed", this.onHideCallBack);
        } else this.isVisible = false;
      },
      onDestroy: function onDestroy() {
        if (this.isMobileView) {
          GameManager.off(K.GameEvents.OnTableClosed, this.onHideCallBack);
          GameScreen.node.off("grid-refreshed", this.onHideCallBack);
        }
      },
      onHide: function onHide() {
        if (this.isMobile) return;
        this.node.stopAllActions();
        if (1 == GameScreen.viewType && GameManager.activeTableCount > 1 && this.isMobileView) this.switchMobileView(); else if (this.isMobileView) this.hideMobileView(); else {
          var toY = this.isVisible ? -150 : 0;
          this.johnnyMobile && (toY = this.isVisible ? -162 : 5);
          var act = cc.moveTo(.1, new cc.Vec2(0, toY));
          this.node.runAction(act);
          this.isVisible = !this.isVisible;
        }
      },
      hideMobileView: function hideMobileView() {
        var funcAction = cc.callFunc(function() {}, this);
        var y = cc.moveTo(.2, 431, -67);
        var splitSequence = cc.sequence(y, funcAction);
        this.node.parent.runAction(splitSequence);
        this.isVisible = false;
        this.switchBg();
      },
      showMobileView: function showMobileView() {
        this.node.parent.runAction(cc.moveTo(.2, 431, 113.5));
        this.isVisible = true;
        this.switchBg();
      },
      switchMobileView: function switchMobileView() {
        this.isMobileView && (this.isVisible ? this.hideMobileView() : this.showMobileView());
      },
      showPanel: function showPanel() {
        if (this.isMobile) return;
        if (1 == GameScreen.viewType && GameManager.activeTableCount > 1) {
          if (!this.isVisible) {
            this.node.stopAllActions();
            this.isVisible = true;
            this.switchBg();
            this.node.runAction(this.actB);
          }
        } else if (!this.isVisible) {
          this.node.stopAllActions();
          var toY = 0;
          this.johnnyMobile && (toY = 5);
          var act = cc.moveTo(.1, new cc.Vec2(0, toY));
          this.node.runAction(act);
          this.isVisible = true;
        }
      },
      onEnable: function onEnable() {
        this.node.getComponent("TabBtnUtil") && this.node.getComponent("TabBtnUtil").onShowTab_01();
      },
      reportIssue: function reportIssue() {
        if ("" != this.reportIssue.string) {
          var data = new _reportIssue(GameManager.user.playerId, this.reportLabel.string);
          ServerCom.pomeloRequest(K.PomeloAPI.reportIssue, data, function(response) {
            response.success;
          });
          this.reportLabel.string = "";
        }
      },
      mobClosePanel: function mobClosePanel() {
        this.bgA.active = false;
        if (this.isVisible) {
          var funcAction = cc.callFunc(function() {}, this);
          var splitSequence = cc.sequence(this.actA, funcAction);
          this.node.runAction(splitSequence);
          this.isVisible = !this.isVisible;
        }
      },
      switchBg: function switchBg() {
        !this.bgA || (this.isVisible ? this.bgA.active = true : this.bgA.active = false);
      }
    });
    cc._RF.pop();
  }, {
    PostTypes: "PostTypes",
    TabBtnUtil: "TabBtnUtil"
  } ],
  Checkbox: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fab60HmBEJMvpzN1e51z7mV", "Checkbox");
    "use strict";
    var Checkbox = cc.Class({
      extends: cc.Component,
      properties: {
        tickNode: {
          default: null,
          type: cc.Node
        },
        isSelected: {
          default: false,
          visible: false
        },
        initValue: {
          default: false
        },
        group: {
          default: [],
          type: cc.Node
        },
        callbackNode: {
          default: null,
          type: cc.Node
        },
        callbackComponent: {
          default: ""
        },
        callbacks: {
          default: [],
          visible: false
        },
        valForced: {
          visible: false,
          default: false
        }
      },
      onLoad: function onLoad() {
        this.isSelected = this.initValue;
      },
      start: function start() {
        this.valForced || this.setSelection(this.initValue);
      },
      onClick: function onClick() {
        if (this.isSelected) {
          this.isSelected = false;
          this.tickNode.active = false;
        } else {
          this.isSelected = true;
          this.tickNode.active = true;
        }
        this.updateGroup(this.isSelected);
        this.onValueChange();
      },
      registerCallback: function registerCallback(callback) {
        this.callbacks.push(callback);
      },
      deregisterCallback: function deregisterCallback(callback) {
        var i = this.callbacks.indexOf(callback);
        this.callbacks.splice(i, 1);
      },
      updateGroup: function updateGroup(value) {
        if (this.group.length > 0) if (value) this.group.forEach(function(element) {
          element.getComponent("Checkbox").setSelection(!value);
        }, this); else {
          this.isSelected = true;
          this.tickNode.active = true;
        }
      },
      onValueChange: function onValueChange(value) {
        null !== this.callbackNode && this.callbackNode.getComponent(this.callbackComponent).onValueChange();
        this.callbacks.length > 0 && this.callbacks.forEach(function(callback) {
          callback(this.tickNode);
        }, this);
      },
      setSelection: function setSelection(value) {
        console.trace("setSelection", value);
        this.valForced = true;
        this.isSelected = !!value;
        this.tickNode.active = !!value;
      },
      getSelection: function getSelection() {
        return this.isSelected;
      }
    });
    cc._RF.pop();
  }, {} ],
  CommonPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6a57c6GYClCj4Ye3hxkwEUx", "CommonPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        title: {
          default: null,
          type: cc.Label
        },
        label: {
          default: null,
          type: cc.Label
        }
      },
      onShow: function onShow(data) {
        console.log("onShow", data);
        this.title.string = data.title;
        this.label.string = data.content;
        this.callback = data.callback;
      },
      onLoad: function onLoad() {},
      onClose: function onClose() {
        this.popUpManager.hide(PopUpType.CommonDialog, function() {});
        this.callback && this.callback();
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  ConfirmQuickSeatSitNGo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7f5a4hRRpdHy6xempefwIHv", "ConfirmQuickSeatSitNGo");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        avlblMoneyLbl: {
          default: null,
          type: cc.Label
        },
        chargeLbl: {
          default: null,
          type: cc.Label
        },
        buyInLbl: {
          default: null,
          type: cc.Label
        },
        entryFeeLbl: {
          default: null,
          type: cc.Label
        },
        nameLbl: {
          default: null,
          type: cc.Label
        },
        prizePoolLbl: {
          default: null,
          type: cc.Label
        }
      },
      onShow: function onShow(data) {
        null != data && (this.data = data);
        this.nameLbl.string = data.result.channelName;
        this.buyInLbl.string = data.result.entryfees;
        this.entryFeeLbl.string = data.result.housefees + data.result.bountyfees;
        this.chargeLbl.string = data.result.buyIn;
        var calculatedPool = parseInt(data.data.buyIn) * parseInt(data.data.maxPlayersForTournament) * .85;
        this.prizePoolLbl.string = "Prize Pool: " + (data.result.prizePool || calculatedPool);
        this.avlblMoneyLbl.string = data.data.isRealMoney ? GameManager.user.realChips : GameManager.user.freeChips;
      },
      onConfirm: function onConfirm() {
        var data = {};
        data._id = this.data.result._id;
        data.gameVersionCount = this.data.result.gameVersionCount;
        TournamentHandler.registerTournament(data, function(response) {
          if (response.success) {
            var data = {};
            data.heading = this.nameLbl.string;
            data.info = "You are registered";
            GameManager.popUpManager.show(PopUpType.PlayerInfoPopup, data, function() {});
          }
          this.onExit();
        }.bind(this), function(response) {}, false);
      },
      onExit: function onExit() {
        this.popUpManager.hide(PopUpType.ConfirmDialogQuickSeatSitNGo, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  CountryCodes: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "61c33z9BMJGTYOEZDu5k2OH", "CountryCodes");
    "use strict";
    window.CountryCodes = [ {
      code: "AD",
      label: "Andorra",
      dial_code: "376",
      phoneLength: 6
    }, {
      code: "AE",
      label: "United Arab Emirates",
      dial_code: "971",
      phoneLength: 9
    }, {
      code: "AF",
      label: "Afghanistan",
      dial_code: "93",
      phoneLength: 9
    }, {
      code: "AG",
      label: "Antigua and Barbuda",
      dial_code: "1-268",
      phoneLength: 10
    }, {
      code: "AI",
      label: "Anguilla",
      dial_code: "1-264",
      phoneLength: 10
    }, {
      code: "AL",
      label: "Albania",
      dial_code: "355",
      phoneLength: 9
    }, {
      code: "AM",
      label: "Armenia",
      dial_code: "374",
      phoneLength: 6
    }, {
      code: "AO",
      label: "Angola",
      dial_code: "244",
      phoneLength: 9
    }, {
      code: "AQ",
      label: "Antarctica",
      dial_code: "672",
      phoneLength: 6
    }, {
      code: "AR",
      label: "Argentina",
      dial_code: "54",
      phoneLength: [ 6, 7, 8 ]
    }, {
      code: "AS",
      label: "American Samoa",
      dial_code: "1-684",
      phoneLength: 10
    }, {
      code: "AT",
      label: "Austria",
      dial_code: "43",
      phoneLength: [ 10, 11 ]
    }, {
      code: "AU",
      label: "Australia",
      dial_code: "61",
      suggested: true,
      phoneLength: 9
    }, {
      code: "AW",
      label: "Aruba",
      dial_code: "297",
      phoneLength: 7
    }, {
      code: "AX",
      label: "Alland Islands",
      dial_code: "358",
      min: 7,
      max: 10
    }, {
      code: "AZ",
      label: "Azerbaijan",
      dial_code: "994",
      phoneLength: 9
    }, {
      code: "BA",
      label: "Bosnia and Herzegovina",
      dial_code: "387",
      phoneLength: 8
    }, {
      code: "BB",
      label: "Barbados",
      dial_code: "1-246",
      phoneLength: 10
    }, {
      code: "BD",
      label: "Bangladesh",
      dial_code: "880",
      phoneLength: 10
    }, {
      code: "BE",
      label: "Belgium",
      dial_code: "32",
      phoneLength: 9
    }, {
      code: "BF",
      label: "Burkina Faso",
      dial_code: "226",
      phoneLength: 8
    }, {
      code: "BG",
      label: "Bulgaria",
      dial_code: "359",
      phoneLength: 9
    }, {
      code: "BH",
      label: "Bahrain",
      dial_code: "973",
      phoneLength: 8
    }, {
      code: "BI",
      label: "Burundi",
      dial_code: "257",
      phoneLength: 8
    }, {
      code: "BJ",
      label: "Benin",
      dial_code: "229",
      phoneLength: 8
    }, {
      code: "BL",
      label: "Saint Barthelemy",
      dial_code: "590",
      phoneLength: 9
    }, {
      code: "BM",
      label: "Bermuda",
      dial_code: "1-441",
      phoneLength: 10
    }, {
      code: "BN",
      label: "Brunei Darussalam",
      dial_code: "673",
      phoneLength: 7
    }, {
      code: "BO",
      label: "Bolivia",
      dial_code: "591",
      phoneLength: 9
    }, {
      code: "BR",
      label: "Brazil",
      dial_code: "55",
      phoneLength: 11
    }, {
      code: "BS",
      label: "Bahamas",
      dial_code: "1-242",
      phoneLength: 10
    }, {
      code: "BT",
      label: "Bhutan",
      dial_code: "975",
      phoneLength: 7
    }, {
      code: "BV",
      label: "Bouvet Island",
      dial_code: "47",
      phoneLength: 10
    }, {
      code: "BW",
      label: "Botswana",
      dial_code: "267",
      phoneLength: 7
    }, {
      code: "BY",
      label: "Belarus",
      dial_code: "375",
      phoneLength: 9
    }, {
      code: "BZ",
      label: "Belize",
      dial_code: "501",
      phoneLength: 7
    }, {
      code: "CA",
      label: "Canada",
      dial_code: "1",
      suggested: true,
      phoneLength: 10
    }, {
      code: "CC",
      label: "Cocos (Keeling) Islands",
      dial_code: "61",
      phoneLength: 10
    }, {
      code: "CD",
      label: "Congo, Democratic Republic of the",
      dial_code: "243",
      phoneLength: 7
    }, {
      code: "CF",
      label: "Central African Republic",
      dial_code: "236",
      phoneLength: 8
    }, {
      code: "CG",
      label: "Congo, Republic of the",
      dial_code: "242",
      phoneLength: 9
    }, {
      code: "CH",
      label: "Switzerland",
      dial_code: "41",
      phoneLength: 9
    }, {
      code: "CI",
      label: "Cote d'Ivoire",
      dial_code: "225",
      phoneLength: 8
    }, {
      code: "CK",
      label: "Cook Islands",
      dial_code: "682",
      phoneLength: 5
    }, {
      code: "CL",
      label: "Chile",
      dial_code: "56",
      phoneLength: 9
    }, {
      code: "CM",
      label: "Cameroon",
      dial_code: "237",
      phoneLength: 9
    }, {
      code: "CN",
      label: "China",
      dial_code: "86",
      phoneLength: 11
    }, {
      code: "CO",
      label: "Colombia",
      dial_code: "57",
      phoneLength: 10
    }, {
      code: "CR",
      label: "Costa Rica",
      dial_code: "506",
      phoneLength: 8
    }, {
      code: "CU",
      label: "Cuba",
      dial_code: "53",
      phoneLength: 8
    }, {
      code: "CV",
      label: "Cape Verde",
      dial_code: "238",
      phoneLength: 7
    }, {
      code: "CW",
      label: "Curacao",
      dial_code: "599",
      phoneLength: 7
    }, {
      code: "CX",
      label: "Christmas Island",
      dial_code: "61",
      phoneLength: 9
    }, {
      code: "CY",
      label: "Cyprus",
      dial_code: "357",
      phoneLength: 8
    }, {
      code: "CZ",
      label: "Czech Republic",
      dial_code: "420",
      phoneLength: 9
    }, {
      code: "DE",
      label: "Germany",
      dial_code: "49",
      suggested: true,
      phoneLength: 10
    }, {
      code: "DJ",
      label: "Djibouti",
      dial_code: "253",
      phoneLength: 10
    }, {
      code: "DK",
      label: "Denmark",
      dial_code: "45",
      phoneLength: 8
    }, {
      code: "DM",
      label: "Dominica",
      dial_code: "1-767",
      phoneLength: 10
    }, {
      code: "DO",
      label: "Dominican Republic",
      dial_code: "1-809",
      phoneLength: 10
    }, {
      code: "DZ",
      label: "Algeria",
      dial_code: "213",
      phoneLength: 9
    }, {
      code: "EC",
      label: "Ecuador",
      dial_code: "593",
      phoneLength: 9
    }, {
      code: "EE",
      label: "Estonia",
      dial_code: "372",
      phoneLength: 8
    }, {
      code: "EG",
      label: "Egypt",
      dial_code: "20",
      phoneLength: 10
    }, {
      code: "EH",
      label: "Western Sahara",
      dial_code: "212",
      phoneLength: 9
    }, {
      code: "ER",
      label: "Eritrea",
      dial_code: "291",
      phoneLength: 7
    }, {
      code: "ES",
      label: "Spain",
      dial_code: "34",
      phoneLength: 9
    }, {
      code: "ET",
      label: "Ethiopia",
      dial_code: "251",
      phoneLength: 9
    }, {
      code: "FI",
      label: "Finland",
      dial_code: "358",
      min: 9,
      max: 11
    }, {
      code: "FJ",
      label: "Fiji",
      dial_code: "679",
      phoneLength: 7
    }, {
      code: "FK",
      label: "Falkland Islands (Malvinas)",
      dial_code: "500",
      phoneLength: 5
    }, {
      code: "FM",
      label: "Micronesia, Federated States of",
      dial_code: "691",
      phoneLength: 7
    }, {
      code: "FO",
      label: "Faroe Islands",
      dial_code: "298",
      phoneLength: 5
    }, {
      code: "FR",
      label: "France",
      dial_code: "33",
      suggested: true,
      phoneLength: 9
    }, {
      code: "GA",
      label: "Gabon",
      dial_code: "241",
      phoneLength: 7
    }, {
      code: "GB",
      label: "United Kingdom",
      dial_code: "44",
      phoneLength: 10
    }, {
      code: "GD",
      label: "Grenada",
      dial_code: "1-473",
      phoneLength: 10
    }, {
      code: "GE",
      label: "Georgia",
      dial_code: "995",
      phoneLength: 9
    }, {
      code: "GF",
      label: "French Guiana",
      dial_code: "594",
      phoneLength: 9
    }, {
      code: "GG",
      label: "Guernsey",
      dial_code: "44",
      phoneLength: 10
    }, {
      code: "GH",
      label: "Ghana",
      dial_code: "233",
      phoneLength: 9
    }, {
      code: "GI",
      label: "Gibraltar",
      dial_code: "350",
      phoneLength: 8
    }, {
      code: "GL",
      label: "Greenland",
      dial_code: "299",
      phoneLength: 6
    }, {
      code: "GM",
      label: "Gambia",
      dial_code: "220",
      phoneLength: 7
    }, {
      code: "GN",
      label: "Guinea",
      dial_code: "224",
      phoneLength: 9
    }, {
      code: "GP",
      label: "Guadeloupe",
      dial_code: "590",
      phoneLength: 9
    }, {
      code: "GQ",
      label: "Equatorial Guinea",
      dial_code: "240",
      phoneLength: 9
    }, {
      code: "GR",
      label: "Greece",
      dial_code: "30",
      phoneLength: 10
    }, {
      code: "GS",
      label: "South Georgia and the South Sandwich Islands",
      dial_code: "500",
      phoneLength: 5
    }, {
      code: "GT",
      label: "Guatemala",
      dial_code: "502",
      phoneLength: 8
    }, {
      code: "GU",
      label: "Guam",
      dial_code: "1-671",
      phoneLength: 10
    }, {
      code: "GW",
      label: "Guinea-Bissau",
      dial_code: "245",
      phoneLength: 9
    }, {
      code: "GY",
      label: "Guyana",
      dial_code: "592",
      phoneLength: 7
    }, {
      code: "HK",
      label: "Hong Kong",
      dial_code: "852",
      phoneLength: 8
    }, {
      code: "HM",
      label: "Heard Island and McDonald Islands",
      dial_code: "672",
      phoneLength: 10
    }, {
      code: "HN",
      label: "Honduras",
      dial_code: "504",
      phoneLength: 8
    }, {
      code: "HR",
      label: "Croatia",
      dial_code: "385",
      phoneLength: 9
    }, {
      code: "HT",
      label: "Haiti",
      dial_code: "509",
      phoneLength: 8
    }, {
      code: "HU",
      label: "Hungary",
      dial_code: "36",
      phoneLength: 9
    }, {
      code: "ID",
      label: "Indonesia",
      dial_code: "62",
      phoneLength: 11
    }, {
      code: "IE",
      label: "Ireland",
      dial_code: "353",
      phoneLength: 9
    }, {
      code: "IL",
      label: "Israel",
      dial_code: "972",
      phoneLength: 9
    }, {
      code: "IM",
      label: "Isle of Man",
      dial_code: "44",
      phoneLength: 10
    }, {
      code: "IN",
      label: "India",
      dial_code: "91",
      phoneLength: 10
    }, {
      code: "IO",
      label: "British Indian Ocean Territory",
      dial_code: "246",
      phoneLength: 7
    }, {
      code: "IQ",
      label: "Iraq",
      dial_code: "964",
      phoneLength: 10
    }, {
      code: "IR",
      label: "Iran, Islamic Republic of",
      dial_code: "98",
      phoneLength: 11
    }, {
      code: "IS",
      label: "Iceland",
      dial_code: "354",
      phoneLength: 7
    }, {
      code: "IT",
      label: "Italy",
      dial_code: "39",
      phoneLength: 10
    }, {
      code: "JE",
      label: "Jersey",
      dial_code: "44",
      phoneLength: 10
    }, {
      code: "JM",
      label: "Jamaica",
      dial_code: "1-876",
      phoneLength: 10
    }, {
      code: "JO",
      label: "Jordan",
      dial_code: "962",
      phoneLength: [ 8, 9 ]
    }, {
      code: "JP",
      label: "Japan",
      dial_code: "81",
      suggested: true
    }, {
      code: "KE",
      label: "Kenya",
      dial_code: "254",
      phoneLength: 10
    }, {
      code: "KG",
      label: "Kyrgyzstan",
      dial_code: "996",
      phoneLength: 9
    }, {
      code: "KH",
      label: "Cambodia",
      dial_code: "855",
      phoneLength: 9
    }, {
      code: "KI",
      label: "Kiribati",
      dial_code: "686",
      phoneLength: 8
    }, {
      code: "KM",
      label: "Comoros",
      dial_code: "269",
      phoneLength: 7
    }, {
      code: "KN",
      label: "Saint Kitts and Nevis",
      dial_code: "1-869",
      phoneLength: 10
    }, {
      code: "KP",
      label: "Korea, Democratic People's Republic of",
      dial_code: "850",
      phoneLength: [ 4, 6, 7, 13 ]
    }, {
      code: "KR",
      label: "Korea, Republic of",
      dial_code: "82",
      phoneLength: [ 7, 8 ]
    }, {
      code: "KW",
      label: "Kuwait",
      dial_code: "965",
      phoneLength: 8
    }, {
      code: "KY",
      label: "Cayman Islands",
      dial_code: "1-345",
      phoneLength: 7
    }, {
      code: "KZ",
      label: "Kazakhstan",
      dial_code: "7",
      phoneLength: 10
    }, {
      code: "LA",
      label: "Lao People's Democratic Republic",
      dial_code: "856",
      phoneLength: [ 8, 9 ]
    }, {
      code: "LB",
      label: "Lebanon",
      dial_code: "961",
      phoneLength: [ 7, 8 ]
    }, {
      code: "LC",
      label: "Saint Lucia",
      dial_code: "1-758",
      phoneLength: 7
    }, {
      code: "LI",
      label: "Liechtenstein",
      dial_code: "423",
      phoneLength: 7
    }, {
      code: "LK",
      label: "Sri Lanka",
      dial_code: "94",
      phoneLength: 7
    }, {
      code: "LR",
      label: "Liberia",
      dial_code: "231",
      phoneLength: [ 8, 9 ]
    }, {
      code: "LS",
      label: "Lesotho",
      dial_code: "266",
      phoneLength: 8
    }, {
      code: "LT",
      label: "Lithuania",
      dial_code: "370",
      phoneLength: 8
    }, {
      code: "LU",
      label: "Luxembourg",
      dial_code: "352",
      phoneLength: 9
    }, {
      code: "LV",
      label: "Latvia",
      dial_code: "371",
      phoneLength: 8
    }, {
      code: "LY",
      label: "Libya",
      dial_code: "218",
      phoneLength: 10
    }, {
      code: "MA",
      label: "Morocco",
      dial_code: "212",
      phoneLength: 9
    }, {
      code: "MC",
      label: "Monaco",
      dial_code: "377",
      phoneLength: 8
    }, {
      code: "MD",
      label: "Moldova, Republic of",
      dial_code: "373",
      phoneLength: 8
    }, {
      code: "ME",
      label: "Montenegro",
      dial_code: "382",
      phoneLength: 8
    }, {
      code: "MF",
      label: "Saint Martin (French part)",
      dial_code: "590",
      phoneLength: 6
    }, {
      code: "MG",
      label: "Madagascar",
      dial_code: "261",
      phoneLength: 7
    }, {
      code: "MH",
      label: "Marshall Islands",
      dial_code: "692",
      phoneLength: 7
    }, {
      code: "MK",
      label: "Macedonia, the Former Yugoslav Republic of",
      dial_code: "389",
      phoneLength: 8
    }, {
      code: "ML",
      label: "Mali",
      dial_code: "223",
      phoneLength: 8
    }, {
      code: "MM",
      label: "Myanmar",
      dial_code: "95",
      min: 7,
      max: 10
    }, {
      code: "MN",
      label: "Mongolia",
      dial_code: "976",
      phoneLength: 8
    }, {
      code: "MO",
      label: "Macao",
      dial_code: "853",
      phoneLength: 8
    }, {
      code: "MP",
      label: "Northern Mariana Islands",
      dial_code: "1-670",
      phoneLength: 7
    }, {
      code: "MQ",
      label: "Martinique",
      dial_code: "596",
      phoneLength: 9
    }, {
      code: "MR",
      label: "Mauritania",
      dial_code: "222",
      phoneLength: 8
    }, {
      code: "MS",
      label: "Montserrat",
      dial_code: "1-664",
      phoneLength: 10
    }, {
      code: "MT",
      label: "Malta",
      dial_code: "356",
      phoneLength: 8
    }, {
      code: "MU",
      label: "Mauritius",
      dial_code: "230",
      phoneLength: 8
    }, {
      code: "MV",
      label: "Maldives",
      dial_code: "960",
      phoneLength: 7
    }, {
      code: "MW",
      label: "Malawi",
      dial_code: "265",
      phoneLength: [ 7, 8, 9 ]
    }, {
      code: "MX",
      label: "Mexico",
      dial_code: "52",
      phoneLength: 10
    }, {
      code: "MY",
      label: "Malaysia",
      dial_code: "60",
      phoneLength: 7
    }, {
      code: "MZ",
      label: "Mozambique",
      dial_code: "258",
      phoneLength: 12
    }, {
      code: "NA",
      label: "Namibia",
      dial_code: "264",
      phoneLength: 7
    }, {
      code: "NC",
      label: "New Caledonia",
      dial_code: "687",
      phoneLength: 6
    }, {
      code: "NE",
      label: "Niger",
      dial_code: "227",
      phoneLength: 8
    }, {
      code: "NF",
      label: "Norfolk Island",
      dial_code: "672",
      phoneLength: 6
    }, {
      code: "NG",
      label: "Nigeria",
      dial_code: "234",
      phoneLength: 8
    }, {
      code: "NI",
      label: "Nicaragua",
      dial_code: "505",
      phoneLength: 8
    }, {
      code: "NL",
      label: "Netherlands",
      dial_code: "31",
      phoneLength: 9
    }, {
      code: "NO",
      label: "Norway",
      dial_code: "47",
      phoneLength: 8
    }, {
      code: "NP",
      label: "Nepal",
      dial_code: "977",
      phoneLength: 10
    }, {
      code: "NR",
      label: "Nauru",
      dial_code: "674",
      phoneLength: 7
    }, {
      code: "NU",
      label: "Niue",
      dial_code: "683",
      phoneLength: 4
    }, {
      code: "NZ",
      label: "New Zealand",
      dial_code: "64",
      phoneLength: [ 8, 9 ]
    }, {
      code: "OM",
      label: "Oman",
      dial_code: "968",
      phoneLength: 8
    }, {
      code: "PA",
      label: "Panama",
      dial_code: "507",
      phoneLength: 8
    }, {
      code: "PE",
      label: "Peru",
      dial_code: "51",
      phoneLength: 9
    }, {
      code: "PF",
      label: "French Polynesia",
      dial_code: "689",
      phoneLength: 8
    }, {
      code: "PG",
      label: "Papua New Guinea",
      dial_code: "675",
      phoneLength: 8
    }, {
      code: "PH",
      label: "Philippines",
      dial_code: "63",
      phoneLength: 10
    }, {
      code: "PK",
      label: "Pakistan",
      dial_code: "92",
      phoneLength: 10
    }, {
      code: "PL",
      label: "Poland",
      dial_code: "48",
      phoneLength: 9
    }, {
      code: "PM",
      label: "Saint Pierre and Miquelon",
      dial_code: "508",
      phoneLength: 6
    }, {
      code: "PN",
      label: "Pitcairn",
      dial_code: "870",
      phoneLength: 9
    }, {
      code: "PR",
      label: "Puerto Rico",
      dial_code: "1",
      phoneLength: 10
    }, {
      code: "PS",
      label: "Palestine, State of",
      dial_code: "970",
      phoneLength: 9
    }, {
      code: "PT",
      label: "Portugal",
      dial_code: "351",
      phoneLength: 9
    }, {
      code: "PW",
      label: "Palau",
      dial_code: "680",
      phoneLength: 7
    }, {
      code: "PY",
      label: "Paraguay",
      dial_code: "595",
      phoneLength: 9
    }, {
      code: "QA",
      label: "Qatar",
      dial_code: "974",
      phoneLength: 8
    }, {
      code: "RE",
      label: "Reunion",
      dial_code: "262",
      phoneLength: 10
    }, {
      code: "RO",
      label: "Romania",
      dial_code: "40",
      phoneLength: 10
    }, {
      code: "RS",
      label: "Serbia",
      dial_code: "381",
      phoneLength: 9
    }, {
      code: "RU",
      label: "Russian Federation",
      dial_code: "7",
      phoneLength: 10
    }, {
      code: "RW",
      label: "Rwanda",
      dial_code: "250",
      phoneLength: 9
    }, {
      code: "SA",
      label: "Saudi Arabia",
      dial_code: "966",
      phoneLength: 9
    }, {
      code: "SB",
      label: "Solomon Islands",
      dial_code: "677",
      phoneLength: 7
    }, {
      code: "SC",
      label: "Seychelles",
      dial_code: "248",
      phoneLength: 7
    }, {
      code: "SD",
      label: "Sudan",
      dial_code: "249",
      phoneLength: 7
    }, {
      code: "SE",
      label: "Sweden",
      dial_code: "46",
      phoneLength: 7
    }, {
      code: "SG",
      label: "Singapore",
      dial_code: "65",
      phoneLength: 8
    }, {
      code: "SH",
      label: "Saint Helena",
      dial_code: "290",
      phoneLength: 4
    }, {
      code: "SI",
      label: "Slovenia",
      dial_code: "386",
      phoneLength: 9
    }, {
      code: "SJ",
      label: "Svalbard and Jan Mayen",
      dial_code: "47",
      phoneLength: 8
    }, {
      code: "SK",
      label: "Slovakia",
      dial_code: "421",
      phoneLength: 9
    }, {
      code: "SL",
      label: "Sierra Leone",
      dial_code: "232",
      phoneLength: 8
    }, {
      code: "SM",
      label: "San Marino",
      dial_code: "378",
      phoneLength: 10
    }, {
      code: "SN",
      label: "Senegal",
      dial_code: "221",
      phoneLength: 9
    }, {
      code: "SO",
      label: "Somalia",
      dial_code: "252",
      phoneLength: [ 8, 9 ]
    }, {
      code: "SR",
      label: "Suriname",
      dial_code: "597",
      phoneLength: [ 6, 7 ]
    }, {
      code: "SS",
      label: "South Sudan",
      dial_code: "211",
      phoneLength: 7
    }, {
      code: "ST",
      label: "Sao Tome and Principe",
      dial_code: "239",
      phoneLength: 7
    }, {
      code: "SV",
      label: "El Salvador",
      dial_code: "503",
      phoneLength: 8
    }, {
      code: "SX",
      label: "Sint Maarten (Dutch part)",
      dial_code: "1-721",
      phoneLength: 10
    }, {
      code: "SY",
      label: "Syrian Arab Republic",
      dial_code: "963",
      phoneLength: 7
    }, {
      code: "SZ",
      label: "Swaziland",
      dial_code: "268",
      phoneLength: 8
    }, {
      code: "TC",
      label: "Turks and Caicos Islands",
      dial_code: "1-649",
      phoneLength: 10
    }, {
      code: "TD",
      label: "Chad",
      dial_code: "235",
      phoneLength: 6
    }, {
      code: "TF",
      label: "French Southern Territories",
      dial_code: "262",
      phoneLength: 10
    }, {
      code: "TG",
      label: "Togo",
      dial_code: "228",
      phoneLength: 8
    }, {
      code: "TH",
      label: "Thailand",
      dial_code: "66",
      phoneLength: 9
    }, {
      code: "TJ",
      label: "Tajikistan",
      dial_code: "992",
      phoneLength: 9
    }, {
      code: "TK",
      label: "Tokelau",
      dial_code: "690",
      phoneLength: 5
    }, {
      code: "TL",
      label: "Timor-Leste",
      dial_code: "670",
      phoneLength: 7
    }, {
      code: "TM",
      label: "Turkmenistan",
      dial_code: "993",
      phoneLength: 8
    }, {
      code: "TN",
      label: "Tunisia",
      dial_code: "216",
      phoneLength: 8
    }, {
      code: "TO",
      label: "Tonga",
      dial_code: "676",
      phoneLength: 5
    }, {
      code: "TR",
      label: "Turkey",
      dial_code: "90",
      phoneLength: 11
    }, {
      code: "TT",
      label: "Trinidad and Tobago",
      dial_code: "1-868",
      phoneLength: 7
    }, {
      code: "TV",
      label: "Tuvalu",
      dial_code: "688",
      phoneLength: 5
    }, {
      code: "TW",
      label: "Taiwan, Province of China",
      dial_code: "886",
      phoneLength: 9
    }, {
      code: "TZ",
      label: "United Republic of Tanzania",
      dial_code: "255",
      phoneLength: 7
    }, {
      code: "UA",
      label: "Ukraine",
      dial_code: "380",
      phoneLength: 9
    }, {
      code: "UG",
      label: "Uganda",
      dial_code: "256",
      phoneLength: 7
    }, {
      code: "US",
      label: "United States",
      dial_code: "1",
      suggested: true,
      phoneLength: 10
    }, {
      code: "UY",
      label: "Uruguay",
      dial_code: "598",
      phoneLength: 8
    }, {
      code: "UZ",
      label: "Uzbekistan",
      dial_code: "998",
      phoneLength: 9
    }, {
      code: "VA",
      label: "Holy See (Vatican City State)",
      dial_code: "379",
      phoneLength: 10
    }, {
      code: "VC",
      label: "Saint Vincent and the Grenadines",
      dial_code: "1-784",
      phoneLength: 7
    }, {
      code: "VE",
      label: "Venezuela",
      dial_code: "58",
      phoneLength: 7
    }, {
      code: "VG",
      label: "British Virgin Islands",
      dial_code: "1-284",
      phoneLength: 7
    }, {
      code: "VI",
      label: "US Virgin Islands",
      dial_code: "1-340",
      phoneLength: 10
    }, {
      code: "VN",
      label: "Vietnam",
      dial_code: "84",
      phoneLength: 9
    }, {
      code: "VU",
      label: "Vanuatu",
      dial_code: "678",
      phoneLength: 5
    }, {
      code: "WF",
      label: "Wallis and Futuna",
      dial_code: "681",
      phoneLength: 6
    }, {
      code: "WS",
      label: "Samoa",
      dial_code: "685",
      phoneLength: [ 5, 6, 7 ]
    }, {
      code: "XK",
      label: "Kosovo",
      dial_code: "383",
      phoneLength: 8
    }, {
      code: "YE",
      label: "Yemen",
      dial_code: "967",
      phoneLength: 9
    }, {
      code: "YT",
      label: "Mayotte",
      dial_code: "262",
      phoneLength: 9
    }, {
      code: "ZA",
      label: "South Africa",
      dial_code: "27",
      phoneLength: 9
    }, {
      code: "ZM",
      label: "Zambia",
      dial_code: "260",
      phoneLength: 9
    }, {
      code: "ZW",
      label: "Zimbabwe",
      dial_code: "263",
      phoneLength: 9
    } ];
    cc._RF.pop();
  }, {} ],
  CustomEditBox: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9fd72sVESNOH6jBSvePatHM", "CustomEditBox");
    "use strict";
    var kbInput = null;
    var mouseInput = null;
    var blinks = null;
    var Emitter = require("EventEmitter");
    var CustomEditBox = cc.Class({
      extends: Emitter,
      properties: {
        displayLbl: {
          default: null,
          type: cc.Label
        },
        cancelBtn: {
          default: null,
          type: cc.Node
        },
        isNumeric: false,
        isPassword: false,
        pwd: "",
        isEmail: false,
        limit: 50,
        isEditing: false,
        callbacks: [],
        callbacksMaxCheck: [],
        isSelected: false
      },
      onLoad: function onLoad() {
        this.rgstrKbInput();
        GameManager.on("registerInput", this.registerThisInput.bind(this));
        GameManager.on("posClicked", this.test.bind(this));
        this.cursorAdded = false;
        this.editorClicked = false;
        blinks = this.blink;
      },
      registerThisInput: function registerThisInput(ref) {
        this.isSelected = ref == this;
      },
      onCLick: function onCLick() {
        this.editorClicked = true;
        this.schedule(blinks, .6, cc.macro.REPEAT_FOREVER, 0);
        GameManager.emit("registerInput", this);
      },
      blink: function blink() {
        if (!this.removeCursor()) {
          this.displayLbl.string += "|";
          this.cursorAdded = true;
        }
      },
      removeCursor: function removeCursor() {
        if (this.cursorAdded) {
          this.displayLbl.string = this.displayLbl.string.slice(0, this.displayLbl.string.length - 1);
          this.cursorAdded = false;
          return true;
        }
        return false;
      },
      test: function test(point) {
        if (this.editorClicked) {
          var w = this.node.width, h = this.node.height;
          var rect = cc.rect(0, 0, w, h);
          var trans = this.node.getNodeToWorldTransform();
          cc._rectApplyAffineTransformIn(rect, trans);
          var left = point.x - rect.x, right = rect.x + rect.width - point.x, bottom = point.y - rect.y, top = rect.y + rect.height - point.y;
          left >= 0 && right >= 0 && top >= 0 && bottom >= 0 || this.removeKbInput();
        }
      },
      rgstrKbInput: function rgstrKbInput() {
        if (!this.isEditing) {
          var inst = this;
          kbInput = cc.eventManager.addListener({
            event: cc.EventListener.KEYBOARD,
            onKeyPressed: function onKeyPressed(kcode, e) {
              inst.removeCursor();
              if (inst.isSelected) {
                inst.isEditing = true;
                var values = kcode.split("!+");
                if ("Backspace" == values[1] || "Delete" == values[1]) {
                  var t = inst.displayLbl.string;
                  inst.displayLbl.string = t.toString().slice(0, t.length - 1);
                  inst.isPassword && (inst.pwd = inst.pwd.slice(0, inst.pwd.length - 1));
                } else if (values[1].length < 2) if (inst.isNumeric) {
                  var patt = /[1-9]/;
                  inst.displayLbl.string.length > 0 && (patt = /[0-9]/);
                  patt.test(values[1]) && inst.displayLbl.string.toString().length < inst.limit && (inst.displayLbl.string += values[1]);
                  inst.onValueChange();
                } else if (inst.isEmail && inst.displayLbl.string.toString().length < inst.limit) inst.displayLbl.string += values[1]; else if (inst.isPassword && inst.displayLbl.string.toString().length < inst.limit) {
                  inst.displayLbl.string += "*";
                  inst.pwd += values[1];
                } else inst.displayLbl.string.toString().length < inst.limit && (inst.displayLbl.string += values[1]); else "Enter" == values[1] && inst.removeKbInput();
              }
            }
          }, this.node);
        }
      },
      onValueChangeEnd: function onValueChangeEnd() {
        this.callbacks.forEach(function(callback) {
          null == callback && void 0 == callback || callback();
        }, this);
      },
      registerCallbacksEnd: function registerCallbacksEnd(callback) {
        null == callback && void 0 == callback || this.callbacks.push(callback);
      },
      removeKbInput: function removeKbInput() {
        this.removeCursor();
        this.cursorAdded = false;
        this.unschedule(blinks);
        this.isEditing = false;
        this.isSelected = false;
        this.onValueChangeEnd();
        this.editorClicked = false;
      },
      onValueChange: function onValueChange() {
        this.callbacksMaxCheck.forEach(function(callback) {
          null == callback && void 0 == callback || callback();
        }, this);
      },
      registerCallbacks: function registerCallbacks(callback) {
        null == callback && void 0 == callback || this.callbacksMaxCheck.push(callback);
      },
      onDisable: function onDisable() {
        this.isEditing = false;
        this.isSelected = false;
      },
      getPassword: function getPassword() {
        return this.pwd;
      },
      setPassword: function setPassword(psd) {
        this.pwd = psd;
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  DealerChatPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "04161yEt31Me7zPygVl06Xk", "DealerChatPanel");
    "use strict";
    var chat = require("JohnyChat");
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerModel: {
          default: null,
          type: cc.Node
        },
        pokerGame: null,
        chatGridParent: {
          default: null,
          type: cc.Node
        },
        chatContent: {
          default: null,
          type: cc.Prefab
        },
        other: {
          default: null,
          type: cc.Node
        },
        loaded: false
      },
      onLoad: function onLoad() {
        if (this.loaded) return;
        this.loaded = true;
        this.pokerGame = this.pokerModel.getComponent("PokerModel");
        this.registerBroadcast();
        !this.other || this.other.getComponent("JohnyChat").onLoad();
      },
      onEnable: function onEnable() {
        0 == this.chatGridParent.children.length ? this.node.parent.children[2].active = true : this.node.parent.children[2].active = false;
      },
      start: function start() {},
      onDestroy: function onDestroy() {
        this.pokerGame || this.pokerGame.off(K.PokerEvents.OnDealerChat, this.onChatFunc);
      },
      generateChat: function generateChat(msg) {
        var obj = cc.instantiate(this.chatContent);
        obj.getComponent(cc.RichText).string = msg;
        this.chatGridParent.addChild(obj);
      },
      registerBroadcast: function registerBroadcast() {
        if (!this.pokerGame) return;
        this.pokerGame.off(K.PokerEvents.OnDealerChat, this.onChat.bind(this));
        this.pokerGame.on(K.PokerEvents.OnDealerChat, this.onChat.bind(this));
      },
      onChat: function onChat(response) {
        var message = "<color=#000000>" + response.message + "</c>";
        this.showMessages(message);
      },
      showMessages: function showMessages(chat) {
        this.unscheduleAllCallbacks();
        if (!this.pokerGame) return;
        this.generateChat(chat);
      },
      showTabHistory: function showTabHistory() {
        this.pokerGame.showHandHistoryDetail();
      }
    });
    cc._RF.pop();
  }, {
    JohnyChat: "JohnyChat"
  } ],
  Decks: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "437c6QaLtVGsp2JpTMlpRdq", "Decks");
    "use strict";
    var Types = require("CardTypes");
    function Decks(numberOfDecks) {
      this._numberOfDecks = numberOfDecks;
      this._cardIds = new Array(52 * numberOfDecks);
      this.reset();
    }
    Decks.prototype.reset = function() {
      this._cardIds.length = 52 * this._numberOfDecks;
      var index = 0;
      var fromId = Types.Card.fromId;
      for (var i = 0; i < this._numberOfDecks; ++i) for (var cardId = 0; cardId < 52; ++cardId) {
        this._cardIds[index] = fromId(cardId);
        ++index;
      }
    };
    Decks.prototype.draw = function() {
      var cardIds = this._cardIds;
      var len = cardIds.length;
      if (0 === len) return null;
      var random = Math.random();
      var index = random * len || 0;
      var result = cardIds[index];
      var last = cardIds[len - 1];
      cardIds[index] = last;
      cardIds.length = len - 1;
      return result;
    };
    module.exports = Decks;
    cc._RF.pop();
  }, {
    CardTypes: "CardTypes"
  } ],
  DepositOne: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "24cd8O/L6BI3bS9r2J69Cg1", "DepositOne");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        bankHolderList: {
          default: null,
          type: cc.Node
        },
        scrollViewEmpty: {
          default: null,
          type: cc.Node
        },
        scrollView: {
          default: null,
          type: cc.Node
        },
        scrollViewItem: {
          default: null,
          type: cc.Node
        },
        vpHistoryNode: {
          default: null,
          type: cc.Node
        },
        vpSuccess: {
          default: null,
          type: cc.Node
        },
        vpSuccessItem: {
          default: null,
          type: cc.Node
        },
        vpErrorMessage: {
          default: null,
          type: cc.Label
        },
        vpSubmit: {
          default: null,
          type: cc.Button
        },
        vpPhone: {
          default: null,
          type: cc.EditBox
        },
        vpWithdrawAmount: {
          default: null,
          type: cc.EditBox
        },
        vpWithdrawAccount: {
          default: null,
          type: cc.EditBox
        },
        playerName: {
          default: null,
          type: cc.Label
        },
        playerId: {
          default: null,
          type: cc.Label
        },
        playerImg: {
          default: null,
          type: cc.Sprite
        },
        flagScrollView: {
          default: null,
          type: cc.Node
        },
        flagScrollViewContent: {
          default: null,
          type: cc.Node
        },
        flagItem: {
          default: null,
          type: cc.Node
        },
        selectedBankNode: {
          default: null,
          type: cc.Node
        },
        selectedBankNodePlaceHolder: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        var _this = this;
        this.playerName.string = GameManager.user.userName;
        this.playerId.string = GameManager.user.playerId;
        GameManager.getBankList(function(data) {
          console.log("GameManager.getBankList", data.data);
          _this.flagScrollViewContent.removeAllChildren();
          for (var i = 0; i < data.data.length; i++) {
            var instance = cc.instantiate(_this.flagItem);
            instance.setPosition(0, 0);
            instance.active = true;
            (function(roomImage, instance) {
              cc.loader.load(roomImage, function(err, tex) {
                instance.children[0].getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex);
              });
            })(K.ServerAddress.assets_server_s + data.data[i].bankIcon, instance);
            instance.children[1].getComponent(cc.Label).string = data.data[i].bankName;
            instance.getComponent(cc.Button).clickEvents[0].customEventData = data.data[i].id;
            instance.parent = _this.flagScrollViewContent;
            instance.__data = data.data[i];
          }
        });
      },
      onEnable: function onEnable() {
        this.playerImg.spriteFrame = GameManager.user.urlImg;
      },
      onShow: function onShow(data) {
        this.data = data;
        this.vpWithdrawAmount.string = this.data.price + " MNT";
      },
      onDeposit: function onDeposit() {
        var _this2 = this;
        this.vpErrorMessage.string = "";
        GameManager.createRequest(this.vpWithdrawAccount.string, "+976" + this.vpPhone.string, this.selectedBankNode.productId, this.selectedBankNode.bankId, function(data) {
          console.log("GameManager.createRequest", data);
          if (true == data.success || "success" == data.status) {
            _this2.vpErrorMessage.string = "";
            _this2.vpSuccess.active = true;
            _this2.vpSuccessItem.children[0].getComponent(cc.Sprite).spriteFrame = _this2.selectedBankNode.children[0].getComponent(cc.Sprite).spriteFrame;
            _this2.vpSuccessItem.children[1].getComponent(cc.Label).string = data.data.referenceId;
          } else {
            _this2.vpErrorMessage.node.active = true;
            data.message ? _this2.vpErrorMessage.string = data.message : _this2.vpErrorMessage.string = data.error[0].message;
          }
        });
      },
      onHistory: function onHistory() {
        var _this3 = this;
        GameManager.getHistory(function(data) {
          console.log("GameManager.getHistory", data);
          _this3.vpHistoryNode.active = true;
          function formatDate(isoString) {
            var date = new Date(isoString);
            var day = String(date.getDate()).padStart(2, "0");
            var month = String(date.getMonth() + 1).padStart(2, "0");
            var year = date.getFullYear();
            var hours = String(date.getHours()).padStart(2, "0");
            var minutes = String(date.getMinutes()).padStart(2, "0");
            return day + "-" + month + "-" + year + " " + hours + ":" + minutes;
          }
          if (true == data.success || "success" == data.status) {
            _this3.scrollView.removeAllChildren();
            if (0 == data.data.history.length) _this3.scrollViewEmpty.active = true; else {
              _this3.scrollViewEmpty.active = false;
              for (var i = 0; i < data.data.history.length; i++) {
                var instance = cc.instantiate(_this3.scrollViewItem);
                instance.setPosition(0, 0);
                instance.active = true;
                instance.children[0].getComponent(cc.Label).string = formatDate(data.data.history[i].updatedAt);
                instance.children[1].getComponent(cc.Label).string = data.data.history[i].depositAmount;
                instance.children[2].getComponent(cc.Label).string = data.data.history[i].chipsValue;
                instance.children[3].getComponent(cc.Label).string = data.data.history[i].referenceId;
                if ("PENDING" == data.data.history[i].status) {
                  instance.children[4].active = false;
                  instance.children[5].active = true;
                  instance.children[6].active = false;
                } else if ("APPROVED" == data.data.history[i].status) {
                  instance.children[4].active = true;
                  instance.children[5].active = false;
                  instance.children[6].active = false;
                } else {
                  instance.children[4].active = false;
                  instance.children[5].active = false;
                  instance.children[6].active = true;
                }
                instance.parent = _this3.scrollView;
                instance.children[7].active = true;
                data.data.history.length - 1 == i && (instance.children[7].active = false);
              }
            }
          }
        });
      },
      onCloseSuccess: function onCloseSuccess() {
        this.vpSuccess.active = false;
        cc.sys.openURL(this.selectedBankNode.redirectLink);
      },
      onBack: function onBack() {
        this.node.active = false;
        this.vpWithdrawAccount.string = "";
        this.vpPhone.string = "";
        this.selectedBankNode.active = false;
        this.selectedBankNode.children[0].getComponent(cc.Sprite).spriteFrame = null;
        this.selectedBankNode.children[1].getComponent(cc.Label).string = "";
        this.selectedBankNode.children[3].getComponent(cc.Label).string = "";
        this.selectedBankNodePlaceHolder.active = true;
        this.vpSubmit.interactable = false;
        this.flagScrollViewContent.children.forEach(function(elem) {
          elem.children[2].getComponent(cc.Toggle).isChecked = false;
        }, this);
      },
      onHistoryBack: function onHistoryBack() {
        this.vpHistoryNode.active = false;
      },
      onCopy: function onCopy() {
        window.navigator.clipboard.writeText(this.playerId.string).then(function() {
          console.log("PlayerId copied to clipboard");
        })["catch"](function(err) {
          console.error("Could not copy playerId: ", err);
        });
        GameManager.popUpManager.show(PopUpType.NotificationPopup, "PlayerId copied!", function() {});
      },
      onCopyIBan: function onCopyIBan() {
        window.navigator.clipboard.writeText(this.vpSuccessItem.children[1].getComponent(cc.Label).string).then(function() {
          console.log("PlayerId copied to clipboard");
        })["catch"](function(err) {
          console.error("Could not copy playerId: ", err);
        });
        GameManager.popUpManager.show(PopUpType.NotificationPopup, "PlayerId copied!", function() {});
      },
      showFlagScrollView: function showFlagScrollView() {
        this.flagScrollView.active = !this.flagScrollView.active;
      },
      hideFlagScrollView: function hideFlagScrollView() {
        this.flagScrollView.active = false;
      },
      onSelectButton: function onSelectButton(event, customEventData) {
        console.log("onSelectButton", customEventData);
        this.flagScrollViewContent.children.forEach(function(elem) {
          elem.children[2].getComponent(cc.Toggle).isChecked = false;
        }, this);
        event.target.children[2].getComponent(cc.Toggle).isChecked = true;
        this.hideFlagScrollView();
        this.selectedBankNode.active = true;
        this.selectedBankNode.children[0].getComponent(cc.Sprite).spriteFrame = event.target.children[0].getComponent(cc.Sprite).spriteFrame;
        this.selectedBankNode.children[1].getComponent(cc.Label).string = event.target.__data.bankName;
        this.selectedBankNode.children[3].getComponent(cc.Label).string = event.target.__data.ibanNumber;
        this.selectedBankNode.bankId = event.target.__data.id;
        this.selectedBankNode.productId = this.data._id;
        this.selectedBankNode.redirectLink = event.target.__data.redirectLink;
        this.selectedBankNode.ibanNumber = event.target.__data.ibanNumber;
        this.selectedBankNodePlaceHolder.active = false;
        this.onCheck();
      },
      onCheck: function onCheck() {
        this.vpSubmit.interactable = false;
        if ("" === this.vpPhone.string || "" === this.vpWithdrawAccount.string || !this.selectedBankNode.active) return;
        this.vpSubmit.interactable = true;
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  DisableScrollOnButton: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7d871OLfztAxajc5QSa2836", "DisableScrollOnButton");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {
        this.node.on("touchstart", this.onTouchStart, this);
        this.node.on("touchmove", this.onTouchMove, this);
        this.node.on("touchend", this.onTouchEnd, this);
        this.node.on("touchcancel", this.onTouchCancel, this);
      },
      onTouchStart: function onTouchStart(event) {
        GameScreen.gridParent.getComponent(cc.PageView)._unregisterEvent();
      },
      onTouchMove: function onTouchMove(event) {},
      onTouchEnd: function onTouchEnd(event) {
        GameScreen.gridParent.getComponent(cc.PageView)._registerEvent();
      },
      onTouchCancel: function onTouchCancel(event) {
        GameScreen.gridParent.getComponent(cc.PageView)._registerEvent();
      }
    });
    cc._RF.pop();
  }, {} ],
  DisconnectPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9c422ySvWpItqMXdgB3VIHf", "DisconnectPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        preLogin: {
          default: null,
          type: cc.Node
        },
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        popUpHeading: {
          default: null,
          type: cc.Label
        },
        infoLbl: {
          default: null,
          type: cc.Label
        },
        code: {
          default: 0
        },
        retryNode: {
          default: null,
          type: cc.Node
        },
        simpleNode: {
          default: null,
          type: cc.Node
        },
        quitNode: {
          default: null,
          type: cc.Node
        }
      },
      onShow: function onShow(data) {
        console.log("max disconnect", JSON.stringify(data));
        if (this.holdSessionPopup) return;
        this.preserveState = false;
        if (null != data) {
          this.retryNode.active = false;
          this.simpleNode.active = false;
          this.infoLbl.string = data.response || "";
          this.code = data.code || 0;
          this.errorType = data.errorType || "";
          this.popUpHeading.string = LocalizedManager.t("TXT_INFORMATION");
          switch (this.code) {
           case 9999:
            this.infoLbl.string = data.response;
            this.simpleNode.active = true;
            break;

           case 6666:
            this.infoLbl.string = data.response;
            this.simpleNode.active = true;

           case 3333:
            this.infoLbl.string = data.response;
            this.simpleNode.active = true;
            break;

           case K.Error.TimeOutError:
            this.infoLbl.string = LocalizedManager.t("TXT_CHECK_YOUR_CONNECTION");
            break;

           case K.Error.ConnectionError:
            this.quitNode.active = false;
            this.simpleNode.active = false;
            this.retryNode.active = true;
            this.infoLbl.string = LocalizedManager.t("TXT_CONNECTION_LOST");
            break;

           case K.Error.SuccessFalseError:
            this.quitNode.active = false;
            this.retryNode.active = data.isRetry;
            this.simpleNode.active = !data.isRetry;
            this.infoLbl.string = data.response;
            break;

           case K.Error.KeyMissingBroadcasts:
            this.retryNode.active = true;
            this.infoLbl.string = LocalizedManager.t("TXT_CONNECTION_LOST");
            break;

           case K.Error.PlayerSessionShiftedOnServer:
            this.simpleNode.active = true;
            this.infoLbl.string = data.response;
            this.holdSessionPopup = true;
            break;

           case K.Error.FeatureComingSoon:
            this.simpleNode.active = true;
            this.infoLbl.string = data.response;
            break;

           case K.Error.ServerDown:
            this.quitNode.active = false;
            this.retryNode.active = false;
            this.simpleNode.active = true;
            this.infoLbl.string = data.response;
            this.popUpHeading.string = data.heading;
            this.holdSessionPopup = true;
            this.preserveState = data.preserveState;
            break;

           case K.Error.SessionError:
            this.retryNode.active = false;
            this.simpleNode.active = true;
            this.quitNode.active = false;
            this.infoLbl.string = data.response;
            this.errorType = K.Error.SessionError;
            break;

           default:
            this.retryNode.active = true;
            this.infoLbl.string = LocalizedManager.t("TXT_CONNECTION_LOST");
          }
        }
      },
      onLoad: function onLoad() {
        this.holdSessionPopup = false;
        this.preserveState = false;
      },
      onClickEnter: function onClickEnter() {},
      onCancel: function onCancel() {
        GameManager.logout();
      },
      onIgnore: function onIgnore() {
        GameManager.playSound(K.Sounds.click);
        this.popUpManager.hide(PopUpType.DisconnectDialog, function() {});
        this.errorType == K.Error.UpdateAvailable && (GameManager.isMobile ? cc.sys.openURL(K.ServerAddress.update_Required_URL) : GameManager.logout());
        if (9999 == this.errorType || 3333 == this.errorType) {
          this.holdSessionPopup && (this.holdSessionPopup = false);
          GameManager.logout3();
          return;
        }
        if (this.errorType == K.Error.SessionError) {
          this.holdSessionPopup && (this.holdSessionPopup = false);
          this.popUpManager.hideAllPopUps();
          cc.systemEvent.emit("leaveLobby");
          cc.sys.localStorage.setItem("auto_login_token", null);
          cc.sys.localStorage.setItem("auto_login_refresh_token", null);
          cc.sys.localStorage.setItem("auto_login_access_token_expire_at", null);
          cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", null);
          cc.sys.localStorage.setItem("auto_login_username", null);
          ScreenManager.showScreen(K.ScreenEnum.LoginScreen, false, function() {
            cc.sys.os === cc.sys.OS_WINDOWS && !cc.sys.isBrowser || !self || (ServerCom.inGame = true);
          });
          return;
        }
        if (this.holdSessionPopup && !this.preserveState) {
          this.holdSessionPopup = false;
          GameManager.isMobile, GameManager.logout();
        }
        this.holdSessionPopup && (this.holdSessionPopup = false);
        this.code == K.Error.SessionError && window.location.reload();
        9999 == this.code && GameManager.logout();
      },
      onDownload: function onDownload() {
        GameManager.playSound(K.Sounds.click);
        this.popUpManager.hide(PopUpType.DisconnectDialog, function() {});
        cc.sys.openURL("https://metamask.io/download/");
      },
      onWhite: function onWhite() {
        GameManager.playSound(K.Sounds.click);
        this.popUpManager.hide(PopUpType.DisconnectDialog, function() {});
        GameManager.logout();
      },
      onRetryCancel: function onRetryCancel() {
        GameManager.logout();
      },
      onRetry: function onRetry() {
        this.popUpManager.hide(PopUpType.DisconnectDialog, function() {});
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        socketIO.socket.disconnect();
        socketIO.socket.connect();
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  DragManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "48790KZt1lBiqmEYJdQ0mFB", "DragManager");
    "use strict";
    var EventEmitter = require("EventEmitter");
    cc.Class({
      extends: EventEmitter,
      properties: {
        dropZones: {
          default: [],
          type: [ cc.Node ]
        },
        dragElements: {
          default: [],
          type: [ cc.Node ]
        }
      },
      onLoad: function onLoad() {},
      addDropZone: function addDropZone(node) {
        -1 == this.dropZones.indexOf(node) && this.dropZones.push(node);
      },
      removeDropZone: function removeDropZone(node) {
        -1 != this.dropZones.indexOf(node) && this.dropZones.splice(this.dropZones.indexOf(node), 1);
      },
      addDragElement: function addDragElement(node) {
        -1 == this.dragElements.indexOf(node) && this.dragElements.push(node);
      },
      removeDragElement: function removeDragElement(node) {
        -1 != this.dragElements.indexOf(node) && this.dragElements.splice(this.dragElements.indexOf(node), 1);
      },
      removeAllCards: function removeAllCards() {
        while (this.dropZones.length > 5) this.dropZones.pop();
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  DropDownOption: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2f22cqQD5ZMgqLPyqUB0alL", "DropDownOption");
    "use strict";
    var DropDown = require("DropDown");
    var DropList = require("DropList");
    cc.Class({
      extends: cc.Component,
      properties: {
        dropDownRef: {
          default: null,
          type: DropDown
        },
        dropListRef: {
          default: null,
          type: DropList
        },
        label: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {
        this.label = this.node.getComponentInChildren(cc.Label);
        this.setMouseEventListeners();
        this.node.color = new cc.Color(36, 36, 36);
      },
      setMouseEventListeners: function setMouseEventListeners() {
        this.node.on("mouseenter", function(event) {
          this.node.color = new cc.Color(167, 24, 25);
        }, this);
        this.node.on("mouseleave", function(event) {
          this.node.color = new cc.Color(36, 36, 36);
        }, this);
      },
      onClick: function onClick() {
        var obj = {
          option: this.dropDownRef.isColor ? this.node.children[0].color : this.label.string,
          node: this.node
        };
        this.dropDownRef.onOptionSelect(obj);
        this.dropListRef.popOut();
      },
      setOptionLabel: function setOptionLabel(name) {
        null === this.label && (this.label = this.node.getComponentInChildren(cc.Label));
        this.label.string = name;
      },
      setOptionColor: function setOptionColor(color) {
        this.node.children[0].color = color;
      }
    });
    cc._RF.pop();
  }, {
    DropDown: "DropDown",
    DropList: "DropList"
  } ],
  DropDown: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "45311eXwXdC8Zz8xYg/YJ+X", "DropDown");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        optionLabel: {
          default: null,
          type: cc.Label
        },
        optionColor: {
          default: null,
          type: cc.Node
        },
        prevSelection: {
          default: null
        },
        callback: {
          default: null
        },
        original: {
          default: null,
          type: cc.Node
        },
        contentHolder: {
          default: null,
          type: cc.Node
        },
        isColor: {
          default: false
        }
      },
      onLoad: function onLoad() {
        this.contentHolder.children.length > 0 && this.showDefault();
      },
      onClick: function onClick() {
        GameManager.playSound(K.Sounds.click);
      },
      reset: function reset() {
        this.isColor || (this.optionLabel.string = "");
      },
      showDefault: function showDefault(isApplicable) {
        void 0 === isApplicable && (isApplicable = true);
        this.reset();
        if (isApplicable) if (null !== this.prevSelection && null != this.prevSelection.node) this.onOptionSelect(this.prevSelection); else {
          var c = this.contentHolder.children[0];
          if (void 0 != c) {
            var obj = {
              option: this.isColor ? c.children[0].color : c.getComponentInChildren(cc.Label).string,
              node: c
            };
            this.onOptionSelect(obj);
          } else this.reset();
        }
      },
      setColor: function setColor(color, invokeCallBack) {
        for (var i = 0; i < this.contentHolder.children.length; i++) {
          var element = this.contentHolder.children[i].children[0];
          if (element.color.r == color.r && element.color.g == color.g && element.color.b == color.b) {
            var obj = {
              option: color,
              node: element
            };
            if (invokeCallBack) this.onOptionSelect(obj); else {
              this.optionColor.color = object.option;
              this.prevSelection = object;
            }
          }
        }
      },
      onOptionSelect: function onOptionSelect(object) {
        this.isColor ? this.optionColor.color = object.option : this.optionLabel.string = object.option;
        this.prevSelection = object;
        null !== this.callback && void 0 !== this.prevSelection.node && this.callback(object.option);
      },
      setContent: function setContent(content, apply) {
        void 0 === apply && (apply = true);
        this.unscheduleAllCallbacks();
        this.contentHolder.parent.parent.scaleY = .001;
        this.contentHolder.parent.parent.opacity = 0;
        this.clearContent();
        var i = 0;
        var newContent = null;
        for (i = 0; i < content.length; i++) {
          newContent = this.createContent(content[i]);
          newContent.active = true;
          this.contentHolder.addChild(newContent);
        }
        this.scheduleOnce(function() {
          this.contentHolder.parent.parent.scaleY = 0;
          this.contentHolder.parent.parent.opacity = 255;
        }.bind(this), .5);
        i == content.length && i > 0 && this.showDefault(apply);
      },
      clearContent: function clearContent() {
        var childs = this.contentHolder.children;
        this.contentHolder.removeAllChildren();
        this.reset();
      },
      createContent: function createContent(name) {
        var instance = cc.instantiate(this.original);
        var sa = typeof name;
        this.isColor ? instance.getComponent("DropDownOption").setOptionColor(name) : instance.getComponent("DropDownOption").setOptionLabel(name);
        return instance;
      },
      registerCallback: function registerCallback(func) {
        this.callback = func;
      },
      removeAllCallbacks: function removeAllCallbacks() {
        this.callback = null;
      },
      getSelection: function getSelection() {
        return this.isColor ? this.optionColor.color : this.optionLabel.string;
      }
    });
    cc._RF.pop();
  }, {} ],
  DropList: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fbb63LMN0BPiKHp4/sbEl5u", "DropList");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        reverse: {
          default: false,
          visible: false
        },
        ifClicked: false,
        listener: null
      },
      onLoad: function onLoad() {
        this.dropAct = this.dropAction();
        this.liftAct = this.liftAction();
        GameManager.node.on("dropdown-out", function(data) {
          data != this && this.popIn();
        }.bind(this));
        var inst = this;
        this.listener = cc.EventListener.create({
          event: cc.EventListener.TOUCH_ONE_BY_ONE,
          onTouchBegan: function onTouchBegan(touch, event) {
            var touchLoc = touch.getLocation();
            if (inst.ifClicked && !inst.testNodeClicked(inst.node, touchLoc, true) && !inst.testNodeClicked(inst.node.parent.getChildByName("Button"), touchLoc, false)) {
              inst.popIn();
              event.stopPropagation();
            }
          }
        });
        cc.eventManager.addListener(this.listener, this.node);
      },
      testNodeClicked: function testNodeClicked(node, point, addParentHeight) {
        var w = node.width, h = addParentHeight ? node.height + this.node.parent.height : node.height;
        var rect = cc.rect(0, 0, w, h);
        var left = point.x - rect.x, right = rect.x + rect.width - point.x, bottom = point.y - rect.y, top = rect.y + rect.height - point.y;
        return left >= 0 && right >= 0 && top >= 0 && bottom >= 0;
      },
      dropAction: function dropAction() {
        var scaleOut = cc.scaleBy(.35, 1, 100).easing(cc.easeCubicActionOut());
        return scaleOut;
      },
      liftAction: function liftAction() {
        var _this = this;
        var scaleIn = cc.scaleBy(.35, 1, 0).easing(cc.easeCubicActionOut());
        var x = cc.sequence(scaleIn, cc.callFunc(function() {
          _this.node.active = false;
        }));
        return x;
      },
      popOut: function popOut() {
        this.node.stopAllActions();
        if (this.reverse) this.popIn(); else {
          GameManager.node.emit("dropdown-out", this);
          this.node.scaleY = .01;
          this.node.active = true;
          this.node.runAction(this.dropAct);
          this.reverse = true;
          this.ifClicked = true;
        }
      },
      popIn: function popIn() {
        if (this.reverse) {
          this.ifClicked = false;
          this.node.scaleY = 1;
          this.node.runAction(this.liftAct);
          this.reverse = false;
        }
      },
      rectApplyAffineTransformIn: function rectApplyAffineTransformIn(rect, t) {
        var ol = rect.x;
        var ob = rect.y;
        var or = ol + rect.width;
        var ot = ob + rect.height;
        var lbx = t.a * ol + t.c * ob + t.tx;
        var lby = t.b * ol + t.d * ob + t.ty;
        var rbx = t.a * or + t.c * ob + t.tx;
        var rby = t.b * or + t.d * ob + t.ty;
        var ltx = t.a * ol + t.c * ot + t.tx;
        var lty = t.b * ol + t.d * ot + t.ty;
        var rtx = t.a * or + t.c * ot + t.tx;
        var rty = t.b * or + t.d * ot + t.ty;
        var minX = Math.min(lbx, rbx, ltx, rtx);
        var maxX = Math.max(lbx, rbx, ltx, rtx);
        var minY = Math.min(lby, rby, lty, rty);
        var maxY = Math.max(lby, rby, lty, rty);
        rect.x = minX;
        rect.y = minY;
        rect.width = maxX - minX;
        rect.height = maxY - minY;
        return rect;
      }
    });
    cc._RF.pop();
  }, {} ],
  EditBoxUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "849baNY0nlIVJTASl8YkMRL", "EditBoxUtil");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        editBox: {
          default: null,
          type: cc.EditBox
        },
        defaultString: {
          default: null,
          type: cc.Label
        },
        default: {
          default: ""
        },
        isNumericOnly: false,
        isModifyLabel: false,
        callbacks: [],
        callbacksMinCheck: []
      },
      onLoad: function onLoad() {
        !this.defaultString || "" != this.defaultString.string || (this.defaultString.string = this["default"].string);
      },
      onEditStarted: function onEditStarted() {
        this.defaultString.string = "";
      },
      onTextChanged: function onTextChanged() {
        if (this.isNumericOnly) {
          if (isNaN(this.editBox.string)) {
            var t = this.editBox.string;
            t = t.slice(0, t.length - 1);
            this.editBox.string = t;
          } else {
            this.editBox.string = this.editBox.string.toString().trim();
            var t = ".";
            if (-1 != this.editBox.string.indexOf(t)) {
              var x = this.editBox.string;
              x = x.slice(0, x.length - 1);
              this.editBox.string = x;
            }
            var patt = /[1-9]/;
            this.editBox.string.length > 1 && (patt = /[0-9]/);
            if (patt.test(this.editBox.string)) ; else {
              var x = this.editBox.string;
              x = x.slice(0, x.length - 1);
              this.editBox.string = x;
            }
          }
          this.onValueChange();
        }
      },
      onEditEnd: function onEditEnd() {
        if ("" !== this.editBox.string || !this["default"]) {
          if (this.isModifyLabel) {
            this.defaultString.string = this.editBox.string;
            this.editBox.string = "";
          }
        } else this.defaultString.string = this["default"];
        this.onValueChangeEnd();
      },
      onValueChange: function onValueChange() {
        this.callbacks.forEach(function(callback) {
          null == callback && void 0 == callback || callback();
        }, this);
      },
      registerCallbacks: function registerCallbacks(callback) {
        null == callback && void 0 == callback || this.callbacks.push(callback);
      },
      onValueChangeEnd: function onValueChangeEnd() {
        this.callbacksMinCheck.forEach(function(callback) {
          null == callback && void 0 == callback || callback();
        }, this);
      },
      registerCallbacksEnd: function registerCallbacksEnd(callback) {
        null == callback && void 0 == callback || this.callbacksMinCheck.push(callback);
      }
    });
    cc._RF.pop();
  }, {} ],
  Emitter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "354a9wuZ0lImaecNtPbRcfu", "Emitter");
    "use strict";
    module.exports = Emitter;
    function Emitter(obj) {
      if (obj) return mixin(obj);
    }
    function mixin(obj) {
      for (var key in Emitter.prototype) obj[key] = Emitter.prototype[key];
      return obj;
    }
    Emitter.prototype.on = Emitter.prototype.addEventListener = function(event, fn) {
      this._callbacks = this._callbacks || {};
      (this._callbacks[event] = this._callbacks[event] || []).push(fn);
      return this;
    };
    Emitter.prototype.once = function(event, fn) {
      var self = this;
      this._callbacks = this._callbacks || {};
      function on() {
        self.off(event, on);
        fn.apply(this, arguments);
      }
      on.fn = fn;
      this.on(event, on);
      return this;
    };
    Emitter.prototype.off = Emitter.prototype.removeListener = Emitter.prototype.removeAllListeners = Emitter.prototype.removeEventListener = function(event, fn) {
      this._callbacks = this._callbacks || {};
      if (0 == arguments.length) {
        this._callbacks = {};
        return this;
      }
      var callbacks = this._callbacks[event];
      if (!callbacks) return this;
      if (1 == arguments.length) {
        delete this._callbacks[event];
        return this;
      }
      var cb;
      for (var i = 0; i < callbacks.length; i++) {
        cb = callbacks[i];
        if (cb === fn || cb.fn === fn) {
          callbacks.splice(i, 1);
          break;
        }
      }
      return this;
    };
    Emitter.prototype.emit = function(event) {
      this._callbacks = this._callbacks || {};
      var args = [].slice.call(arguments, 1), callbacks = this._callbacks[event];
      if (callbacks) {
        callbacks = callbacks.slice(0);
        for (var i = 0, len = callbacks.length; i < len; ++i) callbacks[i].apply(this, args);
      }
      return this;
    };
    Emitter.prototype.listeners = function(event) {
      this._callbacks = this._callbacks || {};
      return this._callbacks[event] || [];
    };
    Emitter.prototype.hasListeners = function(event) {
      return !!this.listeners(event).length;
    };
    cc._RF.pop();
  }, {} ],
  EncryptionTest: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "55139pr05VDIoEP2n0x6TuS", "EncryptionTest");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        label: {
          default: null,
          type: cc.Label
        },
        text: "Hello, World!"
      },
      onLoad: function onLoad() {},
      onClick: function onClick() {}
    });
    cc._RF.pop();
  }, {} ],
  EnterPasswordPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "527d6rOC7RAGZ74TMK6wlSr", "EnterPasswordPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        passwordEditBox: {
          default: null,
          type: cc.EditBox
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.passwordEditBox.string = "";
        this.data = data;
      },
      onSubmit: function onSubmit() {
        GameManager.playSound(K.Sounds.click);
        if ("" == this.passwordEditBox.string) return;
        if ("WAITING_LIST" == this.data.type) this.data.toCallFunction(this.data.flag, this.data.id, function(response) {
          this.data.cb(response, this.onQuit.bind(this));
        }.bind(this), null, this.passwordEditBox.string); else {
          this.data.data.password = this.passwordEditBox.string;
          ServerCom.pomeloRequest(this.data.route, this.data.data, this.data.onSuccess, this.data.onFail);
        }
      },
      onQuit: function onQuit() {
        GameManager.popUpManager.hide(PopUpType.EnterPasswordPopup, function() {});
        GameManager.playSound(K.Sounds.click);
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  EventEmitter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "64109ShV6tPlr1WU8SotD+x", "EventEmitter");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {},
      on: function on(event, fn) {
        this._callbacks = this._callbacks || {};
        (this._callbacks[event] = this._callbacks[event] || []).push(fn);
        return this;
      },
      once: function once(event, fn) {
        var self = this;
        this._callbacks = this._callbacks || {};
        function on() {
          self.off(event, on);
          fn.apply(this, arguments);
        }
        on.fn = fn;
        this.on(event, on);
        return this;
      },
      removeAllListeners: function removeAllListeners() {
        this._callbacks = this._callbacks || {};
        this._callbacks = {};
      },
      off: function off(event, fn) {
        this._callbacks = this._callbacks || {};
        var callbacks = this._callbacks[event];
        if (!callbacks) return this;
        if (1 === arguments.length) {
          delete this._callbacks[event];
          return this;
        }
        var cb;
        for (var i = 0; i < callbacks.length; i++) {
          cb = callbacks[i];
          if (cb === fn || cb.fn === fn) {
            callbacks.splice(i, 1);
            break;
          }
        }
        return this;
      },
      emit: function emit(event) {
        this._callbacks = this._callbacks || {};
        var args = [].slice.call(arguments, 1), callbacks = this._callbacks[event];
        if (callbacks) {
          callbacks = callbacks.slice(0);
          for (var i = 0, len = callbacks.length; i < len; ++i) callbacks[i].apply(this, args);
        }
        return this;
      },
      listeners: function listeners(event) {
        this._callbacks = this._callbacks || {};
        return this._callbacks[event] || [];
      },
      hasListeners: function hasListeners(event) {
        return !!this.listeners(event).length;
      }
    });
    cc._RF.pop();
  }, {} ],
  ExceptionHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "02281kH0NtET6HRzYxH0lSu", "ExceptionHandler");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var Emitter = require("EventEmitter");
    var inst = null;
    cc.Class({
      extends: cc.Component,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        errorEmitters: {
          default: [],
          type: Emitter
        }
      },
      start: function start() {
        inst = this;
        this.registerListeners();
      },
      registerPomeloEvent: function registerPomeloEvent(data) {
        return function(event) {
          if (LoginHandler.isLoading) {
            inst.popUpManager.hide(PopUpType.NotificationPopup, function() {});
            if (K.disconnectRequestedByPlayer) K.disconnectRequestedByPlayer = false; else {
              inst.popUpManager.show(PopUpType.NotificationPopup, "Please check your\n Internet Connection.", function() {});
              LoginHandler.isLoading = false;
            }
          }
          ServerCom.loading.active = false;
          if (GameManager.isConnected) {
            GameManager.isConnected = false;
            var param = {
              code: K.Error.ConnectionError,
              response: data
            };
            inst.popUpManager.hideAllPopUps();
            K.disconnectRequestedByPlayer ? K.disconnectRequestedByPlayer = false : ScreenManager.currentScreen === K.ScreenEnum.LoginScreen || ScreenManager.currentScreen === K.ScreenEnum.SignupScreen || inst.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
          }
          GameManager.isConnected || LoginHandler.isLoading || !K.disconnectRequestedByPlayer || (K.disconnectRequestedByPlayer = false);
        };
      },
      isValid: function isValid(obj) {
        return null != obj && void 0 != obj;
      },
      registerListeners: function registerListeners() {},
      PlayerSessionShifted: function PlayerSessionShifted(deviceType) {
        return function(deviceType) {
          GameManager.isConnected = false;
          var data = "";
          if ("browser" == deviceType) data = LocalizedManager.t("TXT_LOGGED_OTHER_DEVICE_WEB"); else if ("androidApp" == deviceType) data = LocalizedManager.t("TXT_LOGGED_IN_ANDROID"); else if ("iosApp" == deviceType) data = LocalizedManager.t("TXT_LOGGED_IN_IOS"); else if ("windows" == deviceType || "mac" == deviceType) data = LocalizedManager.t("TXT_LOGGED_PC"); else if ("another device" == deviceType) data = LocalizedManager.t("TXT_LOGGED_IN_OTHER_DEVICE"); else if ("ServerDown" == deviceType) {
            data = LocalizedManager.t("TXT_LOGOUT_SERVER_MAINTENANCE");
            var param = {
              code: K.Error.ServerDown,
              heading: "Server Down",
              response: data,
              preserveState: false
            };
            inst.popUpManager.hideAllPopUps();
            inst.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
          }
          var param = {
            code: K.Error.PlayerSessionShiftedOnServer,
            response: data
          };
          inst.popUpManager.hideAllPopUps();
          inst.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
        };
      },
      handleSuccessFalse: function handleSuccessFalse(error) {
        if (!!error.channelId && !!GameScreen) for (var index = 0; index < GameScreen.gameModel.activePokerModels.length; index++) if (error.channelId === GameScreen.gameModel.activePokerModels[index].gameData.channelId) {
          GameScreen.gameModel.activePokerModels[index].popUpManager.show(PopUpType.DisconnectDialog, error, function() {});
          return;
        }
        this.popUpManager.hide(PopUpType.DisconnectDialog, function() {});
        "Specified verison does not exist!" == error.response || "An updated version is required to continue playing the game. Kindly reload the game." == error.response || "An updated version is required to continue playing the game. Kindly download the updated build." == error.response || this.popUpManager.show(PopUpType.DisconnectDialog, error, function() {});
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter",
    PopUpManager: "PopUpManager"
  } ],
  Extensions: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e6775O4PENIgKD+jCI7N/4b", "Extensions");
    "use strict";
    Number.prototype.roundOff = function(place) {
      return Number(this.toFixed(place));
    };
    Number.prototype.clamp = function(min, max) {
      return Math.max(min, Math.min(this, max));
    };
    Number.prototype.clamp01 = function() {
      return Math.max(0, Math.min(this, 1));
    };
    String.prototype.toNumber = function() {
      return Number(this);
    };
    String.prototype.getNumber = function() {
      return this.replace(/\D/g, "");
    };
    String.prototype.getDecimal = function() {
      return parseFloat(this.match(/[\d\.]+/));
    };
    Math.roundOff = function(value, place) {
      value = Number(value);
      return Number(value.toFixed(place));
    };
    cc._RF.pop();
  }, {} ],
  FBService: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "596c5u6IDRI/qbPu9x5s3KV", "FBService");
    "use strict";
    var fbService = null;
    cc.Class({
      extends: cc.Component,
      properties: {
        fbObject: {
          default: null,
          visible: false
        },
        debugLabel: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {
        fbService = this;
      },
      start: function start() {},
      onLogin: function onLogin() {
        this.debugLabel.string = "OnLoginBtn!";
      },
      onLogout: function onLogout() {
        sdkbox.PluginFacebook.isLoggedIn() && sdkbox.PluginFacebook.logout();
      },
      onLoginSuccess: function onLoginSuccess() {
        sdkbox.PluginFacebook.isLoggedIn() && sdkbox.PluginFacebook.requestReadPermissions([ "public_profile", "email" ]);
      },
      onPermissionSuccess: function onPermissionSuccess(Tag, data) {
        var Object = {
          name: "",
          email: "",
          token: ""
        };
        fbService.fbObject = data;
        this.debugLabel.string = fbService.fbObject;
        Object.name = fbService.fbObject["name"];
        Object.email = fbService.fbObject["email"];
        Object.token = fbService.fbObject;
        fbService.login.onSocialLogin(Object, "facebook");
      }
    });
    cc._RF.pop();
  }, {} ],
  ForgotPasswordPopUp: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3a0ec9qaLVGKqPlPTiNcdit", "ForgotPasswordPopUp");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var CheckBoxType = require("Checkbox");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        EmailId: {
          default: null,
          type: cc.EditBox
        },
        ResponseLabel: {
          default: null,
          type: cc.Label
        },
        submitButton: {
          default: null,
          type: cc.Button
        },
        quitButton: {
          default: null,
          type: cc.Button
        },
        background: {
          default: null,
          type: cc.Node
        },
        DarkBoundarybackground: {
          default: null,
          type: cc.Node
        }
      },
      onForgotPasswordResponse: function onForgotPasswordResponse(response) {},
      onLoad: function onLoad() {
        this.EmailId.placeholder = LocalizedManager.t("TXT_ENTER_YOUR_REGISTERED_EMAIL");
      },
      onShow: function onShow() {
        this.ResponseLabel.string = "";
        this.EmailId.placeholder = LocalizedManager.t("TXT_ENTER_YOUR_REGISTERED_EMAIL");
      },
      onQuit: function onQuit() {
        GameManager.playSound(K.Sounds.click);
        this.EmailId.string = "";
        this.popUpManager.hide(PopUpType.ForgotPasswordPopUp, function() {});
      },
      onSubmit: function onSubmit() {
        GameManager.playSound(K.Sounds.click);
        if (!K.internetAvailable) {
          GameManager.popUpManager.show(PopUpType.NotificationPopup, "Please check your\n Internet Connection.", function() {});
          return;
        }
        if ("" == this.EmailId.string || this.EmailId.string.length <= 0) {
          this.EmailId.placeholder = "Enter A Valid Email Id";
          return;
        }
        var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.forgotPassword;
        var data = {
          emailId: this.EmailId.string
        };
        ServerCom.httpPostRequest(address, data, function(response) {
          null != response.keepPopUpAlive && response.keepPopUpAlive || this.onQuit();
        }.bind(this));
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    SliderTouch: "SliderTouch"
  } ],
  ForgotPassword: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "47e16cjqPJFPY8gZLNpug0K", "ForgotPassword");
    "use strict";
    var AbstractScreen = require("AbstractScreen");
    cc.Class({
      extends: AbstractScreen,
      properties: {
        email: {
          default: null,
          type: cc.EditBox
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(init) {},
      onHide: function onHide() {
        ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}, false);
      }
    });
    cc._RF.pop();
  }, {
    AbstractScreen: "AbstractScreen"
  } ],
  FramesController: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1b270hF8WtH+rFtQUkpjFyB", "FramesController");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        actionNode: {
          default: null,
          type: cc.Node
        },
        sprite: {
          default: null,
          type: cc.Sprite
        },
        stayTime: 0,
        fadeInTime: 0,
        fadeOutTime: 0,
        frames: {
          default: [],
          type: cc.SpriteFrame
        }
      },
      onEnable: function onEnable() {
        this.node.opacity = 255;
        this.length = this.frames.length;
        this.currentIndex = 0;
        this.sprite.spriteFrame = this.frames[this.currentIndex];
        this.execute();
      },
      onDisable: function onDisable() {
        this.node.stopAllActions();
        this.unscheduleAllCallbacks();
      },
      execute: function execute() {
        var _this = this;
        this.length > 1 && this.scheduleOnce(function() {
          _this.preformFadeActions();
        }, this.stayTime);
      },
      preformFadeActions: function preformFadeActions() {
        var self = this;
        this.actionNode.runAction(cc.sequence(cc.fadeOut(this.fadeInTime), cc.callFunc(function() {
          self.currentIndex++;
          self.currentIndex == self.length && (self.currentIndex = 0);
          self.sprite.spriteFrame = self.frames[self.currentIndex];
        }), cc.fadeIn(self.fadeInTime), cc.callFunc(function() {
          self.execute();
        })));
      },
      onClick: function onClick() {
        window.open("https://pokerbuddy365.com");
      }
    });
    cc._RF.pop();
  }, {} ],
  FreeBuyInPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "17271rZqnBPNYanT6w5jZdv", "FreeBuyInPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var EditBoxType = require("CustomEditBox");
    var UtilEditBoxType = require("EditBoxUtil");
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        totalChipsLbl: {
          default: null,
          type: cc.Label
        },
        minLbl: {
          default: null,
          type: cc.Label
        },
        maxLbl: {
          default: null,
          type: cc.Label
        },
        sliderTouch: {
          default: null,
          type: SliderTouchType
        },
        editBox: {
          default: null,
          type: cc.EditBox
        },
        callback: {
          default: null,
          visible: false
        },
        index: {
          default: 0,
          visible: false
        },
        minAmount: {
          default: 0,
          visible: false
        },
        maxAmount: {
          default: 10,
          visible: false
        },
        msgLbl: {
          default: null,
          type: cc.Label
        }
      },
      gridRefreshed: function gridRefreshed() {},
      onDestroy: function onDestroy() {},
      onEnable: function onEnable() {},
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        GameManager.emit("disablePageView");
        this.buyinContent.active = true;
        this.rebuyContent.active = false;
        this.sound = data.playSound;
        this.dialogHeadingText.string = data.dialogHeadingText;
        this.topHeadingLbl.string = data.topHeading;
        var info = data.maxValue <= 0 ? "" : LocalizedManager.t("TXT_FUNDS_INSUFFICIENT");
        data.minValue <= 0 && (data.minValue = 1);
        data.maxValue > 0 && (data.maxValue = data.maxValue < data.totalChips ? data.maxValue : data.totalChips);
        this.disableView(data.maxValue < data.minValue, info, data.maxValue <= 0);
        if (data.maxValue < data.minValue) {
          data.minValue = 0;
          data.maxValue = 0;
        }
        data.minValue = Math.floor(data.minValue);
        data.maxValue = Math.floor(data.maxValue);
        this.editBox.string = data.minValue.toString();
        this.minLbl.string = data.minValue.toString();
        this.maxLbl.string = data.maxValue.toString();
        this.minAmount = data.minValue;
        this.maxAmount = data.maxValue;
        var midVal = (this.minAmount + this.maxAmount) / 2;
        midVal > 0 && this.sliderTouch.setSliderValue(midVal / (this.maxAmount + this.minAmount));
        this.totalChipsLbl.string = Number(data.totalChips.toFixed(2));
      },
      onMin: function onMin() {
        this.sliderTouch.setSliderValue(0);
        this.editBox.string = this.minAmount.toString();
      },
      onMax: function onMax() {
        this.sliderTouch.setSliderValue(1);
        this.editBox.string = this.maxAmount.toString();
      },
      onConfirm: function onConfirm() {
        if (this.checkVal()) {
          this.callback(this.index, this.editBox.string);
          GameManager.emit("enablePageView");
          this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
          this.sound && this.sound(K.Sounds.click);
        }
      },
      onCancel: function onCancel() {
        GameManager.emit("enablePageView");
        this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
      },
      checkVal: function checkVal() {
        var value = this.editBox.string;
        if (isNaN(value)) {
          this.msgLbl.string = LocalizedManager.t("TXT_ENTER_VALID_CHIPS");
          return false;
        }
        if (value >= this.minAmount) {
          if (value <= this.maxAmount) return true;
          this.msgLbl.string = LocalizedManager.t("TEXT_CANNOT_MORE_CHIPS");
          return false;
        }
        this.msgLbl.string = LocalizedManager.t("TXT_CANNOT_LESS_CHIPS");
        return false;
      }
    });
    cc._RF.pop();
  }, {
    CustomEditBox: "CustomEditBox",
    EditBoxUtil: "EditBoxUtil",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    SliderTouch: "SliderTouch"
  } ],
  FreeRollContent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b18bn3bkpIFK3OjjVa+5G0", "FreeRollContent");
    "use strict";
    var table = require("NewTable");
    var FreeRoll = require("PostTypes").FreeRoll;
    cc.Class({
      extends: cc.Component,
      properties: {
        textFields: {
          default: [],
          type: cc.Label
        },
        joinButton: {
          default: null,
          type: cc.Button
        },
        activeSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        inactiveSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        tableBg: {
          default: null,
          type: cc.Node
        },
        joinedBg: {
          default: null,
          type: cc.Node
        }
      },
      start: function start() {
        this.node.on(cc.Node.EventType.TOUCH_START, function() {
          var _this = this;
          console.log("touched", this.node.zIndex);
          var current = this.getCurrentSelection();
          if (current == this) this.dblClick && this.onClickJoin(); else {
            this.dblClick = true;
            this.timeout = setTimeout(function() {
              _this.dblClick = false;
            }, 200);
          }
          !this.onSelection || this.onSelection(this);
        }.bind(this));
      },
      init: function init(data) {
        this.dblClick = false;
        this.getCurrentSelection = data.getCurrentSelection;
        this.onSelection = data.onSelection;
        this.freeRoll = new FreeRoll(data);
        console.log("free roll data", this.freeRoll);
      },
      changeBgColor: function changeBgColor(color) {
        this.tableBg.color = color;
      },
      changeTextsColor: function changeTextsColor(color) {
        this.textFields.forEach(function(e) {
          e.node.color = color;
        });
      },
      changeSelection: function changeSelection(bgColor, textsColor) {
        this.changeBgColor(bgColor);
        this.changeTextsColor(textsColor);
      },
      onClickJoin: function onClickJoin() {
        this.dblClick = false;
        console.log("on click join", this.freeRoll);
        var argument = {};
        argument.onSelectVariation = this.onJoin.bind(this);
        PopupManager.show(PopupManager.PopupType.GameVariation, argument);
      },
      onJoin: function onJoin(variation) {
        var payload = {
          raceId: this.freeRoll.raceId,
          configId: this.freeRoll.configId,
          channelVariation: variation,
          isRequested: this.freeRoll.isRequested,
          channelType: "NORMAL"
        };
        ServerCom.pomeloRequest(K.PomeloAPI.getChannelId, payload, function(response) {
          console.log("get channel response", response);
          if (response.success) {
            payload.channelId = response.toJoinTableId;
            payload.playerId = GameManager.user.playerId;
            payload.playerName = GameManager.user.userName;
            payload.tableId = payload.configId;
            console.log("pl", payload);
            ServerCom.pomeloRequest(K.PomeloAPI.joinFreeRoll, payload, function(response) {
              console.log("join channel reponse", response);
              response.success;
            });
          }
        });
      },
      onStatusChange: function onStatusChange(state) {}
    });
    cc._RF.pop();
  }, {
    NewTable: "NewTable",
    PostTypes: "PostTypes"
  } ],
  FreeRollPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f0ecdMpfaJHNJwiYfHuxiZQ", "FreeRollPresenter");
    "use strict";
    var table = require("NewTable");
    var self = cc.Class({
      extends: table,
      properties: {
        targets: {
          default: [],
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.currentSelection = null;
        this._super();
        this.base = self.prototype;
      },
      start: function start() {
        ServerCom.pomeloRequest(K.PomeloAPI.getFreeRollTables, {}, function(response) {
          console.log("free roll response", response);
          response.success ? this.base.init.call(this, response.result, "FreeRollContent") : console.log(response.result);
        }.bind(this));
      },
      onEnable: function onEnable() {
        this.targets.forEach(function(e) {
          e.active = false;
        });
      },
      onDisable: function onDisable() {
        this.targets.forEach(function(e) {
          e.active = true;
        });
      }
    });
    cc._RF.pop();
  }, {
    NewTable: "NewTable"
  } ],
  FriendsList: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "712b7z+bflIcZEFA3P5jPyQ", "FriendsList");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var EditBoxType = require("CustomEditBox");
    var UtilEditBoxType = require("EditBoxUtil");
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    var FriendsList = cc.Class({
      extends: cc.Component,
      properties: {
        friendListBtn: {
          default: null,
          type: cc.Node
        },
        inviteListBtn: {
          default: null,
          type: cc.Node
        },
        contentNode: {
          default: null,
          type: cc.Node
        },
        itemNode: {
          default: null,
          type: cc.Node
        },
        itemNode2: {
          default: null,
          type: cc.Node
        }
      },
      onDestroy: function onDestroy() {},
      onEnable: function onEnable() {},
      onLoad: function onLoad() {
        cc.systemEvent.on("leaveLobby", this.leaveLobby, this);
        GameManager.on("BuddyIsOnline", this.onBuddyIsOnline.bind(this));
        GameManager.on("sendBuddyRequestReceive", this.onSendBuddyRequestReceive.bind(this));
        GameManager.on("handleBuddyRequestReceive", this.onHandleBuddyRequestReceive.bind(this));
        GameManager.on("removeBuddyReceive", this.onRemoveBuddyReceive.bind(this));
      },
      timeAgo: function fromNow(date) {
        var SECOND = 1e3;
        var MINUTE = 60 * SECOND;
        var HOUR = 60 * MINUTE;
        var DAY = 24 * HOUR;
        var WEEK = 7 * DAY;
        var YEAR = 365 * DAY;
        var MONTH = YEAR / 12;
        var units = [ {
          max: 30 * SECOND,
          divisor: 1,
          past1: "just now",
          pastN: "just now",
          future1: "just now",
          futureN: "just now"
        }, {
          max: MINUTE,
          divisor: SECOND,
          past1: "a second ago",
          pastN: "# seconds ago",
          future1: "in a second",
          futureN: "in # seconds"
        }, {
          max: HOUR,
          divisor: MINUTE,
          past1: "a minute ago",
          pastN: "# minutes ago",
          future1: "in a minute",
          futureN: "in # minutes"
        }, {
          max: DAY,
          divisor: HOUR,
          past1: "an hour ago",
          pastN: "# hours ago",
          future1: "in an hour",
          futureN: "in # hours"
        }, {
          max: WEEK,
          divisor: DAY,
          past1: "yesterday",
          pastN: "# days ago",
          future1: "tomorrow",
          futureN: "in # days"
        }, {
          max: 4 * WEEK,
          divisor: WEEK,
          past1: "last week",
          pastN: "# weeks ago",
          future1: "in a week",
          futureN: "in # weeks"
        }, {
          max: YEAR,
          divisor: MONTH,
          past1: "last month",
          pastN: "# months ago",
          future1: "in a month",
          futureN: "in # months"
        }, {
          max: 100 * YEAR,
          divisor: YEAR,
          past1: "last year",
          pastN: "# years ago",
          future1: "in a year",
          futureN: "in # years"
        }, {
          max: 1e3 * YEAR,
          divisor: 100 * YEAR,
          past1: "last century",
          pastN: "# centuries ago",
          future1: "in a century",
          futureN: "in # centuries"
        }, {
          max: Infinity,
          divisor: 1e3 * YEAR,
          past1: "last millennium",
          pastN: "# millennia ago",
          future1: "in a millennium",
          futureN: "in # millennia"
        } ];
        var diff = Date.now() - ("object" === typeof date ? date : new Date(date)).getTime();
        var diffAbs = Math.abs(diff);
        for (var _i = 0, _units = units; _i < _units.length; _i++) {
          var unit = _units[_i];
          if (diffAbs < unit.max) {
            var isFuture = diff < 0;
            var x = Math.round(Math.abs(diff) / unit.divisor);
            if (x <= 1) return isFuture ? unit.future1 : unit.past1;
            return (isFuture ? unit.futureN : unit.pastN).replace("#", x);
          }
        }
      },
      onShow: function onShow(data) {
        this.onFriendsList();
      },
      leaveLobby: function leaveLobby(data) {
        this.friendListBtn.getChildByName("On").active = true;
        this.friendListBtn.getChildByName("Off").active = false;
        this.inviteListBtn.getChildByName("On").active = false;
        this.inviteListBtn.getChildByName("Off").active = true;
        this.contentNode.removeAllChildren();
      },
      updateNotification: function updateNotification(noti) {
        for (var i = 0; i < this.contentNode.children.length; i++) {
          var instance = this.contentNode.children[i];
          if (instance.__data._id == noti._id) {
            cc.find("content", instance).getComponent(cc.Label).string = noti.text;
            cc.find("read/time", instance).getComponent(cc.Label).string = this.timeAgo(noti.time);
            cc.find("red/red", instance).active = !noti.isRead;
            cc.find("read/read", instance).active = !noti.isRead;
            cc.find("read/read", instance).getComponent(cc.Button).clickEvents[0].customEventData = noti;
            instance.__data = noti;
            break;
          }
        }
      },
      onClose: function onClose() {
        this.node.active = false;
      },
      onAccept: function onAccept(event, customEventData) {
        var _this = this;
        GameManager.friendRequestAccept(customEventData, function() {
          GameManager.friendRequestReceive(function() {
            _this.contentNode.removeAllChildren();
            for (var i = 0; i < GameManager.buddyRequestsReceived.length; i++) {
              var instance = cc.instantiate(_this.itemNode);
              instance.setPosition(0, 0);
              instance.active = true;
              cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddyRequestsReceived[i].userNameSend;
              cc.find("online", instance).active = false;
              cc.find("offline", instance).active = false;
              cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddyRequestsReceived[i].profileImagePlayerSend ? Number(GameManager.buddyRequestsReceived[i].profileImagePlayerSend) - 1 : 1];
              cc.find("accept", instance).active = true;
              cc.find("reject", instance).active = true;
              cc.find("remove", instance).active = false;
              cc.find("accept", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
              cc.find("reject", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
              instance.__data = GameManager.buddyRequestsReceived[i];
              instance.parent = _this.contentNode;
            }
          });
        });
      },
      onReject: function onReject(event, customEventData) {
        var _this2 = this;
        GameManager.friendRequestReject(customEventData, function() {
          GameManager.friendRequestReceive(function() {
            _this2.contentNode.removeAllChildren();
            for (var i = 0; i < GameManager.buddyRequestsReceived.length; i++) {
              var instance = cc.instantiate(_this2.itemNode);
              instance.setPosition(0, 0);
              instance.active = true;
              cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddyRequestsReceived[i].userNameSend;
              cc.find("online", instance).active = false;
              cc.find("offline", instance).active = false;
              cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddyRequestsReceived[i].profileImagePlayerSend ? Number(GameManager.buddyRequestsReceived[i].profileImagePlayerSend) - 1 : 1];
              cc.find("accept", instance).active = true;
              cc.find("reject", instance).active = true;
              cc.find("remove", instance).active = false;
              cc.find("accept", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
              cc.find("reject", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
              instance.__data = GameManager.buddyRequestsReceived[i];
              instance.parent = _this2.contentNode;
            }
          });
        });
      },
      onRemove: function onRemove(event, customEventData) {
        var _this3 = this;
        GameManager.friendRequestRemove(customEventData, function() {
          GameManager.friendRequstFriends(function() {
            _this3.contentNode.removeAllChildren();
            for (var i = 0; i < GameManager.buddies.length; i++) {
              var instance = cc.instantiate(_this3.itemNode);
              instance.setPosition(0, 0);
              instance.active = true;
              cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddies[i].userName;
              cc.find("online", instance).active = GameManager.buddies[i].isOnline;
              cc.find("offline", instance).active = !GameManager.buddies[i].isOnline;
              cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddies[i].profileImage ? Number(GameManager.buddies[i].profileImage) - 1 : 1];
              cc.find("accept", instance).active = false;
              cc.find("reject", instance).active = false;
              cc.find("remove", instance).active = true;
              cc.find("remove", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddies[i].playerId;
              instance.__data = GameManager.buddies[i];
              instance.parent = _this3.contentNode;
            }
          });
        });
      },
      onFriendsList: function onFriendsList() {
        var _this4 = this;
        if (this.friendListBtn.getChildByName("On").active) return;
        this.friendListBtn.getChildByName("On").active = true;
        this.friendListBtn.getChildByName("Off").active = false;
        this.inviteListBtn.getChildByName("On").active = false;
        this.inviteListBtn.getChildByName("Off").active = true;
        GameManager.friendRequstFriends(function() {
          _this4.contentNode.removeAllChildren();
          for (var i = 0; i < GameManager.buddies.length; i++) {
            var instance = cc.instantiate(_this4.itemNode);
            instance.setPosition(0, 0);
            instance.active = true;
            cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddies[i].userName;
            cc.find("online", instance).active = GameManager.buddies[i].isOnline;
            cc.find("offline", instance).active = !GameManager.buddies[i].isOnline;
            cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddies[i].profileImage ? Number(GameManager.buddies[i].profileImage) - 1 : 1];
            cc.find("accept", instance).active = false;
            cc.find("reject", instance).active = false;
            cc.find("remove", instance).active = true;
            cc.find("remove", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddies[i].playerId;
            instance.__data = GameManager.buddies[i];
            instance.parent = _this4.contentNode;
          }
        });
      },
      onInviteList: function onInviteList() {
        var _this5 = this;
        if (this.inviteListBtn.getChildByName("On").active) return;
        this.inviteListBtn.getChildByName("On").active = true;
        this.inviteListBtn.getChildByName("Off").active = false;
        this.friendListBtn.getChildByName("On").active = false;
        this.friendListBtn.getChildByName("Off").active = true;
        GameManager.friendRequestReceive(function() {
          _this5.contentNode.removeAllChildren();
          for (var i = 0; i < GameManager.buddyRequestsReceived.length; i++) {
            var instance = cc.instantiate(_this5.itemNode);
            instance.setPosition(0, 0);
            instance.active = true;
            cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddyRequestsReceived[i].userNameSend;
            cc.find("online", instance).active = false;
            cc.find("offline", instance).active = false;
            cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddyRequestsReceived[i].profileImagePlayerSend ? Number(GameManager.buddyRequestsReceived[i].profileImagePlayerSend) - 1 : 1];
            cc.find("accept", instance).active = true;
            cc.find("reject", instance).active = true;
            cc.find("remove", instance).active = false;
            cc.find("accept", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
            cc.find("reject", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
            instance.__data = GameManager.buddyRequestsReceived[i];
            instance.parent = _this5.contentNode;
          }
        });
      },
      onSendBuddyRequestReceive: function onSendBuddyRequestReceive() {
        if (this.friendListBtn.getChildByName("On").active) return;
        this.contentNode.removeAllChildren();
        for (var i = 0; i < GameManager.buddyRequestsReceived.length; i++) {
          var instance = cc.instantiate(this.itemNode);
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddyRequestsReceived[i].userNameSend;
          cc.find("online", instance).active = false;
          cc.find("offline", instance).active = false;
          cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddyRequestsReceived[i].profileImagePlayerSend ? Number(GameManager.buddyRequestsReceived[i].profileImagePlayerSend) - 1 : 1];
          cc.find("accept", instance).active = true;
          cc.find("reject", instance).active = true;
          cc.find("remove", instance).active = false;
          cc.find("accept", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
          cc.find("reject", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddyRequestsReceived[i]._id;
          instance.__data = GameManager.buddyRequestsReceived[i];
          instance.parent = this.contentNode;
        }
      },
      onHandleBuddyRequestReceive: function onHandleBuddyRequestReceive() {
        if (this.inviteListBtn.getChildByName("On").active) return;
        this.contentNode.removeAllChildren();
        for (var i = 0; i < GameManager.buddies.length; i++) {
          var instance = cc.instantiate(this.itemNode);
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddies[i].userName;
          cc.find("online", instance).active = GameManager.buddies[i].isOnline;
          cc.find("offline", instance).active = !GameManager.buddies[i].isOnline;
          cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddies[i].profileImage ? Number(GameManager.buddies[i].profileImage) : 1];
          cc.find("accept", instance).active = false;
          cc.find("reject", instance).active = false;
          cc.find("remove", instance).active = true;
          cc.find("remove", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddies[i].playerId;
          instance.__data = GameManager.buddies[i];
          instance.parent = this.contentNode;
        }
      },
      onRemoveBuddyReceive: function onRemoveBuddyReceive() {
        if (this.inviteListBtn.getChildByName("On").active) return;
        this.contentNode.removeAllChildren();
        for (var i = 0; i < GameManager.buddies.length; i++) {
          var instance = cc.instantiate(this.itemNode);
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddies[i].userName;
          cc.find("online", instance).active = GameManager.buddies[i].isOnline;
          cc.find("offline", instance).active = !GameManager.buddies[i].isOnline;
          cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddies[i].profileImage ? Number(GameManager.buddies[i].profileImage) : 1];
          cc.find("accept", instance).active = false;
          cc.find("reject", instance).active = false;
          cc.find("remove", instance).active = true;
          cc.find("remove", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddies[i].playerId;
          instance.__data = GameManager.buddies[i];
          instance.parent = this.contentNode;
        }
      },
      onBuddyIsOnline: function onBuddyIsOnline() {
        if (this.inviteListBtn.getChildByName("On").active) return;
        this.contentNode.removeAllChildren();
        for (var i = 0; i < GameManager.buddies.length; i++) {
          var instance = cc.instantiate(this.itemNode);
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddies[i].userName;
          cc.find("online", instance).active = GameManager.buddies[i].isOnline;
          cc.find("offline", instance).active = !GameManager.buddies[i].isOnline;
          cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddies[i].profileImage ? Number(GameManager.buddies[i].profileImage) : 1];
          cc.find("accept", instance).active = false;
          cc.find("reject", instance).active = false;
          cc.find("remove", instance).active = true;
          cc.find("remove", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddies[i].playerId;
          instance.__data = GameManager.buddies[i];
          instance.parent = this.contentNode;
        }
      }
    });
    cc._RF.pop();
  }, {
    CustomEditBox: "CustomEditBox",
    EditBoxUtil: "EditBoxUtil",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    SliderTouch: "SliderTouch"
  } ],
  FundTransferPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1b3cbIBjaJFWpxIi9NCba5h", "FundTransferPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        playerName: {
          default: null,
          type: cc.EditBox
        },
        amount: {
          default: null,
          type: cc.EditBox
        },
        content: {
          default: null,
          type: cc.Node
        },
        cell: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        console.log("onShow", data);
        this.cb = data.restoreActiveTab;
        this.content.removeAllChildren(true);
        this.playerName.string = "";
        this.amount.string = "";
        var count = 1;
        for (var i = 0; i < data.length; i++) {
          var record = data[i];
          var instance = cc.instantiate(this.cell);
          instance.x = 0;
          instance.active = true;
          this.content.addChild(instance);
          instance.children[0].getComponent(cc.Label).string = count + "";
          var date = new Date(record.time);
          var y = date.getFullYear();
          var m = ("0" + (date.getMonth() + 1)).slice(-2);
          var d = ("0" + date.getDate()).slice(-2);
          var h = ("0" + date.getHours()).slice(-2);
          var min = ("0" + date.getMinutes()).slice(-2);
          var sec = ("0" + date.getSeconds()).slice(-2);
          record.senderUserName == GameManager.user.userName ? instance.children[1].getComponent(cc.Label).string = "SEND" : instance.children[1].getComponent(cc.Label).string = "RECEIVE";
          instance.children[2].getComponent(cc.Label).string = date.toLocaleDateString("en-US", {
            day: "numeric",
            month: "short"
          }) + ", " + date.toLocaleTimeString("en-US").substr(0, (date.toLocaleTimeString("en-US") + " ").indexOf(" "));
          instance.children[3].getComponent(cc.Label).string = record.senderUserName;
          instance.children[4].getComponent(cc.Label).string = record.receiverUserName;
          instance.children[5].getComponent(cc.Label).string = record.amount;
          count += 1;
        }
      },
      onQuit: function onQuit() {
        GameManager.playSound(K.Sounds.click);
        !this.cb || this.cb();
        this.popUpManager.hide(PopUpType.FundTransferPopup, function() {});
      },
      onTextChanged: function onTextChanged(text, editbox, customEventData) {
        var validNumber = new RegExp(/^\d*\.?\d*$/);
        console.log(validNumber.test(text));
        if (validNumber.test(text)) {
          this.last = text;
          editbox.blur();
          this.blured = true;
          this.amount.string = text;
          this.last = text;
          editbox.focus();
        } else {
          editbox.blur();
          this.blured = true;
          this.amount.string = this.last;
          editbox.focus();
        }
      },
      onTextBegan: function onTextBegan(text, editbox, customEventData) {
        this.blured = false;
        this.last = this.amount.string;
      },
      onSubmit: function onSubmit() {
        var amout = Number(this.amount.string);
        if (amout < 100) {
          GameManager.popUpManager.show(PopUpType.NotificationPopup, "Invalid amount", function() {});
          return;
        }
        if ("" == this.playerName.string.trim()) {
          GameManager.popUpManager.show(PopUpType.NotificationPopup, "Invalid player name", function() {});
          return;
        }
        var requestObject = {
          amount: amout,
          senderUserName: GameManager.user.userName,
          receiverUserName: this.playerName.string
        };
        ServerCom.pomeloRequest("connector.entryHandler.onTransferChips", requestObject, function(response) {
          console.log("response", response);
          if (response.success) {
            GameManager.popUpManager.show(PopUpType.NotificationPopup, "Fund transfer is done successfully!", function() {});
            requestObject = {
              senderUserName: GameManager.user.userName,
              receiverUserName: GameManager.user.userName,
              skip: 0,
              limit: 20,
              sortValue: "time"
            };
            ServerCom.pomeloRequest("connector.entryHandler.getP2PChipsTransferringHistory", {
              query: requestObject
            }, function(response) {
              console.log("response", response);
              response.success ? this.onShow(response.data) : GameManager.popUpManager.show(PopUpType.NotificationPopup, response.info, function() {});
            }.bind(this), null, 3e3);
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.info, function() {});
        }.bind(this), null, 3e3);
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  GameConfig: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a870avq2V9GyqYgQJVB1YYY", "GameConfig");
    "use strict";
    var _root$K$ServerAPI;
    var root = window;
    root.K = {};
    root.K.moveDisplayTime = 2500;
    root.K.multiTableJoin = true;
    root.K.disconnectRequestedByPlayer = false;
    root.K.internetAvailable = true;
    root.K.disconnectMultiLogin = false;
    root.K.MaxTableCount = 4;
    root.K.MaxTableCountInMobile = 2;
    root.K.TestingBuildVersion = "web-31.3.1(IP-77)PC_LOCAL";
    root.K.Error = cc.Enum({
      TimeOutError: 504,
      ConnectionError: 444,
      SuccessFalseError: 454,
      KeyMissingBroadcasts: 1001,
      ServerDown: 3001,
      PlayerSessionShiftedOnServer: 5001,
      FeatureComingSoon: 5010,
      UpdateAvailable: 5011,
      SessionError: 5015
    });
    root.K.Variation = cc.Enum({
      None: -1,
      TexasHoldem: "Texas Hold\u2019em",
      Omaha: "Omaha",
      OmahaHiLo: "Omaha Hi-Lo",
      OpenFaceChinesePoker: "Open Face Chinese Poker",
      All: "All"
    });
    root.K.ChannelType = {
      Normal: "NORMAL",
      Tournament: "TOURNAMENT"
    };
    root.K.TournamentType = {
      Normal: "NORMAL",
      SitNGo: "SIT N GO",
      Satellite: "SATELLITE"
    };
    root.K.RoundNames = {
      one: "ONE",
      two: "TWO",
      three: "THREE",
      four: "FOUR",
      five: "FIVE",
      finished: "FINISHED"
    };
    root.K.RoundToCards = {};
    root.K.RoundToCards[root.K.RoundNames.one] = 0;
    root.K.RoundToCards[root.K.RoundNames.two] = 1;
    root.K.RoundToCards[root.K.RoundNames.three] = 2;
    root.K.RoundToCards[root.K.RoundNames.four] = 3;
    root.K.RoundToCards[root.K.RoundNames.five] = 4;
    root.K.CardColoring = {
      TwoCardColor: "TwoCardColor",
      FourCardColor: "FourCardColor"
    };
    root.K.GameType = cc.Enum({
      None: -1,
      CashGames: 1,
      SitAndGo: 2,
      Tournaments: 3
    });
    root.K.ScreenEnum = new cc.Enum({
      SplashScreen: 0,
      SignupScreen: 1,
      LoginScreen: 2,
      LobbyScreen: 3,
      GamePlayScreen: 4,
      ForgotPasswordScreen: 5,
      None: 100
    });
    root.K.SeatState = {
      Free: "Free",
      Occupied: "Occupied",
      Hidden: "Hidden",
      Closed: "Closed"
    };
    root.K.PlayerState = {
      None: "",
      Waiting: "WAITING",
      Playing: "PLAYING",
      OutOfMoney: "OUTOFMONEY",
      OnBreak: "ONBREAK",
      Disconnected: "DISCONNECTED",
      Left: "ONLEAVE",
      AllIn: "ALLIN",
      Fold: "FOLD",
      Reserved: "RESERVED",
      Rebuy: "REBUYING"
    };
    root.K.GameState = {
      Idle: "IDLE",
      Running: "RUNNING",
      GameOver: "GAMEOVER"
    };
    root.K.PlayerMove = {
      Check: "CHECK",
      Call: "CALL",
      Bet: "BET",
      Raise: "RAISE",
      AllIn: "ALLIN",
      Fold: "FOLD"
    };
    root.K.GameEndType = {
      GameCompleted: "GAMECOMPLETED",
      EverybodyPacked: "EVERYBODYPACKED",
      OnePlayerLeft: "ONLYONEPLAYERLEFT"
    };
    root.K.Round = {
      Preflop: "PREFLOP",
      Flop: "FLOP",
      Turn: "TURN",
      River: "RIVER",
      Showdown: "SHOWDOWN"
    };
    root.K.LobbyEvents = {
      gameTypeFilterChanged: "gameTypeFilterChanged",
      maxPlayersFilter: "maxPlayersFilter",
      stakesFilterChanged: "stakesFilterChanged",
      joinTableListChanged: "joinTableListChanged",
      tableUpdated: "tableUpdated",
      sideTableUpdated: "sideTableUpdated",
      prizePoolUpdated: "prizePoolUpdated"
    };
    root.K.GameEvents = {
      OnTableClosed: "TableClosed",
      OnAvatarChange: "AvatarChanged",
      OnTableColorChange: "TableColorChanged",
      onReset: "onReset"
    };
    root.K.PokerEvents = {
      OnJoin: "OnJoin",
      OnHoleCard: "HoleCard",
      OnPlayerCard: "PlayerCard",
      OnSit: "Sit",
      OnBlindDeduction: "BlindDeduction",
      OnGamePlayers: "GamePlayers",
      OnPlayerStateChange: "PlayerStateChange",
      OnDealerChat: "DealerChat",
      OnStartGame: "StartGame",
      OnTurn: "Turn",
      OnRoundOver: "RoundOver",
      OnGameOver: "GameOver",
      OnLeave: "Leave",
      OnChat: "Chat",
      onPlayerStandUp: "StandUp",
      onTimerTick: "TimerTick",
      onTableTabSelected: "TableTabSelected",
      onRotateView: "RotateView",
      onTurnInOtherRoom: "TurnInOtherRoom",
      OnClearHoleCards: "ClearHoleCards",
      onPreCheck: "onPreCheck",
      onSitnGoElimination: "sgoEliminated",
      onPlayerCoins: "onPlayerCoins",
      onDealerChatSettingsChanged: "onDealerChatSettingsChanged",
      onChatSettingsChanged: "onChatSettingsChanged",
      onBlindsChanged: "onBlindsChanged",
      onAddonChanged: "onAddonChanged",
      OnBankrupt: "OnBankrupt",
      onPlayerNotes: "onPlayerNotes",
      onHandTab: "onHandTab",
      onGameStateChange: "onGameStateChanged",
      onBreakTime: "onbreakTime",
      onBreakTimeStart: "onBreakTimeStart",
      onOfcFirstRoundCards: "onOfcFirstRoundCards",
      onRebuyStatus: "onRebuyStatus",
      onBestHand: "onBestHand",
      onTimeBank: "startTimeBank",
      onCardColorChange: "CardColorChanged",
      onChannelEvent: "onChannelEvent",
      onAddonTimeStart: "onAddonTimeStart",
      onAddonTimeEnd: "onAddonTimeEnd",
      onAddonCheckBox: "onAddonCheckBox",
      onRebuyCheckBox: "onRebuyCheckBox",
      onBreakTimeEnd: "onBreakTimeEnd",
      onPlayerRankChange: "onPlayerRankChange",
      onBlindsChangeStopped: "onBlindsChangeStopped",
      onSendSticker: "onSendSticker"
    };
    root.K.TournamentState = {
      Upcoming: "UPCOMING",
      Register: "REGISTER",
      Running: "RUNNING",
      Finished: "FINISHED",
      Cancelled: "CANCELLED"
    };
    root.K.TournamentEvents = {
      OnTournamentStart: "TournamentStart"
    };
    root.K.SitNGoEvents = {
      OnSitNGoTournamentStart: "SitNGoTournamentStart"
    };
    root.K.SitNGoState = {
      RUNNING: "RUNNING",
      REGISTER: "REGISTER",
      FINISHED: "FINISHED",
      UPCOMING: "UPCOMING"
    };
    root.K.Suit = cc.Enum({
      Spade: 1,
      Heart: 2,
      Club: 3,
      Diamond: 4
    });
    root.useAnalytics = false;
    root.K.ServerAddress = {
      ipAddress: "https://connector-albaniapoker.creatiosoft.dev",
      gameServer: "https://connector-albaniapoker.creatiosoft.dev",
      gamePort: 443,
      maintainanceIP: "https://maintenance-dashboard-api-albaniapoker.creatiosoft.dev",
      maintainancePort: 443,
      port: 443,
      wss: true,
      clientVer: "1.0",
      pokerVer: "0.0",
      assets_server: "https://auth-api-albaniapoker.creatiosoft.dev/api/wpoker",
      assets_server_s: "https://albaniapoker-assets.s3.us-east-1.amazonaws.com",
      otp_server: "",
      ads_server: ""
    };
    root.K.Token = {
      auth_server: "https://auth-api-albaniapoker.creatiosoft.dev",
      auth_refresh_server: "",
      access_token: "",
      refresh_token: "",
      access_token_expire_at: 0,
      refresh_token_expire_at: 0
    };
    root.K.PORTRAIT = true;
    root.K.ServerAPI = (_root$K$ServerAPI = {
      maintainance: "/maintainanceAndUpdate",
      freeChips: "/collectFreeChips",
      forgotPassword: "/forgotPassword",
      resetPassword: "/resetPassword",
      emailVerification: "/resendEmailVerificationLink",
      requestOTP: "/sendOtp",
      verifyOTP: "/verifyOtp",
      transactionHistory: "/getTransactionHistory",
      wallet: "/getWalletInfo",
      imageUpload: "/profileImage",
      sendotp: "/sendOtpSignUP"
    }, _root$K$ServerAPI["forgotPassword"] = "/forgotPasswordUser", _root$K$ServerAPI);
    root.K.Sounds = {
      click: 13,
      userTurn: 0,
      playerBet: 1,
      playerRaise: 2,
      playerAllIn: 3,
      playerCall: 4,
      playerFold: 5,
      endTimer: 6,
      cardOpening: 7,
      chipDistribution: 8,
      playerCheck: 9,
      playerCardFlip: 10,
      playerCardFlipSound: 11,
      turnSoundTopBar: 12
    };
    root.K.PomeloAPI = {
      gateLogin: "gate.gateHandler.getConnector",
      checkForMultiClient: "connector.entryHandler.enter",
      updateProfile: "connector.entryHandler.updateProfile",
      getTables: "connector.entryHandler.getLobbyTables",
      joinChannel: "room.channelHandler.joinChannel",
      autoSit: "room.channelHandler.autoSit",
      sitHere: "room.channelHandler.sitHere",
      makeMove: "room.channelHandler.makeMove",
      leaveTable: "room.channelHandler.leaveTable",
      connectionAck: "connector.entryHandler.isConnected",
      registerTournament: "connector.entryHandler.registerTournament",
      deRegisterTournament: "connector.entryHandler.deRegisterTournament",
      checkRegistration: "connector.entryHandler.isRegisteredUserInTournament",
      reportIssue: "connector.entryHandler.reportIssue",
      chatRequest: "room.channelHandler.chat",
      getProfile: "connector.entryHandler.getProfile",
      sitOutNextHand: "room.channelHandler.sitoutNextHand",
      sitOutNextBigBlind: "connector.entryHandler.sitoutNextBigBlind",
      addChips: "room.channelHandler.addChipsOnTable",
      resume: "room.channelHandler.resume",
      setAutoBuyIn: "connector.entryHandler.setAutoBuyIn",
      getTableStructure: "connector.entryHandler.getTableStructure",
      getUsers: "connector.entryHandler.getRegisteredTournamentUsers",
      resetSitout: "room.channelHandler.resetSitout",
      joinSimilar: "connector.entryHandler.joinSimilarTable",
      getBlindAndPrize: "connector.entryHandler.getBlindAndPrize",
      setFavTable: "connector.entryHandler.addFavourateTable",
      removeFavTable: "connector.entryHandler.removeFavourateTable",
      quickSeatCash: "connector.entryHandler.quickSeat",
      getPrizes: "connector.entryHandler.getPlayerPrize",
      collectPrize: "connector.entryHandler.collectPrize",
      getTableData: "connector.entryHandler.getTable",
      createNote: "connector.entryHandler.createNotes",
      getNote: "connector.entryHandler.getNotes",
      updateNote: "connector.entryHandler.updateNotes",
      deleteNote: "connector.entryHandler.deleteNotes",
      getBlindPrizeTournament: "connector.entryHandler.getBlindAndPrizeForNormalTournament",
      setPlayerValOnTable: "connector.entryHandler.setPlayerValueOnTable",
      getFilters: "connector.entryHandler.getFilters",
      quickSeatTournament: "connector.entryHandler.quickSeatInTournament",
      quickSeatSitNGo: "connector.entryHandler.quickSeatInSitNGo",
      getHandTab: "connector.entryHandler.getHandTab",
      getHandHistory: "connector.entryHandler.getHandHistory",
      lateRegistration: "connector.entryHandler.lateRegistration",
      joinWaitingList: "room.channelHandler.joinWaitingList",
      unJoinWaitingList: "room.channelHandler.leaveWaitingList",
      saveVideo: "room.channelHandler.insertVideoLog",
      getVideo: "room.channelHandler.getVideo",
      rebuyInTournament: "connector.entryHandler.rebuyInTournament",
      logout: "connector.entryHandler.logout",
      singleLogin: "connector.entryHandler.singleLogin",
      connectionAck2: "connector.entryHandler.acknowledgeIsConnected",
      getBlindAndPrizeForSatellite: "connector.entryHandler.getBlindAndPrizeForSatelliteTournament",
      updateTableSettings: "connector.entryHandler.updateTableSettings",
      fireChannelEvent: "room.channelHandler.channelBroadcast",
      addon: " connector.entryHandler.addOnInTournament",
      updateAutoRebuy: "connector.entryHandler.updateAutoRebuy",
      updateAutoAddon: "connector.entryHandler.updateAutoAddon",
      doubleRebuy: "connector.entryHandler.doubleRebuyInTournament",
      leaveTourney: "connector.entryHandler.leaveTournament",
      getCashDetails: "connector.entryHandler.getCashDetails",
      cashoutRequest: "connector.entryHandler.cashOutForPlayerAffilate",
      updatePreCheckOnServer: "room.channelHandler.updatePrecheck",
      getFreeRollTables: "freeRoom.freeRollChannelHandler.getLobbyDetailsFreeRoll",
      getChannelId: "freeRoom.freeRollChannelHandler.getChannelId",
      joinFreeRoll: "freeRoom.freeRollChannelHandler.joinChannel",
      sendSticker: "room.channelHandler.sendSticker"
    };
    root.K.BuddyAPI = {
      sendFriendRequest: "buddy.buddyHandler.sendFriendRequest",
      getFriendRequests: "buddy.buddyHandler.getFriendRequests",
      acceptFriendRequest: "buddy.buddyHandler.acceptFriendRequest",
      rejectFriendRequest: "buddy.buddyHandler.rejectFriendRequest",
      searchPlayer: "buddy.buddyHandler.searchPlayer",
      getFriendList: "buddy.buddyHandler.getFriendList",
      removeFriend: "buddy.buddyHandler.removeFriend",
      playWithFriend: "buddy.buddyHandler.playWithFriend"
    };
    root.K.BuddyBroadcast = {
      friendRequestReceived: "friendRequestReceived",
      playRequestReceived: "playRequestReceived"
    };
    root.K.TournamentBroadcastRoute = {
      tournamentGameStart: "tournamentGameStart"
    };
    root.K.SocketIOAPI = {
      Lobby: {
        GetAllTableList: "tournamentListEvent|GetAllTableList",
        GetAllTournamentList: "tournamentListEvent|GetAllTournamentList",
        GetSitNGoStages: "tournamentListEvent|GetSitNGoStages",
        GetSitNGoTournamentsInStage: "tournamentListEvent|GetSitNGoTournamentsInStage",
        RegisterSNG: "tournamentLobbyEvent|RegisterSNG",
        RegisterTournament: "tournamentLobbyEvent|Register",
        ReEntryTournament: "tournamentLobbyEvent|ReEntry",
        DeRegisterTournament: "tournamentLobbyEvent|Deregister",
        LateRegisterTournament: "tournamentLobbyEvent|LateRegister",
        TournamentJoinTable: "tournamentGameEvent|joinTable",
        TournamentEnterTable: "tournamentGameEvent|enterTable"
      },
      Game: {
        TournamentResume: "tournamentGameEvent|resume",
        TournamentMakeMove: "tournamentGameEvent|makeMove",
        TournamentPreAction: "tournamentGameEvent|preCheck",
        TournamentChat: "tournamentGameEvent|chat",
        TournamentSitOut: "tournamentGameEvent|sitOut",
        TournamentResetSitout: "tournamentGameEvent|resetSitout",
        TournamentBestHands: "tournamentGameEvent|bestHands",
        TournamentFire: "tournamentGameEvent|channelBroadcast"
      }
    };
    root.K.SocketIOBroadcast = {
      Lobby: {
        TournamentList: "tournamentListResponseEvent",
        TournamentLobbyEvent: "tournamentLobbyEvent",
        TournamentUpdated: "Tournament:Update",
        TournamentRefresh: "Tournament:Refresh",
        TournamentClosed: "Tournament:Closed",
        TournamentBroadcast: "TournamentBroadcast",
        TournamentLobbyResponseEvent: "tournamentLobbyResponseEvent",
        TournamentNewTable: "<TournamentId>:NewTable:<PlayerId>",
        TournamentElimination: "<TournamentId>:Elimination:<PlayerId>"
      },
      Game: {}
    };
    root.K.SocketIOEvent = {
      Lobby: {
        TournamentSelect: "TournamentSelect"
      },
      Game: {
        Eliminated: "Eliminated",
        TournamentWinner: "TournamentWinner",
        BreakTime: "BreakTime",
        TournamentUpdated: "TournamentUpdated",
        TournamentClosed: "TournamentClosed",
        TableDestroyed: "TableDestroyed",
        DisconnectTime: "DisconnectTime"
      }
    };
    root.K.LobbyBroadcastRoute = {
      tableUpdate: "tableUpdate",
      tableView: "tableView",
      joinTableList: "joinTableList",
      updateProfile: "updateProfile",
      removeTable: "removeTable",
      addTable: "addTable",
      tournamentRoomChange: "tournamentRoomChange",
      tournamentTableUpdate: "tournamentTableUpdate",
      tournamentStateChange: "tournamentStateChange",
      tournamentRankUpdate: "tournamentRankUpdate",
      blindUpdated: "blindUpdated",
      tournamentLobby: "tournamentLobby",
      updateMegaPoints: "megaPoints",
      profileImageUpdated: "imageUpload"
    };
    root.K.BroadcastRoute = {
      sit: "sit",
      blindDeduction: "blindDeduction",
      gamePlayers: "gamePlayers",
      dealerrChat: "delaerChat",
      startGame: "startGame",
      turn: "turn",
      roundOver: "roundOver",
      gameOver: "gameOver",
      leave: "leave",
      chat: "chat",
      playerCards: "playerCards",
      playerState: "playerState",
      connectionAck: "connectionAck",
      preCheck: "preCheck",
      playerElimination: "playerElimination",
      playerCoins: "playerCoins",
      playerNewChannel: "playerNewChannelBroadcast",
      bankrupt: "bankrupt",
      avatarChange: "avatarChanged",
      autoJoinBroadcast: "autoJoinBroadcast",
      handTab: "handTab",
      breakTimerStart: "breakTimerStart",
      breakTime: "breakTime",
      ofcFirstRoundCards: "ofcFirstRoundCards",
      rebuyStatus: "rebuyStatus",
      bestHands: "bestHands",
      onTimeBank: "startTimeBank",
      onOnlinePlayers: "onlinePlayers",
      onFireEvent: "fireEvent",
      updateBlind: "updateBlind",
      addonTimeStarts: "addonTimeStarts",
      addonTimeEnds: "addonTimeEnds",
      antiBankingUpdatedData: "antiBankingUpdatedData",
      sendSticker: "sendSticker",
      eliminated: "eliminated",
      tournamentWinner: "tournamentWinner"
    };
    root.K.PlayerBroadcastRoute = {
      playerInfo: "playerInfo",
      connectionAck2: "isConnectedOnLogin"
    };
    root.K.AppVersion = {
      appVersion: "1.14"
    };
    root.K.SystemStorageKeys = {
      userId: "userId",
      password: "password",
      rememberMePreference: "rememberMePreference"
    };
    root.K.GoToTable = false;
    root.K.PPC = true;
    module.exports = {
      K: K
    };
    cc._RF.pop();
  }, {} ],
  GameManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "71df2jj8J9L/qTdWvbRhNaZ", "GameManager");
    "use strict";
    var root = window;
    var userData = require("ResponseTypes").User;
    var Emitter = require("EventEmitter");
    var AvatarSelection = require("AvatarSelection");
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpManager = require("PopUpManager").PopUpManager;
    var GameData = require("ResponseTypes").GameData;
    var OFCGameData = require("OFCResponseTypes").GameData;
    var LoginData = require("PostTypes").Login;
    var JoinData = require("PostTypes").JoinChannel;
    var changeAvatar = require("ResponseTypes").changeAvatar;
    var LoginHandler = require("LoginHandler");
    var BuildType = cc.Enum({
      Android: 0,
      iOS: 1,
      Mac: 2,
      WebMobile: 3,
      WebDesktop: 4,
      Windows: 5,
      None: 100
    });
    cc.Class({
      extends: Emitter,
      properties: {
        loadingDash: {
          default: null,
          type: cc.Node
        },
        webViewContainer: {
          default: null,
          type: cc.Node
        },
        webView: {
          default: null,
          type: cc.WebView
        },
        activeTables: {
          default: null,
          type: cc.Node
        },
        avatarDefault: {
          default: null,
          type: cc.SpriteFrame
        },
        stickerDefault: {
          default: null,
          type: cc.SpriteFrame
        },
        tableDefault: {
          default: null,
          type: cc.SpriteFrame
        },
        tableActDefault: {
          default: null,
          type: cc.SpriteFrame
        },
        tableDeactDefault: {
          default: null,
          type: cc.SpriteFrame
        },
        tableBgDefault: {
          default: null,
          type: cc.SpriteFrame
        },
        cardDefault: {
          default: null,
          type: cc.SpriteFrame
        },
        nop: {
          default: null,
          type: cc.Node
        },
        nol: {
          default: null,
          type: cc.Node
        },
        loginHandler: {
          default: null,
          type: LoginHandler
        },
        user: {
          default: null,
          visible: false
        },
        gameModel: {
          default: null,
          visible: false
        },
        activeTableCount: {
          default: 0
        },
        maxTableCounts: 4,
        deckColor: {
          default: "TwoCardColor"
        },
        tableColor: {
          default: 0
        },
        avatarImages: {
          default: [],
          type: cc.SpriteFrame
        },
        stickerImages: {
          default: [],
          type: cc.SpriteFrame
        },
        tableImages: {
          default: [],
          type: cc.SpriteFrame
        },
        tabActImages: {
          default: [],
          type: cc.SpriteFrame
        },
        tabDeactImages: {
          default: [],
          type: cc.SpriteFrame
        },
        tabActImagesTour: {
          default: [],
          type: cc.SpriteFrame
        },
        tabDeactImagesTour: {
          default: [],
          type: cc.SpriteFrame
        },
        tableBgImages: {
          default: [],
          type: cc.SpriteFrame
        },
        cardBackImages: {
          default: [],
          type: cc.SpriteFrame
        },
        tableImagesTour: {
          default: [],
          type: cc.SpriteFrame
        },
        tableBgImagesTour: {
          default: [],
          type: cc.SpriteFrame
        },
        cardBackImagesTour: {
          default: [],
          type: cc.SpriteFrame
        },
        sounds: {
          default: [],
          type: cc.AudioClip
        },
        avatarPool: {
          default: [],
          type: cc.Node
        },
        avatarPrefab: {
          default: null,
          type: cc.Prefab
        },
        isRealMoney: false,
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        isPokerGame: false,
        isConnected: false,
        onlinePlayers: 0,
        isMobile: false,
        isWindows: false,
        isActive: true,
        isJ: true,
        isP: false,
        isSD: false,
        isBB: false,
        isLoaded: false,
        isForceDisconnection: false,
        needResetUser: false,
        lastClickTime: 0,
        clickInterval: 1e3,
        hideTime: 0,
        tableStartTime: 0,
        tableImage: 0,
        tableBgImage: 0,
        cardBackImage: 0,
        refreshTokenLock: false,
        refreshTokenCB: null,
        getAllAssets: null,
        buddies: [],
        buddyRequestsSent: [],
        buddyRequestsReceived: [],
        JSprites: {
          default: [],
          type: cc.SpriteFrame
        },
        SDSprites: {
          default: [],
          type: cc.SpriteFrame
        },
        PSprites: {
          default: [],
          type: cc.SpriteFrame
        },
        variableLogos: {
          default: [],
          type: cc.Sprite
        },
        BuildType: {
          get: function get() {
            return BuildType;
          },
          visible: false
        },
        buildType: {
          default: BuildType.None,
          type: BuildType
        },
        _visible: {
          get: function get() {
            var e = this.buildType;
            if (e == BuildType.WebDesktop || e == BuildType.WebMobile) return true;
            return false;
          }
        },
        isVisibleLogin: {
          default: true,
          visible: function visible() {
            return this._visible;
          },
          notify: function notify(oldValue) {
            this.visibleLogin.active = !oldValue;
            this.invisibleLogin.active = oldValue;
          }
        },
        visibleLogin: {
          default: null,
          type: cc.Node,
          visible: function visible() {
            return this._visible;
          }
        },
        invisibleLogin: {
          default: null,
          type: cc.Node,
          visible: function visible() {
            return this._visible;
          }
        }
      },
      playSound: function playSound(index) {
        if (!GameManager.isActive) return;
        !GameManager.user || GameManager.user.muteGameSound || ScreenManager.currentScreen == K.ScreenEnum.LoginScreen || cc.audioEngine.playEffect(this.sounds[index], false);
      },
      onEventSound: function onEventSound() {
        this.playSound(K.Sounds.click);
      },
      playMusic: function playMusic(flag) {},
      _orientationCheck: function _orientationCheck() {},
      _orientationChange: function _orientationChange(isPotrait) {},
      onLoad: function onLoad() {
        cc.sys.os !== cc.sys.OS_WINDOWS || cc.sys.isBrowser || (this.isWindows = true);
        cc.debug.setDisplayStats(false);
        root.GameManager = this;
        root.GameScreen = null;
        GameManager.needResetUser = true;
        GameManager.openedWindow = {};
        GameManager.openedWindow2 = {};
        this.isMobile && (ServerCom.reconnectMaxAttempts = 3);
        K.PORTRAIT && cc.view.on("canvas-resize", function() {});
        if (GameManager.isZFold()) {
          cc.find("LobbyHandlerNew", cc.Canvas.instance.node).scale = .65;
          cc.find("Popups/Johnny", cc.Canvas.instance.node).scale = .8;
          cc.find("Launch", cc.Canvas.instance.node).scale = .6;
          cc.find("NewVersionPopup", cc.Canvas.instance.node).scale = .8;
          cc.find("Loading", cc.Canvas.instance.node).scale = .6;
          cc.find("Reconnecting_Johnny", cc.Canvas.instance.node).scale = .6;
          cc.find("LoginPre", cc.Canvas.instance.node).scale = .6;
        }
      },
      init: function init() {
        var _this = this;
        ServerCom.httpGetRequest(K.ServerAddress.assets_server + "/getAllAssets", null, function(response) {
          console.log("getAllAssets", response);
          _this.getAllAssets = response.result;
          _this.generateAvatarPool();
          _this.generateTablePool();
          _this.generateTableBgPool();
          _this.generateCardBackPool();
          _this.generateTourTablePool();
        });
        GameManager.on("onDashboardAddCash", this.onDashboardAddCash.bind(this));
        GameManager.on("enablePageView", this.onEnablePageView.bind(this));
        GameManager.on("disablePageView", this.onDisablePageView.bind(this));
        cc.systemEvent.on("forcedisconnect", this.onForcedisconnect.bind(this));
        ServerCom.pomeloBroadcast("refreshAccessToken", this.onRefreshAccessToken.bind(this));
        ServerCom.pomeloBroadcast("updatePlayerCategory", this.onUpdatePlayerCategory.bind(this));
        ServerCom.pomeloBroadcast(K.PlayerBroadcastRoute.playerInfo, this.onPlayerInfo.bind(this));
        ServerCom.pomeloBroadcast(K.BroadcastRoute.onOnlinePlayers, this.saveOnlinePlayers.bind(this));
        ServerCom.pomeloBroadcast("connector.entryHandler.sendBuddyRequest:receive", this.sendBuddyRequestReceive.bind(this));
        ServerCom.pomeloBroadcast("connector.entryHandler.handleBuddyRequest:receive", this.handleBuddyRequestReceive.bind(this));
        ServerCom.pomeloBroadcast("connector.entryHandler.removeBuddy:receive", this.removeBuddyReceive.bind(this));
        ServerCom.pomeloBroadcast("connector.entryHandler.inviteBuddy:receive", this.inviteBuddyReceive.bind(this));
        ServerCom.pomeloBroadcast("updatePlayerImageInTable", this.updatePlayerImageInTable.bind(this));
        ServerCom.pomeloBroadcast("notice", this.onAdminNotice.bind(this));
        ServerCom.pomeloBroadcast("adminBroadcast", this.onAdminNotice.bind(this));
        cc.systemEvent.on("buddyResponseEvent", this.buddyResponseEvent.bind(this));
        ServerCom.pomeloBroadcast(K.PlayerBroadcastRoute.connectionAck2, function(response) {
          !response.data || !response.data.channelId || GameManager.emit("connectionAcknowledged", response.data.channelId);
          response.data.access_token = K.Token.access_token;
          ServerCom.pomeloRequest(K.PomeloAPI.connectionAck2, {
            playerId: GameManager.user.playerId,
            data: response.data,
            access_token: K.Token.access_token
          }, function(response) {}, null, 5e3, false);
        });
        ServerCom.pomeloBroadcast(K.BuddyBroadcast.playRequestReceived, function(response) {
          GameManager.popUpManager.show(PopUpType.InviteToPlayPopup, response, function() {});
        });
        ServerCom.pomeloBroadcast(K.BroadcastRoute.autoJoinBroadcast, function(data) {
          var val = !GameScreen || !GameScreen.node.active || !GameScreen.isAlreadyJoined(data.channelId);
          if (val) {
            var newData = new JoinData(data);
            data.callback = function() {
              if (!newData.channelId) {
                var _pop = GameManager.join(newData.tableId, K.PomeloAPI.joinChannel, newData);
                _pop && GameManager.emit("openBuyInPopup", data.channelId);
              } else {
                newData.tableId = "";
                var pop = GameManager.join(newData.channelId, K.PomeloAPI.joinChannel, newData);
                pop && GameManager.emit("openBuyInPopup", data.channelId);
              }
            };
            data.joinData = newData;
            GameManager.popUpManager.show(PopUpType.JoinGamePopup, data, function() {});
          } else !!GameScreen && GameScreen.isAlreadyJoined(data.channelId) && GameManager.emit("openBuyInPopup", data.channelId);
        });
        this.playerRequestedToLeaveTable = {};
        if (this.isMobile || cc.sys.isNative) {
          cc.game.on(cc.game.EVENT_HIDE, function() {
            console.log("cc.game.EVENT_HIDE");
            GameManager.isActive = false;
            GameManager.hideTime = Date.now();
          }.bind(this));
          cc.game.on(cc.game.EVENT_SHOW, function() {
            console.log("cc.game.EVENT_SHOW1");
            if (GameManager.isActive) return;
            if (ScreenManager.currentScreen == K.ScreenEnum.LoginScreen || ScreenManager.currentScreen == K.ScreenEnum.SignupScreen) return;
            console.log("cc.game.EVENT_SHOW2");
            GameManager.isActive = true;
            var diff = Date.now() - GameManager.hideTime;
            console.log("cc.game.EVENT_SHOW3", diff);
            if (diff < 5e3) return;
            if (diff > 18e5) {
              console.log("cc.game.EVENT_SHOW4");
              cc.sys.localStorage.setItem("auto_login_token", null);
              cc.sys.localStorage.setItem("auto_login_refresh_token", null);
              cc.sys.localStorage.setItem("auto_login_access_token_expire_at", null);
              cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", null);
              cc.sys.localStorage.setItem("auto_login_username", null);
              GameManager.isConnected = false;
              GameManager.popUpManager.hideAllPopUps();
              var param = {
                code: K.Error.SessionError,
                response: "Session expired, please login again."
              };
              GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
              return;
            }
            if (null != cc.sys.localStorage.getItem("auto_login_token")) {
              var diff2 = Number(cc.sys.localStorage.getItem("auto_login_access_token_expire_at") - Date.now() / 1e3);
              console.log("cc.game.EVENT_SHOW5", diff2);
              if (diff2 < 60) {
                cc.sys.localStorage.setItem("auto_login_token", null);
                cc.sys.localStorage.setItem("auto_login_refresh_token", null);
                cc.sys.localStorage.setItem("auto_login_access_token_expire_at", null);
                cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", null);
                cc.sys.localStorage.setItem("auto_login_username", null);
                GameManager.isConnected = false;
                GameManager.popUpManager.hideAllPopUps();
                var param = {
                  code: K.Error.SessionError,
                  response: "Session expired, please login again."
                };
                GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
                return;
              }
            }
            console.log("cc.game.EVENT_SHOW6");
            if (!ServerCom.inGame) {
              LoginScreen.preLogin.active = false;
              return;
            }
            console.log("cc.game.EVENT_SHOW7");
            if (diff > 3e4) {
              console.log("cc.game.EVENT_SHOW8");
              LoginScreen.preLogin.active = true;
              LoginScreen.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
              if (GameManager.user && GameManager.user.playerId) {
                ServerCom.pomeloRequest("connector.entryHandler.disconnectfrombe", {
                  playerId: GameManager.user.playerId,
                  isLoggedIn: false
                });
                socketIO.socket.disconnect();
                socketIO.socket.connect();
                return;
              }
              LoginScreen.preLogin.active = false;
              return;
            }
            console.log("cc.game.EVENT_SHOW9");
            LoginScreen.preLogin.active = true;
            LoginScreen.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
            console.log("cc.game.EVENT_SHOW10");
            if (this.gameModel.activePokerModels.length > 0) {
              var reloadFlag = false;
              for (var index = 0; index < this.gameModel.activePokerModels.length; index++) {
                var pMod = this.gameModel.activePokerModels[index];
                reloadFlag = true;
              }
              if (!reloadFlag) {
                LoginScreen.preLogin.active = false;
                return;
              }
            }
            console.log("rajatk", ScreenManager.currentScreen);
            if (ScreenManager.currentScreen == K.ScreenEnum.GamePlayScreen || ScreenManager.currentScreen == K.ScreenEnum.LobbyScreen) {
              window.GameScreen && (LoginScreen.preLogin.active = false);
              GameManager.isConnected = false;
              K.disconnectRequestedByPlayer = true;
              var ifSettingPopupOpening = GameManager.popUpManager.checkIfPopupTypeActive(PopUpType.GamePreferencesPopup);
              GameManager.popUpManager.hideAllPopUps();
              GameManager.popUpManager.hide(PopUpType.DisconnectDialog, function() {});
              console.log("@@@@@@ LoginScreen.clientInit(true);");
              LoginScreen.preLogin.active = true;
              LoginScreen.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
              GameManager.isForceDisconnection = true;
              ServerCom.pomeloRequest("connector.entryHandler.disconnectfrombe", {
                playerId: GameManager.user.playerId,
                isLoggedIn: false
              });
              socketIO.socket.disconnect();
              socketIO.socket.connect();
              LoginScreen.preLogin.active = true;
              ifSettingPopupOpening && GameManager.popUpManager.show(PopUpType.GamePreferencesPopup, null, function() {});
            } else if ((ScreenManager.currentScreen === K.ScreenEnum.LoginScreen || ScreenManager.currentScreen === K.ScreenEnum.SignupScreen) && window.LoginScreen) {
              GameManager.isConnected = false;
              K.disconnectRequestedByPlayer = true;
              GameManager.popUpManager.hide(PopUpType.DisconnectDialog, function() {});
              window.LoginScreen.clientInit(false, true);
            }
          }.bind(this));
          if (GameManager.isMobile) {
            window.BackPressed = {
              javaCallJs: function javaCallJs(param) {
                console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!! BackPressed", param);
                if (ScreenManager.currentScreen == K.ScreenEnum.GamePlayScreen) {
                  var text = LocalizedManager.t("TXT_HINT_BACK_LOBBY");
                  GameManager.popUpManager.show(PopUpType.NotificationPopup, text, function() {});
                } else if (ScreenManager.currentScreen == K.ScreenEnum.LobbyScreen) {
                  var lobbyPresenter = ScreenManager.screens[ScreenManager.currentScreen];
                  console.log(lobbyPresenter);
                  console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!! BackPressed1");
                  if (-1e4 != lobbyPresenter.webViewContainer.x) lobbyPresenter.onClose(); else if (lobbyPresenter.lbNode.active) lobbyPresenter.hideLB(); else if (lobbyPresenter.scrollViewNode.active || 0 == lobbyPresenter.roomTable.scale) if (lobbyPresenter.cashierTable.active) lobbyPresenter.onBackLobby2(); else if (lobbyPresenter.tournamentLobbyDetail.active) lobbyPresenter.tournamentLobbyDetail.active = false; else {
                    console.log("!!!!!!!!!!!!!!!!!!!!!!!!!!! BackPressed33", param);
                    GameManager.popUpManager.show(PopUpType.OnLogOutPopup, false, function() {});
                  } else lobbyPresenter.onBackLobby();
                } else ScreenManager.currentScreen == K.ScreenEnum.LoginScreen ? GameManager.popUpManager.show(PopUpType.OnLogOutPopup, true, function() {}) : ScreenManager.currentScreen == K.ScreenEnum.SignupScreen ? ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}) : GameManager.popUpManager.currentPopUp == PopUpType.ForgotPasswordPopUp && GameManager.popUpManager.hide(PopUpType.ForgotPasswordPopUp, function() {});
              },
              sms: function sms(text) {
                console.log("sms", text);
              }
            };
            cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, function(event) {
              switch (event.keyCode) {
               case cc.macro.KEY.back:
               case cc.macro.KEY.escape:
                if (ScreenManager.currentScreen == K.ScreenEnum.GamePlayScreen) {
                  var text = LocalizedManager.t("TXT_HINT_BACK_LOBBY");
                  GameManager.popUpManager.show(PopUpType.NotificationPopup, text, function() {});
                } else if (ScreenManager.currentScreen == K.ScreenEnum.LobbyScreen) {
                  var lobbyPresenter = ScreenManager.screens[ScreenManager.currentScreen];
                  console.log(lobbyPresenter);
                  -1e4 != lobbyPresenter.webViewContainer.x ? lobbyPresenter.onClose() : lobbyPresenter.lbNode.active ? lobbyPresenter.hideLB() : lobbyPresenter.cashierTable.active ? lobbyPresenter.onBackLobby2() : lobbyPresenter.tournamentLobbyDetail.active ? lobbyPresenter.tournamentLobbyDetail.active = false : GameManager.popUpManager.show(PopUpType.OnLogOutPopup, false, function() {});
                } else ScreenManager.currentScreen == K.ScreenEnum.LoginScreen ? GameManager.popUpManager.show(PopUpType.OnLogOutPopup, true, function() {}) : ScreenManager.currentScreen == K.ScreenEnum.SignupScreen ? ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}) : GameManager.popUpManager.currentPopUp == PopUpType.ForgotPasswordPopUp && GameManager.popUpManager.hide(PopUpType.ForgotPasswordPopUp, function() {});
              }
            }.bind(this), this);
          }
        }
        this.registerImageUploadEvents();
      },
      onEnablePageView: function onEnablePageView() {},
      onDisablePageView: function onDisablePageView() {},
      manageByGameName: function manageByGameName() {},
      onUpdatePlayerCategory: function onUpdatePlayerCategory(data) {
        GameManager.popUpManager.show(PopUpType.UpdateCategory, data);
      },
      listenPomeloBroadcasts: function listenPomeloBroadcasts() {
        this.gameModel.listenPomeloBroadcasts();
      },
      registerImageUploadEvents: function registerImageUploadEvents() {
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.profileImageUpdated, function(response) {
          if (response.success && 200 == response.code) {
            var profileData = {
              query: {
                playerId: "hsdfhd"
              },
              updateKeys: {
                profileImage: "0"
              }
            };
            var data = profileData;
            data.query.playerId = GameManager.user.playerId;
            data.updateKeys.profileImage = response.data.url;
            GameManager.user.profileImage = WebImageUpload.base64Data;
            GameManager.user.urlImg = changeAvatar(response.data.url, GameManager.user);
            ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(response2) {
              response2.success;
            }.bind(this));
          }
        }.bind(this));
      },
      saveOnlinePlayers: function saveOnlinePlayers(playersdata) {
        this.onlinePlayers = playersdata.data.onlinePlayers;
        GameManager.emit("onlinePlayers", null);
      },
      onRefreshAccessToken: function onRefreshAccessToken(response) {
        response.data ? K.Token.access_token = response.data.access_token : K.Token.access_token = response.access_token;
      },
      onForcedisconnect: function onForcedisconnect(response) {
        cc.sys.localStorage.setItem("auto_login_token", null);
        cc.sys.localStorage.setItem("auto_login_refresh_token", null);
        cc.sys.localStorage.setItem("auto_login_access_token_expire_at", null);
        cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", null);
        var param = {
          code: K.Error.PlayerSessionShiftedOnServer,
          errorType: 9999,
          response: LocalizedManager.t("TXT_LOGGED_IN_OTHER_DEVICE")
        };
        this.popUpManager.hideAllPopUps();
        this.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
      },
      onPlayerInfo: function onPlayerInfo(response) {
        GameManager.emit("playerInfo", response);
        if (!!response.serverDown && response.serverDown) {
          var param = {
            code: K.Error.ServerDown,
            response: response.info,
            heading: response.heading,
            preserveState: true
          };
          this.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
          return;
        }
        if (!!response.channelId && !!GameScreen && ScreenManager.currentScreen == K.ScreenEnum.GamePlayScreen) for (var index = 0; index < GameScreen.gameModel.activePokerModels.length; index++) if (response.channelId === GameScreen.gameModel.activePokerModels[index].gameData.channelId) {
          GameScreen.gameModel.activePokerModels[index].popUpManager.show(2, response, function() {});
          return;
        }
        this.popUpManager.show(PopUpType.PlayerInfoPopup, response, function() {});
      },
      loadAvatar: function loadAvatar(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          var poolObject = cc.instantiate(self.avatarPrefab);
          if (!err) {
            self.avatarImages[index] = new cc.SpriteFrame(tex);
            poolObject.getComponent(AvatarSelection).setAvatarImg(new cc.SpriteFrame(tex), index);
          } else {
            self.avatarImages[index] = self.avatarDefault;
            poolObject.getComponent(AvatarSelection).setAvatarImg(self.avatarImages[index], index);
          }
          poolObject.active = false;
          self.avatarPool.push(poolObject);
          cb && cb(index + 1, data);
        });
      },
      loadNext: function loadNext(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + data[index].path;
          this.loadAvatar(avatarUrl, this.loadNext.bind(this), index, data);
        }
      },
      loadEmoji: function loadEmoji(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.stickerImages[index] = new cc.SpriteFrame(tex);
            self.stickerImages[index].___id = data[index]._id;
            self.stickerImages[index].___data = data[index];
          } else {
            self.stickerImages[index] = self.stickerDefault;
            self.stickerImages[index].___id = 1;
            self.stickerImages[index].___data = data[index];
          }
          cb && cb(index + 1, data);
        });
      },
      loadNextEmoji: function loadNextEmoji(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + data[index].path;
          this.loadEmoji(avatarUrl, this.loadNextEmoji.bind(this), index, data);
        }
      },
      loadTable: function loadTable(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.tableImages[index] = new cc.SpriteFrame(tex);
            self.tableImages[index].___id = data[index]._id;
            self.tableImages[index].___data = data[index];
            self.tableImages[index].___data.___id = index;
          } else {
            self.tableImages[index] = self.tableDefault;
            self.tableImages[index].___id = 0;
            self.tableImages[index].___data = data[index];
            self.tableImages[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadTableAct: function loadTableAct(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.tabActImages[index] = new cc.SpriteFrame(tex);
            self.tabActImages[index].___id = data[index]._id;
            self.tabActImages[index].___data = data[index];
            self.tabActImages[index].___data.___id = index;
          } else {
            self.tabActImages[index] = self.tableActDefault;
            self.tabActImages[index].___id = 0;
            self.tabActImages[index].___data = data[index];
            self.tabActImages[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadTableDeact: function loadTableDeact(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.tabDeactImages[index] = new cc.SpriteFrame(tex);
            self.tabDeactImages[index].___id = data[index]._id;
            self.tabDeactImages[index].___data = data[index];
            self.tabDeactImages[index].___data.___id = index;
          } else {
            self.tabDeactImages[index] = self.tableDeactDefault;
            self.tabDeactImages[index].___id = 0;
            self.tabDeactImages[index].___data = data[index];
            self.tabDeactImages[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadTourTable: function loadTourTable(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.tableImagesTour[index] = new cc.SpriteFrame(tex);
            self.tableImagesTour[index].___id = data[index]._id;
            self.tableImagesTour[index].___data = data[index];
            self.tableImagesTour[index].___data.___id = index;
          } else {
            self.tableImagesTour[index] = self.tableDefault;
            self.tableImagesTour[index].___id = 0;
            self.tableImagesTour[index].___data = data[index];
            self.tableImagesTour[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadNextTable: function loadNextTable(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + (GameManager.isMobile ? data[index].path : data[index].pathDesktop);
          this.loadTable(avatarUrl, this.loadNextTable.bind(this), index, data);
        }
      },
      loadNextTableAct: function loadNextTableAct(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + data[index].tabActive;
          this.loadTableAct(avatarUrl, this.loadNextTableAct.bind(this), index, data);
        }
      },
      loadNextTableDeact: function loadNextTableDeact(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + data[index].tabDeactive;
          this.loadTableDeact(avatarUrl, this.loadNextTableDeact.bind(this), index, data);
        }
      },
      loadNextTourTable: function loadNextTourTable(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + data[index].pathDesktop;
          this.loadTourTable(avatarUrl, this.loadNextTourTable.bind(this), index, data);
        }
      },
      loadTableBg: function loadTableBg(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.tableBgImages[index] = new cc.SpriteFrame(tex);
            self.tableBgImages[index].___id = data[index]._id;
            self.tableBgImages[index].___data = data[index];
            self.tableBgImages[index].___data.___id = index;
          } else {
            self.tableBgImages[index] = self.tableBgDefault;
            self.tableBgImages[index].___id = 0;
            self.tableBgImages[index].___data = data[index];
            self.tableBgImages[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadTourTableBg: function loadTourTableBg(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.tableBgImagesTour[index] = new cc.SpriteFrame(tex);
            self.tableBgImagesTour[index].___id = data[index]._id;
            self.tableBgImagesTour[index].___data = data[index];
            self.tableBgImagesTour[index].___data.___id = index;
          } else {
            self.tableBgImagesTour[index] = self.tableBgDefault;
            self.tableBgImagesTour[index].___id = 0;
            self.tableBgImagesTour[index].___data = data[index];
            self.tableBgImagesTour[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadNextTableBg: function loadNextTableBg(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + (GameManager.isMobile ? data[index].path : data[index].pathDesktop);
          this.loadTableBg(avatarUrl, this.loadNextTableBg.bind(this), index, data);
        }
      },
      loadNextTourTableBg: function loadNextTourTableBg(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + (GameManager.isMobile ? data[index].path : data[index].pathDesktop);
          this.loadTourTableBg(avatarUrl, this.loadNextTourTableBg.bind(this), index, data);
        }
      },
      loadCardBack: function loadCardBack(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.cardBackImages[index] = new cc.SpriteFrame(tex);
            self.cardBackImages[index].___id = data[index]._id;
            self.cardBackImages[index].___data = data[index];
            self.cardBackImages[index].___data.___id = index;
          } else {
            self.cardBackImages[index] = self.cardDefault;
            self.cardBackImages[index].___id = 0;
            self.cardBackImages[index].___data = data[index];
            self.cardBackImages[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadTourCardBack: function loadTourCardBack(avatarUrl, cb, index, data) {
        var self = this;
        cc.loader.load(avatarUrl + "", function(err, tex) {
          if (!err) {
            self.cardBackImagesTour[index] = new cc.SpriteFrame(tex);
            self.cardBackImagesTour[index].___id = data[index]._id;
            self.cardBackImagesTour[index].___data = data[index];
            self.cardBackImagesTour[index].___data.___id = index;
          } else {
            self.cardBackImagesTour[index] = self.cardDefault;
            self.cardBackImagesTour[index].___id = 0;
            self.cardBackImagesTour[index].___data = data[index];
            self.cardBackImagesTour[index].___data.___id = 0;
          }
          cb && cb(index + 1, data);
        });
      },
      loadNextCardBack: function loadNextCardBack(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + data[index].path;
          this.loadCardBack(avatarUrl, this.loadNextCardBack.bind(this), index, data);
        }
      },
      loadNextTourCardBack: function loadNextTourCardBack(index, data) {
        if (data[index]) {
          var avatarUrl = K.ServerAddress.assets_server_s + data[index].path;
          this.loadTourCardBack(avatarUrl, this.loadNextTourCardBack.bind(this), index, data);
        }
      },
      generateAvatarPool: function generateAvatarPool() {
        var poolObject = null;
        var self = this;
        var response = this.getAllAssets.getAllPlayerAvatar;
        var avatarUrl = K.ServerAddress.assets_server_s + response.result[0].path;
        self.loadAvatar(avatarUrl, self.loadNext.bind(self), 0, response.result);
      },
      generateStickerPool: function generateStickerPool() {
        var self = this;
        var response = this.getAllAssets.getAllEmojis;
        var avatarUrl = K.ServerAddress.assets_server_s + response.result[0].path;
        self.loadEmoji(avatarUrl, self.loadNextEmoji.bind(self), 0, response.result);
      },
      generateTablePool: function generateTablePool() {
        var self = this;
        var response = this.getAllAssets.getAllTableTheme;
        var avatarUrl = K.ServerAddress.assets_server_s + (GameManager.isMobile ? response.result[0].path : response.result[0].pathDesktop);
        self.loadTable(avatarUrl, self.loadNextTable.bind(self), 0, response.result);
      },
      generateTableBgPool: function generateTableBgPool() {
        var self = this;
        var response = this.getAllAssets.getAllGamePlayerBG;
        var avatarUrl = K.ServerAddress.assets_server_s + (GameManager.isMobile ? response.result[0].path : response.result[0].pathDesktop);
        self.loadTableBg(avatarUrl, self.loadNextTableBg.bind(self), 0, response.result);
      },
      generateCardBackPool: function generateCardBackPool() {
        var self = this;
        var response = this.getAllAssets.getAllBackCard;
        var avatarUrl = K.ServerAddress.assets_server_s + response.result[0].path;
        self.loadCardBack(avatarUrl, self.loadNextCardBack.bind(self), 0, response.result);
      },
      generateTourTablePool: function generateTourTablePool() {
        var self = this;
        var response = this.getAllAssets.getAllTableTheme;
        var avatarUrl = K.ServerAddress.assets_server_s + response.result[0].pathDesktop;
        self.loadTourTable(avatarUrl, self.loadNextTourTable.bind(self), 0, response.result);
      },
      generateTourTableBgPool: function generateTourTableBgPool() {
        var self = this;
        var response = this.getAllAssets.getAllTourGamePlayBG;
        var avatarUrl = K.ServerAddress.assets_server_s + (GameManager.isMobile ? response.result[0].path : response.result[0].pathDesktop);
        self.loadTourTableBg(avatarUrl, self.loadNextTourTableBg.bind(self), 0, response.result);
      },
      generateTourCardBackPool: function generateTourCardBackPool() {
        var self = this;
        var response = this.getAllAssets.getAllTourBackCard;
        var avatarUrl = K.ServerAddress.assets_server_s + response.result[0].path;
        self.loadTourCardBack(avatarUrl, self.loadNextTourCardBack.bind(self), 0, response.result);
      },
      setUserData: function setUserData(data) {
        if (GameManager.needResetUser) {
          this.user = new userData(data);
          GameManager.needResetUser = false;
        }
      },
      fireOpenTableEvent: function fireOpenTableEvent(channelData, channel) {
        this.emit("OpenTable", channelData, channel);
      },
      verifyTable: function verifyTable(_id, checkExisting, checkTournament, isRejoin, data) {
        void 0 === checkExisting && (checkExisting = true);
        void 0 === checkTournament && (checkTournament = false);
        void 0 === isRejoin && (isRejoin = false);
        void 0 === data && (data = null);
        null != root.GameScreen && (GameManager.isMobile ? GameManager.activeTableCount = root.GameScreen.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = root.GameScreen.gridParent.children.length);
        var isExisting = false;
        var indexFound = -1;
        for (var index = 0; index < this.gameModel.activePokerModels.length; index++) {
          var id = this.gameModel.activePokerModels[index].roomConfig._id;
          checkTournament && (id = this.gameModel.activePokerModels[index].roomConfig.tableId);
          if (_id === id) {
            indexFound = index;
            isExisting = true;
          }
        }
        isExisting = isExisting && checkExisting;
        if (isRejoin && isExisting) {
          data.isRejoin = true;
          return true;
        }
        data.isRejoin = false;
        if (isExisting) {
          LoginScreen.preLogin.active = false;
          ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, indexFound, function() {});
          return false;
        }
        if (null === _id || void 0 === _id) return false;
        if (GameManager.activeTableCount > 0) {
          if (GameManager.activeTableCount >= GameManager.maxTableCounts) {
            GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
            return false;
          }
          if (!K.multiTableJoin) return false;
        }
        return true;
      },
      verifyTablePrivate: function verifyTablePrivate(_id) {
        null != root.GameScreen ? GameManager.isMobile ? GameManager.activeTableCount = root.GameScreen.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = root.GameScreen.gridParent.children.length : GameManager.activeTableCount = 0;
        var isExisting = false;
        var indexFound = -1;
        for (var index = 0; index < this.gameModel.activePokerModels.length; index++) {
          var id = this.gameModel.activePokerModels[index].roomConfig._id;
          if (_id === id) {
            indexFound = index;
            isExisting = true;
          }
        }
        if (isExisting) {
          ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, indexFound, function() {});
          return false;
        }
        if (GameManager.activeTableCount > 0 && GameManager.activeTableCount >= GameManager.maxTableCounts) {
          GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
          return false;
        }
        return true;
      },
      getTimeByMilli: function getTimeByMilli(milli) {
        var date = new Date(milli);
        return date.toDateString().split(" ")[1] + " " + date.toDateString().split(" ")[2] + " " + date.toTimeString().split(" ")[0].slice(0, date.toTimeString().lastIndexOf(":"));
      },
      getTimeDuration: function getTimeDuration(milli, showSeconds) {
        void 0 === showSeconds && (showSeconds = true);
        var date = new Date();
        milli = parseInt(milli);
        date.getTime() < milli && (milli -= date.getTime());
        var secs = milli / 1e3;
        var days = parseInt(secs / 86400);
        secs %= 86400;
        var hours = parseInt(secs / 3600);
        secs %= 3600;
        var mins = parseInt(secs / 60);
        secs = parseInt(secs % 60);
        var result = "";
        days > 0 && (result += parseInt(days) + " days ");
        hours > 0 && (result += parseInt(hours) + " hours ");
        mins > 0 && (result += parseInt(mins) + " mins ");
        showSeconds && (result += parseInt(secs) + " secs ");
        return result;
      },
      getMTimeDurationEx: function getMTimeDurationEx(milli, showSeconds) {
        void 0 === showSeconds && (showSeconds = true);
        var date = new Date();
        milli = parseInt(milli);
        date.getTime() < milli ? milli -= date.getTime() : milli = 0;
        var secs = milli / 1e3;
        var days = parseInt(secs / 86400);
        secs %= 86400;
        var hours = parseInt(secs / 3600);
        secs %= 3600;
        var mins = parseInt(secs / 60);
        secs = parseInt(secs % 60);
        var result = "";
        result += parseInt(secs).toString().padStart(2, "0");
        return result;
      },
      getMTimeDuration: function getMTimeDuration(milli, showSeconds) {
        void 0 === showSeconds && (showSeconds = true);
        var date = new Date();
        milli = parseInt(milli);
        date.getTime() < milli ? milli -= date.getTime() : milli = 0;
        var secs = milli / 1e3;
        var days = parseInt(secs / 86400);
        secs %= 86400;
        var hours = parseInt(secs / 3600);
        secs %= 3600;
        var mins = parseInt(secs / 60);
        secs = parseInt(secs % 60);
        var result = "";
        days > 0 && (result += parseInt(days) + ":");
        hours > 0 && (result += parseInt(hours) + ":");
        mins > 0 || true, result += parseInt(mins).toString().padStart(2, "0") + ":";
        showSeconds && (result += parseInt(secs).toString().padStart(2, "0"));
        return result;
      },
      getMTimeDuration2: function getMTimeDuration2(milli, showSeconds) {
        void 0 === showSeconds && (showSeconds = true);
        var date = new Date();
        milli = parseInt(milli);
        date.getTime() < milli ? milli -= date.getTime() : milli = 0;
        var secs = milli / 1e3;
        var days = parseInt(secs / 86400);
        secs %= 86400;
        var hours = parseInt(secs / 3600);
        secs %= 3600;
        var mins = parseInt(secs / 60);
        secs = parseInt(secs % 60);
        var result = "";
        days > 0 && (result += parseInt(days) + ":");
        hours > 0 && (result += parseInt(hours) + ":");
        mins > 0 || true, result += parseInt(mins).toString().padStart(2, "0") + ":";
        showSeconds && (result += parseInt(secs).toString().padStart(2, "0"));
        return result;
      },
      getMTimeDuration3: function getMTimeDuration3(milli, showSeconds) {
        void 0 === showSeconds && (showSeconds = true);
        var date = new Date();
        milli = parseInt(milli);
        milli = date.getTime() > milli ? date.getTime() - milli : 0;
        var secs = milli / 1e3;
        var days = parseInt(secs / 86400);
        secs %= 86400;
        var hours = parseInt(secs / 3600);
        secs %= 3600;
        var mins = parseInt(secs / 60);
        secs = parseInt(secs % 60);
        var result = "";
        days > 0 && (result += parseInt(days) + ":");
        hours > 0 && (result += parseInt(hours) + ":");
        mins > 0 || true, result += parseInt(mins).toString().padStart(2, "0") + ":";
        showSeconds && (result += parseInt(secs).toString().padStart(2, "0"));
        return result;
      },
      getTimePassed: function getTimePassed(milli, showSeconds) {
        void 0 === showSeconds && (showSeconds = true);
        milli = new Date(milli);
        var date = new Date();
        if (date.getTime() < milli) return "0 second";
        milli = date.getTime() - milli;
        var secs = milli / 1e3;
        var days = parseInt(secs / 86400);
        secs %= 86400;
        var hours = parseInt(secs / 3600);
        secs %= 3600;
        var mins = parseInt(secs / 60);
        secs = parseInt(secs % 60);
        var result = "";
        days > 0 && (result += parseInt(days) + " days ");
        hours > 0 && (result += parseInt(hours) + " hours ");
        mins > 0 && (result += parseInt(mins) + " mins ");
        "" == result && (result += "Less than 1 min ");
        return result.trim();
      },
      getJohnnyTimeDuration: function getJohnnyTimeDuration(milli, showSeconds) {
        void 0 === showSeconds && (showSeconds = true);
        var date = new Date();
        milli = parseInt(milli);
        date.getTime() < milli && (milli -= date.getTime());
        var secs = milli / 1e3;
        var days = parseInt(secs / 86400);
        secs %= 86400;
        var hours = parseInt(secs / 3600);
        secs %= 3600;
        var mins = parseInt(secs / 60);
        secs = parseInt(secs % 60);
        var result = "";
        days > 0 && (result += parseInt(days) + ":");
        hours > 0 && (result += parseInt(hours) + ":");
        mins > 0 || true, result += parseInt(mins).toString().padStart(2, "0") + ":";
        showSeconds && (result += parseInt(secs).toString().padStart(2, "0"));
        return result;
      },
      join: function join(_id, route, data, onSuccess, onFail, iterationOfJoinsFromLoginScreen, totalJoinsFromLoginScreen, isRejoin) {
        void 0 === iterationOfJoinsFromLoginScreen && (iterationOfJoinsFromLoginScreen = null);
        void 0 === totalJoinsFromLoginScreen && (totalJoinsFromLoginScreen = null);
        void 0 === isRejoin && (isRejoin = false);
        console.trace("onGo join");
        GameManager.iterationOfJoinsFromLoginScreen = iterationOfJoinsFromLoginScreen;
        GameManager.totalJoinsFromLoginScreen = totalJoinsFromLoginScreen;
        if (GameManager.verifyTable(_id, true, data.tableId == _id, isRejoin, data)) {
          onSuccess = onSuccess || (data.isRejoin ? this.onJoinSuccess2 : this.onJoinSuccess);
          onFail = onFail || this.onJoinFail;
          data.playerId = GameManager.user.playerId;
          data.playerName = GameManager.user.userName;
          data.networkIp = LoginData.ipV4Address;
          if (null != iterationOfJoinsFromLoginScreen && 1 === iterationOfJoinsFromLoginScreen) {
            GameManager.joinResponseCounter = totalJoinsFromLoginScreen;
            GameManager.joinSuccessResponseCounter = 0;
            GameManager.joinFailResponseCounter = 0;
            GameManager.joinFailResponses = [];
          }
          if ("true" == data.isPrivateTable) {
            var privateData = {
              route: route,
              data: data,
              onSuccess: onSuccess,
              onFail: onFail
            };
            GameManager.popUpManager.show(PopUpType.EnterPasswordPopup, privateData, function() {});
            return false;
          }
          ServerCom.forceKeepLoading = true;
          ServerCom.pomeloRequest(route, data, onSuccess, onFail, null, false);
          return false;
        }
        return true;
      },
      join2: function join2(_id, route, data) {
        if (!GameManager.isMobile && !K.GoToTable) {
          window.versions["new"]({
            name: _id,
            url: "?GoToTable=1&accesstoken=" + K.Token.access_token + "&channelid=" + _id + "&playerId=" + GameManager.user.playerId + "&playerName=" + GameManager.user.userName + "&networkIp=" + LoginData.ipV4Address + "&realChips=" + GameManager.user.realChips
          });
          return;
        }
        ServerCom.forceKeepLoading = true;
        ServerCom.pomeloRequest(route, data, this.onJoinSuccess.bind(this), this.onJoinFail.bind(this), null, false);
      },
      onJoinSuccess: function onJoinSuccess(response, data) {
        ServerCom.launch.active = false;
        if (GameManager.activeTableCount >= GameManager.maxTableCounts) {
          GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          return;
        }
        !GameManager.iterationOfJoinsFromLoginScreen || GameManager.joinResponseCounter--;
        var isDisplay = void 0 === response.isDisplay || null === response.isDisplay || response.isDisplay;
        if (response.success) {
          !GameManager.iterationOfJoinsFromLoginScreen || GameManager.joinSuccessResponseCounter++;
          if (response.roomConfig) {
            "Open Face Chinese Poker" === response.roomConfig.channelVariation ? response.gameData = new OFCGameData(response) : response.gameData = new GameData(response);
            response.gameData.channelType = response.roomConfig.channelType;
            if (response.roomConfig.channelType == K.ChannelType.Tournament) {
              response.type = 1;
              response.roomConfig.isRebuyOpened = !(!data || !data.isRebuyOpened) && data.isRebuyOpened;
            }
            ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, response, function() {});
            return;
          }
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
        } else if (isDisplay) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          if (!!GameManager.iterationOfJoinsFromLoginScreen) {
            GameManager.joinFailResponseCounter++;
            GameManager.joinFailResponses.push(response);
          }
        } else {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          if (!!GameManager.iterationOfJoinsFromLoginScreen) {
            GameManager.joinFailResponseCounter++;
            GameManager.joinFailResponses.push(response);
          }
          ScreenManager.showScreen(K.ScreenEnum.LobbyScreen, 10, function() {}, false);
        }
        ServerCom.forceKeepLoading = false;
        ServerCom.loading.active = false;
        if (!!GameManager.iterationOfJoinsFromLoginScreen && !!GameManager.joinResponseCounter == !!0) if (GameManager.joinSuccessResponseCounter == GameManager.totalJoinsFromLoginScreen) ; else if (GameManager.joinSuccessResponseCounter > 0) {
          if (1 == GameManager.joinFailResponses.length) {
            var param = {
              code: K.Error.SuccessFalseError,
              response: GameManager.joinFailResponses[0].info,
              channelId: GameManager.joinFailResponses[0].channelId || "",
              isRetry: void 0 !== response.isRetry && null !== response.isRetry && response.isRetry
            };
            ServerCom.emit("error", param);
          } else if (GameManager.joinFailResponses.length > 1) {
            var param = {
              code: K.Error.SuccessFalseError,
              response: GameManager.joinFailResponses[0].info,
              channelId: GameManager.joinFailResponses[0].channelId || "",
              isRetry: void 0 !== response.isRetry && null !== response.isRetry && response.isRetry
            };
            ServerCom.emit("error", param);
          }
        } else if (!!GameManager.joinSuccessResponseCounter == !!0) {
          var param = {
            code: K.Error.SuccessFalseError,
            response: GameManager.joinFailResponses[0].info,
            channelId: GameManager.joinFailResponses[0].channelId || "",
            isRetry: void 0 !== response.isRetry && null !== response.isRetry && response.isRetry
          };
          ScreenManager.showScreen(K.ScreenEnum.LobbyScreen, 10, function() {
            ServerCom.emit("error", param);
          }, false);
        }
      },
      onJoinSuccess2: function onJoinSuccess2(response, data) {
        ServerCom.launch.active = false;
        if (response.success) {
          if (response.roomConfig) {
            "Open Face Chinese Poker" === response.roomConfig.channelVariation ? response.gameData = new OFCGameData(response) : response.gameData = new GameData(response);
            response.gameData.channelType = response.roomConfig.channelType;
            if (response.roomConfig.channelType == K.ChannelType.Tournament) {
              response.type = 1;
              response.roomConfig.isRebuyOpened = !(!data || !data.isRebuyOpened) && data.isRebuyOpened;
            }
            response.isRejoin = true;
            var indexFound = -1;
            for (var index = 0; index < GameScreen.gameModel.activePokerModels.length; index++) {
              var id = GameScreen.gameModel.activePokerModels[index].roomConfig._id;
              if (data.data.roomConfig._id === id) {
                response.indexFound = index;
                break;
              }
            }
            ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, response, function() {});
            return;
          }
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
        } else console.log("onJoinSuccess2");
      },
      onJoinFail: function onJoinFail(response) {
        ServerCom.launch.active = false;
        ServerCom.forceKeepLoading = false;
        ServerCom.loading.active = false;
        console.log("JOIN FAIL RESPONSE", response);
        response.info && GameManager.popUpManager.show(PopUpType.NotificationPopup, response.info, function() {});
      },
      getPreferredSeat: function getPreferredSeat(maxPlayers) {
        var seatId = null;
        switch (maxPlayers) {
         case 2:
          seatId = GameManager.user.seatPreferancesTwo;
          break;

         case 3:
          seatId = 2;
          break;

         case 6:
          seatId = GameManager.user.seatPreferancesSix;
          break;

         case 9:
          seatId = GameManager.user.seatPreferances;
          break;

         default:
          seatId = GameManager.user.seatPreferancesTwo;
        }
        return seatId;
      },
      getGameTypeByValue: function getGameTypeByValue(val) {
        var returnVal = "";
        10 == val ? returnVal = "Hyper-Turbo" : 20 == val ? returnVal = "Turbo" : 30 == val && (returnVal = "Standard");
        return returnVal;
      },
      removeAllChildren: function removeAllChildren(contentHolder) {
        if (!!contentHolder) {
          var childs = contentHolder.children;
          childs.forEach(function(element) {
            element.destroy();
          }, this);
        }
      },
      getValueByGameType: function getValueByGameType(gameType) {
        var returnVal = null;
        switch (gameType) {
         case "Hyper-Turbo":
          returnVal = 10;
          break;

         case "Turbo":
          returnVal = 20;
          break;

         case "Standard":
          returnVal = 30;
          break;

         default:
          returnVal = 30;
        }
        return returnVal;
      },
      reset: function reset() {
        console.log("rajatk to be destroyed GameManager.reset");
        GameManager.activeTableCount = 0;
        TableHandler.joinTableList = [];
        GameManager.emit(K.GameEvents.onReset, null);
        if (!!GameScreen) {
          GameScreen.gameModel.activePokerModels.forEach(function(element) {
            GameManager.isMobile ? GameScreen.gridParent.getComponent(cc.PageView).removePage(element.node) : element.node.destroy();
          }, this);
          GameScreen.gameModel.activePokerModels = [];
          GameManager.isMobile && this.gameModel.emit("LEAVE FOR TABLE SWIPE");
        }
        this.updateActiveTables();
      },
      logout: function logout() {
        if (GameManager.isConnected) {
          GameManager.isConnected = false;
          var data = {
            playerId: GameManager.user.playerId,
            isLoggedIn: false
          };
          ServerCom.pomeloRequest(K.PomeloAPI.logout, data, null, null, null, true, true, function(response) {
            K.disconnectRequestedByPlayer = true;
            this.popUpManager.hideAllPopUps();
            cc.systemEvent.emit("leaveLobby");
            GameManager.isLoaded = false;
            cc.sys.localStorage.setItem("auto_login_token", null);
            cc.sys.localStorage.setItem("auto_login_refresh_token", null);
            cc.sys.localStorage.setItem("auto_login_access_token_expire_at", null);
            cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", null);
            cc.sys.localStorage.setItem("auto_login_username", null);
            ServerCom.inGame = false;
            GameManager.needResetUser = true;
            ServerCom.clearConnectCB();
            GameManager.reset();
            "undefined" !== typeof socketIO && socketIO && socketIO.socket && socketIO.socket.disconnect();
            var lobbyPresenter = ScreenManager.screens[K.ScreenEnum.LobbyScreen];
            if (lobbyPresenter) {
              lobbyPresenter.resetPrivateTable();
              lobbyPresenter.onHidePrivate();
              lobbyPresenter.friendsNode.active = false;
              lobbyPresenter.onHome();
              lobbyPresenter.onCashierGame2();
            }
            ScreenManager.showScreen(K.ScreenEnum.LoginScreen, false, function() {
              (!(cc.sys.os === cc.sys.OS_WINDOWS) || cc.sys.isBrowser) && !!self;
            });
          }.bind(this));
        } else this.scheduleOnce(function() {
          this.popUpManager.hideAllPopUps();
          cc.systemEvent.emit("leaveLobby");
          GameManager.reset();
          "undefined" !== typeof socketIO && socketIO && socketIO.socket && socketIO.socket.disconnect();
          ScreenManager.currentScreen != K.ScreenEnum.LoginScreen && ScreenManager.showScreen(K.ScreenEnum.LoginScreen, true, function() {
            if ((!(cc.sys.os === cc.sys.OS_WINDOWS) || cc.sys.isBrowser) && !!self) {
              ServerCom.inGame = true;
              self.close();
            }
          });
        }, .5);
      },
      logout3: function logout3() {
        K.disconnectRequestedByPlayer = true;
        this.popUpManager.hideAllPopUps();
        cc.systemEvent.emit("leaveLobby");
        GameManager.isLoaded = false;
        cc.sys.localStorage.setItem("auto_login_token", null);
        cc.sys.localStorage.setItem("auto_login_refresh_token", null);
        cc.sys.localStorage.setItem("auto_login_access_token_expire_at", null);
        cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", null);
        cc.sys.localStorage.setItem("auto_login_username", null);
        var lobbyPresenter = ScreenManager.screens[K.ScreenEnum.LobbyScreen];
        if (lobbyPresenter) {
          lobbyPresenter.resetPrivateTable();
          lobbyPresenter.onHidePrivate();
          lobbyPresenter.friendsNode.active = false;
          lobbyPresenter.onHome();
          lobbyPresenter.onCashierGame2();
        }
        GameManager.needResetUser = true;
        ScreenManager.showScreen(K.ScreenEnum.LoginScreen, false, function() {
          cc.sys.os === cc.sys.OS_WINDOWS && !cc.sys.isBrowser || !self || (ServerCom.inGame = true);
        });
      },
      getToken: function getToken(userName, password, cb) {
        var inst = this;
        ServerCom.httpPostRequest(K.Token.auth_server, {
          userName: userName,
          password: password
        }, function(response) {
          console.log("getToken", response);
          if ("success" == response.status) {
            K.Token.access_token = response.access_token;
            K.Token.refresh_token = response.refresh_token;
            K.Token.access_token_expire_at = response.access_token_expire_at;
            K.Token.refresh_token_expire_at = response.refresh_token_expire_at;
            cb(response);
          } else cb(response);
        });
      },
      startRefreshTokenTimer: function startRefreshTokenTimer(cb) {
        this.refreshTokenCB = cb;
        this.unschedule(this.refreshTokenTimer);
        this.schedule(this.refreshTokenTimer, 1);
      },
      stopRefreshTokenTimer: function stopRefreshTokenTimer() {
        this.refreshTokenCB = cb;
        this.unschedule(this.refreshTokenTimer);
      },
      refreshTokenTimer: function refreshTokenTimer(dt) {
        var diff = K.Token.access_token_expire_at - Date.now() / 1e3;
        if (diff < 30 && !this.refreshTokenLock) {
          this.refreshTokenLock = true;
          this.refreshToken();
        }
      },
      forceRefreshToken: function forceRefreshToken(cb) {
        this.refreshTokenLock = true;
        this.refreshToken(cb);
      },
      refreshToken: function refreshToken(cb) {
        var inst = this;
        K.Token.refresh_token && "" != K.Token.refresh_token ? ServerCom.httpGetRequest(K.Token.auth_server + "/api/auth/refresh", null, function(response) {
          inst.refreshTokenLock = false;
          console.log("refreshToken", response);
          if (response.success) {
            K.Token.access_token = response.access_token;
            K.Token.refresh_token = response.refresh_token;
            K.Token.access_token_expire_at = response.access_token_expire_at;
            K.Token.refresh_token_expire_at = response.refresh_token_expire_at;
            cc.sys.localStorage.setItem("auto_login_token", K.Token.access_token);
            cc.sys.localStorage.setItem("auto_login_refresh_token", K.Token.refresh_token);
            cc.sys.localStorage.setItem("auto_login_access_token_expire_at", K.Token.access_token_expire_at);
            cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", K.Token.refresh_token_expire_at);
            inst.refreshTokenCB ? inst.refreshTokenCB() : cb && cb();
          } else GameManager.popUpManager.show(PopUpType.DisconnectDialog, {
            code: K.Error.Whitelisting,
            response: "Token refresh timeout please relogin."
          });
        }) : this.refreshTokenLock = false;
      },
      joinSimilar: function joinSimilar() {
        var self = this;
        ServerCom.pomeloRequest("connector.entryHandler.joinSimilarTable", {
          channelId: this.gameModel.activePokerModels[GameScreen.prevSelection].gameData.channelId,
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log(response.similarChannelId);
          var route = K.PomeloAPI.joinChannel;
          GameManager.join2(response.similarChannelId, route, {
            channelId: response.similarChannelId,
            isRequested: true,
            channelType: response.similarChannelType,
            tableId: "",
            playerId: GameManager.user.playerId,
            playerName: GameManager.user.userName,
            networkIp: LoginData.ipV4Address,
            maxPlayers: 5,
            isPrivateTable: false
          });
        });
      },
      updateActiveTables: function updateActiveTables() {
        if (!GameScreen || !GameScreen.gridParent) return;
        var children = 0;
        if (!GameManager.isMobile) return;
        children = GameScreen.gridParent.getComponent(cc.PageView).getPages().length;
        if (0 == children) this.activeTables.active = false; else {
          this.activeTables.children[1].getComponent(cc.Label).string = children > 1 ? children + " Active Tables" : "1 Active Table";
          this.activeTables.active = true;
        }
      },
      gotoActiveTables: function gotoActiveTables() {
        ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, 0, function() {});
      },
      randomPick: function randomPick() {
        var array = [ "Poker is 100% skill and 50% luck.", "You call, gonna be all over baby.", "Just play every hand, you can't miss them all.", "Poker has the feeling of a sport, but you don't have to do push-ups." ];
        return array[Math.floor(Math.random() * array.length)];
      },
      preloadWebView: function preloadWebView() {
        return;
      },
      onDashboardAddCash: function onDashboardAddCash() {
        var lobbyPresenter = ScreenManager.screens[K.ScreenEnum.LobbyScreen];
        lobbyPresenter && lobbyPresenter.onDashboardAddCash();
      },
      isZFold: function isZFold() {
        var size = cc.size(cc.Canvas.instance.node.width, cc.Canvas.instance.node.height);
        var aspect = size.height / size.width;
        console.log("aspect", aspect);
        return !(aspect > 1.5);
      },
      isShorter: function isShorter() {
        var size = cc.size(cc.Canvas.instance.node.width, cc.Canvas.instance.node.height);
        var aspect = size.height / size.width;
        console.log("aspect", aspect);
        return !(aspect > 1.8);
      },
      friendSendRequst: function friendSendRequst(userName, cb) {
        ServerCom.pomeloRequest("connector.entryHandler.sendBuddyRequest", {
          userName: userName,
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("sendFriendRequest reponse", response);
          if (response.success) {
            GameManager.popUpManager.show(PopUpType.NotificationPopup, "Your new request has been sent", function() {});
            GameManager.buddyRequestsSent.push(response.buddyRequest);
            cb && cb(response.buddyRequest);
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      friendRequstFriends: function friendRequstFriends(cb) {
        ServerCom.pomeloRequest("connector.entryHandler.myBuddies", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("MyBuddies", response);
          if (response.success) {
            GameManager.buddies = response.buddies;
            cb && cb(response);
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      friendRequestSent: function friendRequestSent(cb) {
        ServerCom.pomeloRequest("connector.entryHandler.listRequestSent", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("connector.entryHandler.listRequestSent", response);
          if (response.success) {
            GameManager.buddyRequestsSent = response.buddyRequests;
            cb && cb(response);
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      friendRequestReceive: function friendRequestReceive(cb) {
        ServerCom.pomeloRequest("connector.entryHandler.listRequestReceive", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("connector.entryHandler.listRequestReceive", response);
          if (response.success) {
            GameManager.buddyRequestsReceived = response.buddyRequests;
            cb && cb(response);
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      friendRequestAccept: function friendRequestAccept(requestId, cb) {
        ServerCom.pomeloRequest("connector.entryHandler.handleBuddyRequest", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          requestId: requestId,
          type: "accept"
        }, function(response) {
          console.log("connector.entryHandler.handleBuddyRequest accept", response);
          response.success ? cb && cb(response) : GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      friendRequestReject: function friendRequestReject(requestId, cb) {
        ServerCom.pomeloRequest("connector.entryHandler.handleBuddyRequest", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          requestId: requestId,
          type: "reject"
        }, function(response) {
          console.log("connector.entryHandler.handleBuddyRequest reject", response);
          response.success ? cb && cb(response) : GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      friendRequestRemove: function friendRequestRemove(playerIdRemove, cb) {
        ServerCom.pomeloRequest("connector.entryHandler.removeBuddy", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          playerIdRemove: playerIdRemove
        }, function(response) {
          console.log("connector.entryHandler.removeBuddy", response);
          response.success ? cb && cb(response) : GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      sendBuddyRequestReceive: function sendBuddyRequestReceive(data) {
        this.friendRequestReceive(function() {
          GameManager.emit("sendBuddyRequestReceive");
        });
        GameManager.popUpManager.show(PopUpType.NotificationPopup, "New buddy request received", function() {});
      },
      handleBuddyRequestReceive: function handleBuddyRequestReceive(data) {
        this.friendRequstFriends(function() {
          GameManager.emit("handleBuddyRequestReceive");
        });
        GameManager.popUpManager.show(PopUpType.NotificationPopup, data.message, function() {});
      },
      removeBuddyReceive: function removeBuddyReceive(data) {
        this.friendRequstFriends(function() {
          GameManager.emit("removeBuddyReceive");
        });
      },
      buddyResponseEvent: function buddyResponseEvent(data) {
        console.log("buddyResponseEvent", data);
        if ("BuddyIsOnline" == data.eventName) {
          for (var i = 0; i < GameManager.buddies.length; i++) if (GameManager.buddies[i].playerId == data.data.response.playerId) {
            GameManager.buddies[i].isOnline = data.data.response.isOnline;
            break;
          }
          GameManager.emit("BuddyIsOnline");
        }
      },
      inviteBuddyReceive: function inviteBuddyReceive(data) {
        GameManager.popUpManager.show(PopUpType.InviteToPlayPopup, data.inviteData);
      },
      inviteBuddy: function inviteBuddy(data, cb) {
        ServerCom.pomeloRequest("connector.entryHandler.inviteBuddy", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          inviteData: data
        }, function(response) {
          console.log("connector.entryHandler.removeBuddy", response);
          response.success ? cb && cb(response) : GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      isMyFriend: function isMyFriend(playerId) {
        for (var i = 0; i < GameManager.buddies.length; i++) return GameManager.buddies[i].playerId == playerId;
      },
      isFriendRequestPending: function isFriendRequestPending(playerId) {
        for (var i = 0; i < GameManager.buddyRequestsSent.length; i++) return GameManager.buddyRequestsSent[i].playerIdReceive == playerId;
      },
      updatePlayerImageInTable: function updatePlayerImageInTable(data) {
        console.log("updatePlayerImageInTable", data);
        GameManager.emit("updatePlayerImageInTable", data.player);
      },
      getPlayerMute: function getPlayerMute(cb) {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getPlayerMute", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("connector.entryHandler.getPlayerMute", response);
          if (response.success) {
            inst.playerSettingMute = response.playerSettingMute;
            cb && cb(response);
          }
        }, null, 5e3, false);
      },
      changePlayerMute: function changePlayerMute(playerId, cb) {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.changePlayerMute", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          playerIdMute: playerId
        }, function(response) {
          console.log("connector.entryHandler.changePlayerMute", response);
          if (response.success) {
            inst.playerSettingMute = response.playerSettingMute;
            cb && cb(response);
          }
        }, null, 5e3, false);
      },
      isPlayerMute: function isPlayerMute(playerId) {
        if (GameManager.playerSettingMute && GameManager.playerSettingMute) for (var i = 0; i < GameManager.playerSettingMute.players.length; i++) if (GameManager.playerSettingMute.players[i].playerId == playerId) return true;
        return false;
      },
      getBankList: function getBankList(callback) {
        ServerCom.httpGetRequest("https://auth-api-albaniapoker.creatiosoft.dev/api/deposit/banks", null, callback);
      },
      createRequest: function createRequest(accountHolderName, phoneNumber, productId, bankId, callback) {
        ServerCom.httpPostRequest("https://auth-api-albaniapoker.creatiosoft.dev/api/deposit/request", {
          accountHolderName: accountHolderName,
          phoneNumber: phoneNumber,
          productId: productId,
          bankId: bankId
        }, callback);
      },
      getHistory: function getHistory(callback) {
        ServerCom.httpGetRequest("https://auth-api-albaniapoker.creatiosoft.dev/api/deposit/history", null, callback);
      },
      onAdminNotice: function onAdminNotice(data) {
        GameManager.popUpManager.hide(PopUpType.AdminNoticePopup, function() {});
        GameManager.popUpManager.show(PopUpType.AdminNoticePopup, {
          title: data.heading,
          content: data.broadcastMessage
        }, function() {});
      },
      convertChips: function convertChips(num) {
        num = Number(num);
        return num.toFixed(2);
      }
    });
    cc._RF.pop();
  }, {
    AvatarSelection: "AvatarSelection",
    EventEmitter: "EventEmitter",
    LoginHandler: "LoginHandler",
    OFCResponseTypes: "OFCResponseTypes",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes"
  } ],
  GameModel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a9ed6amxnxJ66NkbGQ6B9bp", "GameModel");
    "use strict";
    var pokerModelType = require("PokerModel").PokerModel;
    var lobbyModelType = require("LobbyHandler");
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var emitter = require("EventEmitter");
    cc.Class({
      extends: emitter,
      properties: {
        activePokerModels: {
          default: [],
          type: [ pokerModelType ]
        },
        tilingFlag: {
          default: false
        },
        popUpManager: {
          default: null,
          type: PopUpManager
        }
      },
      onLoad: function onLoad() {
        GameManager.gameModel = this;
      },
      start: function start() {
        this.listenPomeloBroadcasts();
      },
      listenPomeloBroadcasts: function listenPomeloBroadcasts() {
        for (var prop in K.BroadcastRoute) ServerCom.pomeloBroadcast(K.BroadcastRoute[prop], this.onMessage.bind(this));
      },
      addGame: function addGame(pokerModel) {
        this.activePokerModels.push(pokerModel);
        GameScreen.node.opacity = 0;
        pokerModel.gameModel = this;
        2 == this.activePokerModels.length && GameManager.isMobile && this.emit("JOIN FOR TABLE SWIPE");
      },
      onLeave: function onLeave(pokerModel) {
        for (var index = 0; index < this.activePokerModels.length; index++) if (pokerModel === this.activePokerModels[index]) {
          this.activePokerModels.splice(index, 1);
          break;
        }
        delete GameManager.playerRequestedToLeaveTable[pokerModel.gameData.channelId];
        GameManager.isMobile ? GameScreen.gridParent.getComponent(cc.PageView).removePage(pokerModel.node) : pokerModel.node.destroy();
        this.activePokerModels.length < 2 && GameManager.isMobile && this.emit("LEAVE FOR TABLE SWIPE");
        this.scheduleOnce(function() {
          GameScreen.node.opacity = 0;
          ServerCom.loading.active = false;
          GameManager.emit(K.GameEvents.OnTableClosed);
        });
      },
      registerBroadcastCallbacks: function registerBroadcastCallbacks(channelID, route, callback) {
        this.callBacks = this.callBacks || {};
        this.callBacks[channelID] = this.callBacks[channelID] || {};
        this.callBacks[channelID][route] = callback;
      },
      removeBroadcastCallbacks: function removeBroadcastCallbacks(channelID, route) {
        if (0 === arguments.length) {
          this.callBacks = {};
          return;
        }
        if (1 === arguments.length) {
          delete this.callBacks[channelID];
          return;
        }
        null !== this.callBacks[channelID][route] && void 0 !== this.callBacks[channelID][route] && delete this.callBacks[channelID][route];
      },
      onMessage: function onMessage(response) {
        if (null === response.route || void 0 === response.route) {
          var param = {
            code: K.Error.KeyMissingBroadcasts,
            response: "route key missing in broadcast!"
          };
          this.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
          return;
        }
        if (void 0 === response.channelId || null === response.channelId) return;
        null == this.callBacks && void 0 == this.callBacks || !this.callBacks || !this.callBacks[response.channelId] || !this.callBacks[response.channelId][response.route] || this.callBacks[response.channelId][response.route](response);
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter",
    LobbyHandler: "LobbyHandler",
    PokerModel: "PokerModel",
    PopUpManager: "PopUpManager"
  } ],
  GamePreferencesPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "06d075JHvZNKo67Qf61mjsh", "GamePreferencesPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var CheckBoxType = require("Checkbox");
    var GameScreen = require("GameScreen");
    var GameData = require("ResponseTypes").GameData;
    var JoinSimilar = require("PostTypes").JoinSimilar;
    var Toggle = require("Toggle");
    var AvatarSelection = require("AvatarSelection");
    var LoginHandler = require("LoginHandler");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        widthdrawlHistory: {
          default: null,
          type: cc.Node
        },
        widthdrawlHistoryScrollView: {
          default: null,
          type: cc.Node
        },
        widthdrawlHistoryScrollViewItem: {
          default: null,
          type: cc.Node
        },
        giftScrollViewEmpty: {
          default: null,
          type: cc.Node
        },
        giftScrollView: {
          default: null,
          type: cc.Node
        },
        giftScrollViewItem: {
          default: null,
          type: cc.Node
        },
        vpGiftSubmit: {
          default: null,
          type: cc.Button
        },
        vpGiftSendBtn: {
          default: null,
          type: cc.Node
        },
        vpGiftListBtn: {
          default: null,
          type: cc.Node
        },
        vpGiftErrorMessage: {
          default: null,
          type: cc.Label
        },
        vpGiftBalance: {
          default: null,
          type: cc.Label
        },
        vpGiftName: {
          default: null,
          type: cc.EditBox
        },
        vpGiftAmount: {
          default: null,
          type: cc.EditBox
        },
        vpGiftPhone: {
          default: null,
          type: cc.EditBox
        },
        withdrawalProcessSuccess: {
          default: null,
          type: cc.Node
        },
        countryCode: {
          default: null,
          type: cc.EditBox
        },
        flagScrollView: {
          default: null,
          type: cc.Node
        },
        banksScrollView: {
          default: null,
          type: cc.Node
        },
        loginHandler: {
          default: null,
          type: LoginHandler
        },
        vpEditProfileSuccess: {
          default: null,
          type: cc.Node
        },
        vpEditProfileErrorMessage: {
          default: null,
          type: cc.Label
        },
        vpEditProfileSubmit: {
          default: null,
          type: cc.Button
        },
        vpEditProfileEmail: {
          default: null,
          type: cc.EditBox
        },
        vpEditProfilePhone: {
          default: null,
          type: cc.EditBox
        },
        vpWithdrawErrorMessage: {
          default: null,
          type: cc.Label
        },
        vpWithdrawSubmit: {
          default: null,
          type: cc.Button
        },
        vpWithdrawBank: {
          default: null,
          type: cc.EditBox
        },
        vpWithdrawName: {
          default: null,
          type: cc.EditBox
        },
        vpWithdrawAmount: {
          default: null,
          type: cc.EditBox
        },
        vpWithdrawAccount: {
          default: null,
          type: cc.EditBox
        },
        vpWithdrawPhone: {
          default: null,
          type: cc.EditBox
        },
        playerName: {
          default: null,
          type: cc.Label
        },
        playerId: {
          default: null,
          type: cc.Label
        },
        agentId: {
          default: null,
          type: cc.Label
        },
        agentId2: {
          default: null,
          type: cc.Label
        },
        selectAvatar: {
          default: null,
          type: cc.Node
        },
        widthdrawl: {
          default: null,
          type: cc.Node
        },
        gift: {
          default: null,
          type: cc.Node
        },
        giftSend: {
          default: null,
          type: cc.Node
        },
        giftList: {
          default: null,
          type: cc.Node
        },
        deposit: {
          default: null,
          type: cc.Node
        },
        depositScrollView: {
          default: null,
          type: cc.Node
        },
        depositScrollViewItem: {
          default: null,
          type: cc.Node
        },
        editProfile: {
          default: null,
          type: cc.Node
        },
        balance: {
          default: null,
          type: cc.Label
        },
        goldIcon: {
          default: null,
          type: cc.Node
        },
        diamondIcon: {
          default: null,
          type: cc.Node
        },
        claim: {
          default: null,
          type: cc.Button
        },
        chips: {
          default: null,
          type: cc.Label
        },
        version: {
          default: null,
          type: cc.Label
        },
        tileViewSelection: {
          default: null,
          type: cc.Node
        },
        unTileViewSelection: {
          default: null,
          type: cc.Node
        },
        gameScreen: {
          default: null,
          type: GameScreen
        },
        dealerChat: {
          default: null,
          type: Toggle
        },
        Chat: {
          default: null,
          type: Toggle
        },
        runItTwiceToggle: {
          default: null,
          type: Toggle
        },
        soundToggle: {
          default: null,
          type: Toggle
        },
        standUpBtn: {
          default: null,
          type: cc.Button
        },
        joinSimilarBtn: {
          default: null,
          type: cc.Button
        },
        tableColorBtn: {
          default: null,
          type: cc.Button
        },
        seatPreferenceBtn: {
          default: null,
          type: cc.Button
        },
        tutorial: {
          default: null,
          type: cc.Prefab
        },
        tutorialNode: {
          default: null,
          type: cc.Node
        },
        tableLayout: {
          default: null,
          type: cc.Node
        },
        muckHandToggle: {
          default: null,
          type: Toggle
        },
        coloredCardToggle: {
          default: null,
          type: Toggle
        },
        pokerVersionString: {
          default: null,
          type: cc.RichText
        },
        gameVersionString: {
          default: null,
          type: cc.RichText
        },
        playerImg: {
          default: null,
          type: cc.Sprite
        },
        avatarScrollViewRef: {
          default: null,
          type: cc.Node
        },
        avatarGridParent: {
          default: null,
          type: cc.Node
        },
        avatars: {
          default: [],
          type: AvatarSelection
        },
        selectedAvatarID: 0
      },
      onLoad: function onLoad() {
        this.loadAvatars();
        GameManager.on("SelectedAvatar", this.onSelectAvatar.bind(this));
        GameManager.on("REALCHIPSUPDATE", this.onRealChipsUpdated.bind(this));
        this.avatars.forEach(function(element) {
          element.unSelectAvatar();
        }, this);
        this.vpGiftBalance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.vpGiftBalance.string = GameManager.convertChips(this.vpGiftBalance.string);
      },
      onShow: function onShow(data) {
        this.lockClick = false;
        if ("GOLD" == GameManager.user.category) {
          this.goldIcon.active = true;
          this.diamondIcon.active = false;
        } else {
          this.goldIcon.active = false;
          this.diamondIcon.active = true;
        }
        this.chips.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.version.string = "Albania Poker: v" + K.ServerAddress.clientVer;
        this.playerImg.spriteFrame = GameManager.user.urlImg;
        this.gameVersionString.string = "<color=#00ff00>Build Version:   " + K.ServerAddress.clientVer + "</color>";
        this.pokerVersionString.string = "<color=#00ff00>Poker Version:   " + K.ServerAddress.pokerVer + "</color>";
        this.dealerChat.state !== GameManager.user.dealerChat && this.dealerChat.onToggle();
        GameManager.user.playerChat !== this.Chat.state && this.Chat.onToggle();
        GameManager.user.muteGameSound == this.soundToggle.state && this.soundToggle.onToggle();
        GameManager.user.cardColor !== this.coloredCardToggle.state && this.coloredCardToggle.onToggle();
        this.balance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.balance.string = GameManager.convertChips(this.balance.string);
        this.playerName.string = GameManager.user.userName;
        this.playerId.string = "Player ID : " + GameManager.user.playerId;
        GameManager.user.isParentUserName ? "" == GameManager.user.isParentUserName ? this.agentId.string = "Agent ID : N/A" : this.agentId.string = "Agent ID : " + GameManager.user.isParentUserName : this.agentId.string = "Agent ID : N/A";
        this.agentId2.string = GameManager.user.isParentUserName;
        this.vpGiftBalance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.vpGiftBalance.string = GameManager.convertChips(this.vpGiftBalance.string);
        this.avatars.forEach(function(avatar) {
          avatar.unSelectAvatar();
        });
        this.selectedAvatarID = -1;
        var imageIndex = parseInt(GameManager.user.profileImage);
        if (imageIndex >= 0) {
          this.selectedAvatarID = imageIndex + 1;
          this.avatars[imageIndex].selection.active = true;
        }
      },
      isInToday: function isInToday(inputDate) {
        var today = new Date();
        return today.setHours(0, 0, 0, 0) == inputDate.setHours(0, 0, 0, 0);
      },
      onSelectAvatar: function onSelectAvatar(avatarId) {
        this.avatars.forEach(function(avatar) {
          avatar.unSelectAvatar();
        });
        this.avatars[avatarId].showSelection();
        this.selectedAvatarID = avatarId + 1;
      },
      onLeave: function onLeave() {
        this.popUpManager.hide(PopUpType.GamePreferencesPopup, function() {});
        this.gameScreen.leaveCurrent();
      },
      onStandup: function onStandup() {
        this.gameScreen.standUp();
        this.popUpManager.hide(PopUpType.GamePreferencesPopup, function() {});
      },
      onSelectSeatPreferences: function onSelectSeatPreferences() {
        this.popUpManager.show(PopUpType.SeatPreferenceDialog, this.gameScreen.gameModel.activePokerModels[this.gameScreen.prevSelection].roomConfig.maxPlayers, function() {});
      },
      onTutorialPlay: function onTutorialPlay() {},
      onToggleSound: function onToggleSound() {
        GameManager.playSound(K.Sounds.click);
        var data = {};
        data.query = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys = {};
        GameManager.user.muteGameSound = !GameManager.user.muteGameSound;
        data.updateKeys["settings.muteGameSound"] = GameManager.user.muteGameSound;
        GameManager.user.muteGameSound && cc.audioEngine.stopAll();
        GameManager.playMusic(!GameManager.user.muteGameSound);
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          data.success;
        }.bind(this));
      },
      onChooseAvatarSound: function onChooseAvatarSound() {
        this.onSettingsClose();
        this.popUpManager.show(PopUpType.AvatarDialog, null, function() {});
        GameManager.playSound(K.Sounds.click);
      },
      onToggleRunItTwice: function onToggleRunItTwice() {
        var data = {};
        data.query = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys = {};
        data.updateKeys["settings.runItTwice"] = this.runItTwiceToggle.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          data.success ? GameManager.user.runItTwice = !GameManager.user.runItTwice : this.runItTwiceToggle.onToggle();
        }.bind(this));
        GameManager.playSound(K.Sounds.click);
      },
      onToggleMuckHand: function onToggleMuckHand() {
        var data = {};
        data.query = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys = {};
        data.updateKeys["isMuckHand"] = this.muckHandToggle.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          data.success ? GameManager.user.isMuckHand = !GameManager.user.isMuckHand : this.muckHandToggle.onToggle();
        }.bind(this));
      },
      onTogglePlayerChat: function onTogglePlayerChat() {
        var data = {};
        data.query = {};
        data.updateKeys = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys["settings.playerChat"] = this.Chat.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          if (data.success) {
            GameManager.user.playerChat = !GameManager.user.playerChat;
            GameManager.emit(K.PokerEvents.onChatSettingsChanged);
          } else this.Chat.onToggle();
        }.bind(this));
      },
      onToggleFourColorCard: function onToggleFourColorCard() {
        var data = {};
        data.query = {};
        data.updateKeys = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys["prefrences.cardColor"] = this.coloredCardToggle.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          data.success ? GameManager.user.cardColor = this.coloredCardToggle.state : this.coloredCardToggle.onToggle();
        }.bind(this));
        GameManager.playSound(K.Sounds.click);
      },
      onSetTiledLayOut: function onSetTiledLayOut() {
        this.unTileViewSelection.active = false;
        this.tileViewSelection.active = true;
        this.gameScreen.setTiledView();
      },
      onSetUnTiledLayOut: function onSetUnTiledLayOut() {
        this.unTileViewSelection.active = true;
        this.tileViewSelection.active = false;
        this.gameScreen.setUnTiledView();
      },
      onOpenTableColorSelection: function onOpenTableColorSelection() {
        this.popUpManager.show(PopUpType.TableColorPreferenceDialog, null, function() {});
      },
      onToggleDealerChat: function onToggleDealerChat() {
        var data = {};
        data.query = {};
        data.updateKeys = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys["settings.dealerChat"] = this.dealerChat.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          if (data.success) {
            GameManager.user.dealerChat = !GameManager.user.dealerChat;
            GameManager.emit(K.PokerEvents.onDealerChatSettingsChanged);
          } else this.dealerChat.onToggle();
        }.bind(this));
        GameManager.playSound(K.Sounds.click);
      },
      onLogOut: function onLogOut() {
        this.coloredCardToggle.onToggle();
        this.dealerChat.onToggle();
        GameManager.popUpManager.show(PopUpType.OnLogOutPopup, null, function() {});
        GameManager.playSound(K.Sounds.click);
      },
      onRemove: function onRemove() {
        GameManager.popUpManager.show(PopUpType.RemoveDataDialog, {
          callback: function callback() {
            ServerCom.pomeloRequest("connector.entryHandler.disablePlayer", {
              playerId: GameManager.user.playerId,
              isLoggedIn: true,
              access_token: K.Token.access_token
            }, function(response) {
              console.log(response);
              if (response.success) {
                var param = {
                  code: 3333,
                  errorType: 3333,
                  response: response.message
                };
                GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
              }
            }, null, 5e3, false);
          }
        }, function() {});
      },
      onSettingsClose: function onSettingsClose() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = false;
        this.popUpManager.hide(PopUpType.GamePreferencesPopup, function() {});
        GameManager.playSound(K.Sounds.click);
      },
      onClickTutorial: function onClickTutorial() {
        localStorage.setItem("FINISH_TUTORIAL", "false");
        GameManager.playSound(K.Sounds.click);
        if (this.tutorialNode) {
          this.tutorialNode.active = true;
          var tutoMgr = this.tutorialNode.getComponent("TutorialManager");
          tutoMgr.startTuto();
          return;
        }
        this.tutorialNode = cc.instantiate(this.tutorial);
        this.tutorialNode.parent = this.node;
      },
      loadAvatars: function loadAvatars() {
        for (var i = 0; i < GameManager.avatarPool.length; i++) {
          this.avatarGridParent.addChild(GameManager.avatarPool[i]);
          GameManager.avatarPool[i].active = true;
          GameManager.avatarPool[i].getComponent("AvatarSelection").AvatarPopUp = this;
          this.avatars.push(GameManager.avatarPool[i].getComponent("AvatarSelection"));
        }
      },
      updateAvatar: function updateAvatar(avatarId) {
        var profileData = {
          query: {
            playerId: "hsdfhd"
          },
          updateKeys: {
            profileImage: "0"
          }
        };
        var data = profileData;
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys.profileImage = this.selectedAvatarID;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(response) {
          if (response.success) {
            GameManager.user.profileImage = this.selectedAvatarID - 1;
            GameManager.user.urlImg = GameManager.avatarImages[GameManager.user.profileImage];
            this.playerImg.spriteFrame = GameManager.user.urlImg;
            GameManager.emit("image-loaded", GameManager.user);
            this.selectAvatar.active = false;
          }
        }.bind(this), null, 5e3, false, false);
      },
      onClaim: function onClaim() {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.playerClaimFreeChips", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("connector.entryHandler.playerClaimFreeChips", response);
          if (response.success) {
            GameManager.user.freeChips = response.result.freeChips;
            GameManager.user.claimedFreeChipsAt = response.result.claimedFreeChipsAt;
            GameManager.user.nextClaimBonusTime = response.result.nextClaimBonusTime;
            inst.chips.string = Number(GameManager.user.freeChips.toFixed(2));
            GameManager.popUpManager.show(PopUpType.NotificationPopup, "Player claim free chips succeeded", function() {});
            inst.claim.interactable = false;
            GameManager.emit("refreshPlayerChips");
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        }, null, 5e3, false);
      },
      formatNumber: function formatNumber(num) {
        return num.toLocaleString("en-US");
      },
      onDeposit: function onDeposit() {
        var _this = this;
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = true;
        this.editProfile.active = false;
        this.loginHandler.vpWShop(function(data) {
          console.log(data);
          _this.depositScrollView.removeAllChildren();
          for (var i = 0; i < data.data.length; i++) {
            var winner = data.data[i];
            var winnerInstance = cc.instantiate(_this.depositScrollViewItem);
            winnerInstance.x = 0;
            winnerInstance.active = true;
            _this.depositScrollView.addChild(winnerInstance);
            cc.find("title/val", winnerInstance).getComponent(cc.Label).string = winner.price + " MNT";
            cc.find("price", winnerInstance).getComponent(cc.Label).string = _this.formatNumber(winner.chipsValue);
            winnerInstance.getComponent(cc.Button).clickEvents[0].customEventData = winner.chipsValue;
            winnerInstance.__data = winner;
          }
        });
      },
      onWidthdrawl: function onWidthdrawl() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = true;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = false;
      },
      onEditProfile: function onEditProfile() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = true;
        this.gift.active = false;
        this.vpEditProfileEmail.string = GameManager.user.emailId;
        this.vpEditProfilePhone.string = GameManager.user.mobileNumber.replace("+976", "");
        this.vpEditProfileErrorMessage.string = "";
      },
      onEditProfileBack: function onEditProfileBack() {
        this.vpEditProfileErrorMessage.string = "";
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
      },
      onEditProfileCheck: function onEditProfileCheck() {
        this.vpEditProfileErrorMessage.string = "";
        this.vpEditProfileSubmit.interactable = false;
        if ("" === this.vpEditProfileEmail.string || "" === this.vpEditProfilePhone.string) return;
        this.vpEditProfileSubmit.interactable = true;
      },
      onEditProfileSubmit: function onEditProfileSubmit() {
        var _this2 = this;
        this.loginHandler.vpUpdateContactInfo("+976" + this.vpEditProfilePhone.string, this.vpEditProfileEmail.string, function(data) {
          console.log("vpUpdateContactInfo", JSON.stringify(data));
          if (true == data.success || "success" == data.status) {
            GameManager.user.emailId = _this2.vpEditProfileEmail.string;
            GameManager.user.mobileNumber = "+976" + _this2.vpEditProfilePhone.string;
            _this2.vpEditProfileErrorMessage.string = "";
            _this2.vpEditProfileSuccess.active = true;
          } else {
            _this2.vpEditProfileErrorMessage.node.active = true;
            data.message ? _this2.vpEditProfileErrorMessage.string = data.message : _this2.vpEditProfileErrorMessage.string = data.error[0].message;
          }
        });
      },
      onEditProfileCloseSuccess: function onEditProfileCloseSuccess() {
        this.vpEditProfileSuccess.active = false;
      },
      onDepositBack: function onDepositBack() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = false;
      },
      onWidthdrawlBack: function onWidthdrawlBack() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = false;
        this.vpWithdrawBank.string = "";
        this.vpWithdrawAccount.string = "";
        this.vpWithdrawAmount.string = "";
        this.vpWithdrawName.string = "";
        this.vpWithdrawPhone.string = "";
      },
      onWidthdrawlCheck: function onWidthdrawlCheck() {
        this.vpWithdrawErrorMessage.string = "";
        this.vpWithdrawSubmit.interactable = false;
        if ("" === this.vpWithdrawAmount.string) return;
        this.vpWithdrawSubmit.interactable = true;
      },
      onWidthdrawlSubmit: function onWidthdrawlSubmit() {
        var _this3 = this;
        this.vpWithdrawSubmit.interactable = false;
        this.loginHandler.vpWithdrawChips(parseInt(this.vpWithdrawAmount.string), function(data) {
          console.log("vpWithdrawChips", JSON.stringify(data));
          if (true == data.success || "success" == data.status) {
            _this3.vpWithdrawErrorMessage.string = "";
            _this3.withdrawalProcessSuccess.active = true;
            _this3.withdrawalProcessSuccess.getChildByName("Background").getChildByName("ref").getChildByName("val").getComponent(cc.Label).string = data.data.referenceNumber;
            _this3.vpWithdrawAmount.string = "";
          } else {
            _this3.vpWithdrawErrorMessage.node.active = true;
            data.message ? _this3.vpWithdrawErrorMessage.string = data.message : _this3.vpWithdrawErrorMessage.string = data.error[0].message;
          }
        });
      },
      onWidthdrawlClosePopup: function onWidthdrawlClosePopup() {
        this.withdrawalProcessSuccess.active = false;
      },
      showFlagScrollView: function showFlagScrollView() {
        this.flagScrollView.active = !this.flagScrollView.active;
      },
      hideFlagScrollView: function hideFlagScrollView() {
        this.flagScrollView.active = false;
      },
      onBank: function onBank(event, bank) {
        this.vpWithdrawBank.string = bank;
        this.hideFlagScrollView();
      },
      onAvatars: function onAvatars() {
        this.selectAvatar.active = true;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = false;
        this.avatars.forEach(function(element) {
          element.unSelectAvatar();
        }, this);
        this.selectedAvatarID = -1;
        var imageIndex = parseInt(GameManager.user.profileImage);
        if (imageIndex >= 0) {
          this.selectedAvatarID = imageIndex + 1;
          this.avatars[imageIndex].selection.active = true;
        }
      },
      onAvatarsBack: function onAvatarsBack() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = false;
      },
      onAvatarsSubmit: function onAvatarsSubmit() {
        this.updateAvatar(this.selectedAvatarID);
      },
      onRealChipsUpdated: function onRealChipsUpdated() {
        this.balance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.vpGiftBalance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.balance.string = GameManager.convertChips(this.balance.string);
        this.vpGiftBalance.string = GameManager.convertChips(this.vpGiftBalance.string);
      },
      onGift: function onGift() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = true;
        this.giftSend.active = true;
        this.giftList.active = false;
        this.vpGiftSendBtn.getChildByName("pressed").active = true;
        this.vpGiftListBtn.getChildByName("pressed").active = false;
        this.vpGiftBalance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.vpGiftBalance.string = GameManager.convertChips(this.vpGiftBalance.string);
      },
      onGiftBack: function onGiftBack() {
        this.selectAvatar.active = false;
        this.widthdrawl.active = false;
        this.deposit.active = false;
        this.editProfile.active = false;
        this.gift.active = false;
        this.vpGiftErrorMessage.string = "";
        this.vpGiftAmount.string = "";
        this.vpGiftName.string = "";
        this.vpGiftPhone.string = "";
        this.vpGiftSubmit.interactable = false;
      },
      onGiftSend: function onGiftSend() {
        this.giftSend.active = true;
        this.giftList.active = false;
        this.vpGiftSendBtn.getChildByName("pressed").active = true;
        this.vpGiftListBtn.getChildByName("pressed").active = false;
      },
      onGiftList: function onGiftList() {
        var _this4 = this;
        this.giftSend.active = false;
        this.giftList.active = true;
        this.vpGiftSendBtn.getChildByName("pressed").active = false;
        this.vpGiftListBtn.getChildByName("pressed").active = true;
        this.loginHandler.vpListGift(function(data) {
          console.log("vpListGift", data);
          if (true == data.success || "success" == data.status) {
            _this4.giftScrollView.removeAllChildren();
            for (var i = 0; i < data.items.length; i++) {
              var winner = data.items[i];
              var winnerInstance = cc.instantiate(_this4.giftScrollViewItem);
              winnerInstance.x = 0;
              winnerInstance.active = true;
              _this4.giftScrollView.addChild(winnerInstance);
              if (winner.senderUsername == GameManager.user.userName) {
                cc.find("left/PlayerName", winnerInstance).getComponent(cc.Label).string = winner.senderUsername;
                cc.find("right/PlayerName", winnerInstance).getComponent(cc.Label).string = winner.receiverUsername;
                cc.find("left/PlayerID", winnerInstance).getComponent(cc.Label).string = "ID: " + winner.senderPlayerId;
                cc.find("right/PlayerID", winnerInstance).getComponent(cc.Label).string = "ID: " + winner.receiverPlayerId;
                cc.find("left/Avatar/Mask/avatarSprite", winnerInstance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[parseInt(winner.senderProfileImage) - 1];
                cc.find("right/Avatar/Mask/avatarSprite", winnerInstance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[parseInt(winner.receiverProfileImage) - 1];
              } else {
                cc.find("right/PlayerName", winnerInstance).getComponent(cc.Label).string = winner.senderUsername;
                cc.find("left/PlayerName", winnerInstance).getComponent(cc.Label).string = winner.receiverUsername;
                cc.find("right/PlayerID", winnerInstance).getComponent(cc.Label).string = "ID: " + winner.senderPlayerId;
                cc.find("left/PlayerID", winnerInstance).getComponent(cc.Label).string = "ID: " + winner.receiverPlayerId;
                cc.find("right/Avatar/Mask/avatarSprite", winnerInstance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[parseInt(winner.senderProfileImage) - 1];
                cc.find("left/Avatar/Mask/avatarSprite", winnerInstance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[parseInt(winner.receiverProfileImage) - 1];
              }
              cc.find("center/Cashier/realMoney", winnerInstance).getComponent(cc.Label).string = _this4.formatNumber(winner.amount);
              if ("send" == winner.type) {
                cc.find("center/Cashier/realMoney", winnerInstance).color = cc.Color.RED;
                cc.find("center/Cashier/realMoney", winnerInstance).getComponent(cc.Label).string = "-" + cc.find("center/Cashier/realMoney", winnerInstance).getComponent(cc.Label).string;
              } else {
                cc.find("center/Cashier/realMoney", winnerInstance).color = cc.Color.GREEN;
                cc.find("center/Cashier/realMoney", winnerInstance).getComponent(cc.Label).string = "+" + cc.find("center/Cashier/realMoney", winnerInstance).getComponent(cc.Label).string;
              }
              if ("send" == winner.type) {
                cc.find("center/left", winnerInstance).active = false;
                cc.find("center/right", winnerInstance).active = true;
              } else {
                cc.find("center/left", winnerInstance).active = true;
                cc.find("center/right", winnerInstance).active = false;
              }
              cc.find("center/date", winnerInstance).getComponent(cc.Label).string = _this4.formatDateString(winner.transactionDate);
            }
            0 == data.items.length ? _this4.giftScrollViewEmpty.active = true : _this4.giftScrollViewEmpty.active = false;
          } else _this4.giftScrollViewEmpty.active = true;
        });
      },
      formatDateString: function formatDateString(isoString) {
        var date = new Date(isoString);
        var year = date.getFullYear();
        var month = String(date.getMonth() + 1).padStart(2, "0");
        var day = String(date.getDate()).padStart(2, "0");
        var hours = String(date.getHours()).padStart(2, "0");
        var minutes = String(date.getMinutes()).padStart(2, "0");
        return year + "/" + month + "/" + day + " " + hours + ":" + minutes;
      },
      onGiftSendCheck: function onGiftSendCheck() {
        this.vpGiftErrorMessage.string = "";
        this.vpGiftSubmit.interactable = false;
        if ("" === this.vpGiftAmount.string || "" === this.vpGiftName.string || "" === this.vpGiftPhone.string) return;
        this.vpGiftSubmit.interactable = true;
      },
      onGiftSendCall: function onGiftSendCall() {
        var _this5 = this;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this5.lockClick = false;
        }, 1);
        this.loginHandler.vpSendGift(this.vpGiftName.string, parseInt(this.vpGiftAmount.string), "+976" + this.vpGiftPhone.string, function(data) {
          console.log("vpSendGift", data);
          if (true == data.success || "success" == data.status) {
            GameManager.popUpManager.show(PopUpType.NotificationPopup, data.message, function() {});
            _this5.vpGiftErrorMessage.string = "";
            _this5.vpGiftAmount.string = "";
            _this5.vpGiftName.string = "";
            _this5.vpGiftPhone.string = "";
            _this5.vpGiftSubmit.interactable = false;
          } else {
            _this5.vpGiftErrorMessage.node.active = true;
            data.message ? _this5.vpGiftErrorMessage.string = data.message : _this5.vpGiftErrorMessage.string = data.error[0].message;
          }
        });
      },
      onWidthdrawlHistory: function onWidthdrawlHistory() {
        var _this6 = this;
        function formatDate(isoString) {
          var date = new Date(isoString);
          var day = String(date.getDate()).padStart(2, "0");
          var month = String(date.getMonth() + 1).padStart(2, "0");
          var year = date.getFullYear();
          var hours = String(date.getHours()).padStart(2, "0");
          var minutes = String(date.getMinutes()).padStart(2, "0");
          return day + "-" + month + "-" + year + " " + hours + ":" + minutes;
        }
        this.loginHandler.vpWithdrawHistory(function(data) {
          console.log("vpWithdrawHistory", data);
          if (true == data.success || "success" == data.status) {
            _this6.widthdrawlHistory.active = true;
            _this6.widthdrawlHistoryScrollView.removeAllChildren();
            for (var i = 0; i < data.data.length; i++) {
              var winner = data.data[i];
              var instance = cc.instantiate(_this6.widthdrawlHistoryScrollViewItem);
              instance.x = 0;
              instance.active = true;
              instance.children[1].getComponent(cc.Label).string = formatDate(winner.createdAt);
              instance.children[2].getComponent(cc.Label).string = GameManager.convertChips(winner.amount);
              instance.children[3].getComponent(cc.Label).string = winner.referenceNumber;
              if ("Pending" == winner.status) {
                instance.children[4].active = false;
                instance.children[5].active = true;
                instance.children[6].active = false;
              } else if ("Success" == winner.status) {
                instance.children[4].active = true;
                instance.children[5].active = false;
                instance.children[6].active = false;
              } else {
                instance.children[4].active = false;
                instance.children[5].active = false;
                instance.children[6].active = true;
              }
              instance.children[0].active = !(i % 2);
              _this6.widthdrawlHistoryScrollView.addChild(instance);
            }
          }
        });
      },
      onWidthdrawlHistoryBack: function onWidthdrawlHistoryBack() {
        this.widthdrawlHistory.active = false;
      }
    });
    cc._RF.pop();
  }, {
    AvatarSelection: "AvatarSelection",
    Checkbox: "Checkbox",
    GameScreen: "GameScreen",
    LoginHandler: "LoginHandler",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    Toggle: "Toggle"
  } ],
  GameResult: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7b658tOB/RIf6bgxvjoWoH5", "GameResult");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        contentParent: {
          default: null,
          type: cc.Node
        },
        players: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      start: function start() {
        GameManager.emit("disablePageView");
      },
      onShow: function onShow(data) {
        this.contentParent.children.forEach(function(element, i) {
          element.active = false;
        }, this);
        if (data && data[0] && data[0].playersResults) {
          this.players.node.parent.active = true;
          var da = data[0].playersResults;
          this.players.string = Object.keys(da).length;
          var i = 0;
          for (var key in da) {
            var d = da[key];
            this.contentParent.children[i].active = true;
            cc.find("name", this.contentParent.children[i]).getComponent(cc.Label).string = d.playerName || "???";
            cc.find("buy", this.contentParent.children[i]).getComponent(cc.Label).string = d.buyIn;
            cc.find("w", this.contentParent.children[i]).getComponent(cc.Label).string = (d.winning.toFixed(2) > 0 ? "+" : "") + d.winning.toFixed(2);
            d.winning.toFixed(2) >= 0 ? cc.find("w", this.contentParent.children[i]).color = new cc.Color().fromHEX("#15DE41") : cc.find("w", this.contentParent.children[i]).color = new cc.Color().fromHEX("#FF0000");
            i += 1;
          }
        } else {
          this.players.string = "";
          this.players.node.parent.active = false;
        }
      },
      onClose: function onClose() {
        GameManager.emit("enablePageView");
        this.node.active = false;
        GameManager.emit("showJoinSimlar");
      }
    });
    cc._RF.pop();
  }, {} ],
  GameScreen: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b7ff8CoCyREl6ctAzhJkVx7", "GameScreen");
    "use strict";
    var gameModelType = require("GameModel");
    var pokerPresenterType = require("PokerPresenter");
    var popUpManagerType = require("PopUpManager").PopUpManager;
    var abstractScreen = require("AbstractScreen");
    var tableTab = require("TableTab");
    var SitNGoModelHandler = require("SitNGoModelHandler").SitNGoModelHandler;
    var TournamentModelHandler = require("TournamentModelHandler").TournamentModelHandler;
    var PopUpType = require("PopUpManager").PopUpType;
    var root = window;
    window.LayoutType = new cc.Enum({
      Tiled: 1,
      UnTiled: 2
    });
    cc.Class({
      extends: abstractScreen,
      static: {
        PER: 1
      },
      properties: {
        preLogin: {
          default: null,
          type: cc.Node
        },
        verticleBorder: {
          default: null,
          type: cc.Node
        },
        horizontalBorder: {
          default: null,
          type: cc.Node
        },
        gameModel: {
          default: null,
          type: gameModelType
        },
        popUpManager: {
          default: null,
          type: popUpManagerType
        },
        sitNGoModelHandler: {
          default: null,
          type: SitNGoModelHandler
        },
        texasHoldemPrefab: {
          default: null,
          type: cc.Prefab
        },
        omahaHiLoPrefab: {
          default: null,
          type: cc.Prefab
        },
        omahaPrefab: {
          default: null,
          type: cc.Prefab
        },
        ofcPrefab: {
          default: null,
          type: cc.Prefab
        },
        gridParent: {
          default: null,
          type: cc.Node
        },
        tableTabs: {
          default: [],
          type: [ cc.Node ]
        },
        viewType: LayoutType.UnTiled,
        prevSelection: {
          default: null
        },
        unTiledView: {
          default: null,
          type: cc.Node
        },
        tiledView: {
          default: null,
          type: cc.Node
        },
        chatBtn: {
          default: null,
          type: cc.Button
        },
        isMobile: false,
        isWindows: false,
        preferences: {
          default: null,
          type: cc.Node
        },
        gridRefreshing: false
      },
      onLoad: function onLoad() {
        var _this = this;
        this.checkForWindowScene = false;
        cc.sys.os !== cc.sys.OS_WINDOWS || cc.sys.isBrowser || (this.checkForWindowScene = true);
        root.GameScreen = this;
        GameManager.on(K.GameEvents.OnTableClosed, this.onRemove.bind(this));
        GameManager.on("updateTableBgImage", this.onUpdateTableBgImage.bind(this));
        GameManager.on("showJoinSimlar", this.showJoinSimlar.bind(this));
        GameManager.on("hideJoinSimlar", this.hideJoinSimlar.bind(this));
        GameManager.isMobile || !cc.sys.isBrowser && cc.sys.os !== cc.sys.OS_WINDOWS || cc.view.on("canvas-resize", function() {
          clearTimeout(_this.resizeId);
        });
        if (GameManager.isMobile) {
          this.gridParent.on("scroll-ended", function() {
            console.log("scroll-ended", _this.gridParent.getComponent(cc.PageView).getCurrentPageIndex());
            GameScreen.onTabSelection(_this.gridParent.getComponent(cc.PageView).getCurrentPageIndex());
            for (var index = 0; index < _this.gameModel.activePokerModels.length; index++) {
              var presenter = _this.gameModel.activePokerModels[index].node.children[0].getComponent("PokerPresenter");
              presenter.gameOptionButton.active = true;
              if (!presenter.isTournament2) {
                presenter.gameResultButton.active = true;
                presenter.gameLeaveButton.active = true;
              }
            }
          }, this);
          this.gridParent.on("scrolling", function() {
            for (var index = 0; index < _this.gameModel.activePokerModels.length; index++) {
              var presenter = _this.gameModel.activePokerModels[index].node.children[0].getComponent("PokerPresenter");
              presenter.gameOptionButton.active = false;
              presenter.gameResultButton.active = false;
              presenter.gameLeaveButton.active = false;
            }
          }, this);
        }
      },
      setTiledView: function setTiledView() {
        if (this.isMobile) return;
        this.viewType = LayoutType.Tiled;
        this.refreshGrid();
      },
      setUnTiledView: function setUnTiledView() {
        this.viewType = LayoutType.UnTiled;
        this.refreshGrid();
      },
      onShow: function onShow(data) {
        var _this2 = this;
        this.node.opacity = 255;
        this.onUpdateTableBgImage();
        GameManager.playMusic(false);
        this.isMobile && (this.viewType = LayoutType.UnTiled);
        GameManager.isConnected && GameManager.popUpManager.hideAllPopUps();
        if (!isNaN(data)) {
          this.prevSelection = data;
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          return;
        }
        if (data.isRejoin) {
          GameManager.gameModel.activePokerModels[data.indexFound].presenter.resetGameForReshuffle(true);
          GameManager.gameModel.activePokerModels[data.indexFound].resetGameForReshuffle && GameManager.gameModel.activePokerModels[data.indexFound].resetGameForReshuffle();
          GameManager.gameModel.activePokerModels[data.indexFound].initiliazePoker(data);
          ServerCom.preLogin.active = false;
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          return;
        }
        var instance = null;
        var model = null;
        var presenter = null;
        if ("Open Face Chinese Poker" == data.roomConfig.channelVariation) {
          instance = cc.instantiate(this.ofcPrefab);
          model = instance.getComponent("OFCModel");
          presenter = instance.children[0].getComponent("OFCPresenter");
        } else {
          instance = cc.instantiate(this.texasHoldemPrefab);
          model = instance.getComponent("PokerModel");
          presenter = instance.children[0].getComponent("PokerPresenter");
        }
        "Omaha" === data.roomConfig.channelVariation || "Omaha Hi-Lo" === data.roomConfig.channelVariation ? model.dummyCardsCount = 4 : "Omaha 5" === data.roomConfig.channelVariation ? model.dummyCardsCount = 5 : "Omaha 6" === data.roomConfig.channelVariation ? model.dummyCardsCount = 6 : "Mega Hold\u2019em" === data.roomConfig.channelVariation ? model.dummyCardsCount = 3 : model.dummyCardsCount = 2;
        presenter.isTournament2 = false;
        if (data.roomConfig.channelType == K.ChannelType.Tournament) {
          this.tournamentModelHandler = new TournamentModelHandler();
          this.tournamentModelHandler.setModel(model);
          this.tournamentModelHandler.setPresenter(presenter);
          presenter.isTournament2 = true;
        }
        GameManager.isMobile ? this.gridParent.getComponent(cc.PageView).addPage(instance) : this.gridParent.addChild(instance);
        this.gameModel.addGame(model);
        model.initiliazePoker(data);
        GameManager.isMobile ? GameManager.activeTableCount = this.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = this.gridParent.children.length;
        this.prevSelection = GameManager.activeTableCount - 1;
        instance.width = ScreenManager.node.width;
        this.scheduleOnce(function() {
          _this2.preLogin.active = false;
        }, 1);
        this.refreshGrid();
        model.on(K.PokerEvents.onTurnInOtherRoom, this.onTurn.bind(this));
        GameManager.emit("updateTableImage");
        ServerCom.forceKeepLoading = false;
        ServerCom.loading.active = false;
      },
      start: function start() {},
      onHide: function onHide() {
        !GameManager.user || GameManager.playMusic(!GameManager.user.muteGameSound);
      },
      onTurn: function onTurn(pokerModel, selfTurn) {
        if (this.viewType == LayoutType.UnTiled) {
          var pokerModelIndex = -1;
          for (var index = 0; index < this.gameModel.activePokerModels.length; index++) if (pokerModel === this.gameModel.activePokerModels[index]) {
            pokerModelIndex = index;
            break;
          }
          if (void 0 != this.tableTabs[pokerModelIndex]) if (selfTurn && this.gameModel.activePokerModels.length > 1) {
            this.tableTabs[pokerModelIndex].getComponent(tableTab).showAlert(selfTurn);
            GameManager.isMobile && pokerModelIndex != this.prevSelection && GameScreen.onTabSelection(pokerModelIndex);
          } else !selfTurn && this.gameModel.activePokerModels.length >= 1 && this.tableTabs[pokerModelIndex].getComponent(tableTab).showAlert(selfTurn);
        } else selfTurn && this.gameModel.activePokerModels.length > 1 && this.shakeScreen(pokerModel.node);
      },
      onRemove: function onRemove(pokerModel) {
        K.GoToTable ? window.close() : this.refreshGrid();
      },
      setScale: function setScale(scale, name, scaleY) {
        void 0 === scaleY && (scaleY = -1);
        var children = null;
        children = GameManager.isMobile ? this.gridParent.getComponent(cc.PageView).getPages().length : this.gridParent.children.length;
        children.forEach(function(element) {
          var target = element.getChildByName(name);
          if (!!target) {
            target.scale = scale;
            if (!!target) {
              target.scale = scale;
              -1 != scaleY && (target.scaleY = scaleY);
            }
          }
        }, this);
      },
      switchWidgets: function switchWidgets(toState) {
        var children = null;
        children = GameManager.isMobile ? this.gridParent.getComponent(cc.PageView).getPages().length : this.gridParent.children.length;
        GameManager.isMobile || children.forEach(function(element) {
          element.getComponent(cc.Widget).enabled = toState;
        }, this);
        this.unTiledView.active = toState;
        this.tiledView.active = !toState;
        for (var i = 0; i < this.gameModel.activePokerModels.length; i++) {
          var component = null;
          component = "Open Face Chinese Poker" == this.gameModel.activePokerModels[i].roomConfig.channelVariation ? "OFCPresenter" : "PokerPresenter";
          this.gameModel.activePokerModels[i].node.children[0].getComponent(component).setTiledView(!toState);
        }
        this.isMobile || this.repositionHandStrength(!toState);
      },
      refreshGrid: function refreshGrid() {
        GameManager.updateActiveTables();
        if (ScreenManager.currentScreen != K.ScreenEnum.GamePlayScreen) {
          console.log("TableSwiper refreshGrid 1");
          return;
        }
        console.log("TableSwiper refreshGrid 2");
        this.gridRefreshing = true;
        this.node.opacity = 0;
        GameManager.isMobile ? GameManager.activeTableCount = this.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = this.gridParent.children.length;
        (this.isMobile || this.isWindows) && (this.viewType = LayoutType.UnTiled);
        var layout = this.gridParent.getComponent(cc.Layout);
        for (var k = 0; k < GameManager.activeTableCount; k++) !this.gameModel.activePokerModels[k] || (this.gameModel.activePokerModels[k].node.active = false);
        for (var j = 0; j < this.tableTabs.length; j++) this.tableTabs[j].active = false;
        (null == this.prevSelection || this.prevSelection == GameManager.activeTableCount && GameManager.activeTableCount > 0) && (this.prevSelection = GameManager.activeTableCount - 1);
        (this.viewType == LayoutType.UnTiled || this.viewType == LayoutType.Tiled && 1 == GameManager.activeTableCount) && this.setViewForOneTable();
        GameManager.isMobile ? GameManager.activeTableCount = this.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = this.gridParent.children.length;
        this.gridRefreshing = false;
        var screenSize = cc.size(this.gridParent.width, this.gridParent.height);
        for (var k = 0; k < GameManager.activeTableCount; k++) {
          var model = this.gameModel.activePokerModels[k];
          !!model && cc.isValid(model.node) && (model.node.active = true);
        }
        this.viewType == LayoutType.UnTiled;
        if (0 == GameManager.activeTableCount) ScreenManager.showScreen(K.ScreenEnum.LobbyScreen, 10, function() {}, false); else {
          this.scaleGroup();
          this.onTabSelection(this.prevSelection);
        }
        this.node.opacity = 255;
        GameScreen.node.emit("grid-refreshed");
      },
      setViewForOneTable: function setViewForOneTable() {
        if (1 == GameManager.activeTableCount && !GameManager.isMobile && !GameManager.isWindows) {
          var presenter = this.gameModel.activePokerModels[0].presenter;
          1 == GameScreen.viewType && presenter.onViewChangedToUnTiled();
        }
        var tabInstance, tableTabComp;
        for (var i = 0; i < GameManager.activeTableCount; i++) {
          tabInstance = this.tableTabs[i];
          tabInstance.active = true;
          tableTabComp = tabInstance.getComponent(tableTab);
          tableTabComp.tabId = i;
          tableTabComp.removeAllListeners();
          tableTabComp.showAlert(false);
          tableTabComp.on(K.PokerEvents.onTableTabSelected, this.onTabSelection.bind(this));
          tableTabComp.setModel(this.gameModel.activePokerModels[i]);
          this.tableTabs[i] = tabInstance;
        }
      },
      scaleGroup: function scaleGroup(factor1, factor2, factor3, factor4, factor5, factor6, factor7, factor8, switchWidg) {
        if (K.PORTRAIT) {
          if (GameManager.isZFold()) {
            this.gridParent.parent.getChildByName("TableTabs").scale = .65;
            this.gridParent.parent.getChildByName("TableTabs2").scale = .65;
            var children = this.gridParent.getComponent(cc.PageView).getPages();
            children.forEach(function(element) {
              console.log("scaleGroup", element);
              element.getChildByName("PokerPresenter").scale = .6;
              element.getChildByName("PlayerInput").scale = .5;
              element.getChildByName("RaisePanel").scale = .8;
              element.getChildByName("OptionalPlayerInput").scale = .5;
              element.getChildByName("HandHistoryButton").scale = .8;
              element.getChildByName("ChatButton").scale = .8;
              element.getChildByName("GameplayOptions").scale = .6;
              element.getChildByName("Popups").scale = .8;
              element.getChildByName("UntiledView").scale = .8;
            }, this);
          } else if (GameManager.isShorter()) if (cc.sys.os == cc.sys.OS_IOS) {
            this.gridParent.parent.getChildByName("TableTabs").scale = .8;
            this.gridParent.parent.getChildByName("TableTabs2").scale = .8;
            var children = this.gridParent.getComponent(cc.PageView).getPages();
            children.forEach(function(element) {
              console.log("scaleGroup", element);
              element.getChildByName("PokerPresenter").scale = .878;
              element.getChildByName("PokerPresenter").getChildByName("TableBg").scale = 1.1;
              element.getChildByName("PokerPresenter").getChildByName("TableBg").y = -20;
              element.getChildByName("PokerPresenter").getChildByName("HandHolder").y = 0;
              element.getChildByName("PlayerInput").scale = .75;
              element.getChildByName("RaisePanel").scale = .75;
              element.getChildByName("OptionalPlayerInput").scale = .75;
              element.getChildByName("HandHistoryButton").scale = 1;
              element.getChildByName("ChatButton").scale = 1;
              element.getChildByName("GameplayOptions").scale = .9;
              element.getChildByName("Popups").scale = .9;
              element.getChildByName("UntiledView").scale = .8;
            }, this);
          } else {
            this.gridParent.parent.getChildByName("TableTabs").scale = .65;
            this.gridParent.parent.getChildByName("TableTabs2").scale = .65;
            var children = this.gridParent.getComponent(cc.PageView).getPages();
            children.forEach(function(element) {
              console.log("scaleGroup", element);
              element.getChildByName("PokerPresenter").scale = .75;
              element.getChildByName("PlayerInput").scale = .6;
              element.getChildByName("RaisePanel").scale = .6;
              element.getChildByName("OptionalPlayerInput").scale = .6;
              element.getChildByName("HandHistoryButton").scale = .8;
              element.getChildByName("ChatButton").scale = .8;
              element.getChildByName("GameplayOptions").scale = .8;
              element.getChildByName("Popups").scale = .8;
              element.getChildByName("UntiledView").scale = .8;
            }, this);
          }
          return;
        }
        var size = cc.size(this.gridParent.width, this.gridParent.height);
        var count = 1;
        this.viewType == LayoutType.Tiled && (count = GameManager.activeTableCount);
        var per = 1;
        GameScreen.isMobile && cc.sys.browserType !== cc.sys.BROWSER_TYPE_SAFARI;
        var aspect = size.width / size.height;
        var diff = 1.77 - aspect;
        diff >= 0 && (per = 1 - diff / aspect);
        if (cc.sys.os == cc.sys.OS_ANDROID || cc.sys.os == cc.sys.OS_IOS) {
          cc.sys.platform == cc.sys.IPHONE ? this.setScale(1, "PokerPresenter") : cc.sys.platform == cc.sys.IPAD ? this.setScale(factor1 * per, "PokerPresenter") : cc.sys.platform == cc.sys.ANDROID && this.setScale(1, "PokerPresenter");
          cc.sys.isBrowser && this.setScale(factor1 * per, "PokerPresenter");
        } else switchWidg, this.setScale(factor1 * per, "PokerPresenter");
        this.setScale(factor2 * per, "MobilePlayerInput");
        this.setScale(factor2 * per, "PlayerInput");
        this.setScale(factor3 * per, "Popups");
        this.setScale(factor4 * per, "TopRight");
        this.setScale(factor5 * per, "TiledView");
        this.setScale(factor5 * per, "MobileChatView");
        this.setScale(factor6 * per, "OptionalPlayerInput");
        this.setScale(factor7 * per, "GameplayOptions");
        this.setScale(factor8 * per, "MobileView");
        this.switchWidgets(switchWidg);
      },
      repositionPlayerInput: function repositionPlayerInput(val) {
        var children = null;
        children = GameManager.isMobile ? this.gridParent.getComponent(cc.PageView).getPages().length : this.gridParent.children.length;
        children.forEach(function(element) {
          var target2 = element.getChildByName("GameplayOptions");
          if (!!target2) {
            target2.getComponent(cc.Widget).left = val ? .4956 : .004;
            target2.getComponent(cc.Widget).bottom = val ? .0123 : .204;
            target2.getComponent(cc.Widget).right = val ? .3622 : .8539;
          }
          var target3 = element.getChildByName("PokerPresenter").getChildByName("HandStrength");
          if (!!target3) {
            target3.getComponent(cc.Widget).right = val ? .0309 : .4111;
            target3.getComponent(cc.Widget).bottom = val ? .283 : .0725;
          }
        }, this);
      },
      repositionHandStrength: function repositionHandStrength(val) {
        var children = null;
        children = GameManager.isMobile ? this.gridParent.getComponent(cc.PageView).getPages().length : this.gridParent.children.length;
        children.forEach(function(element) {
          var target3 = element.getChildByName("PokerPresenter").getChildByName("HandStrength");
          if (!!target3) {
            target3.getComponent(cc.Widget).right = val ? .0309 : .4111;
            target3.getComponent(cc.Widget).bottom = val ? .283 : .0725;
          }
        }, this);
      },
      onTabSelection: function onTabSelection(index) {
        console.log("!!!!!!onTabSelection", index);
        for (var i = 0; i < this.gameModel.activePokerModels.length; i++) if (i == index) {
          GameManager.emit("onTabSelection", this.gameModel.activePokerModels[i].roomConfig.channelType != K.ChannelType.Tournament);
          this.tableTabs[i].getComponent(tableTab).setActiveView(this.gameModel.activePokerModels[i].roomConfig.channelName, this.gameModel.activePokerModels[i].roomConfig.bigBlind, this.gameModel.activePokerModels[i].roomConfig.smallBlind);
          this.gameModel.activePokerModels[i].node.active = true;
          this.gameModel.activePokerModels[i].node.y = 0;
          this.prevSelection = i;
          if ("NORMAL" == this.gameModel.activePokerModels[i].roomConfig.channelType) {
            this.unTiledView.getChildByName("LeaveButton") && (this.unTiledView.getChildByName("LeaveButton").active = true);
            this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false;
            if (this.gameModel.activePokerModels[i].isPrivateTable) this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false; else {
              var popups = this.gameModel.activePokerModels[i].node.getChildByName("Popups").children[0].children;
              console.log(popups);
              var popupOn = false;
              for (var z = 0; z < popups.length; z++) if (popups[z].active && "DummyStickerPop" != popups[z].name) {
                popupOn = true;
                break;
              }
              var popups2 = this.gameModel.activePokerModels[i].node.getChildByName("Tournament").children;
              console.log(popups2);
              var popupOn2 = false;
              for (var z = 0; z < popups2.length; z++) if (popups2[z].active) {
                popupOn2 = true;
                break;
              }
              this.gameModel.activePokerModels[i].presenter.mobileGamePlayOptionsVisible || this.gameModel.activePokerModels[i].presenter.mobileSliderChatSection.active || popupOn || popupOn2 || (this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = true);
            }
          } else {
            this.unTiledView.getChildByName("LeaveButton") && (this.unTiledView.getChildByName("LeaveButton").active = false);
            this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false;
          }
          this.gameModel.activePokerModels[i].presenter.playerInput[0].active && GameManager.emit("disablePageView");
        } else {
          this.tableTabs[i].getComponent(tableTab).setDeactiveView(this.gameModel.activePokerModels[i].roomConfig.channelName, this.gameModel.activePokerModels[i].roomConfig.bigBlind, this.gameModel.activePokerModels[i].roomConfig.smallBlind);
          this.gameModel.activePokerModels[i].node.active = GameManager.isMobile;
        }
        GameManager.isMobile && GameScreen.gridParent.getComponent(cc.PageView).scrollToPage(index, 0);
        2 == this.gameModel.activePokerModels.length && (this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false);
        this.onUpdateTableBgImage();
      },
      selectTable: function selectTable(channelId) {
        var i = -1;
        for (var index = 0; index < this.gameModel.activePokerModels.length; index++) if (channelId === this.gameModel.activePokerModels[index].gameData.channelId) {
          i = index;
          break;
        }
        -1 != i && this.onTabSelection(i);
      },
      onShowLobby: function onShowLobby() {
        if (this.gameModel.activePokerModels[this.prevSelection].node.children[0].getComponent("PokerPresenter").isObserver()) {
          this.leaveCurrent();
          return;
        }
        ScreenManager.showScreen(K.ScreenEnum.LobbyScreen, 10, function() {}, false);
        this.gameModel.activePokerModels[this.prevSelection].node.children[0].getComponent("PokerPresenter").playAudio(K.Sounds.click);
      },
      leaveCurrent: function leaveCurrent() {
        this.gameModel.activePokerModels[this.prevSelection].node.children[0].getComponent("PokerPresenter").playAudio(K.Sounds.click);
        if (!this.gridRefreshing && this.gameModel.activePokerModels.length > 0 && !!this.gameModel.activePokerModels[this.prevSelection]) {
          this.gameModel.activePokerModels[this.prevSelection].node.children[0].getComponent("PokerPresenter").onLeaveTableClicked();
          this.tableTabs[this.prevSelection].getComponent(tableTab).showAlert(false);
        }
      },
      standUp: function standUp() {
        this.gameModel.activePokerModels[this.prevSelection].node.children[0].getComponent("PokerPresenter").standUp();
      },
      onReplay: function onReplay(data) {
        GameManager.popUpManager.show(PopUpType.VideoPlayerPopup, data, function() {});
      },
      isAlreadyJoined: function isAlreadyJoined(channelId) {
        if (this.viewType == LayoutType.Tiled) {
          var isPresent = false;
          for (var index = 0; index < this.gameModel.activePokerModels.length; index++) if (channelId === this.gameModel.activePokerModels[index].gameData.channelId) {
            isPresent = true;
            break;
          }
          return isPresent;
        }
        return this.gameModel.activePokerModels.length > 0 && channelId == this.gameModel.activePokerModels[this.prevSelection].gameData.channelId;
      },
      resumeAll: function resumeAll() {
        for (var index = 0; index < this.gameModel.activePokerModels.length; index++) {
          var presenter = this.gameModel.activePokerModels[index].node.children[0].getComponent("PokerPresenter");
          presenter.resumeBtn.active && presenter.onResume();
        }
      },
      shakeScreen: function shakeScreen(sreenNodeToShake) {
        var initialPos = sreenNodeToShake.getPosition();
        this.node.getChildByName("Grid").getComponent(cc.Layout).enabled = false;
        sreenNodeToShake.setPosition(initialPos);
        this.gridRestoreTiming = 0;
        var interval = 1 / 60;
        var duration = .6;
        var speed = 4;
        var magnitude = 2;
        var elapsed = 0;
        var scheduledShaker = function scheduledShaker(dt) {
          var randomStart = this.getRandomInt(-1e3, 1e3);
          elapsed += dt;
          this.gridRestoreTiming += dt;
          var percentComplete = elapsed / duration;
          var damper = cc.misc.clampf(2 * percentComplete - 1, 0, 1);
          var alpha = randomStart + speed * percentComplete;
          var x = 2 * this.getNoise(alpha, 0) - 1;
          var y = 2 * this.getNoise(0, alpha) - 1;
          x *= magnitude * damper;
          y *= magnitude * damper;
          sreenNodeToShake.setPosition(initialPos.x + x, initialPos.y + y);
          this.count = 0;
          if (elapsed >= duration) {
            elapsed = 0;
            this.gridRestoreTiming >= .6 && (this.node.getChildByName("Grid").getComponent(cc.Layout).enabled = true);
            this.unschedule(scheduledShaker, this);
          }
        };
        this.schedule(scheduledShaker, interval);
      },
      getRandomInt: function getRandomInt(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      },
      getNoise: function getNoise(x, y) {
        var n = x + 57 * y;
        n ^= n << 13;
        return 1 - (n * (n * n * 15731 + 789221) + 1376312589 & 2147483647) / 1073741824;
      },
      resizeWithBrowserSize: function resizeWithBrowserSize(enabled) {
        if (enabled) {
          if (!this._resizeWithBrowserSize) {
            console.log("this code runs on every window resize");
            this._resizeWithBrowserSize = true;
            window.addEventListener("resize", this._resizeEvent);
            window.addEventListener("orientationchange", this._orientationChange);
          }
        } else if (this._resizeWithBrowserSize) {
          this._resizeWithBrowserSize = false;
          window.removeEventListener("resize", this._resizeEvent);
          window.removeEventListener("orientationchange", this._orientationChange);
        }
      },
      update: function update() {},
      manageButtonsInTwoTable: function manageButtonsInTwoTable() {
        for (var i = 0; i < 2; i++) {
          var addChipsButton = this.gameModel.activePokerModels[i].presenter.addChipsButton;
          var replayButton = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("ReplayButton");
          var target1 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("LobbyButton").getComponent(cc.Widget);
          var target2 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("LeaveButton").getComponent(cc.Widget);
          var target3 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("SettingsButton").getComponent(cc.Widget);
          var target4 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("HandInfoButton").getComponent(cc.Widget);
          var target5 = addChipsButton.getComponent(cc.Widget);
          var target6 = replayButton.getComponent(cc.Widget);
          var target7 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("Tile_Untile").getComponent(cc.Widget);
          target1.top = target2.top = .2;
          target5.top = target3.top = .25;
          target6.top = target4.top = .302;
          target7.top = .15;
        }
      },
      manageButtonsInFourTable: function manageButtonsInFourTable() {
        for (var i = 0; i < GameManager.activeTableCount; i++) {
          var addChipsButton = this.gameModel.activePokerModels[i].presenter.addChipsButton;
          var replayButton = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("ReplayButton");
          var target1 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("LobbyButton").getComponent(cc.Widget);
          var target2 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("LeaveButton").getComponent(cc.Widget);
          var target3 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("SettingsButton").getComponent(cc.Widget);
          var target4 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("HandInfoButton").getComponent(cc.Widget);
          var target5 = addChipsButton.getComponent(cc.Widget);
          var target6 = replayButton.getComponent(cc.Widget);
          var target7 = this.gameModel.activePokerModels[i].presenter.tiledView.getChildByName("Tile_Untile").getComponent(cc.Widget);
          target1.top = target2.top = .161111;
          target5.top = target3.top = .261111;
          target6.top = target4.top = .363;
          target7.top = .0534;
        }
      },
      onUpdateTableBgImage: function onUpdateTableBgImage() {
        for (var z = 0; z < this.gameModel.activePokerModels.length; z++) if (z == this.prevSelection) {
          var presenter = this.gameModel.activePokerModels[z].node.children[0].getComponent("PokerPresenter");
          if (presenter.isTournament2) for (var i = 0; i < GameManager.tableBgImagesTour.length; i++) {
            var stickerImages = GameManager.tableBgImagesTour[i];
            if ("" != GameManager.user.defaultTourGameBackground && GameManager.user.defaultTourGameBackground._id) {
              console.log("!!!!!! onUpdateTableBgImage", GameManager.user.defaultTourGameBackground._id);
              stickerImages.___data._id == GameManager.user.defaultTourGameBackground._id && (this.node.getChildByName("Bg").getComponent(cc.Sprite).spriteFrame = GameManager.tableBgImagesTour[i]);
            }
          } else for (var i = 0; i < GameManager.tableBgImages.length; i++) {
            var _stickerImages = GameManager.tableBgImages[i];
            if ("" != GameManager.user.defaultGameBackground && GameManager.user.defaultGameBackground._id) {
              console.log("!!!!!! onUpdateTableBgImage", GameManager.user.defaultGameBackground._id);
              _stickerImages.___data._id == GameManager.user.defaultGameBackground._id && (this.node.getChildByName("Bg").getComponent(cc.Sprite).spriteFrame = GameManager.tableBgImages[i]);
            }
          }
        }
      },
      showJoinSimlar: function showJoinSimlar() {
        var index = this.prevSelection;
        for (var i = 0; i < this.gameModel.activePokerModels.length; i++) if (i == index || -1 == this.prevSelection) {
          this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false;
          if ("NORMAL" == this.gameModel.activePokerModels[i].roomConfig.channelType) if (this.gameModel.activePokerModels[i].isPrivateTable) this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false; else {
            var popups = this.gameModel.activePokerModels[i].node.getChildByName("Popups").children[0].children;
            console.log(popups);
            var popupOn = false;
            for (var z = 0; z < popups.length; z++) if (popups[z].active && "DummyStickerPop" != popups[z].name) {
              popupOn = true;
              break;
            }
            var popups2 = this.gameModel.activePokerModels[i].node.getChildByName("Tournament").children;
            console.log(popups2);
            var popupOn2 = false;
            for (var z = 0; z < popups2.length; z++) if (popups2[z].active) {
              popupOn2 = true;
              break;
            }
            this.gameModel.activePokerModels[i].presenter.mobileGamePlayOptionsVisible || this.gameModel.activePokerModels[i].presenter.mobileSliderChatSection.active || popupOn || popupOn2 || (this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = true);
          } else this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false;
        }
        2 == this.gameModel.activePokerModels.length && (this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false);
      },
      hideJoinSimlar: function hideJoinSimlar() {
        this.unTiledView.getChildByName("TableTabs2").getChildByName("TabsContainer").getChildByName("AddButton").active = false;
      },
      updateTabImage: function updateTabImage(isTournament, act, deact) {
        for (var index = 0; index < this.gameModel.activePokerModels.length; index++) {
          var pokerModel = this.gameModel.activePokerModels[index];
          var presenter = pokerModel.node.children[0].getComponent("PokerPresenter");
          if (isTournament) {
            if (presenter.isTournament2) {
              this.tableTabs[index].getChildByName("Active").getChildByName("Base").getComponent(cc.Sprite).spriteFrame = act;
              this.tableTabs[index].getChildByName("Deactive").getChildByName("Base").getComponent(cc.Sprite).spriteFrame = deact;
            }
          } else if (!presenter.isTournament2) {
            this.tableTabs[index].getChildByName("Active").getChildByName("Base").getComponent(cc.Sprite).spriteFrame = act;
            this.tableTabs[index].getChildByName("Deactive").getChildByName("Base").getComponent(cc.Sprite).spriteFrame = deact;
          }
        }
      }
    });
    cc._RF.pop();
  }, {
    AbstractScreen: "AbstractScreen",
    GameModel: "GameModel",
    PokerPresenter: "PokerPresenter",
    PopUpManager: "PopUpManager",
    SitNGoModelHandler: "SitNGoModelHandler",
    TableTab: "TableTab",
    TournamentModelHandler: "TournamentModelHandler"
  } ],
  GameVariationPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "91619hFRW1CWIFTPbfuizel", "GameVariationPopup");
    "use strict";
    var popupBase = require("PopUpBase");
    cc.Class({
      extends: popupBase,
      properties: {},
      start: function start() {},
      onShow: function onShow(data) {
        console.log("onshow Gamevariation", data);
        this.onSelectVariation = data.onSelectVariation;
      },
      onHide: function onHide() {},
      onClickClose: function onClickClose() {
        PopupManager.hide(PopupManager.PopupType.GameVariation);
      },
      onClickVariation: function onClickVariation(target, custom) {
        console.log("Variation selected", custom);
        PopupManager.hide(PopupManager.PopupType.GameVariation);
        this.onSelectVariation(custom);
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase"
  } ],
  GeneralBtnsPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b5782b23iJGR49bveCmgR5T", "GeneralBtnsPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      onClickEnter: function onClickEnter() {
        this.onQuit();
      },
      onQuit: function onQuit() {
        var url = "";
        GameManager.isSD && cc.sys.platform == cc.sys.WIN32;
        GameManager.isSD && cc.sys.platform == cc.sys.MACOS;
        window.open(url, "_self");
        GameManager.playSound(K.Sounds.click);
        cc.game.end();
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  HandHistoryDetailPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bf818JFxItIVJMvPTvhohSY", "HandHistoryDetailPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        cardPrefab: {
          default: null,
          type: cc.Prefab
        },
        winnerPrefab: {
          default: null,
          type: cc.Node
        },
        actionPrefab: {
          default: null,
          type: cc.Node
        },
        rowPrefab: {
          default: null,
          type: cc.Prefab
        },
        contentParent: {
          default: null,
          type: cc.Node
        },
        pokerModel: {
          default: null,
          type: cc.Node
        },
        pokerGame: null,
        historyText: {
          default: null,
          type: cc.Node
        },
        contentBlocker: {
          default: null,
          type: cc.Node
        },
        contentToMove: {
          default: null,
          type: cc.Node
        },
        infoLbl: {
          default: null,
          type: cc.RichText
        },
        shadow: {
          default: null,
          type: cc.Node
        },
        handIDLabel: {
          default: null,
          type: cc.Label
        },
        newHandIDLabel: {
          default: null,
          type: cc.Label
        },
        newPageLabel: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {
        this.pokerGame = this.pokerModel.getComponent("PokerModel");
        this.index = 0;
      },
      start: function start() {
        this.historyTextOpened = false;
        this.data = [];
        this.dataIndex = 0;
      },
      updateHistory: function updateHistory() {
        var data = this.data[this.dataIndex];
        if (!data) return;
        cc.find("foot/hand", this.node).getComponent(cc.Label).string = "Hand: #" + data.handId;
        cc.find("foot/page", this.node).getComponent(cc.Label).string = this.dataIndex + 1 + " of " + this.data.length;
        cc.find("Item/Summary/stake", this.contentParent).getComponent(cc.Label).string = data.stakes;
        cc.find("Item/Cards/pot", this.contentParent).getComponent(cc.Label).string = data.handHistory.summary.totalPot.toFixed(2);
        var boardCardParent = cc.find("Item/Cards/BoardCardContainer", this.contentParent);
        boardCardParent.removeAllChildren(true);
        this.createCards(data.handHistory.summary.boardCard, boardCardParent);
        cc.find("Item/Winners", this.contentParent).removeAllChildren(true);
        if (data.handHistory.summary.playersCards) for (var i = 0; i < data.handHistory.summary.playersCards.length; i++) {
          var winner = data.handHistory.summary.playersCards[i];
          var winnerInstance = cc.instantiate(this.winnerPrefab);
          winnerInstance.x = 0;
          winnerInstance.active = true;
          cc.find("Item/Winners", this.contentParent).addChild(winnerInstance);
          var boardCardParent = cc.find("MyCardContainer", winnerInstance);
          boardCardParent.removeAllChildren(true);
          for (var k = 0; k < winner.cards.length; k++) if (winner.cards[k]) {
            winner.cards[k].point = winner.cards[k].rank;
            winner.cards[k].pointName = winner.cards[k].name;
            winner.cards[k].suit = this.getSuit(winner.cards[k].type);
            this.generateCard(boardCardParent, winner.cards[k]);
          } else this.generateCard(boardCardParent, winner.cards[k]);
          cc.find("name", winnerInstance).getComponent(cc.Label).string = winner.playerName ? winner.playerName : "???";
          var www = winner.winning.toFixed(2);
          cc.find("winning", winnerInstance).getComponent(cc.Label).string = (www > 0 ? "+" : "") + www;
          cc.find("winning", winnerInstance).color = www >= 0 ? new cc.Color().fromHEX("#0E632A") : new cc.Color().fromHEX("#FF0000");
          cc.find("set", winnerInstance).getComponent(cc.Label).string = "";
        }
        cc.find("Item/Actions", this.contentParent).removeAllChildren(true);
        data.handHistory.PREFLOP && data.handHistory.PREFLOP.actions && this.makeActions(data.handHistory.PREFLOP.actions, cc.find("Item/Actions", this.contentParent));
        cc.find("Item/Flop/BoardCardContainer", this.contentParent).removeAllChildren(true);
        cc.find("Item/Actions1", this.contentParent).removeAllChildren(true);
        cc.find("Item/Actions1", this.contentParent).height = 0;
        if (data.handHistory.FLOP) {
          this.createCards(data.handHistory.FLOP.boardCard, cc.find("Item/Flop/BoardCardContainer", this.contentParent));
          data.handHistory.FLOP.actions && this.makeActions(data.handHistory.FLOP.actions, cc.find("Item/Actions1", this.contentParent));
        }
        cc.find("Item/Turn/BoardCardContainer", this.contentParent).removeAllChildren(true);
        cc.find("Item/Actions2", this.contentParent).removeAllChildren(true);
        cc.find("Item/Actions2", this.contentParent).height = 0;
        if (data.handHistory.TURN) {
          this.createCards(data.handHistory.TURN.boardCard, cc.find("Item/Turn/BoardCardContainer", this.contentParent));
          data.handHistory.TURN.actions && this.makeActions(data.handHistory.TURN.actions, cc.find("Item/Actions2", this.contentParent));
        }
        cc.find("Item/River/BoardCardContainer", this.contentParent).removeAllChildren(true);
        cc.find("Item/Actions3", this.contentParent).removeAllChildren(true);
        cc.find("Item/Actions3", this.contentParent).height = 0;
        if (data.handHistory.RIVER) {
          this.createCards(data.handHistory.RIVER.boardCard, cc.find("Item/River/BoardCardContainer", this.contentParent));
          data.handHistory.RIVER.actions && this.makeActions(data.handHistory.RIVER.actions, cc.find("Item/Actions3", this.contentParent));
        }
      },
      makeActions: function makeActions(actions, parent) {
        for (var i = 0; i < actions.length; i++) {
          var action = actions[i];
          if ("startGame" == action.action || "Join Channel" == action.action || "leave" == action.action || "roundOver" == action.action || void 0 == action.action || null == action.action || void 0 == action.playerName) continue;
          var actionNode = cc.instantiate(this.actionPrefab);
          actionNode.x = 0;
          actionNode.active = true;
          parent.addChild(actionNode);
          cc.find("name", actionNode).getComponent(cc.Label).string = action.playerName;
          action.chips ? cc.find("v", actionNode).getComponent(cc.Label).string = Number(action.chips).toFixed(2) > 0 ? "" + Number(action.chips).toFixed(2) : Number(action.chips).toFixed(2) : cc.find("v", actionNode).getComponent(cc.Label).string = "";
          if (action.title && "" != action.title) {
            cc.find("title", actionNode).active = true;
            cc.find("title/name", actionNode).getComponent(cc.Label).string = action.title;
          } else cc.find("title", actionNode).active = false;
          cc.find("check", actionNode).active = false;
          cc.find("allin", actionNode).active = false;
          cc.find("call", actionNode).active = false;
          cc.find("fold", actionNode).active = false;
          cc.find("raise", actionNode).active = false;
          cc.find("bet", actionNode).active = false;
          cc.find("bb", actionNode).active = false;
          cc.find("sb", actionNode).active = false;
          "CHECK" == action.action ? cc.find("check", actionNode).active = true : "ALLIN" == action.action ? cc.find("allin", actionNode).active = true : "CALL" == action.action ? cc.find("call", actionNode).active = true : "FOLD" == action.action ? cc.find("fold", actionNode).active = true : "RAISE" == action.action ? cc.find("raise", actionNode).active = true : "BET" == action.action ? cc.find("bet", actionNode).active = true : "SB" == action.action ? cc.find("sb", actionNode).active = true : "BB" == action.action && (cc.find("bb", actionNode).active = true);
        }
      },
      getSuit: function getSuit(suit) {
        if ("spade" === suit) return K.Suit.Spade;
        if ("heart" === suit) return K.Suit.Heart;
        if ("club" === suit) return K.Suit.Club;
        if ("diamond" === suit) return K.Suit.Diamond;
      },
      createCards: function createCards(cardsArr, boardCardParent) {
        if (!!cardsArr) {
          var numCards = this.countCards(cardsArr);
          var counter = 0;
          for (var j = 0; j < cardsArr.length; j++) for (var l = 0; l < cardsArr[j].length; l++) {
            if (numCards <= 5 && 1 == j) break;
            if (!cardsArr[j][l]) {
              if (null == cardsArr[j][l] && cc.isValid(this.cardPrefab)) {
                var cardInstance = cc.instantiate(this.cardPrefab);
                boardCardParent.addChild(cardInstance);
              }
            } else {
              this.generateCard(boardCardParent, this.pokerGame.getCardByData(cardsArr[j][l]), j * cardsArr[j].length + l);
              counter++;
            }
          }
        }
      },
      onShow: function onShow(data) {
        GameManager.emit("disablePageView");
        this.sound = data.playSound;
        cc.find("Center", this.node).active = false;
        cc.find("empty", this.node).active = false;
        cc.find("foot", this.node).active = false;
        var inst = this;
        ServerCom.pomeloRequest("room.channelHandler.getHandHistory", {
          channelId: this.pokerGame.gameData.channelId,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("getHandHistory", response);
          inst.data = response.data;
          inst.dataIndex = 0;
          if (inst.data.length > 0) {
            cc.find("Center", inst.node).active = true;
            cc.find("empty", inst.node).active = false;
            cc.find("foot", inst.node).active = true;
          } else {
            cc.find("Center", inst.node).active = false;
            cc.find("empty", inst.node).active = true;
            cc.find("foot", inst.node).active = false;
          }
          inst.updateHistory();
        }, null, 5e3, false);
      },
      onNewTab: function onNewTab() {},
      populateRows: function populateRows() {
        GameManager.removeAllChildren(this.contentParent);
        var handTabContent = this.pokerGame.handTabs;
        if (null == handTabContent) return;
        for (var i = 0; i < handTabContent.length; i++) this.createRow(handTabContent, i);
      },
      createRow: function createRow(handTabContent, i) {
        var instance = cc.instantiate(this.rowPrefab);
        this.contentParent.children.length > 10 && this.contentParent.removeChild(this.contentParent.children[0]);
        this.contentParent.addChild(instance);
        var baseColor = i % 2 == 0 ? new cc.color(179, 179, 179) : new cc.color(229, 229, 229);
        instance.getChildByName("Base").color = baseColor;
        var myCardParent = instance.getChildByName("MyCardContainer");
        var boardCardParent = instance.getChildByName("BoardCardContainer");
        var cardsArr = null;
        cardsArr = this.pokerGame.presenter.isTournament() ? handTabContent[i].value.hands : handTabContent[i].hands;
        if (!!cardsArr) {
          var numCards = this.countCards(cardsArr);
          var counter = 0;
          for (var j = 0; j < cardsArr.length; j++) for (var l = 0; l < cardsArr[j].length; l++) {
            if (numCards <= 5 && 1 == j) break;
            if (!cardsArr[j][l]) {
              if (null == cardsArr[j][l] && cc.isValid(this.cardPrefab)) {
                var cardInstance = cc.instantiate(this.cardPrefab);
                boardCardParent.addChild(cardInstance);
              }
            } else {
              this.generateCard(boardCardParent, this.pokerGame.getCardByData(cardsArr[j][l]), j * cardsArr[j].length + l);
              counter++;
            }
            if (10 == numCards && 5 == counter) this.generateCard(boardCardParent, null, j * cardsArr[j].length + l, true); else if (cardsArr[j][l + 1] && null != cardsArr[j][l + 1]) {
              7 != numCards || 3 != counter && 5 != counter || this.generateCard(boardCardParent, null, j * cardsArr[j].length + l, true);
              6 != numCards || 4 != counter && 5 != counter || this.generateCard(boardCardParent, null, j * cardsArr[j].length + l, true);
            }
          }
        }
        if (!!handTabContent[i].myCards) for (var k = 0; k < handTabContent[i].myCards.length; k++) this.generateCard(myCardParent, this.pokerGame.getCardByData(handTabContent[i].myCards[k]), i);
        handTabContent[i].pot ? instance.getChildByName("PotLabel").getComponent(cc.Label).string = handTabContent[i].pot.roundOff(2) : handTabContent[i].value.pot && (instance.getChildByName("PotLabel").getComponent(cc.Label).string = handTabContent[i].value.pot.roundOff(2));
        instance.getComponent("HandHistoryTab").handHistoryId = handTabContent[i].handHistoryId;
        instance.getComponent("HandHistoryTab").onClickCallback = this.showTabHistory.bind(this);
        if (!handTabContent[i].videoId) {
          instance.getComponent("HandHistoryTab").replayId = "";
          instance.getComponent("HandHistoryTab").onReplayCallback = null;
        } else {
          instance.getComponent("HandHistoryTab").replayId = handTabContent[i].videoId;
          instance.getComponent("HandHistoryTab").onReplayCallback = this.showReplay.bind(this);
          instance.getComponent("HandHistoryTab").id = i;
        }
      },
      generateCard: function generateCard(parent, card, i, flag) {
        void 0 === flag && (flag = false);
        false;
        if (cc.isValid(this.cardPrefab)) {
          var cardInstance = cc.instantiate(this.cardPrefab);
          cardInstance.getComponent("Card").init(card, this.pokerGame);
          cardInstance.getComponent("Card").reveal(!!card);
          parent.setScale(1, 1);
          parent.addChild(cardInstance);
        }
      },
      countCards: function countCards(cardsArr) {
        var count = 0;
        for (var i = 0; i < cardsArr.length; i++) for (var j = 0; j < cardsArr[i].length; j++) cardsArr[i][j] && null != cardsArr[i][j] && count++;
        return count;
      },
      showTabHistory: function showTabHistory(handHistoryId, tabInstance) {
        var func = function func(data) {
          var _this = this;
          this.historyTextOpened = true;
          data.info = data.info.replace(/Kicker/g, "<color=#32CD32>Kicker</color>");
          data.info += "\n";
          this.contentBlocker.active = true;
          this.contentBlocker.opacity = 0;
          this.historyText.setScale(1, 0);
          this.historyText.active = true;
          var rn = data.info.substring(data.info.indexOf(": #") + 4, 200);
          var rn2 = rn.substring(0, rn.indexOf("-"));
          this.handIDLabel.string = "Hand ID  #" + rn2;
          this.infoLbl.string = data.info;
          var y = this.research(tabInstance.node);
          if (tabInstance.node.getChildByName("BoardCardContainer").childrenCount > 5) {
            this.historyText.y = 107;
            this.contentBlocker.y = 110;
            this.shadow.height = 77;
            this.shadow.y = -6.5;
          } else {
            this.historyText.y = 161;
            this.contentBlocker.y = 164;
            this.shadow.height = 46;
            this.shadow.y = -2.5;
          }
          this.moved = this.contentToMove.y;
          var historyTextAct1 = cc.scaleTo(.3, 1, 1).easing(cc.easeIn(1));
          var shadowOn = cc.callFunc(function() {
            _this.shadow.active = true;
            _this.infoLbl.node.parent.parent.getComponent(cc.ScrollView).scrollToTop();
          }, this);
          var contentAct1 = cc.moveTo(.3, 3, 244 + y);
          var contentBlockAct1 = cc.fadeTo(.3, 255);
          var contentBlockAct2 = cc.callFunc(function() {
            _this.historyText.runAction(cc.sequence(historyTextAct1, shadowOn));
          }, this);
          var contentAct2 = cc.callFunc(function() {
            _this.contentBlocker.runAction(cc.sequence(contentBlockAct1, contentBlockAct2));
          }, this);
          this.contentToMove.runAction(cc.sequence(contentAct1, contentAct2));
        };
        this.historyTextOpened || this.pokerGame.getHandHistory(handHistoryId, func.bind(this), true);
      },
      research: function research(tabClicked) {
        var y = 0;
        var bool = true;
        this.contentParent.children.forEach(function(element, i) {
          element == tabClicked ? bool = false : bool && (y += element.height - 4);
        }, this);
        return y;
      },
      minimiseHistoryText: function minimiseHistoryText() {
        var _this2 = this;
        var shadowOff = cc.callFunc(function() {
          _this2.infoLbl.string = "";
          _this2.shadow.active = false;
        }, this);
        var historyAct1 = cc.scaleTo(.3, 1, 0).easing(cc.easeIn(1));
        var cbAct1 = cc.fadeTo(.3, 0);
        var conToMoveAct1 = cc.moveTo(.3, 3, this.moved);
        var cf3 = cc.callFunc(function() {
          _this2.contentBlocker.active = false;
          _this2.historyText.active = false;
          _this2.historyTextOpened = false;
        }, this);
        var cf2 = cc.callFunc(function() {
          _this2.contentToMove.runAction(cc.sequence(conToMoveAct1, cf3));
        }, this);
        var cf = cc.callFunc(function() {
          _this2.contentBlocker.runAction(cc.sequence(cbAct1, cf2));
        }, this);
        this.historyText.runAction(cc.sequence(shadowOff, historyAct1, cf));
      },
      showReplay: function showReplay(videoId, id) {
        if (this.pokerGame.isPlayerStandUp()) return;
        var data = {};
        data.currentId = videoId;
        data.refModel = this.pokerGame;
        data.id = id;
        GameManager.popUpManager.show(PopUpType.VideoPlayerPopup, data, function() {});
      },
      onClose: function onClose() {
        GameManager.emit("enablePageView");
        this.popUpManager.hide(PopUpType.HandHistoryDetailPopup, function() {});
        this.pokerGame.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
      },
      onLeft: function onLeft() {
        this.dataIndex -= 1;
        this.dataIndex < 0 && (this.dataIndex = 0);
        this.updateHistory();
      },
      onRight: function onRight() {
        this.dataIndex += 1;
        this.dataIndex >= this.data.length && (this.dataIndex = this.data.length);
        this.updateHistory();
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  HandHistoryPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f8027QJr01IPJL8QAvGo21d", "HandHistoryPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        infoLbl: {
          default: null,
          type: cc.RichText
        },
        headingLbl: {
          default: null,
          type: cc.Label
        },
        scrollView: {
          default: null,
          type: cc.ScrollView
        }
      },
      onShow: function onShow(data) {
        if (null != data) {
          data.info = data.info.replace(/Kicker/g, "<color=#32CD32>Kicker</color>");
          this.infoLbl.string = data.info;
          this.headingLbl.string = data.heading;
        }
        GameManager.isMobile || this.registerUPandDOWN();
      },
      onClickEnter: function onClickEnter() {
        this.cancel();
      },
      cancel: function cancel() {
        !GameManager.isMobile;
        this.popUpManager.hide(PopUpType.HandHistoryPopup, function() {});
      },
      onUpScrollClick: function onUpScrollClick() {
        var sView = this.scrollView;
        var currentOffset = sView.getScrollOffset();
        var viewChildrenCount = sView.content.children.length;
        var x = cc.v2(0, currentOffset.y - 26);
        this.scrollView.scrollToOffset(x, .2);
      },
      onDownScrollClick: function onDownScrollClick() {
        var sView = this.scrollView;
        var currentOffset = sView.getScrollOffset();
        var x = cc.v2(0, currentOffset.y + 26);
        this.scrollView.scrollToOffset(x, .2);
      },
      registerUPandDOWN: function registerUPandDOWN() {
        return;
        var scrollView;
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  HandHistoryTab: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "02141DG1QpLhoJQi6Y6Tl8r", "HandHistoryTab");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        handHistoryId: null,
        onClickCallback: null,
        replayId: null,
        onReplayCallback: null,
        id: -1
      },
      onLoad: function onLoad() {},
      onClick: function onClick() {
        this.onClickCallback(this.handHistoryId, this);
      },
      onReplay: function onReplay() {
        !this.onReplayCallback || this.onReplayCallback(this.replayId, this.id);
      }
    });
    cc._RF.pop();
  }, {} ],
  HandPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7ca5ft4J71N2Yrm+5W9lgOe", "HandPanel");
    "use strict";
    var ChatPanel = require("ChatPanel");
    var Card = require("Card");
    var onHandTab = null;
    var HandHistoryTab = require("HandHistoryTab");
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: cc.Component,
      properties: {
        chatPanel: {
          default: null,
          type: ChatPanel
        },
        valuePrefab: {
          default: null,
          type: cc.Prefab
        },
        handCardPrefab: {
          default: null,
          type: cc.Prefab
        },
        valueParent: {
          default: null,
          type: cc.Node
        },
        pokerModel: {
          default: null,
          type: cc.Node
        },
        pokerGame: null,
        isMobileView: false,
        cardSeparatarPrefab: {
          default: null,
          type: cc.Prefab
        }
      },
      onLoad: function onLoad() {
        onHandTab = this.onNewTab.bind(this);
        this.pokerGame = this.pokerModel.getComponent("PokerModel");
        this.registerBroadcast();
        this.showHandTab();
        this.TabCounts = 0;
      },
      registerBroadcast: function registerBroadcast() {
        this.pokerGame.off(K.PokerEvents.onHandTab, onHandTab);
        this.pokerGame.on(K.PokerEvents.onHandTab, onHandTab);
      },
      onEnable: function onEnable() {},
      showHandTab: function showHandTab() {
        GameManager.removeAllChildren(this.valueParent);
        var handTabContent = this.pokerGame.handTabs;
        if (null == handTabContent) return;
        for (var i = 0; i < handTabContent.length; i++) this.initialize(handTabContent, i);
      },
      onNewTab: function onNewTab() {
        this.initialize(this.pokerGame.handTabs, this.pokerGame.handTabs.length - 1);
      },
      initialize: function initialize(handTabContent, i) {
        setTimeout(function() {
          this.TabCounts++;
          var instance = cc.instantiate(this.valuePrefab);
          this.valueParent.children.length > 10 && this.valueParent.removeChild(this.valueParent.children[0]);
          this.valueParent.addChild(instance);
          var baseColor = this.TabCounts % 2 == 0 ? new cc.color(191, 191, 191) : new cc.color(255, 255, 255);
          instance.getChildByName("Base").color = baseColor;
          var myCardParent = instance.getChildByName("MyCardContainer");
          var boardCardParent = instance.getChildByName("BoardCardContainer");
          var cardsArr = null;
          cardsArr = this.pokerGame.presenter.isTournament() ? handTabContent[i].value.hands : handTabContent[i].hands;
          if (!!cardsArr) {
            var numCards = this.countCards(cardsArr);
            var counter = 0;
            for (var j = 0; j < cardsArr.length; j++) for (var l = 0; l < cardsArr[j].length; l++) {
              if (numCards <= 5 && 1 == j) break;
              if (!cardsArr[j][l]) null == cardsArr[j][l] && setTimeout(function() {
                if (cc.isValid(this.handCardPrefab)) {
                  var cardInstance = cc.instantiate(this.handCardPrefab);
                  cardInstance.scale = this.isMobileView ? new cc.Vec2(1.6, 1.6) : new cc.Vec2(1, 1);
                  cardInstance.opacity = 2;
                  boardCardParent.addChild(cardInstance);
                }
              }.bind(this), 100 * (j * cardsArr[j].length + l)); else {
                this.generateCard(boardCardParent, this.pokerGame.getCardByData(cardsArr[j][l]), j * cardsArr[j].length + l);
                counter++;
              }
              if (10 == numCards && 5 == counter) this.generateCard(boardCardParent, null, j * cardsArr[j].length + l, true); else if (cardsArr[j][l + 1] && null != cardsArr[j][l + 1]) {
                7 != numCards || 3 != counter && 5 != counter || this.generateCard(boardCardParent, null, j * cardsArr[j].length + l, true);
                6 != numCards || 4 != counter && 5 != counter || this.generateCard(boardCardParent, null, j * cardsArr[j].length + l, true);
              }
            }
          }
          if (!!handTabContent[i].myCards) for (var k = 0; k < handTabContent[i].myCards.length; k++) this.generateCard(myCardParent, this.pokerGame.getCardByData(handTabContent[i].myCards[k]), i);
          handTabContent[i].pot ? instance.getChildByName("PotLabel").getComponent(cc.Label).string = handTabContent[i].pot.roundOff(2) : handTabContent[i].value.pot && (instance.getChildByName("PotLabel").getComponent(cc.Label).string = handTabContent[i].value.pot.roundOff(2));
          instance.getComponent("HandHistoryTab").handHistoryId = handTabContent[i].handHistoryId;
          instance.getComponent("HandHistoryTab").onClickCallback = this.showTabHistory.bind(this);
          if (!handTabContent[i].videoId) {
            instance.getComponent("HandHistoryTab").replayId = "";
            instance.getComponent("HandHistoryTab").onReplayCallback = null;
          } else {
            instance.getComponent("HandHistoryTab").replayId = handTabContent[i].videoId;
            instance.getComponent("HandHistoryTab").onReplayCallback = this.showReplay.bind(this);
            instance.getComponent("HandHistoryTab").id = i;
          }
        }.bind(this), 100 * i);
      },
      countCards: function countCards(cardsArr) {
        var count = 0;
        for (var i = 0; i < cardsArr.length; i++) for (var j = 0; j < cardsArr[i].length; j++) cardsArr[i][j] && null != cardsArr[i][j] && count++;
        return count;
      },
      generateCard: function generateCard(parent, card, i, flag) {
        void 0 === flag && (flag = false);
        setTimeout(function() {
          if (flag) {
            if ("Values_Mobile" != this.valuePrefab._name) {
              parent.parent.height = 78;
              parent.parent.getChildByName("Base").height = 78;
            }
          } else if (cc.isValid(this.handCardPrefab)) {
            var cardInstance = cc.instantiate(this.handCardPrefab);
            cardInstance.getComponent("Card").init(card, this.pokerGame);
            cardInstance.getComponent("Card").reveal(true);
            cardInstance.scale = this.isMobileView ? new cc.Vec2(1.6, 1.6) : new cc.Vec2(1, 1);
            parent.addChild(cardInstance);
          }
        }.bind(this), 100 * i);
      },
      showTabHistory: function showTabHistory(handHistoryId) {
        this.pokerGame.showHandHistoryDetail();
      },
      showReplay: function showReplay(videoId, id) {
        if (this.pokerGame.isPlayerStandUp()) return;
        var data = {};
        data.currentId = videoId;
        data.refModel = this.pokerGame;
        data.id = id;
        this.pokerModel.children[0].getComponent("PokerPresenter").playAudio(K.Sounds.click);
        GameManager.popUpManager.show(PopUpType.VideoPlayerPopup, data, function() {});
      }
    });
    cc._RF.pop();
  }, {
    Card: "Card",
    ChatPanel: "ChatPanel",
    HandHistoryTab: "HandHistoryTab",
    PopUpManager: "PopUpManager"
  } ],
  "IP-SelectionScreen": [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9f172HP40FHrrqEexFNURmO", "IP-SelectionScreen");
    "use strict";
    var root = window.K.ServerAddress;
    var InputType = cc.Enum({
      gameHost: 0,
      gamePort: 1,
      maintenanceHost: 2,
      maintenancePort: 3,
      dashboardHost: 4,
      dashboardPort: 5,
      None: 100
    });
    cc.Class({
      extends: cc.Component,
      properties: {
        errorMessage: {
          default: null,
          type: cc.Label
        },
        editBoxes: {
          default: [],
          type: cc.EditBox
        },
        toggleGroup: {
          default: null,
          type: cc.ToggleGroup
        },
        noneToggle: {
          default: null,
          type: cc.Toggle
        },
        nextScreen: {
          default: null,
          type: cc.Node
        }
      },
      start: function start() {
        this.noneToggle.isChecked = true;
      },
      onClickUpdate: function onClickUpdate() {
        this.node.active = false;
        this.nextScreen.active = true;
      },
      onTogglevalueChanged: function onTogglevalueChanged(target, custom) {
        console.log("on Toggle value changed", custom);
        if (custom == InputType.None) {
          console.log("no change required");
          this.setEBValue();
        } else this.setIPWithToggle(custom);
      },
      setIP: function setIP() {
        root.gameServer = this.editBoxes[InputType.gameHost].string;
        root.gamePort = this.editBoxes[InputType.gamePort].string;
        root.maintainanceIP = "http://" + this.editBoxes[InputType.maintenanceHost].string;
        root.maintainancePort = this.editBoxes[InputType.maintenancePort].string;
        root.ipAddress = "http://" + this.editBoxes[InputType.dashboardHost].string;
        root.port = this.editBoxes[InputType.dashboardPort].string;
      },
      setIPWithToggle: function setIPWithToggle(value) {
        root.gameServer = "192.168.2." + value;
        root.maintainanceIP = "http://192.168.2." + value;
        root.ipAddress = "http://192.168.2." + value;
        console.log(root.gameServer, root.maintainanceIP, root.ipAddress);
        this.setEBValue();
      },
      setEBValue: function setEBValue() {
        this.editBoxes[InputType.gameHost].string = root.gameServer;
        this.editBoxes[InputType.gamePort].string = root.gamePort;
        this.editBoxes[InputType.maintenanceHost].string = root.maintainanceIP;
        this.editBoxes[InputType.maintenancePort].string = root.maintainancePort;
        this.editBoxes[InputType.dashboardHost].string = root.ipAddress;
        this.editBoxes[InputType.dashboardPort].string = root.port;
      }
    });
    cc._RF.pop();
  }, {} ],
  InGamePreferencesPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5e88dHobN9J75JCMYvUp8ja", "InGamePreferencesPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var CheckBoxType = require("Checkbox");
    var GameData = require("ResponseTypes").GameData;
    var JoinSimilar = require("PostTypes").JoinSimilar;
    var Toggle = require("Toggle");
    var gameScreen = require("GameScreen");
    var pokerModel = require("PokerModel").PokerModel;
    cc.Class({
      extends: PopUpBase,
      properties: {
        content1: {
          default: null,
          type: cc.Node
        },
        content2: {
          default: null,
          type: cc.Node
        },
        top1: {
          default: null,
          type: cc.Node
        },
        top2: {
          default: null,
          type: cc.Node
        },
        content1Tab: {
          default: null,
          type: cc.Node
        },
        content2Tab: {
          default: null,
          type: cc.Node
        },
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        tableTheme: {
          default: null,
          type: cc.Node
        },
        tileViewSelection: {
          default: null,
          type: cc.Toggle
        },
        unTileViewSelection: {
          default: null,
          type: cc.Toggle
        },
        dealerChat: {
          default: null,
          type: Toggle
        },
        Chat: {
          default: null,
          type: Toggle
        },
        soundToggle: {
          default: null,
          type: Toggle
        },
        joinSimilarBtn: {
          default: null,
          type: cc.Button
        },
        tableColor: {
          default: null,
          type: cc.Node
        },
        tableLayout: {
          default: null,
          type: cc.Node
        },
        muckHandToggle: {
          default: null,
          type: cc.Toggle
        },
        showFoldHandToggle: {
          default: null,
          type: Toggle
        },
        coloredCardToggle: {
          default: null,
          type: Toggle
        },
        activeModel: null,
        pokerVersionString: {
          default: null,
          type: cc.RichText
        },
        gameVersionString: {
          default: null,
          type: cc.RichText
        },
        playerImg: {
          default: null,
          type: cc.Sprite
        },
        model: {
          default: null,
          type: pokerModel
        },
        handSToggle: {
          default: null,
          type: Toggle
        },
        BBToggle: {
          default: null,
          type: Toggle
        }
      },
      onContent1: function onContent1() {
        this.content1.active = true;
        this.content2.active = false;
        this.content1Tab.children[0].active = true;
        this.content1Tab.children[1].color = cc.Color.WHITE;
        this.content2Tab.children[0].active = false;
        this.content2Tab.children[1].color = cc.Color.BLACK;
      },
      onContent2: function onContent2() {
        this.content1.active = false;
        this.content2.active = true;
        this.content2Tab.children[0].active = true;
        this.content2Tab.children[1].color = cc.Color.WHITE;
        this.content1Tab.children[0].active = false;
        this.content1Tab.children[1].color = cc.Color.BLACK;
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.activeModel = data;
        var isJoinSimilarAllowed = !this.activeModel.isPlayerStandUp() || this.activeModel.roomConfig.maxPlayers == this.activeModel.gameData.tableDetails.players.length;
        this.playerImg.spriteFrame = GameManager.user.urlImg;
        this.gameVersionString.string = "<color=#ffffff>Build Version:  " + K.ServerAddress.clientVer + "</color>";
        this.pokerVersionString.string = "<color=#ffffff>Poker Version:  " + K.ServerAddress.pokerVer + "</color>";
        this.joinSimilarBtn.interactable = !(this.activeModel.gameData.channelType == K.ChannelType.Tournament) && isJoinSimilarAllowed;
        this.dealerChat.state !== GameManager.user.dealerChat && this.dealerChat.onToggle();
        GameManager.user.playerChat !== this.Chat.state && this.Chat.onToggle();
        this.activeModel.gameData.settings.muteGameSound == this.soundToggle.state && this.soundToggle.onToggle();
        this.activeModel.gameData.settings.isShowCard !== this.showFoldHandToggle.state && this.showFoldHandToggle.onToggle();
        this.activeModel.gameData.settings.cardColor !== this.coloredCardToggle.state && this.coloredCardToggle.onToggle();
        GameManager.user.settings.stackInBB !== this.BBToggle.state && this.BBToggle.onToggle();
        GameManager.user.settings.handStrength !== this.handSToggle.state && this.handSToggle.onToggle();
        this.onContent1();
        if (this.activeModel.presenter.isTournament()) {
          this.top1.active = false;
          this.top2.active = true;
        } else {
          this.top1.active = true;
          this.top2.active = false;
        }
        GameManager.emit("disablePageView");
      },
      toggleSwitch: function toggleSwitch() {
        var activeTables = this.node.parent.parent.parent.parent.children.length;
      },
      onJoinSimilar: function onJoinSimilar() {
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        if (GameManager.activeTableCount >= GameManager.maxTableCounts) {
          GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
          return;
        }
        var data = new JoinSimilar(this.activeModel.roomConfig.isRealMoney, this.activeModel.roomConfig.channelVariation, this.activeModel.roomConfig.smallBlind, this.activeModel.roomConfig.bigBlind, this.activeModel.roomConfig.maxPlayers, this.activeModel.roomConfig.turnTime, GameManager.user.playerId);
        data.channelId = this.activeModel.gameData.channelId;
        ServerCom.pomeloRequest(K.PomeloAPI.joinSimilar, data, function(response) {
          var data = response;
          if (response.success) {
            var channel = {};
            channel.channelId = data.similarChannelId || "";
            channel.channelType = "NORMAL";
            channel.tableId = "";
            channel.isRequested = true;
            var route = K.PomeloAPI.joinChannel;
            "Open Face Chinese Poker" == this.activeModel.roomConfig.channelVariation && (route = require("OFCConfigs").PomeloAPI.joinChannel);
            GameManager.join(channel.channelId, route, channel);
          }
        }.bind(this), function(error) {});
      },
      onChooseAvatarSound: function onChooseAvatarSound() {
        this.onSettingsClose();
        GameManager.popUpManager.show(PopUpType.AvatarDialog, this.activeModel.gameData.settings.muteGameSound, function() {});
      },
      onToggleSound: function onToggleSound() {
        var data = {};
        data.channelId = this.activeModel.gameData.channelId;
        data.playerId = GameManager.user.playerId;
        data.key = "muteGameSound";
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        this.activeModel.gameData.settings.muteGameSound = !this.activeModel.gameData.settings.muteGameSound;
        data.value = this.activeModel.gameData.settings.muteGameSound;
        ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(data) {
          data.success;
        }.bind(this), null, 5e3, false);
      },
      onToggleMuckHand: function onToggleMuckHand() {
        var data = {};
        data.channelId = this.activeModel.gameData.channelId;
        data.playerId = GameManager.user.playerId;
        data.key = "isMuckHand";
        data.value = this.muckHandToggle.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
          response.success ? this.activeModel.gameData.settings.isMuckHand = !this.activeModel.gameData.settings.isMuckHand : this.muckHandToggle.onToggle();
        }.bind(this), null, 5e3, false);
      },
      onToggleShowFoldHand: function onToggleShowFoldHand() {
        var data = {};
        data.channelId = this.activeModel.gameData.channelId;
        data.playerId = GameManager.user.playerId;
        data.key = "isShowCard";
        data.value = this.showFoldHandToggle.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
          if (response.success) {
            this.activeModel.gameData.settings.isShowCard = !this.activeModel.gameData.settings.isShowCard;
            this.activeModel.presenter.showFoldBtn.node.parent.getChildByName("tick").active = this.activeModel.gameData.settings.isShowCard;
          } else this.showFoldHandToggle.onToggle();
        }.bind(this), null, 5e3, false);
      },
      onTogglePlayerChat: function onTogglePlayerChat() {
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        var data = {};
        data.query = {};
        data.updateKeys = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys["settings.playerChat"] = this.Chat.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          if (data.success) {
            GameManager.user.playerChat = !GameManager.user.playerChat;
            GameManager.emit(K.PokerEvents.onChatSettingsChanged);
          } else this.Chat.onToggle();
        }.bind(this), null, 5e3, false);
      },
      onToggleFourColorCard: function onToggleFourColorCard() {
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        var data = {};
        data.channelId = this.activeModel.gameData.channelId;
        data.playerId = GameManager.user.playerId;
        data.key = "cardColor";
        data.value = this.coloredCardToggle.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
          if (response.success) {
            this.activeModel.gameData.settings.cardColor = this.coloredCardToggle.state;
            this.setColorCardPref(this.coloredCardToggle.state);
          } else this.coloredCardToggle.onToggle();
        }.bind(this), null, 5e3, false);
      },
      setColorCardPref: function setColorCardPref(state) {
        state ? this.activeModel.emit(K.PokerEvents.onCardColorChange, K.CardColoring.FourCardColor, this.model) : this.activeModel.emit(K.PokerEvents.onCardColorChange, K.CardColoring.TwoCardColor, this.model);
      },
      onSetTiledLayOut: function onSetTiledLayOut() {
        if (this.activeModel.valueChange) {
          this.unTileViewSelection.isChecked = false;
          this.tileViewSelection.isChecked = true;
          GameScreen.setTiledView();
        }
      },
      onSetUnTiledLayOut: function onSetUnTiledLayOut() {
        if (this.activeModel.valueChange) {
          this.unTileViewSelection.isChecked = true;
          this.tileViewSelection.isChecked = false;
          GameScreen.setUnTiledView();
        }
      },
      onToggleDealerChat: function onToggleDealerChat() {
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        var data = {};
        data.query = {};
        data.updateKeys = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys["settings.dealerChat"] = this.dealerChat.state;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          if (data.success) {
            GameManager.user.dealerChat = !GameManager.user.dealerChat;
            GameManager.emit(K.PokerEvents.onDealerChatSettingsChanged);
          } else this.dealerChat.onToggle();
        }.bind(this), null, 5e3, false);
      },
      setTableColor: function setTableColor(event, parameter) {
        this.activeModel.gameData.settings.tableColor = parameter;
        var data = {};
        data.channelId = this.activeModel.gameData.channelId;
        data.playerId = GameManager.user.playerId;
        data.key = "tableColor";
        data.value = parameter;
        ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
          response.success && (GameManager.user.tableColor = parameter);
        }.bind(this), null, 5e3, false);
      },
      onSettingsClose: function onSettingsClose() {
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        GameManager.emit("enablePageView");
        this.popUpManager.hide(1, function() {});
      },
      onLogOut: function onLogOut() {
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        GameManager.popUpManager.show(PopUpType.OnLogOutPopup, null, function() {});
      },
      onChangeTheme: function onChangeTheme() {
        this.activeModel.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
        this.tableTheme.active = true;
        GameManager.emit("enablePageView");
        this.popUpManager.hide(1, function() {});
      },
      onToggleHandS: function onToggleHandS() {
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.showHandStrength = this.handSToggle.state;
        data.access_token = K.Token.access_token;
        data.isLoggedIn = true;
        ServerCom.pomeloRequest("connector.entryHandler.changeHandStrength", data, function(response) {
          response.success ? this.activeModel.gameData.showHandStrength = !this.activeModel.gameData.showHandStrength : this.handSToggle.onToggle();
        }.bind(this), null, 5e3, false);
      },
      onToggleBB: function onToggleBB() {
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.stackInBB = this.BBToggle.state;
        data.access_token = K.Token.access_token;
        data.isLoggedIn = true;
        ServerCom.pomeloRequest("connector.entryHandler.changeStackInBB", data, function(response) {
          if (response.success) {
            GameManager.user.settings.stackInBB = !GameManager.user.settings.stackInBB;
            GameManager.isBB = GameManager.user.settings.stackInBB;
            GameManager.emit("switchBB");
          } else this.BBToggle.onToggle();
        }.bind(this), null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    GameScreen: "GameScreen",
    OFCConfigs: "OFCConfigs",
    PokerModel: "PokerModel",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    Toggle: "Toggle"
  } ],
  InSufficientChipsPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c79c9/Gq/ZNDpodQX9Zcon7", "InSufficientChipsPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var CheckBoxType = require("Checkbox");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {},
      onClickEnter: function onClickEnter() {
        this.onBuyIn();
      },
      onBuyIn: function onBuyIn() {},
      onLater: function onLater() {
        this.popUpManager.hide(PopUpType.InSufficient, function() {});
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  InfoPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "19eb57eN7pEco1ZZEDTRYSk", "InfoPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        keyLabels: {
          default: [],
          type: cc.Label
        },
        valueLabels: {
          default: [],
          type: cc.Label
        }
      },
      start: function start() {},
      onShow: function onShow(data) {
        GameManager.emit("disablePageView");
        this.sound = data.playSound;
        var count = 0;
        for (var key in data.info) if (count < this.keyLabels.length && -1 == key.indexOf("Rake") && -1 == key.indexOf("Cap") && -1 == key.indexOf("Max")) {
          this.keyLabels[count].string = key;
          this.valueLabels[count].string = data.info[key];
          count++;
        }
        this.keyLabels.forEach(function(elem) {
          "keys" == elem.string ? elem.node.active = false : elem.node.active = true;
        });
        this.valueLabels.forEach(function(elem) {
          "values" == elem.string ? elem.node.active = false : elem.node.active = true;
        });
      },
      onQuit: function onQuit() {
        GameManager.emit("enablePageView");
        this.popUpManager.hide(PopUpType.GameInfoPopup, function() {});
        this.sound(K.Sounds.click);
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  InstructionPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5f281l1RaJATpORD/PrcsFR", "InstructionPopup");
    "use strict";
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        infoLbl: {
          default: null,
          type: cc.Label
        },
        headingLbl: {
          default: null,
          type: cc.Label
        }
      },
      onShow: function onShow(data) {},
      onClickEnter: function onClickEnter() {
        this.cancel();
      },
      cancel: function cancel() {
        GameManager.popUpManager.hide(PopUpType.InstructionPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  InviteToPlayPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3d529WvGHtJ97yOaN02EaLI", "InviteToPlayPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var JoinData = require("PostTypes").JoinChannel;
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        infoLbl: {
          default: null,
          type: cc.Label
        }
      },
      onShow: function onShow(data) {
        console.log("InviteToPlayPopup data ", JSON.stringify(data));
        var text = LocalizedManager.t("TXT_HAS_INVITED_YOU");
        var playerName = data.playerName;
        var roomName = data.channelName + "( " + data.smallBlind + "/" + data.bigBlind + " )";
        text = text.replace(/XXX/gi, playerName);
        text = text.replace(/YYY/gi, roomName);
        this.infoLbl.string = text;
        this.channelId = data.channelId;
        this.joinChannelData = {};
        this.joinChannelData.playerId = GameManager.user.playerId;
        this.joinChannelData.channelId = this.channelId;
        this.joinChannelData.channelType = data.channelVariation;
      },
      onClickRejectBtn: function onClickRejectBtn() {
        this.popUpManager.hide(PopUpType.InviteToPlayPopup, function() {});
        GameManager.playSound(K.Sounds.click);
      },
      onClickAcceptBtn: function onClickAcceptBtn() {
        var newData = new JoinData(this.joinChannelData);
        var pop = GameManager.join(this.channelId, K.PomeloAPI.joinChannel, newData);
        this.popUpManager.hide(PopUpType.InviteToPlayPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes"
  } ],
  InvliteFriendsList: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "dcaceCOmU5P9Yxz+VvkIvlI", "InvliteFriendsList");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var EditBoxType = require("CustomEditBox");
    var UtilEditBoxType = require("EditBoxUtil");
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    var InvliteFriendsList = cc.Class({
      extends: cc.Component,
      properties: {
        contentNode: {
          default: null,
          type: cc.Node
        },
        itemNode: {
          default: null,
          type: cc.Node
        }
      },
      onDestroy: function onDestroy() {},
      onEnable: function onEnable() {},
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.data = data;
        this.onFriendsList();
      },
      onClose: function onClose() {
        this.node.active = false;
      },
      onFriendsList: function onFriendsList() {
        var _this = this;
        GameManager.friendRequstFriends(function() {
          _this.contentNode.removeAllChildren();
          for (var i = 0; i < GameManager.buddies.length; i++) {
            var instance = cc.instantiate(_this.itemNode);
            instance.setPosition(0, 0);
            instance.active = true;
            cc.find("layout/name", instance).getComponent(cc.Label).string = GameManager.buddies[i].userName;
            cc.find("Avatar/online", instance).active = GameManager.buddies[i].isOnline;
            cc.find("Avatar/offline", instance).active = !GameManager.buddies[i].isOnline;
            cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages["undefined" != GameManager.buddies[i].profileImage ? Number(GameManager.buddies[i].profileImage) : 1];
            cc.find("Avatar", instance).getComponent(cc.Button).clickEvents[0].customEventData = GameManager.buddies[i];
            instance.__data = GameManager.buddies[i];
            instance.parent = _this.contentNode;
          }
        });
      },
      onSelect: function onSelect(event, customEventData) {
        console.log("onSelect", customEventData);
        console.log(this.data);
        var data = {
          playerId: customEventData.playerId,
          channelId: this.data.model.gameData.channelId,
          channelName: this.data.model.roomConfig.channelName,
          smallBlind: this.data.model.gameData.tableDetails.smallBlind,
          bigBlind: this.data.model.gameData.tableDetails.bigBlind,
          channelVariation: this.data.model.roomConfig.channelVariation
        };
        console.log(data);
        GameManager.inviteBuddy(data, function(response) {
          GameManager.popUpManager.show(PopUpType.NotificationPopup, response.message, function() {});
        });
      }
    });
    cc._RF.pop();
  }, {
    CustomEditBox: "CustomEditBox",
    EditBoxUtil: "EditBoxUtil",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    SliderTouch: "SliderTouch"
  } ],
  JohnyChat: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3aa73VS0EJPYKk9932wJLsp", "JohnyChat");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerModel: {
          default: null,
          type: cc.Node
        },
        pokerGame: null,
        chatGridParent: {
          default: null,
          type: cc.Node
        },
        chatContent: {
          default: null,
          type: cc.Node
        },
        other: {
          default: null,
          type: cc.Node
        },
        loaded: false
      },
      onLoad: function onLoad() {
        if (this.loaded) return;
        this.loaded = true;
        this.pokerGame = this.pokerModel.getComponent("PokerModel");
        this.registerBroadcast();
        !this.other || this.other.getComponent("DealerChatPanel").onLoad();
      },
      start: function start() {},
      onEnable: function onEnable() {},
      onDestroy: function onDestroy() {
        if (!this.pokerGame) return;
        this.pokerGame.off(K.PokerEvents.OnDealerChat, this.onChat.bind(this));
      },
      scrollToBottom: function scrollToBottom() {
        var chatScroll = this.chatGridParent.parent.parent;
        var scrollView = chatScroll.getComponent(cc.ScrollView);
        scrollView.scrollToBottom(.5);
      },
      generateChat: function generateChat(msg) {
        var obj = cc.instantiate(this.chatContent);
        obj.active = true;
        obj.getComponent(cc.RichText).string = msg;
        this.chatGridParent.addChild(obj);
      },
      registerBroadcast: function registerBroadcast() {
        if (!this.pokerGame) return;
        this.pokerGame.off(K.PokerEvents.OnDealerChat, this.onChat.bind(this));
        this.pokerGame.on(K.PokerEvents.OnDealerChat, this.onChat.bind(this));
      },
      onChat: function onChat(response) {
        var message = "<color=#ffffff>" + response.message + "</c>";
        this.showMessages(message);
      },
      showMessages: function showMessages(chat) {
        this.unscheduleAllCallbacks();
        if (!this.pokerGame) return;
        if (this.chatGridParent.childrenCount >= 30) {
          this.chatGridParent.children[0].getComponent(cc.RichText).string = chat;
          this.chatGridParent.children[0].setSiblingIndex(30);
        } else this.generateChat(chat);
      },
      onMinimise: function onMinimise() {
        this.node.active = false;
        this.pokerGame.gameData.settings.muteGameSound || GameManager.playSound(K.Sounds.click);
      }
    });
    cc._RF.pop();
  }, {} ],
  JoinGamePopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "729a9l4QWhMoLyH3+P5e60T", "JoinGamePopup");
    "use strict";
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        infoLbl: {
          default: null,
          type: cc.Label
        },
        headingLbl: {
          default: null,
          type: cc.Label
        },
        callback: null,
        joinData: null,
        playerInfoRef: null
      },
      onLoad: function onLoad() {
        this.playerInfoRef = this.onPlayerInfo.bind(this);
        GameManager.on("playerInfo", this.playerInfoRef);
      },
      onShow: function onShow(data) {
        if (null !== data) {
          this.infoLbl.string = data.info;
          this.joinData = data.joinData;
          this.callback = data.callback;
          !data.heading || (this.headingLbl.string = data.heading);
        }
      },
      onCancel: function onCancel() {
        GameManager.popUpManager.hide(PopUpType.JoinGamePopup, function() {});
        GameManager.playSound(K.Sounds.click);
      },
      onClickEnter: function onClickEnter() {
        this.onClick();
      },
      onClick: function onClick() {
        if (!!this.callback) {
          this.callback(this.joinData);
          GameManager.popUpManager.hide(PopUpType.JoinGamePopup, function() {});
          GameManager.playSound(K.Sounds.click);
        }
      },
      onPlayerInfo: function onPlayerInfo(response) {
        GameManager.popUpManager.hide(PopUpType.JoinGamePopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  JoinPrivateTablePopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b4efbTD/JI1YEalEHyn7Fl", "JoinPrivateTablePopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var LoginData = require("PostTypes").Login;
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        code: {
          default: null,
          type: cc.EditBox
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {},
      onCode: function onCode() {
        var self = this;
        console.log("onCode", LoginData.ipV4Address);
        null != GameScreen ? GameManager.isMobile ? GameManager.activeTableCount = GameScreen.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = GameScreen.gridParent.children.length : GameManager.activeTableCount = 0;
        if (GameManager.activeTableCount >= GameManager.maxTableCounts) {
          GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
          return;
        }
        ServerCom.pomeloRequest("room.channelHandler.joinChannelByInvitecode", {
          inviteCode: this.code.string,
          playerId: GameManager.user.playerId,
          networkIp: LoginData.ipV4Address
        }, function(response) {
          console.log(response);
          if (response.success) {
            console.log("onCode", JSON.stringify(response));
            GameManager.verifyTablePrivate(response.channelId) && GameManager.onJoinSuccess(response, response.data);
            self.onClose();
          } else {
            GameManager.popUpManager.show(PopUpType.CommonDialog, {
              title: "Error!",
              content: response.info
            }, function() {});
            self.onClose();
          }
        }, null, 5e3, false);
      },
      onClose: function onClose() {
        this.code.string = "";
        this.node.active = false;
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes"
  } ],
  Launch: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e3472aVuu5OBYHd3AWDhhMW", "Launch");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        progress: {
          default: null,
          type: cc.ProgressBar
        },
        label: {
          default: null,
          type: cc.Node
        },
        logo: {
          default: null,
          type: cc.Node
        },
        bg: {
          default: null,
          type: cc.Node
        },
        loading: {
          default: null,
          type: cc.Node
        }
      },
      onConfirmCustom: function onConfirmCustom() {
        if (this.node.getChildByName("Editable")) {
          this.node.getChildByName("Editable").active = false;
          K.ServerAddress.gameServer = this.node.getChildByName("Editable").getChildByName("gameServer").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.gamePort = this.node.getChildByName("Editable").getChildByName("gamePort").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.ipAddress = this.node.getChildByName("Editable").getChildByName("ipAddress").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.port = this.node.getChildByName("Editable").getChildByName("port").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.assets_server = this.node.getChildByName("Editable").getChildByName("assets_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.otp_server = this.node.getChildByName("Editable").getChildByName("otp_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.ads_server = this.node.getChildByName("Editable").getChildByName("ads_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.Token.auth_server = this.node.getChildByName("Editable").getChildByName("auth_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.Token.auth_refresh_server = this.node.getChildByName("Editable").getChildByName("auth_refresh_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.setItem("EditablegameServer", this.node.getChildByName("Editable").getChildByName("gameServer").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("EditablegamePort", this.node.getChildByName("Editable").getChildByName("gamePort").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("EditableipAddress", this.node.getChildByName("Editable").getChildByName("ipAddress").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableport", this.node.getChildByName("Editable").getChildByName("port").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableassets_server", this.node.getChildByName("Editable").getChildByName("assets_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableotp_server", this.node.getChildByName("Editable").getChildByName("otp_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableads_server", this.node.getChildByName("Editable").getChildByName("ads_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableauth_server", this.node.getChildByName("Editable").getChildByName("auth_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableauth_refresh_server", this.node.getChildByName("Editable").getChildByName("auth_refresh_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
        }
        this.schedule(this.updateProgress);
      },
      start: function start() {
        var _this = this;
        cc.macro.ENABLE_MULTI_TOUCH = false;
        var size = cc.size(cc.Canvas.instance.node.width, cc.Canvas.instance.node.height);
        var aspect = size.height / size.width;
        console.log("aspect", aspect);
        aspect > 1.5 || (this.node.scale = .6);
        if (this.node.getChildByName("Editable") && this.node.getChildByName("Editable").active) {
          cc.sys.localStorage.getItem("EditablegameServer") ? K.ServerAddress.gameServer = this.node.getChildByName("Editable").getChildByName("gameServer").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("EditablegameServer") : K.ServerAddress.gameServer = this.node.getChildByName("Editable").getChildByName("gameServer").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("EditablegamePort") ? K.ServerAddress.gamePort = this.node.getChildByName("Editable").getChildByName("gamePort").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("EditablegamePort") : K.ServerAddress.gamePort = this.node.getChildByName("Editable").getChildByName("gamePort").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("EditableipAddress") ? K.ServerAddress.ipAddress = this.node.getChildByName("Editable").getChildByName("ipAddress").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("EditableipAddress") : K.ServerAddress.ipAddress = this.node.getChildByName("Editable").getChildByName("ipAddress").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("Editableport") ? K.ServerAddress.port = this.node.getChildByName("Editable").getChildByName("port").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("Editableport") : K.ServerAddress.port = this.node.getChildByName("Editable").getChildByName("port").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("Editableassets_server") ? K.ServerAddress.assets_server = this.node.getChildByName("Editable").getChildByName("assets_server").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("Editableassets_server") : K.ServerAddress.assets_server = this.node.getChildByName("Editable").getChildByName("assets_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("Editableotp_server") ? K.ServerAddress.otp_server = this.node.getChildByName("Editable").getChildByName("otp_server").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("Editableotp_server") : K.ServerAddress.otp_server = this.node.getChildByName("Editable").getChildByName("otp_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("Editableads_server") ? K.ServerAddress.otp_server = this.node.getChildByName("Editable").getChildByName("ads_server").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("Editableads_server") : K.ServerAddress.otp_server = this.node.getChildByName("Editable").getChildByName("ads_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("Editableauth_server") ? K.Token.auth_server = this.node.getChildByName("Editable").getChildByName("auth_server").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("Editableauth_server") : K.Token.auth_server = this.node.getChildByName("Editable").getChildByName("auth_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.getItem("Editableauth_refresh_server") ? K.Token.auth_refresh_server = this.node.getChildByName("Editable").getChildByName("auth_refresh_server").getChildByName("EditBox").getComponent(cc.EditBox).string = cc.sys.localStorage.getItem("Editableauth_refresh_server") : K.Token.auth_refresh_server = this.node.getChildByName("Editable").getChildByName("auth_refresh_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
        } else this.schedule(this.updateProgress);
        this.node.getComponent(cc.Button).interactable = false;
        this.timer = 0;
        cc.director.preloadScene("Portrait", function() {
          _this.finished();
        });
      },
      updateProgress: function updateProgress(dt) {
        this.timer += dt / 4;
        if (this.timer >= 1) {
          this.timer = 1;
          this.unschedule(this.updateProgress);
          this.next();
        }
        this.progress.progress = this.timer;
      },
      next: function next() {
        var _this2 = this;
        this.logo.runAction(cc.fadeOut(1));
        this.progress.node.runAction(cc.fadeOut(1));
        this.node.runAction(cc.sequence(cc.delayTime(1.1), cc.callFunc(function() {
          _this2.next2();
        }, this)));
      },
      next2: function next2() {
        var _this3 = this;
        this.logo.scale = 10;
        this.logo.runAction(cc.sequence(cc.spawn(cc.fadeIn(1), cc.scaleTo(1, .9)), cc.delayTime(.5), cc.delayTime(.5), cc.delayTime(1), cc.callFunc(function() {
          _this3.node.getComponent(cc.Button).interactable = true;
          _this3.isAnimationFinshed = true;
          _this3.isAnimationFinshed = false;
          _this3.toGame();
        }, this)));
        this.bg.active = true;
        this.bg.opacity = 0;
        this.bg.runAction(cc.sequence(cc.delayTime(1), cc.fadeIn(1)));
        this.label.active = true;
        this.label.opacity = 0;
        this.label.runAction(cc.sequence(cc.delayTime(1), cc.fadeIn(1)));
      },
      finished: function finished() {
        console.log("finished");
        this.isLoadngFinshed = true;
        this.isAnimationFinshed && this.toGame();
      },
      toGame: function toGame() {
        this.node.getComponent(cc.Button).interactable = false;
        this.isAnimationFinshed = false;
        this.loading.active = true;
        cc.director.loadScene("Portrait");
      }
    });
    cc._RF.pop();
  }, {} ],
  ListNotifications: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "25a44BMH6dCDrzZCazjgEL5", "ListNotifications");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var EditBoxType = require("CustomEditBox");
    var UtilEditBoxType = require("EditBoxUtil");
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    var ListNotifications = cc.Class({
      extends: cc.Component,
      properties: {
        contentNode: {
          default: null,
          type: cc.Node
        },
        itemNode: {
          default: null,
          type: cc.Node
        }
      },
      onDestroy: function onDestroy() {},
      onEnable: function onEnable() {},
      onLoad: function onLoad() {},
      onShow: function onShow(data) {},
      onClose: function onClose() {
        this.node.active = false;
      },
      onRemove: function onRemove(event, customEventData) {},
      onRead: function onRead(event, customEventData) {},
      onMore: function onMore(event, customEventData) {},
      onLess: function onLess(event, customEventData) {}
    });
    cc._RF.pop();
  }, {
    CustomEditBox: "CustomEditBox",
    EditBoxUtil: "EditBoxUtil",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    SliderTouch: "SliderTouch"
  } ],
  LobbyHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c1685foWMtFSaEpmQZcOWmq", "LobbyHandler");
    "use strict";
    var ServerCom = require("ServerCom");
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {}
    });
    cc._RF.pop();
  }, {
    ServerCom: "ServerCom"
  } ],
  LobbyPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22a7eKJnWxLxpHnsJ3IwDv1", "LobbyPresenter");
    "use strict";
    var _cc$Class;
    var LobbyHandler = require("LobbyHandler");
    var Checkbox = require("Checkbox");
    var Table = require("Table");
    var abstractScreen = require("AbstractScreen");
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var TabBtnUtil = require("TabBtnUtil");
    var DropDownType = require("DropDown");
    var GetPrize = require("PostTypes").GetPrizeData;
    var LoginHandler = require("LoginHandler");
    var CashRoom = require("CashRoom");
    var changeAvatar = require("ResponseTypes").changeAvatar;
    var megaCircleType = cc.Enum({
      Bronze: 0,
      Chrome: 1,
      Silver: 2,
      Gold: 3,
      Diamond: 4,
      Platinum: 5
    });
    cc.Class((_cc$Class = {
      extends: abstractScreen,
      properties: {
        gift: {
          default: null,
          type: cc.Node
        },
        depositOne: {
          default: null,
          type: cc.Node
        },
        deposit: {
          default: null,
          type: cc.Node
        },
        depositScrollView: {
          default: null,
          type: cc.Node
        },
        depositScrollViewItem: {
          default: null,
          type: cc.Node
        },
        tournamentLobbyDetail: {
          default: null,
          type: cc.Node
        },
        goldIcon: {
          default: null,
          type: cc.Node
        },
        diamondIcon: {
          default: null,
          type: cc.Node
        },
        goldIcon2: {
          default: null,
          type: cc.Node
        },
        diamondIcon2: {
          default: null,
          type: cc.Node
        },
        top: {
          default: null,
          type: cc.Node
        },
        top2: {
          default: null,
          type: cc.Node
        },
        friendsNode: {
          default: null,
          type: cc.Node
        },
        centerNode: {
          default: null,
          type: cc.Node
        },
        loadingDash: {
          default: null,
          type: cc.Node
        },
        pokersFormat: {
          default: null,
          type: cc.Node
        },
        mainButtons: {
          default: null,
          type: cc.Node
        },
        leftNode: {
          default: null,
          type: cc.Node
        },
        bottomNode: {
          default: null,
          type: cc.Node
        },
        pageViewNode: {
          default: null,
          type: cc.PageView
        },
        pageCell: {
          default: null,
          type: cc.Node
        },
        webViewContainer: {
          default: null,
          type: cc.Node
        },
        webView: {
          default: null,
          type: cc.WebView
        },
        advancedFilter: {
          default: null,
          type: cc.Node
        },
        adNode: {
          default: null,
          type: cc.Node
        },
        adNodeMini: {
          default: null,
          type: cc.Node
        },
        createPrivateNode: {
          default: null,
          type: cc.Node
        },
        joinPrivateNode: {
          default: null,
          type: cc.Node
        },
        privateNode: {
          default: null,
          type: cc.Node
        },
        listNotificationsNode: {
          default: null,
          type: cc.Node
        },
        lbNode: {
          default: null,
          type: cc.Node
        },
        lbPoints1Node: {
          default: null,
          type: cc.Label
        },
        lbPoints2Node: {
          default: null,
          type: cc.Label
        },
        lbSetNode: {
          default: null,
          type: cc.Node
        },
        lbSetContentNode: {
          default: null,
          type: cc.Node
        },
        lbSetItemNode: {
          default: null,
          type: cc.Node
        },
        lbsNode: {
          default: null,
          type: cc.Node
        },
        lbsContentNode: {
          default: null,
          type: cc.Node
        },
        lbsContentItemNode: {
          default: null,
          type: cc.Node
        },
        lbsRankNode: {
          default: null,
          type: cc.Node
        },
        lbCountNode: {
          default: null,
          type: cc.Node
        },
        lbMeNode: {
          default: null,
          type: cc.Node
        },
        lbRanksNode: {
          default: null,
          type: cc.Node
        },
        lbRanksContentNode: {
          default: null,
          type: cc.Node
        },
        lbRanksItemNode: {
          default: null,
          type: cc.Node
        },
        lbEmpty: {
          default: null,
          type: cc.Node
        },
        lbHide: {
          default: [],
          type: cc.Node
        },
        cashierTabNode: {
          default: null,
          type: cc.Node
        },
        tournamentTabNode: {
          default: null,
          type: cc.Node
        },
        practiceTabNode: {
          default: null,
          type: cc.Node
        },
        freerollTabNode: {
          default: null,
          type: cc.Node
        },
        activeTabSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        inactiveTabSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        activeTabSprite2: {
          default: null,
          type: cc.SpriteFrame
        },
        inactiveTabSprite2: {
          default: null,
          type: cc.SpriteFrame
        },
        scrollViewNode: {
          default: null,
          type: cc.Node
        },
        tournamentTable: {
          default: null,
          type: cc.Node
        },
        cashierTable: {
          default: null,
          type: cc.Node
        },
        roomTable: {
          default: null,
          type: cc.Node
        },
        badbeat: {
          default: null,
          type: cc.Label
        },
        loginHandler: {
          default: null,
          type: LoginHandler
        },
        handler: {
          default: null,
          type: LobbyHandler
        },
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        innerTabs: {
          default: null,
          type: TabBtnUtil
        },
        tabs: {
          default: null,
          type: cc.Node
        },
        tables: {
          default: [],
          type: Table
        },
        tabButtons: {
          default: [],
          type: cc.Sprite
        },
        tabButtons2: {
          default: [],
          type: cc.Sprite
        },
        playerName: {
          default: null,
          type: cc.Label
        },
        playerId: {
          default: null,
          type: cc.Label
        },
        playerImg: {
          default: null,
          type: cc.Sprite
        },
        balance: {
          default: null,
          type: cc.Label
        },
        balance2: {
          default: null,
          type: cc.Label
        },
        playBalance: {
          default: null,
          type: cc.Label
        },
        realMoneyCheck: {
          default: null,
          type: cc.Toggle
        },
        playMoneyCheck: {
          default: null,
          type: cc.Toggle
        },
        currentTab: {
          default: 0,
          visible: false
        },
        activeSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        inactiveSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        activeColor: {
          default: new cc.Color()
        },
        inactiveColor: {
          default: new cc.Color()
        },
        showGameBtn: {
          default: null,
          type: cc.Node
        },
        prizes: [],
        claimChipsBtn: {
          default: null,
          type: cc.Node
        },
        imageLoadedRef: {
          default: {}
        },
        realMoneyHeaderLbl: {
          default: null,
          type: cc.Node
        },
        playMoneyHeaderLbl: {
          default: null,
          type: cc.Node
        },
        onlinePlayersLbl: {
          default: null,
          type: cc.Label
        },
        megaStarsSprites: {
          default: [],
          type: cc.SpriteFrame
        },
        stars: {
          default: [],
          type: cc.Sprite
        },
        selectionColor: cc.Color,
        fadeColor: cc.Color,
        lockedBonus: {
          default: null,
          type: cc.Label
        },
        loyalityPoints: {
          default: null,
          type: cc.Label
        },
        loyalityLevel: {
          default: null,
          type: cc.Label
        },
        cashierPlayBalance: {
          default: null,
          type: cc.Label
        },
        mobileTable: {
          default: null,
          type: cc.Node
        },
        privNFav: {
          default: [],
          type: cc.Node
        },
        sets: [],
        lbTimer: 0,
        lockClick: false
      },
      onShow: function onShow(data) {
        this.hideLB();
        this.tournamentLobbyDetail.active = false;
        this.onBackLobby(null, null, false);
        GameManager.isConnected && this.popUpManager.hideAllPopUps();
        this.refreshDetails();
        this.refreshPlayerChips();
        this.displayOnlinePlayers();
        this.megaStarsUpdateInView();
        GameManager.isMobile;
        K.PORTRAIT;
        ServerCom.pomeloRequest("connector.entryHandler.listNotificationTransfer", {
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("listNotificationTransfer response", response);
        }, null, 5e3, false, false);
        this.playerImg.spriteFrame = GameManager.user.urlImg;
        GameManager.friendRequstFriends();
        GameManager.friendRequestSent();
        GameManager.friendRequestReceive();
        GameManager.getPlayerMute();
        "GOLD" == GameManager.user.category;
      },
      manageTopTables: function manageTopTables() {
        this.mobileTable.children.forEach(function(elem) {
          elem.active = false;
        }, this);
        for (var i = 0; i < GameManager.activeTableCount; i++) if (cc.isValid(this.mobileTable.children[i])) {
          this.mobileTable.children[i].active = true;
          var model = GameScreen.gameModel.activePokerModels[i];
          var stakes = model.gameData.tableDetails.smallBlind + "/" + model.gameData.tableDetails.bigBlind;
          this.mobileTable.children[i].getChildByName("stake").getComponent(cc.Label).string = stakes;
          var flag2 = !model.roomConfig.isPotLimit && model.roomConfig.channelVariation === K.Variation.TexasHoldem;
          flag2 && (this.mobileTable.children[i].getChildByName("variant").getComponent(cc.Label).string = "NL Hold'em");
          var flag3 = model.roomConfig.isPotLimit && model.roomConfig.channelVariation === K.Variation.TexasHoldem;
          flag3 && (this.mobileTable.children[i].getChildByName("variant").getComponent(cc.Label).string = "PL Hold'em");
          var flag4 = model.roomConfig.channelVariation === K.Variation.Omaha;
          flag4 && (this.mobileTable.children[i].getChildByName("variant").getComponent(cc.Label).string = "PL Omaha");
          var flag5 = model.roomConfig.channelVariation === K.Variation.OmahaHiLo;
          flag5 && (this.mobileTable.children[i].getChildByName("variant").getComponent(cc.Label).string = "PL Omaha HL");
        }
      },
      refreshPlayerChips: function refreshPlayerChips() {
        this.balance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        this.balance.string = GameManager.convertChips(this.balance.string);
        !GameManager.isMobile;
      },
      fillStar: function fillStar(starIndex, starPercentfill) {
        for (var i = 0; i < starIndex; i++) this.stars[i].fillRange = 1;
        this.stars[starIndex].fillRange = starPercentfill / 100;
      },
      megaStarsUpdateInView: function megaStarsUpdateInView() {},
      onMegapointUpdate: function onMegapointUpdate(data) {
        GameManager.user.megaPointDetail.megaPointsPercent = data.megaPointsPercent;
        GameManager.user.megaPointDetail.megaPoints = data.megaPoints;
        GameManager.user.megaPointDetail.megaPointLevel = data.megaPointLevel;
        this.refreshPlayerChips();
        this.megaStarsUpdateInView();
      },
      updatePlayerProfileLogout: function updatePlayerProfileLogout(data) {
        console.log("updatePlayerProfileLogout", data);
        this.webViewContainer.x = -1e4;
        this.onLogOut();
      },
      updatePlayerProfile: function updatePlayerProfile(data) {
        if ("REALCHIPSUPDATE" == data.event) {
          var delta = Number(data.updated.realChips) - Number(GameManager.user.realChips);
          delta > 0 && GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Congratulations!",
            content: "You have received " + delta + " chips."
          }, function() {});
        }
        for (var key in data.updated) {
          if (String(key).includes("mega")) {
            GameManager.user.megaPointDetail[key] = data.updated[key];
            String(key).includes("Percent") && this.megaStarsUpdateInView();
          } else GameManager.user[key] = data.updated[key];
          if (String(key).includes("profileImage")) {
            GameManager.user.profileImage = Number(data.updated[key]) - 1;
            GameManager.user.urlImg = GameManager.avatarImages[Number(GameManager.user.profileImage)];
            GameManager.emit("image-loaded", GameManager.user);
          }
        }
        this.refreshPlayerChips();
        "REALCHIPSUPDATE" == data.event && GameManager.emit("REALCHIPSUPDATE");
      },
      getPlayerPrize: function getPlayerPrize() {
        var data = new GetPrize(GameManager.user.playerId);
        var inst = this;
        ServerCom.pomeloRequest(K.PomeloAPI.getPrizes, data, function(response) {
          if (response.success) {
            inst.prizes = response.result;
            inst.showPrizes();
          }
        }, null, 5e3, false);
      },
      showPrizes: function showPrizes() {
        var data = null;
        if (this.prizes.length > 0) {
          data = this.prizes[0];
          this.popUpManager.show(PopUpType.ResultPopup, data, function() {});
        }
      },
      onCollectPrize: function onCollectPrize() {
        var data = this.prizes[0];
        var inst = this;
        var prizedata = {
          playerId: data.playerId,
          gameVersionCount: data.gameVersionCount,
          tournamentId: data.tournamentId
        };
        ServerCom.pomeloRequest(K.PomeloAPI.collectPrize, prizedata, function(response) {
          if (response.success) {
            inst.popUpManager.hide(PopUpType.ResultPopup, function() {});
            inst.prizes.shift();
            inst.showPrizes();
          }
        }, null, 5e3, false);
      },
      onHide: function onHide() {},
      onBtnPageClick: function onBtnPageClick(event, msg) {
        if (!this.isScrollEnded) return;
      },
      onLoad: function onLoad() {
        var _this = this;
        console.log("==========================>isZFold", GameManager.isZFold());
        this.scheduleOnce(function() {
          _this.tournamentTable.active = false;
        }, .5);
        var self = this;
        ServerCom.inGame = true;
        this.imageLoadedRef = this.imageLoaded.bind(this);
        GameManager.on("joinChannelByInvitecode", this.onJoinChannelByInvitecode.bind(this));
        GameManager.on("image-loaded", this.imageLoadedRef);
        GameManager.on("refresh_private_table", this.refreshPrivateTable.bind(this));
        GameManager.on("refreshPlayerChips", this.refreshPlayerChips.bind(this));
        GameManager.on("onTabSelection", function(flag) {
          console.log("onTabSelectiononTabSelectiononTabSelection", flag);
          self.badbeat && (self.badbeat.node.active = flag);
        });
        GameManager.on("onlinePlayers", this.displayOnlinePlayers.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.updateProfile, this.updatePlayerProfile.bind(this));
        ServerCom.pomeloBroadcast("playerLogout", this.updatePlayerProfileLogout.bind(this));
        this.onShowAll(true);
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.updateMegaPoints, this.onMegapointUpdate.bind(this));
        ServerCom.pomeloBroadcast("banPLayer", this.onBan.bind(this));
        ServerCom.pomeloBroadcast("increaseCurrentJackpotPool", this.onIncreaseCurrentJackpotPool.bind(this));
        ServerCom.pomeloBroadcast("jackpotWin", this.onJackpotWin.bind(this));
        ServerCom.pomeloBroadcast("playerSocialSharing", this.playerSocialSharing.bind(this));
        ServerCom.socketIOBroadcast(GameManager.user.playerId, this.onPlayerEvent.bind(this));
        GameManager.isP && this.privNFav.forEach(function(elem) {
          elem.active = false;
        }, this);
        GameManager.startRefreshTokenTimer(function() {
          console.log("startRefreshTokenTimer");
          ServerCom.refreshConnectToServer("", function() {}, function() {});
        });
        ServerCom.pomeloRequest("connector.entryHandler.getCurrentJackpotPool", {
          playerId: GameManager.user.playerId
        }, function(response) {
          console.log("getCurrentJackpotPool response", response);
          response && response.badBeatpool && self.badbeat && (self.badbeat.string = "Bad Beat Pool:" + response.badBeatpool.toFixed(2));
        }, null, 5e3, false, false);
      },
      playerSocialSharing: function playerSocialSharing(data) {
        console.log("playerSocialSharing", data);
        if ("twitter" == data.type) {
          var pageUrl = encodeURIComponent("https://mypoker.com/?v=" + GameManager.user.userName);
          var pageTitle = encodeURIComponent(data.text);
          var url = "https://twitter.com/intent/tweet?url=" + pageUrl + "&text=" + pageTitle;
          var left = 100;
          var top = 100;
          var width = 500;
          var height = 500;
          var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
          cc.sys.isNative ? cc.sys.openURL(url) : window.open(url, "", params);
        } else if ("whatsapp" == data.type) {
          var pageUrl = encodeURIComponent("https://mypoker.com/?v=" + GameManager.user.userName);
          var pageTitle = encodeURIComponent(data.text);
          var _url = "whatsapp://send?text=" + pageTitle + "%20" + pageUrl;
          var left = 100;
          var top = 100;
          var width = 500;
          var height = 500;
          var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
          cc.sys.isNative ? cc.sys.openURL(_url) : window.open(_url, "", params);
        } else if ("telegram" == data.type) {
          var pageUrl = encodeURIComponent("https://mypoker.com/?v=" + GameManager.user.userName);
          var pageTitle = encodeURIComponent(data.text);
          var _url2 = "https://telegram.me/share/url?url=" + pageUrl + "&text=" + pageTitle;
          var left = 100;
          var top = 100;
          var width = 500;
          var height = 500;
          var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
          cc.sys.isNative ? cc.sys.openURL(_url2) : window.open(_url2, "", params);
        } else if ("facebook" == data.type) {
          var pageUrl = encodeURIComponent("https://mypoker.com/?v=" + GameManager.user.userName);
          var pageTitle = encodeURIComponent(data.text);
          var _url3 = "https://www.facebook.com/sharer.php?u=" + pageUrl;
          var left = 100;
          var top = 100;
          var width = 500;
          var height = 500;
          var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
          cc.sys.isNative ? cc.sys.openURL(_url3) : window.open(_url3, "", params);
        }
      },
      onIncreaseCurrentJackpotPool: function onIncreaseCurrentJackpotPool(data) {
        console.log("onIncreaseCurrentJackpotPool", data);
        this.badbeat && (this.badbeat.string = "Bad Beat Pool:" + data.badBeatpool.toFixed(2));
      },
      onJackpotWin: function onJackpotWin(data) {
        console.log("onJackpotWin", data);
        var param = {
          code: 6666,
          response: data.info
        };
        GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
      },
      onBan: function onBan(data) {
        console.log("onBan", data);
        var param = {
          code: 9999,
          response: data.info
        };
        GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
      },
      onPlayerEvent: function onPlayerEvent(response) {
        var delta = Number(response.data.realChips) - Number(GameManager.user.realChips);
        GameManager.user.realChips = response.data.realChips;
        this.balance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
        delta > 0 && GameManager.popUpManager.show(PopUpType.CommonDialog, {
          title: "Congratulations!",
          content: "You have received " + delta + " chips."
        }, function() {});
      },
      displayOnlinePlayers: function displayOnlinePlayers() {},
      imageLoaded: function imageLoaded(user) {
        GameManager.user.playerId === user.playerId && (this.playerImg.spriteFrame = user.urlImg);
      },
      refreshDetails: function refreshDetails() {
        this.playerName.string = GameManager.user.userName;
        this.playerImg.spriteFrame = GameManager.user.urlImg;
        this.playerId.string = "ID: " + GameManager.user.playerId;
      },
      onValueChange: function onValueChange() {
        GameManager.playSound(K.Sounds.click);
        var color = cc.Color.BLACK;
        if (GameManager.isMobile || this.realMoneyCheck.isChecked) {
          this.balance.string = Number(("GOLD" == GameManager.user.category ? GameManager.user.freeChips : GameManager.user.realChips).toFixed(2));
          this.innerTabs.updateCurrentTable();
          this.realMoneyCheck.node.getChildByName("New Label").getComponent(cc.LabelOutline).color = color.fromHEX("#940808");
          this.playMoneyCheck.node.getChildByName("New Label").getComponent(cc.LabelOutline).color = color.fromHEX("#201D1D");
        } else {
          this.innerTabs.updateCurrentTable();
          this.realMoneyCheck.node.getChildByName("New Label").getComponent(cc.LabelOutline).color = color.fromHEX("#201D1D");
          this.playMoneyCheck.node.getChildByName("New Label").getComponent(cc.LabelOutline).color = color.fromHEX("#940808");
        }
        GameManager.isRealMoney = !!GameManager.isMobile || this.realMoneyCheck.isSelected;
      },
      onShowAll: function onShowAll(fromMainMenu, cb) {
        var _this2 = this;
        void 0 === fromMainMenu && (fromMainMenu = false);
        void 0 === cb && (cb = null);
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this2.lockClick = false;
        }, .3);
        CashRoom.isShowAll = true;
        CashRoom.isShowHoldem = false;
        CashRoom.isShowPLO = false;
        CashRoom.isShowMega = false;
        CashRoom.isShowAllIn = false;
        CashRoom.isShowFast = false;
        this.setActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
        this.setInActiveButton(this.tabButtons2[1], this.tabButtons2[1]);
        this.setInActiveButton(this.tabButtons2[2], this.tabButtons2[2]);
        this.setInActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
        this.setInActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
        this.setInActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
        this.setInActiveButton(this.tabButtons2[6], this.tabButtons2[6]);
        GameManager.playSound(K.Sounds.click);
      },
      onShowHoldem: function onShowHoldem(fromMainMenu, cb) {
        var _this3 = this;
        void 0 === fromMainMenu && (fromMainMenu = false);
        void 0 === cb && (cb = null);
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this3.lockClick = false;
        }, .3);
        CashRoom.isShowAll = false;
        CashRoom.isShowHoldem = false;
        CashRoom.isShowPLO = false;
        CashRoom.isShowMega = false;
        CashRoom.isShowAllIn = false;
        CashRoom.isShowFast = false;
        this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
        this.setInActiveButton(this.tabButtons2[1], this.tabButtons2[1]);
        this.setInActiveButton(this.tabButtons2[2], this.tabButtons2[2]);
        this.setInActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
        this.setInActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
        this.setInActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
        this.setInActiveButton(this.tabButtons2[6], this.tabButtons2[6]);
        CashRoom.isShowHoldem = true;
        this.setActiveButton(this.tabButtons2[1], this.tabButtons2[1]);
        GameManager.playSound(K.Sounds.click);
      },
      forceKeepLoadingTimer: function forceKeepLoadingTimer() {
        console.log("!!!!!!forceKeepLoadingTimer");
        ServerCom.forceKeepLoading = true;
      },
      onGetTableData: function onGetTableData(cb) {
        var inst = this;
      },
      onShowOmaha: function onShowOmaha(fromMainMenu, cb) {
        var _this4 = this;
        void 0 === fromMainMenu && (fromMainMenu = false);
        void 0 === cb && (cb = null);
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this4.lockClick = false;
        }, .3);
        CashRoom.isShowAll = false;
        CashRoom.isShowHoldem = false;
        CashRoom.isShowPLO = false;
        CashRoom.isShowMega = false;
        CashRoom.isShowAllIn = false;
        CashRoom.isShowFast = false;
        this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
        this.setInActiveButton(this.tabButtons2[1], this.tabButtons2[1]);
        this.setInActiveButton(this.tabButtons2[2], this.tabButtons2[2]);
        this.setInActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
        this.setInActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
        this.setInActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
        this.setInActiveButton(this.tabButtons2[6], this.tabButtons2[6]);
        CashRoom.isShowPLO = true;
        this.setActiveButton(this.tabButtons2[2], this.tabButtons2[2]);
        GameManager.playSound(K.Sounds.click);
      },
      onShowMega: function onShowMega(fromMainMenu, cb) {
        var _this5 = this;
        void 0 === fromMainMenu && (fromMainMenu = false);
        void 0 === cb && (cb = null);
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this5.lockClick = false;
        }, 1);
        true == fromMainMenu && (CashRoom.isPriactice = false);
        if (this.roomTable.active) {
          this.roomTable.getComponent("CashRoom").isShowAll = false;
          this.roomTable.getComponent("CashRoom").isShowHoldem = false;
          this.roomTable.getComponent("CashRoom").isShowPLO = false;
          this.roomTable.getComponent("CashRoom").isShowMega = false;
          this.roomTable.getComponent("CashRoom").isShowAllIn = false;
          this.roomTable.getComponent("CashRoom").isShowFast = false;
          this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
          this.setInActiveButton(this.tabButtons2[1], this.tabButtons2[1]);
          this.setInActiveButton(this.tabButtons2[2], this.tabButtons2[2]);
          this.setInActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
          this.setInActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
          this.setInActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
          this.setInActiveButton(this.tabButtons2[6], this.tabButtons2[6]);
          if (this.roomTable.getComponent("CashRoom").isShowMega) {
            this.roomTable.getComponent("CashRoom").isShowMega = false;
            this.setInActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
            if (!this.roomTable.getComponent("CashRoom").isShowHoldem && !this.roomTable.getComponent("CashRoom").isShowPLO && !this.roomTable.getComponent("CashRoom").isShowMega && !this.roomTable.getComponent("CashRoom").isShowAllIn && !this.roomTable.getComponent("CashRoom").isShowFast) {
              this.onShowAll(fromMainMenu, cb);
              return;
            }
          } else {
            this.roomTable.getComponent("CashRoom").isShowMega = true;
            this.setActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
          }
          this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
          this.onGetTableData(function(data) {
            cb && cb();
            true == fromMainMenu && _this5.runShowAnimation();
            _this5.roomTable.getComponent("CashRoom").onEnable2(data);
          });
        }
        this.tabs.active = true;
        GameManager.playSound(K.Sounds.click);
      },
      onShowFast: function onShowFast(fromMainMenu, cb) {
        var _this6 = this;
        void 0 === fromMainMenu && (fromMainMenu = false);
        void 0 === cb && (cb = null);
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this6.lockClick = false;
        }, 1);
        true == fromMainMenu && (CashRoom.isPriactice = false);
        if (this.roomTable.active) {
          this.roomTable.getComponent("CashRoom").isShowAll = false;
          this.roomTable.getComponent("CashRoom").isShowHoldem = false;
          this.roomTable.getComponent("CashRoom").isShowPLO = false;
          this.roomTable.getComponent("CashRoom").isShowMega = false;
          this.roomTable.getComponent("CashRoom").isShowAllIn = false;
          this.roomTable.getComponent("CashRoom").isShowFast = false;
          this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
          this.setInActiveButton(this.tabButtons2[1], this.tabButtons2[1]);
          this.setInActiveButton(this.tabButtons2[2], this.tabButtons2[2]);
          this.setInActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
          this.setInActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
          this.setInActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
          this.setInActiveButton(this.tabButtons2[6], this.tabButtons2[6]);
          if (this.roomTable.getComponent("CashRoom").isShowFast) {
            this.roomTable.getComponent("CashRoom").isShowFast = false;
            this.setInActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
            if (!this.roomTable.getComponent("CashRoom").isShowHoldem && !this.roomTable.getComponent("CashRoom").isShowPLO && !this.roomTable.getComponent("CashRoom").isShowMega && !this.roomTable.getComponent("CashRoom").isShowAllIn && !this.roomTable.getComponent("CashRoom").isShowFast) {
              this.onShowAll(fromMainMenu, cb);
              return;
            }
          } else {
            this.roomTable.getComponent("CashRoom").isShowFast = true;
            this.setActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
          }
          this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
          this.onGetTableData(function(data) {
            cb && cb();
            true == fromMainMenu && _this6.runShowAnimation();
            _this6.roomTable.getComponent("CashRoom").onEnable2(data);
          });
        }
        this.tabs.active = true;
        GameManager.playSound(K.Sounds.click);
      },
      onShowAllin: function onShowAllin(fromMainMenu, cb) {
        var _this7 = this;
        void 0 === fromMainMenu && (fromMainMenu = false);
        void 0 === cb && (cb = null);
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this7.lockClick = false;
        }, 1);
        true == fromMainMenu && (CashRoom.isPriactice = false);
        if (this.roomTable.active) {
          this.roomTable.getComponent("CashRoom").isShowAll = false;
          this.roomTable.getComponent("CashRoom").isShowHoldem = false;
          this.roomTable.getComponent("CashRoom").isShowPLO = false;
          this.roomTable.getComponent("CashRoom").isShowMega = false;
          this.roomTable.getComponent("CashRoom").isShowAllIn = false;
          this.roomTable.getComponent("CashRoom").isShowFast = false;
          this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
          this.setInActiveButton(this.tabButtons2[1], this.tabButtons2[1]);
          this.setInActiveButton(this.tabButtons2[2], this.tabButtons2[2]);
          this.setInActiveButton(this.tabButtons2[3], this.tabButtons2[3]);
          this.setInActiveButton(this.tabButtons2[4], this.tabButtons2[4]);
          this.setInActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
          this.setInActiveButton(this.tabButtons2[6], this.tabButtons2[6]);
          if (this.roomTable.getComponent("CashRoom").isShowAllIn) {
            this.roomTable.getComponent("CashRoom").isShowAllIn = false;
            this.setInActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
            if (!this.roomTable.getComponent("CashRoom").isShowHoldem && !this.roomTable.getComponent("CashRoom").isShowPLO && !this.roomTable.getComponent("CashRoom").isShowMega && !this.roomTable.getComponent("CashRoom").isShowAllIn && !this.roomTable.getComponent("CashRoom").isShowFast) {
              this.onShowAll(fromMainMenu, cb);
              return;
            }
          } else {
            this.roomTable.getComponent("CashRoom").isShowAllIn = true;
            this.setActiveButton(this.tabButtons2[5], this.tabButtons2[5]);
          }
          this.setInActiveButton(this.tabButtons2[0], this.tabButtons2[0]);
          this.onGetTableData(function(data) {
            cb && cb();
            true == fromMainMenu && _this7.runShowAnimation();
            _this7.roomTable.getComponent("CashRoom").onEnable2(data);
          });
        }
        this.tabs.active = true;
        GameManager.playSound(K.Sounds.click);
      },
      onShowSpin: function onShowSpin() {
        GameManager.playSound(K.Sounds.click);
      },
      onShowAdvanced: function onShowAdvanced() {
        GameManager.playSound(K.Sounds.click);
        this.advancedFilter.active = true;
        this.advancedFilter.getComponent("Advancefilter").onShow({});
        this.advancedFilter.opacity = 0;
        var anim = this.advancedFilter.getComponent("AnimBase");
        var inst = this;
        null !== anim && anim.play("showPopUp", function() {});
      },
      onShowOmahaHL: function onShowOmahaHL() {
        this.tables.forEach(function(element) {
          element.variation = K.Variation.OmahaHiLo;
        }, this);
        this.innerTabs.updateCurrentTable();
        this.tabs.active = true;
        this.setActiveButton(this.tabButtons[2], this.tabButtons[this.currentTab]);
        this.currentTab = 2;
        GameManager.playSound(K.Sounds.click);
      },
      onShowOFC: function onShowOFC() {
        this.tables.forEach(function(element) {
          element.variation = K.Variation.OpenFaceChinesePoker;
        }, this);
        this.innerTabs.updateCurrentTable();
        this.tabs.active = true;
        this.setActiveButton(this.tabButtons[3], this.tabButtons[this.currentTab]);
        this.currentTab = 3;
        GameManager.playSound(K.Sounds.click);
      },
      onShowLobbySettings: function onShowLobbySettings() {
        this.popUpManager.show(PopUpType.GamePreferencesPopup, null, function() {});
        GameManager.playSound(K.Sounds.click);
      },
      onShowCashier: function onShowCashier(event) {
        var requestObject = {
          playerId: GameManager.user.playerId
        };
        GameManager.playSound(K.Sounds.click);
        ServerCom.pomeloRequest(K.PomeloAPI.getCashDetails, requestObject, function(response) {
          response.success && this.popUpManager.show(PopUpType.CashierPopup, response.result, function() {});
        }.bind(this), null, 2e3);
      },
      collectFreeChips: function collectFreeChips(callback) {
        var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.freeChips;
        var data = {};
        data.playerId = GameManager.user.playerId;
        ServerCom.httpPostRequest(address, data, function(response) {
          if (response.success) {
            this.refreshPlayerChips();
            var msg = {};
            msg.heading = LocalizedManager.t("TXT_FREE_CHIPS");
            msg.info = LocalizedManager.t("TXT_GET_FREE_CHIP");
            GameManager.popUpManager.show(PopUpType.PlayerInfoPopup, msg, function() {});
          }
        }.bind(this));
        GameManager.playSound(K.Sounds.click);
      },
      onShowQuickSeat: function onShowQuickSeat() {
        this.popUpManager.show(PopUpType.QuickSeatPopUp, this.realMoneyCheck.isSelected, function() {});
      },
      onShowProfile: function onShowProfile() {
        this.popUpManager.show(PopUpType.AvatarDialog, null, function() {});
      },
      setActiveButton: function setActiveButton(currBtn) {
        currBtn.node.getChildByName("pressed") && (currBtn.node.getChildByName("pressed").active = true);
      },
      setInActiveButton: function setInActiveButton(currBtn) {
        currBtn.node.getChildByName("pressed") && (currBtn.node.getChildByName("pressed").active = false);
      },
      onShowGameplay: function onShowGameplay() {
        GameManager.activeTableCount > 0 && ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, null, function() {}, false);
      },
      onMobileCashOut: function onMobileCashOut() {
        this.popUpManager.show(PopUpType.CashoutPopup, null, function() {});
      },
      onLoyalityPoints: function onLoyalityPoints() {
        GameManager.playSound(K.Sounds.click);
        var url2 = K.ServerAddress.cashier_AddCash_URL;
        window.open(url2);
      },
      onContactUs: function onContactUs() {
        GameManager.playSound(K.Sounds.click);
        var url2 = K.ServerAddress.contact_us_URL;
        cc.sys.openURL(url2);
      },
      onTableClick: function onTableClick(data, custom) {
        GameManager.playSound(K.Sounds.click);
        ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, custom, function() {});
      },
      onShowFreeRoll: function onShowFreeRoll() {
        console.log("free roll clicked");
      },
      onShowFundTransfer: function onShowFundTransfer(event) {
        GameManager.playSound(K.Sounds.click);
        var requestObject = {
          senderUserName: GameManager.user.userName,
          receiverUserName: GameManager.user.userName,
          skip: 0,
          limit: 20,
          sortValue: "time"
        };
        ServerCom.pomeloRequest("connector.entryHandler.getP2PChipsTransferringHistory", {
          query: requestObject
        }, function(response) {
          console.log("response", response);
          if (response.success) {
            var tbInst = this.tabs.getComponent("TabBtnUtil");
            tbInst.tabButtons[tbInst.currentTab].getComponent(cc.Sprite).spriteFrame = tbInst.inactiveSprite;
            tbInst.tabButtons[tbInst.currentTab].node.getChildByName("Label").color = tbInst.inactiveColor;
            event.target.getComponent(cc.Sprite).spriteFrame = tbInst.activeSprite;
            if (tbInst.ifSwitchOutline) {
              tbInst.tabButtons[tbInst.currentTab].node.getChildByName("Label").getComponent(cc.LabelOutline).color = tbInst.inactiveOutline;
              event.target.getChildByName("Label").getComponent(cc.LabelOutline).color = tbInst.activeOutline;
            }
            var scopedTarget = event.target;
            var cb = function cb() {
              tbInst.tabButtons[tbInst.currentTab].getComponent(cc.Sprite).spriteFrame = tbInst.activeSprite;
              tbInst.tabButtons[tbInst.currentTab].node.getChildByName("Label").color = tbInst.activeColor;
              scopedTarget.getComponent(cc.Sprite).spriteFrame = tbInst.inactiveSprite;
              if (tbInst.ifSwitchOutline) {
                tbInst.tabButtons[tbInst.currentTab].node.getChildByName("Label").getComponent(cc.LabelOutline).color = tbInst.activeOutline;
                scopedTarget.getChildByName("Label").getComponent(cc.LabelOutline).color = tbInst.inactiveOutline;
              }
            };
            response.data.restoreActiveTab = cb;
            this.popUpManager.show(PopUpType.FundTransferPopup, response.data, function() {});
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.info, function() {});
        }.bind(this), null, 5e3);
      },
      runShowAnimation: function runShowAnimation() {
        return;
      },
      runHideAnimation: function runHideAnimation() {
        return;
      },
      onCashierGame: function onCashierGame() {
        this.pokersFormat.active = false;
        this.tournamentTable.active = false;
        this.roomTable.scale = 1;
        GameManager.isMobile || (this.roomTable.scale = .8);
        this.cashierTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.activeTabSprite;
        this.tournamentTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.inactiveTabSprite2;
        this.cashierTabNode.children[0].children[0].color = cc.Color.WHITE;
        this.tournamentTabNode.children[0].children[0].color = cc.Color.BLACK;
      },
      onCashierGame2: function onCashierGame2() {
        this.cashierTable.active && (this.top.active = true);
        this.pokersFormat.active = false;
        this.privateNode.active = false;
        this.friendsNode.active = false;
        this.tournamentTable.active = false;
        this.roomTable.scale = 1;
        GameManager.isMobile || (this.roomTable.scale = .8);
        this.cashierTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.activeTabSprite;
        this.tournamentTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.inactiveTabSprite2;
        this.cashierTabNode.children[0].children[0].color = cc.Color.WHITE;
        this.tournamentTabNode.children[0].children[0].color = cc.Color.BLACK;
      },
      onTournamentList: function onTournamentList() {
        var _this8 = this;
        !GameManager.isMobile;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this8.lockClick = false;
        }, 1);
        var needAnim = 0 == this.scrollViewNode.x;
        this.pokersFormat.active = false;
        this.privateNode.active = false;
        this.friendsNode.active = false;
        this.tournamentTable.active = true;
        this.tournamentTable.opacity = 255;
        this.roomTable.scale = 0;
        this.cashierTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.inactiveTabSprite;
        this.tournamentTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.activeTabSprite2;
        this.cashierTabNode.children[0].children[0].color = cc.Color.BLACK;
        this.tournamentTabNode.children[0].children[0].color = cc.Color.WHITE;
        needAnim && this.runShowAnimation();
      },
      onBackLobby: function onBackLobby(event, msg, animated) {
        var _this9 = this;
        void 0 === animated && (animated = true);
        !GameManager.isMobile;
        if (0 == this.roomTable.scale && !this.tournamentTable.active) {
          this.onBackLobby2(event, msg, animated && 0 != this.roomTable.scale);
          return;
        }
        this.top.active = true;
        GameManager.isMobile || (this.roomTable.scale = .8);
        this.onGetTableData(function(data) {
          _this9.roomTable.getComponent("CashRoom").onEnable2(data, false);
        });
        animated && this.runHideAnimation();
      },
      onBackLobby2: function onBackLobby2(event, msg, animated) {
        var _this10 = this;
        void 0 === animated && (animated = true);
        this.top.active = true;
        this.roomTable.active = true;
        this.roomTable.scale = 1;
        GameManager.isMobile || (this.roomTable.scale = .8);
        this.onGetTableData(function(data) {
          _this10.roomTable.getComponent("CashRoom").onEnable2(data, false);
        });
        animated && this.runHideAnimation();
      },
      onCashierGameTex: function onCashierGameTex() {},
      onCashierGameOhama: function onCashierGameOhama() {},
      onCashierGameFast: function onCashierGameFast() {},
      onCashierGameAllin: function onCashierGameAllin() {},
      onCashierGameMega: function onCashierGameMega() {},
      onTest: function onTest() {
        this.pokersFormat.active = false;
        this.mainButtons.children.forEach(function(elem) {
          elem.getChildByName("Background").color = cc.Color.WHITE;
          elem.getChildByName("Label").color = cc.Color.WHITE;
        }, this);
        this.mainButtons.children[2].getChildByName("Background").color = cc.Color.YELLOW;
        this.mainButtons.children[2].getChildByName("Label").color = cc.Color.YELLOW;
        var self = this;
        self.sets = [];
        ServerCom.pomeloRequest("connector.entryHandler.getAllLeaderBoardSet", {
          requestPlayerId: GameManager.user.playerId
        }, function(response) {
          if (response.success) {
            console.log(response);
            self.sets = response.data;
            self.showLB();
            self.updateLB();
          }
        }, null, 5e3, false);
      },
      showLB: function showLB() {
        this.privateNode.active = false;
        this.lbNode.active = true;
      },
      hideLB: function hideLB() {
        this.lbNode.active = false;
      },
      updateLB: function updateLB() {
        if (0 == this.sets.length) {
          this.lbEmpty.active = true;
          this.lbHide.forEach(function(elem) {
            elem.active = false;
          }, this);
        } else {
          this.lbEmpty.active = false;
          this.lbHide.forEach(function(elem) {
            elem.active = true;
          }, this);
          this.lbSetContentNode.removeAllChildren();
          for (var i = 0; i < this.sets.length; i++) {
            var instance = cc.instantiate(this.lbSetItemNode);
            instance.setPosition(0, 0);
            instance.active = true;
            instance.children[0].getComponent(cc.Label).string = this.sets[i].leaderboardSetName;
            instance.getComponent(cc.Button).clickEvents[0].customEventData = this.sets[i];
            instance.parent = this.lbSetContentNode;
            instance.__data = this.sets[i];
          }
          this.onLBSet(this.lbSetContentNode.children[0], this.sets[0]);
        }
      },
      onLBSet: function onLBSet(event, msg) {
        this.unschedule(this.updateRebuy);
        this.lbCountNode.getComponent(cc.Label).string = " ";
        console.log("onLBSet", msg);
        for (var i = 0; i < this.lbSetContentNode.children.length; i++) {
          this.lbSetContentNode.children[i].getComponent(cc.Sprite).enabled = false;
          this.lbSetContentNode.children[i].children[0].color = cc.Color.BLACK;
          if (this.lbSetContentNode.children[i].__data._id == msg._id) {
            this.lbSetContentNode.children[i].getComponent(cc.Sprite).enabled = true;
            this.lbSetContentNode.children[i].children[0].color = cc.Color.WHITE;
          }
        }
        this.lbsContentNode.removeAllChildren();
        for (var i = 0; i < msg.leaderboardList.length; i++) {
          var instance = cc.instantiate(this.lbsContentItemNode);
          instance.active = true;
          instance.children[0].getComponent(cc.Label).string = msg.leaderboardList[i].leaderboardName;
          instance.children[0].getComponent(cc.Button).clickEvents[0].customEventData = msg.leaderboardList[i];
          instance.parent = this.lbsContentNode;
          instance.__data = msg.leaderboardList[i];
        }
        this.onLB(this.lbsContentNode.children[0], msg.leaderboardList[0]);
      },
      updateRebuy: function updateRebuy() {
        if (new Date().getTime() >= this.lbTimer) {
          this.unschedule(this.updateRebuy);
          this.lbCountNode.getComponent(cc.Label).string = "";
        } else {
          var res = GameManager.getTimeDuration(this.lbTimer);
          -1 != res.indexOf("days") ? this.lbCountNode.getComponent(cc.Label).string = " " : this.lbCountNode.getComponent(cc.Label).string = res + " left";
        }
      },
      onLB: function onLB(event, msg) {
        console.log("onLB", msg);
        for (var i = 0; i < this.lbsContentNode.children.length; i++) {
          this.lbsContentNode.children[i].getComponent(cc.Sprite).enabled = false;
          this.lbsContentNode.children[i].children[0].color = cc.Color.BLACK;
          if (this.lbsContentNode.children[i].__data.leaderboardId == msg.leaderboardId) {
            this.lbsContentNode.children[i].getComponent(cc.Sprite).enabled = true;
            this.lbsContentNode.children[i].children[0].color = new cc.Color().fromHEX("#056625");
          }
        }
        this.unschedule(this.updateRebuy);
        this.lbCountNode.getComponent(cc.Label).string = " ";
        var self = this;
        ServerCom.pomeloRequest("connector.entryHandler.getLeaderBoardById", {
          leaderboardId: msg.leaderboardId
        }, function(response) {
          console.log(response);
          cc.find("name", self.lbsRankNode.children[1]).getComponent(cc.Label).string = "N/A";
          cc.find("value", self.lbsRankNode.children[1]).getComponent(cc.Label).string = "N/A";
          cc.find("name", self.lbsRankNode.children[0]).getComponent(cc.Label).string = "N/A";
          cc.find("value", self.lbsRankNode.children[0]).getComponent(cc.Label).string = "N/A";
          cc.find("name", self.lbsRankNode.children[2]).getComponent(cc.Label).string = "N/A";
          cc.find("value", self.lbsRankNode.children[2]).getComponent(cc.Label).string = "N/A";
          cc.find("Mask/avatarSprite", self.lbsRankNode.children[1]).getComponent(cc.Sprite).spriteFrame = null;
          cc.find("Mask/avatarSprite", self.lbsRankNode.children[0]).getComponent(cc.Sprite).spriteFrame = null;
          cc.find("Mask/avatarSprite", self.lbsRankNode.children[2]).getComponent(cc.Sprite).spriteFrame = null;
          self.lbRanksContentNode.removeAllChildren();
          var ranks = response.data.participantArray;
          var me = null;
          var urlImg = null;
          self.lbPoints1Node.string = "openVip" == response.data.leaderboardType ? "Points" : "Hands";
          self.lbPoints2Node.string = "openVip" == response.data.leaderboardType ? "Points" : "Hands";
          var _loop = function _loop() {
            var instance = cc.instantiate(self.lbRanksItemNode);
            instance.setPosition(0, 0);
            instance.active = true;
            cc.find("name", instance).getComponent(cc.Label).string = ranks[i]._id.userName;
            cc.find("rank", instance).getComponent(cc.Label).string = ranks[i].rank;
            cc.find("points", instance).getComponent(cc.Label).string = "openVip" == response.data.leaderboardType ? ranks[i].total.toFixed(2) : ranks[i].myCount;
            var avatarUrl = Number(ranks[i]._id.avatar) - 1;
            if (isNaN(avatarUrl) && isNaN(parseInt(avatarUrl)) && "" != avatarUrl) cc.loader.load(avatarUrl + "?w=125&h=125", function(err, tex) {
              urlImg = err ? GameManager.avatarImages[1] : new cc.SpriteFrame(tex);
              cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = urlImg;
              0 == i ? cc.find("Mask/avatarSprite", self.lbsRankNode.children[1]).getComponent(cc.Sprite).spriteFrame = urlImg : 1 == i ? cc.find("Mask/avatarSprite", self.lbsRankNode.children[0]).getComponent(cc.Sprite).spriteFrame = urlImg : 2 == i && (cc.find("Mask/avatarSprite", self.lbsRankNode.children[2]).getComponent(cc.Sprite).spriteFrame = urlImg);
            }); else {
              cc.find("Avatar/Mask/avatarSprite", instance).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[avatarUrl];
              0 == i ? cc.find("Mask/avatarSprite", self.lbsRankNode.children[1]).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[avatarUrl] : 1 == i ? cc.find("Mask/avatarSprite", self.lbsRankNode.children[0]).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[avatarUrl] : 2 == i && (cc.find("Mask/avatarSprite", self.lbsRankNode.children[2]).getComponent(cc.Sprite).spriteFrame = GameManager.avatarImages[avatarUrl]);
            }
            instance.parent = self.lbRanksContentNode;
            GameManager.user.playerId == ranks[i]._id.pId && (me = ranks[i]);
            if (0 == i) {
              cc.find("name", self.lbsRankNode.children[1]).getComponent(cc.Label).string = ranks[i]._id.userName;
              cc.find("value", self.lbsRankNode.children[1]).getComponent(cc.Label).string = "openVip" == response.data.leaderboardType ? ranks[i].total.toFixed(2) : ranks[i].myCount;
            } else if (1 == i) {
              cc.find("name", self.lbsRankNode.children[0]).getComponent(cc.Label).string = ranks[i]._id.userName;
              cc.find("value", self.lbsRankNode.children[0]).getComponent(cc.Label).string = "openVip" == response.data.leaderboardType ? ranks[i].total.toFixed(2) : ranks[i].myCount;
            } else if (2 == i) {
              cc.find("name", self.lbsRankNode.children[2]).getComponent(cc.Label).string = ranks[i]._id.userName;
              cc.find("value", self.lbsRankNode.children[2]).getComponent(cc.Label).string = "openVip" == response.data.leaderboardType ? ranks[i].total.toFixed(2) : ranks[i].myCount;
            }
          };
          for (var i = 0; i < ranks.length; i++) _loop();
          cc.find("Content_Table/Avatar/Mask/avatarSprite", self.lbMeNode).getComponent(cc.Sprite).spriteFrame = GameManager.user.urlImg;
          if (me) {
            cc.find("Content_Table/rank", self.lbMeNode).getComponent(cc.Label).string = me.rank;
            cc.find("Content_Table/points", self.lbMeNode).getComponent(cc.Label).string = "openVip" == response.data.leaderboardType ? me.total.toFixed(2) : me.myCount;
          }
          self.lbTimer = response.data.endTime;
          if (new Date().getTime() >= response.data.endTime) ; else {
            self.updateRebuy();
            self.schedule(self.updateRebuy, 1);
          }
        }, null, 5e3, false);
      },
      onPlayNow: function onPlayNow(event, msg) {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getLobbyRooms", {
          isRealMoney: true,
          channelVariation: "All",
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("fast", JSON.parse(JSON.stringify(response)));
        }, null, 5e3, false);
      },
      onFast: function onFast(event, msg) {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getLobbyRooms", {
          isRealMoney: true,
          turnTime: 10,
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("fast", JSON.parse(JSON.stringify(response)));
        }, null, 5e3, false);
      },
      onFreeRoll: function onFreeRoll(event, msg) {
        if (this.adNodeMini) {
          this.adNodeMini.active = true;
          this.adNode.active = false;
        }
        this.pokersFormat.active = false;
        this.roomTable.scale = 0;
        this.practiceTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.inactiveTabSprite;
        this.freerollTabNode.children[0].getComponent(cc.Sprite).spriteFrame = this.activeTabSprite2;
        this.practiceTabNode.children[0].children[0].color = cc.Color.BLACK;
        this.freerollTabNode.children[0].children[0].color = cc.Color.WHITE;
        this.tournamentTable.getComponent("TournamentLobbyListPresenter").onShowTournamentNFT();
        this.tournamentTable.active = true;
        this.runShowAnimation();
      },
      onPractice: function onPractice(event, msg) {
        var _this11 = this;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this11.lockClick = false;
        }, 1);
        CashRoom.isPriactice = true;
        this.onGetTableData(function(data) {
          _this11.pokersFormat.active = false;
          _this11.roomTable.scale = 1;
          GameManager.isMobile || (_this11.roomTable.scale = .8);
          _this11.tournamentTable.active = false;
          _this11.practiceTabNode.children[0].getComponent(cc.Sprite).spriteFrame = _this11.activeTabSprite;
          _this11.freerollTabNode.children[0].getComponent(cc.Sprite).spriteFrame = _this11.inactiveTabSprite2;
          _this11.practiceTabNode.children[0].children[0].color = cc.Color.WHITE;
          _this11.freerollTabNode.children[0].children[0].color = cc.Color.BLACK;
          _this11.tabs.active = true;
          _this11.currentTab = 0;
          GameManager.playSound(K.Sounds.click);
          _this11.roomTable.getComponent("CashRoom").onEnable2(data);
          _this11.runShowAnimation();
        });
      },
      onPrivateTable: function onPrivateTable(event, msg) {
        this.privateNode.active = true;
        this.refreshPrivateTable();
      },
      onHidePrivate: function onHidePrivate(event, msg) {
        this.privateNode.active = false;
      },
      onCreatePrivate: function onCreatePrivate(event, msg) {
        this.createPrivateNode.active = true;
        this.joinPrivateNode.active = false;
      },
      onJoinPrivate: function onJoinPrivate(event, msg) {
        this.createPrivateNode.active = false;
        this.joinPrivateNode.active = true;
        this.joinPrivateNode.opacity = 0;
        var anim = this.joinPrivateNode.getComponent("AnimBase");
        var inst = this;
        null !== anim && anim.play("showPopUp", function() {});
      },
      onRemovePrivate: function onRemovePrivate(event, msg) {
        var self = this;
        ServerCom.pomeloRequest("connetor.entryHandler.deletePrivateTable", {
          userName: GameManager.user.userName,
          tableId: msg
        }, function(response) {
          console.log("onRemovePrivate", response);
          response.success && self.refreshPrivateTable();
        });
      },
      resetPrivateTable: function resetPrivateTable() {
        cc.find("ScrollView/view/content", this.privateNode).removeAllChildren(true);
        cc.find("empty", this.privateNode).active = true;
      },
      refreshPrivateTable: function refreshPrivateTable() {
        var inst = this;
        ServerCom.pomeloRequest("connetor.entryHandler.listPrivateTable", {
          playerId: GameManager.user.playerId,
          channelVariation: "All",
          isRealMoney: true
        }, function(response) {
          console.log("listPrivateTable", response);
          cc.find("ScrollView/view/content", inst.privateNode).removeAllChildren(true);
          if (response.success) if (0 == response.result.length) cc.find("empty", inst.privateNode).active = true; else {
            cc.find("empty", inst.privateNode).active = false;
            for (var i = 0; i < response.result.length; i++) {
              var table = response.result[i];
              var tableInstance = cc.instantiate(cc.find("ScrollView/Content_Table", inst.privateNode));
              tableInstance.x = 0;
              tableInstance.active = true;
              cc.find("ScrollView/view/content", inst.privateNode).addChild(tableInstance);
              tableInstance.getComponent("PrivateTableContent").init(table);
            }
          }
        }, null, 5e3, false, false);
      },
      onShareFb: function onShareFb(event, msg) {
        var pageUrl = encodeURIComponent("");
        var pageTitle = encodeURIComponent("You have been invited by " + GameManager.user.userName + " to join the table and play with him on " + (cc.sys.platform == cc.sys.ANDROID ? "https://play.google.com/store/apps/details?id=com.atozgames.bbpokergame" : "https://apps.apple.com/us/app/bb-poker-play-with-friends/id6737835776") + " Poker. Invite Code = " + event.target.parent.parent.__inviteCode);
        var url = "https://www.facebook.com/sharer.php?u=" + pageUrl;
        var left = 100;
        var top = 100;
        var width = 500;
        var height = 500;
        var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
        cc.sys.isNative ? cc.sys.openURL(url) : window.open(url, "", params);
      },
      onShareTwitter: function onShareTwitter(event, msg) {
        var pageUrl = encodeURIComponent("");
        var pageTitle = encodeURIComponent("You have been invited by " + GameManager.user.userName + " to join the table and play with him on " + (cc.sys.platform == cc.sys.ANDROID ? "https://play.google.com/store/apps/details?id=com.atozgames.bbpokergame" : "https://apps.apple.com/us/app/bb-poker-play-with-friends/id6737835776") + " Poker. Invite Code = " + event.target.parent.parent.__inviteCode);
        var url = "https://twitter.com/intent/tweet?url=" + pageUrl + "&text=" + pageTitle;
        var left = 100;
        var top = 100;
        var width = 500;
        var height = 500;
        var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
        cc.sys.isNative ? cc.sys.openURL(url) : window.open(url, "", params);
      },
      onShareTelegram: function onShareTelegram(event, msg) {
        var pageUrl = encodeURIComponent("");
        var pageTitle = encodeURIComponent("You have been invited by " + GameManager.user.userName + " to join the table and play with him on " + (cc.sys.platform == cc.sys.ANDROID ? "https://play.google.com/store/apps/details?id=com.atozgames.bbpokergame" : "https://apps.apple.com/us/app/bb-poker-play-with-friends/id6737835776") + " Poker. Invite Code = " + event.target.parent.parent.__inviteCode);
        var url = "https://telegram.me/share/url?url=" + pageUrl + "&text=" + pageTitle;
        var left = 100;
        var top = 100;
        var width = 500;
        var height = 500;
        var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
        cc.sys.isNative ? cc.sys.openURL(url) : window.open(url, "", params);
      },
      onShareWhats: function onShareWhats(event, msg) {
        var pageUrl = encodeURIComponent("");
        var pageTitle = encodeURIComponent("You have been invited by " + GameManager.user.userName + " to join the table and play with him on " + (cc.sys.platform == cc.sys.ANDROID ? "https://play.google.com/store/apps/details?id=com.atozgames.bbpokergame" : "https://apps.apple.com/us/app/bb-poker-play-with-friends/id6737835776") + " Poker. Invite Code = " + event.target.parent.parent.__inviteCode);
        var url = "whatsapp://send?text=" + pageTitle + "%20" + pageUrl;
        var left = 100;
        var top = 100;
        var width = 500;
        var height = 500;
        var params = "menubar=no,toolbar=no,status=no,width=" + width + ",height=" + height + ",top=" + top + ",left=" + left;
        cc.sys.isNative ? cc.sys.openURL(url) : window.open(url, "", params);
      },
      onShareInstgram: function onShareInstgram(event, msg) {},
      onDashboard: function onDashboard(event, msg) {},
      onDashboardRef: function onDashboardRef(event, msg) {},
      onDashboardWallet: function onDashboardWallet(event, msg) {},
      onDashboardKYC: function onDashboardKYC(event, msg) {},
      onDashboardAddCash: function onDashboardAddCash(event, msg) {
        this.onDeposit();
      },
      onBack: function onBack(event, msg) {
        this.webView._impl.goBack();
      },
      onFoword: function onFoword(event, msg) {
        this.webView._impl.goForward();
      },
      onReload: function onReload(event, msg) {
        this.webView._impl.reload();
      },
      onClose: function onClose(event, msg) {
        this.webViewContainer.x = -1e4;
      },
      onJoinChannelByInvitecode: function onJoinChannelByInvitecode() {}
    }, _cc$Class["onBtnPageClick"] = function onBtnPageClick(event, msg) {
      cc.sys.openURL(msg);
    }, _cc$Class.onHome = function onHome() {
      this.lbNode.active = false;
      this.mainButtons.children.forEach(function(elem) {
        elem.getChildByName("Background").color = cc.Color.WHITE;
        elem.getChildByName("Label").color = new cc.Color().fromHEX("#7B7B7B");
        elem.getChildByName("Shade").active = false;
        elem.getChildByName("star").active = false;
      }, this);
      this.mainButtons.children[0].getChildByName("Background").color = cc.Color.WHITE;
      this.mainButtons.children[0].getChildByName("Label").color = new cc.Color().fromHEX("#FDAB2E");
      this.mainButtons.children[0].getChildByName("Shade").active = true;
      this.mainButtons.children[0].getChildByName("star").active = true;
    }, _cc$Class.onTournament = function onTournament() {
      this.top.active = true;
      this.lbNode.active = false;
      this.mainButtons.children.forEach(function(elem) {
        elem.getChildByName("Background").color = cc.Color.WHITE;
        elem.getChildByName("Label").color = new cc.Color().fromHEX("#7B7B7B");
        elem.getChildByName("Shade").active = false;
        elem.getChildByName("star").active = false;
      }, this);
      this.mainButtons.children[1].getChildByName("Background").color = cc.Color.WHITE;
      this.mainButtons.children[1].getChildByName("Label").color = new cc.Color().fromHEX("#FDAB2E");
      this.mainButtons.children[1].getChildByName("Shade").active = true;
      this.mainButtons.children[1].getChildByName("star").active = true;
    }, _cc$Class.onPrivate = function onPrivate() {
      this.lbNode.active = false;
      this.mainButtons.children.forEach(function(elem) {
        elem.getChildByName("Background").color = cc.Color.WHITE;
        elem.getChildByName("Label").color = new cc.Color().fromHEX("#7B7B7B");
        elem.getChildByName("Shade").active = false;
        elem.getChildByName("star").active = false;
      }, this);
      this.mainButtons.children[2].getChildByName("Background").color = cc.Color.WHITE;
      this.mainButtons.children[2].getChildByName("Label").color = new cc.Color().fromHEX("#FDAB2E");
      this.mainButtons.children[2].getChildByName("Shade").active = true;
      this.mainButtons.children[2].getChildByName("star").active = true;
    }, _cc$Class.onFriends = function onFriends() {
      this.mainButtons.children.forEach(function(elem) {
        elem.getChildByName("Background").color = cc.Color.WHITE;
        elem.getChildByName("Label").color = new cc.Color().fromHEX("#7B7B7B");
        elem.getChildByName("Shade").active = false;
        elem.getChildByName("star").active = false;
      }, this);
      this.mainButtons.children[3].getChildByName("Background").color = cc.Color.WHITE;
      this.mainButtons.children[3].getChildByName("Label").color = new cc.Color().fromHEX("#FDAB2E");
      this.mainButtons.children[3].getChildByName("Shade").active = true;
      this.mainButtons.children[3].getChildByName("star").active = true;
      this.privateNode.active = false;
      this.friendsNode.active = true;
      this.friendsNode.getComponent("FriendsList").onShow({});
    }, _cc$Class.onLogOut = function onLogOut() {
      GameManager.popUpManager.show(PopUpType.OnLogOutPopup, null, function() {});
      GameManager.playSound(K.Sounds.click);
    }, _cc$Class.onPokersFormat = function onPokersFormat() {
      GameManager.playSound(K.Sounds.click);
      this.pokersFormat.active = true;
      this.pokersFormat.opacity = 0;
      var anim = this.pokersFormat.getComponent("AnimBase");
      var inst = this;
      null !== anim && anim.play("showPopUp", function() {});
    }, _cc$Class.onPokersFormatClose = function onPokersFormatClose() {
      GameManager.playSound(K.Sounds.click);
      this.pokersFormat.active = false;
    }, _cc$Class.onListNotificationsNode = function onListNotificationsNode() {
      listNotificationsNode.active = true;
    }, _cc$Class.formatNumber = function formatNumber(num) {
      return num.toLocaleString("en-US");
    }, _cc$Class.onDeposit = function onDeposit() {
      var _this12 = this;
      this.deposit.active = true;
      this.loginHandler.vpWShop(function(data) {
        console.log(data);
        _this12.depositScrollView.removeAllChildren();
        for (var i = 0; i < data.data.length; i++) {
          var winner = data.data[i];
          var winnerInstance = cc.instantiate(_this12.depositScrollViewItem);
          winnerInstance.x = 0;
          winnerInstance.active = true;
          _this12.depositScrollView.addChild(winnerInstance);
          cc.find("title/val", winnerInstance).getComponent(cc.Label).string = winner.price + " MNT";
          cc.find("price", winnerInstance).getComponent(cc.Label).string = _this12.formatNumber(winner.chipsValue);
          winnerInstance.getComponent(cc.Button).clickEvents[0].customEventData = winner.chipsValue;
          winnerInstance.__data = winner;
        }
      });
    }, _cc$Class.onDepositOne = function onDepositOne(event, customEventData) {
      console.log(customEventData);
      this.deposit.active = false;
      this.depositOne.active = true;
      this.depositOne.getComponent("DepositOne").onShow(event.target.__data);
    }, _cc$Class.onDepositBack = function onDepositBack() {
      this.deposit.active = false;
    }, _cc$Class));
    cc._RF.pop();
  }, {
    AbstractScreen: "AbstractScreen",
    CashRoom: "CashRoom",
    Checkbox: "Checkbox",
    DropDown: "DropDown",
    LobbyHandler: "LobbyHandler",
    LoginHandler: "LoginHandler",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    TabBtnUtil: "TabBtnUtil",
    Table: "Table"
  } ],
  LobbySettingsPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9af45HG/N1O3K+Liglw6qqB", "LobbySettingsPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {},
      onHide: function onHide() {},
      onCancel: function onCancel() {
        this.popUpManager.hide(PopUpType.LobbySettingsPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  LocalizedLabel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9019fNydtRI6qBeDVsGrLpE", "LocalizedLabel");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        localizeKey: {
          default: "",
          visible: true
        }
      },
      onLoad: function onLoad() {
        var label = this.node.getComponent(cc.Label);
        label && (this.verticalAlign = label.verticalAlign);
        this.updateText();
        cc.systemEvent.on(LocalizedManager.LanguageDidChangeEvent, this.updateText, this);
      },
      start: function start() {},
      updateText: function updateText() {
        if (LocalizedManager.currLanguage) {
          var label = this.node.getComponent(cc.Label);
          if (this.localizeKey && label) {
            label.verticalAlign = this.verticalAlign;
            var text = LocalizedManager.t(this.localizeKey);
            label.string = text;
            "hi_id" === LocalizedManager.currLanguage && this.verticalAlign === cc.Label.VerticalAlign.TOP && (label.verticalAlign = cc.Label.VerticalAlign.CENTER);
          }
        }
      },
      setKey: function setKey(key) {
        this.localizeKey = key;
        this.updateText();
      }
    });
    cc._RF.pop();
  }, {} ],
  LocalizedManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8cf2dRBs+5PP7cOVPRA6jbA", "LocalizedManager");
    "use strict";
    var GAME_LANGUAGE = {
      ENGLISH: "en_us",
      HINDI: "hi_id"
    };
    var LOCAL_SAVE_LANGUAGE = "LOCAL_SAVE_LANGUAGE";
    cc.Class({
      extends: cc.Component,
      properties: {
        currLanguage: {
          default: null,
          visible: false
        },
        textFile: {
          default: null,
          visible: true,
          type: cc.JsonAsset
        },
        textTable: [],
        textLanuage: []
      },
      onLoad: function onLoad() {
        window.LocalizedManager = this;
        this.textTable = this.textFile.json;
        this.currLanguage = GAME_LANGUAGE.ENGLISH;
        this.LanguageDidChangeEvent = "LanguageDidChangeEvent";
      },
      start: function start() {},
      loadTextLanguage: function loadTextLanguage(lang) {
        var _this = this;
        this.textLanuage = [];
        this.textTable.forEach(function(line) {
          var par = {
            KEY: line["KEY"],
            lang: line[lang]
          };
          _this.textLanuage.push(par);
        });
      },
      t: function t(key) {
        var keyText = this.textTable[key] || {};
        var text = keyText[this.currLanguage] || keyText[GAME_LANGUAGE.ENGLISH] || key;
        return text;
      },
      clickOnLanguageBtn: function clickOnLanguageBtn(event, customEventData) {
        var newLang = "" + customEventData;
        if (newLang === this.currLanguage) return;
        this.currLanguage = newLang;
        var changeLangEvent = new cc.Event.EventCustom(this.LanguageDidChangeEvent, true);
        cc.systemEvent.dispatchEvent(changeLangEvent);
      },
      changeLanguage: function changeLanguage(newLang) {
        if (newLang === this.currLanguage) return;
        this.currLanguage = newLang;
        var changeLangEvent = new cc.Event.EventCustom(this.LanguageDidChangeEvent, true);
        cc.systemEvent.dispatchEvent(changeLangEvent);
      },
      setTextKey: function setTextKey(labelNode, key) {
        var localizedLabel = labelNode.getComponent("LocalizedLabel");
        localizedLabel || (localizedLabel = labelNode.addComponent("LocalizedLabel"));
        localizedLabel.setKey(key);
      }
    });
    cc._RF.pop();
  }, {} ],
  LocalizedSprite: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3c56c7i92dDs7HTRDmta5RB", "LocalizedSprite");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        localizeSprite: {
          default: null,
          type: cc.Sprite,
          visible: true
        },
        localizeSpriteFrame: {
          default: [],
          type: cc.SpriteFrame,
          visible: true
        },
        langList: {
          default: [],
          type: [ cc.String ]
        }
      },
      onLoad: function onLoad() {
        this.langList = [ "en_us", "hi_id" ];
        this.localizeSprite = this.node.getComponent(cc.Sprite);
        this.updateSpriteFollowLang();
        cc.systemEvent.on(LocalizedManager.LanguageDidChangeEvent, this.updateSpriteFollowLang, this);
      },
      start: function start() {},
      updateSpriteFollowLang: function updateSpriteFollowLang() {
        console.log("updateSpriteFollowLang ");
        if (LocalizedManager.currLanguage && this.localizeSprite) {
          var langIdx = this.langList.indexOf(LocalizedManager.currLanguage);
          console.log("updateSpriteFollowLang langIdx ", langIdx);
          console.log("updateSpriteFollowLang langIdx ", this.localizeSpriteFrame[langIdx]);
          this.localizeSprite.spriteFrame = this.localizeSpriteFrame[langIdx];
        }
      }
    });
    cc._RF.pop();
  }, {} ],
  LocalizedUI: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "689d9Ce2QpBxpaAQx49ZG6N", "LocalizedUI");
    "use strict";
    cc.Class({
      extends: cc.Component,
      onLoad: function onLoad() {},
      clickOnLanguageBtn: function clickOnLanguageBtn(event, customEventData) {
        var newLang = "" + customEventData;
        LocalizedManager.changeLanguage(newLang);
      }
    });
    cc._RF.pop();
  }, {} ],
  LoginHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7ca2bC0rCBMAY85cacNbF+K", "LoginHandler");
    "use strict";
    var _cc$Class;
    var Login = require("PostTypes").Login;
    var userID = require("PostTypes").UserID;
    var forgotPassword = require("PostTypes").ForgotPassword;
    var _resetPassword = require("PostTypes").ResetPassword;
    var OTP = require("PostTypes").OTP;
    var transactionHistory = require("PostTypes").TransactionHistory;
    var EventEmitter = require("EventEmitter");
    var PopUpType = require("PopUpManager").PopUpType;
    var profileData = {
      query: {
        playerId: "hsdfhd"
      },
      updateKeys: {
        mobileNumber: "012345"
      }
    };
    cc.Class((_cc$Class = {
      extends: EventEmitter,
      properties: {
        clientIPv4: {
          default: "",
          visible: false
        },
        clientIPv6: {
          default: "",
          visible: false
        },
        login: {
          default: null,
          visible: false
        },
        isLoading: false
      },
      onLoad: function onLoad() {
        window.LoginHandler = this;
      },
      init: function init(deviceType) {
        this.login = Login;
        this.login.deviceType = deviceType;
        this.login.appVersion = K.ServerAddress.clientVer;
      },
      checkServerStatus: function checkServerStatus(callback, error) {
        var address = K.ServerAddress.maintainanceIP + ":" + K.ServerAddress.maintainancePort + K.ServerAPI.maintainance;
        var data = K.AppVersion;
        data.appVersion = K.ServerAddress.clientVer;
        data.deviceType = this.login.deviceType;
        console.log("@@@@ checkServerStatus ", address, data);
        ServerCom.httpPostRequest(address, data, callback, error);
      },
      startPomelo: function startPomelo(host, port, callback) {
        console.log("!!!!!!!!!! START POMELO LOGIN HANDLER", host, port);
        ServerCom.loading.active = true;
        ServerCom.loading.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        this.isLoading = true;
        ServerCom.loading.active = false;
        this.isLoading = false;
        var inst = this;
        pomelo.init({
          host: host,
          port: port,
          log: true
        }, function(cb) {
          console.log("!!!!!!!!!! START POMELO INIT CALLBACK ", JSON.stringify(cb));
          ServerCom.loading.active = false;
          inst.isLoading = false;
          if (null !== callback && void 0 !== callback) {
            callback();
            inst.emit("Init");
          }
        });
      },
      loginPassword: function loginPassword(email, password, callback) {
        ServerCom.httpPostRequest(K.ServerAddress.otp_server + "/api/auth/loginRequest", {
          emailId: email,
          password: password
        }, callback);
      },
      loginSTD: function loginSTD(mobileNumber, callback) {
        ServerCom.httpPostRequest(K.ServerAddress.otp_server + "/api/auth/loginSTD", {
          phoneNumber: mobileNumber
        }, callback);
      },
      sendOtp: function sendOtp(mobileNumber, userName, inviteCode, callback) {
        ServerCom.httpPostRequest(K.ServerAddress.otp_server + "/api/auth/sendOtp", {
          phoneNumber: mobileNumber,
          userName: userName,
          inviteCode: inviteCode
        }, callback);
      },
      verifyOtp: function verifyOtp(otpNumber, callback) {
        ServerCom.httpPostRequest(K.ServerAddress.otp_server + "/api/auth/verifyOtp", {
          otpNumber: otpNumber
        }, callback);
      },
      findUserResetPassword: function findUserResetPassword(name, callback) {
        ServerCom.httpPostRequest(K.ServerAddress.otp_server + "/api/auth/findUserResetPassword", {
          name: "3434343434"
        }, callback);
      },
      checkOTPRestPassword: function checkOTPRestPassword(otpNumber, token, callback) {
        ServerCom.httpPostRequest(K.ServerAddress.otp_server + "/api/auth/checkOTPRestPassword", {
          otpNumber: otpNumber,
          token: token
        }, callback);
      },
      resetPassword: function resetPassword(confirmPassword, newPassword, callback) {
        ServerCom.httpPostRequest(K.ServerAddress.otp_server + "/api/auth/resetPassword", {
          confirmPassword: confirmPassword,
          newPassword: newPassword,
          token: token
        }, callback);
      },
      loginGame: function loginGame(userName, emailId, password, loginType, loginMode, callback, otp, mobileNumber, affiliateId) {
        this.login.loginType = loginType;
        this.login.loginMode = "authtk";
        this.login.userName = userName;
        this.login.emailId = emailId;
        this.login.password = password;
        window.ipV4Address = this.login.ipV4Address = this.clientIPv4;
        this.login.ipV6Address = this.clientIPv6;
        this.login.isLoggedIn = false;
        this.login.client = cc.sys.isMobile ? "webmobile" : "webdesktop";
        cc.sys.os === cc.sys.OS_WINDOWS ? this.login.os = "windows" : cc.sys.os === cc.sys.OS_ANDROID ? this.login.os = "android" : cc.sys.os === cc.sys.OS_IOS && (this.login.os = "Ios");
        function myFunction() {
          return -1 != (navigator.userAgent.indexOf("Opera") || navigator.userAgent.indexOf("OPR")) ? "opera" : -1 != navigator.userAgent.indexOf("Edg") ? "edge" : -1 != navigator.userAgent.indexOf("Chrome") ? "chrome" : -1 != navigator.userAgent.indexOf("Safari") ? "safari" : -1 != navigator.userAgent.indexOf("Firefox") ? "firefox" : -1 != navigator.userAgent.indexOf("MSIE") || true == !!document.documentMode ? "ie" : "unknown";
        }
        this.login.userAgent = myFunction();
        var v7 = function v7() {
          return "tttttttt-tttt-7xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g, function(c) {
            var r = Math.trunc(16 * Math.random());
            var v = "x" == c ? r : 3 & r | 8;
            return v.toString(16);
          }).replace(/^[t]{8}-[t]{4}/, function() {
            var unixtimestamp = Date.now().toString(16).padStart(12, "0");
            return unixtimestamp.slice(0, 8) + "-" + unixtimestamp.slice(8);
          });
        };
        var deviceId = cc.sys.localStorage.getItem("DEVICE_ID");
        if (!deviceId) {
          deviceId = v7();
          cc.sys.localStorage.setItem("DEVICE_ID", deviceId);
        }
        this.login.deviceId = deviceId;
        this.login.appVersion = K.ServerAddress.clientVer;
        "registration" == loginType;
        this.login.access_token = K.Token.access_token;
        this.login.refresh_token = K.Token.refresh_token;
        ServerCom.pomeloRequest(K.PomeloAPI.gateLogin, this.login, callback, null, 5e3, false);
      },
      loginGameSocial: function loginGameSocial(userName, emailId, password, loginType, loginMode, socialObject, callback) {
        this.login.loginType = loginType;
        this.login.loginMode = loginMode;
        this.login.userName = userName;
        this.login.emailId = emailId;
        this.login.password = password;
        window.ipV4Address = this.login.ipV4Address = this.clientIPv4;
        this.login.ipV6Address = this.clientIPv6;
        this.login.isLoggedIn = false;
        this.login.appVersion = K.ServerAddress.clientVer;
        "facebook" === loginMode ? this.login.fbObject = socialObject : "google" === loginMode && (this.login.fbObject = socialObject);
        ServerCom.pomeloRequest(K.PomeloAPI.gateLogin, this.login, callback, null, 5e3, false);
      },
      checkForMultiClient: function checkForMultiClient(callback, error) {
        console.log("checkForMultiClient1");
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.isRequested = true;
        data.isLoggedIn = false;
        data.playerName = GameManager.user.userName;
        data.deviceType = this.login.deviceType;
        data.appVersion = K.ServerAddress.clientVer;
        console.log("checkForMultiClient2");
        ServerCom.socketIORequest("common|" + K.PomeloAPI.checkForMultiClient, data, callback, null, 5e3, false);
      },
      singleLogin: function singleLogin(callback, error) {
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.isRequested = true;
        data.isLoggedIn = false;
        data.userDeviceType = this.login.deviceType;
        ServerCom.pomeloRequest(K.PomeloAPI.singleLogin, data, callback, error);
      },
      setAddress: function setAddress(v4, v6) {
        this.clientIPv4 = v4;
        this.clientIPv6 = v6;
        window.ipV4Address = Login.ipV4Address = v4;
        Login.ipV6Address = v6;
      }
    }, _cc$Class["resetPassword"] = function resetPassword(resetToken, password, callback) {
      var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.resetPassword;
      var data = _resetPassword;
      data.passwordResetToken = resetToken;
      data.password = password;
      data.isLoggedIn = false;
      ServerCom.httpPostRequest(address, data, callback);
    }, _cc$Class.verifyEmail = function verifyEmail(callback) {
      var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.emailVerification;
      var data = userID;
      data.playerId = GameManager.user.playerId;
      data.isLoggedIn = false;
      ServerCom.httpPostRequest(address, data, callback);
    }, _cc$Class.sendOTP = function sendOTP(callback, mobileNumber) {
      if (!K.internetAvailable) {
        GameManager.popUpManager.show(PopUpType.NotificationPopup, "Please check your\n Internet Connection.", function() {});
        return;
      }
      var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.sendotp;
      var data = {};
      data.mobileNumber = mobileNumber;
      ServerCom.httpPostRequest(address, data, function(response) {
        callback && callback(response);
      }.bind(this));
    }, _cc$Class.verifyOTP = function verifyOTP(otp, callback) {
      var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.verifyOTP;
      var data = OTP;
      data.playerId = GameManager.user.playerId;
      data.otp = otp;
      data.isLoggedIn = false;
      ServerCom.httpPostRequest(address, data, callback);
    }, _cc$Class.updateMobile = function updateMobile(updateKeys, callback) {
      var data = profileData;
      data.query.playerId = GameManager.user.playerId;
      data.updateKeys = updateKeys;
      data.isLoggedIn = false;
      ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, callback);
    }, _cc$Class.vpRegister = function vpRegister(userName, emailId, password, confirmPassword, mobileNumber, isAbove18, callback) {
      ServerCom.httpPostRequest(K.Token.auth_server + "/api/auth/register", {
        userName: userName,
        emailId: emailId,
        password: password,
        confirmPassword: confirmPassword,
        mobileNumber: mobileNumber,
        isAbove18: isAbove18
      }, callback);
    }, _cc$Class.vpLogin = function vpLogin(userName, password, callback) {
      ServerCom.httpPostRequest(K.Token.auth_server + "/api/auth/login", {
        userName: userName,
        password: password
      }, callback);
    }, _cc$Class.vpSendOTP = function vpSendOTP(userName, callback) {
      ServerCom.httpPostRequest(K.Token.auth_server + "/api/auth/sendOtp", {
        userName: userName
      }, callback);
    }, _cc$Class.vpVerifyOTP = function vpVerifyOTP(emailId, otp, callback) {
      ServerCom.httpPostRequest(K.Token.auth_server + "/api/auth/verifyOtpEmail", {
        emailId: emailId,
        otp: otp
      }, callback);
    }, _cc$Class.vpResetPassword = function vpResetPassword(emailId, newPassword, confirmNewPassword, resetToken, callback) {
      ServerCom.httpPatchRequest(K.Token.auth_server + "/api/auth/resetPassword", {
        emailId: emailId,
        newPassword: newPassword,
        confirmNewPassword: confirmNewPassword,
        resetToken: resetToken
      }, callback);
    }, _cc$Class.vpUpdateContactInfo = function vpUpdateContactInfo(phoneNumber, emailId, callback) {
      ServerCom.httpPostRequest(K.Token.auth_server + "/api/users/update-contact-info", {
        phoneNumber: phoneNumber,
        emailId: emailId
      }, callback);
    }, _cc$Class.vpWithdrawChips = function vpWithdrawChips(amount, callback) {
      ServerCom.httpPostRequest(K.Token.auth_server + "/api/cashout/player/request", {
        amount: amount
      }, callback);
    }, _cc$Class.vpWithdrawHistory = function vpWithdrawHistory(callback) {
      ServerCom.httpGetRequest(K.Token.auth_server + "/api/cashout/player/history", null, callback);
    }, _cc$Class.vpWShop = function vpWShop(callback) {
      ServerCom.httpGetRequest(K.Token.auth_server + "/api/users/shop", null, callback);
    }, _cc$Class.vpSendGift = function vpSendGift(name, amount, mobileNumber, callback) {
      ServerCom.httpPostRequest(K.Token.auth_server + "/api/wallet/send-gift", {
        name: name,
        amount: amount,
        mobileNumber: mobileNumber
      }, callback);
    }, _cc$Class.vpListGift = function vpListGift(callback) {
      ServerCom.httpGetRequest(K.Token.auth_server + "/api/wallet/get-gift-history", null, callback);
    }, _cc$Class));
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes"
  } ],
  LoginScreen: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fdf57NBZIFMqLZegSONq7Lq", "LoginScreen");
    "use strict";
    var AbstractScreen = require("AbstractScreen");
    var LoginHandler = require("LoginHandler");
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var CheckBoxType = require("Checkbox");
    var CustomEditBox = require("CustomEditBox");
    var JoinData = require("PostTypes").JoinChannel;
    var GameData = require("ResponseTypes").GameData;
    var inst;
    cc.Class({
      extends: AbstractScreen,
      properties: {
        vpForgetPasswordSuccessPopup: {
          default: null,
          type: cc.Node
        },
        vpForgetPasswordErrorMessage1: {
          default: null,
          type: cc.Label
        },
        vpForgetPasswordErrorMessage2: {
          default: null,
          type: cc.Label
        },
        vpForgetPasswordErrorMessage3: {
          default: null,
          type: cc.Label
        },
        vpForgetPasswordSubmit: {
          default: null,
          type: cc.Button
        },
        vpForgetPasswordSubmitOTP: {
          default: null,
          type: cc.Button
        },
        vpForgetPasswordSubmitUpdate: {
          default: null,
          type: cc.Button
        },
        vpForgetPasswordUsername: {
          default: null,
          type: cc.EditBox
        },
        vpForgetPasswordEmail: {
          default: null,
          type: cc.EditBox
        },
        vpForgetPasswordOTP: {
          default: null,
          type: cc.EditBox
        },
        vpForgetPasswordNew: {
          default: null,
          type: cc.EditBox
        },
        vpForgetPasswordNewConfirm: {
          default: null,
          type: cc.EditBox
        },
        vpLogin: {
          default: null,
          type: cc.Button
        },
        vpErrorMessage: {
          default: null,
          type: cc.Label
        },
        vpUserName: {
          default: null,
          type: cc.EditBox
        },
        vpPassword: {
          default: null,
          type: cc.EditBox
        },
        flagScrollView: {
          default: null,
          type: cc.Node
        },
        flagScrollViewContent: {
          default: null,
          type: cc.Node
        },
        flagItem: {
          default: null,
          type: cc.Node
        },
        flagNode: {
          default: null,
          type: cc.Node
        },
        launch: {
          default: null,
          type: cc.Node
        },
        tc: {
          default: null,
          type: cc.Node
        },
        capture: {
          default: null,
          type: cc.Node
        },
        gotoTable: {
          default: null,
          type: cc.Node
        },
        timerNode: {
          default: null,
          type: cc.Node
        },
        resendNode: {
          default: null,
          type: cc.Node
        },
        loginUsingPasswordNode: {
          default: null,
          type: cc.Node
        },
        loginUsingPasswordUsername: {
          default: null,
          type: cc.EditBox
        },
        loginUsingPasswordPassword: {
          default: null,
          type: cc.EditBox
        },
        forgetPasswordResendNode: {
          default: null,
          type: cc.Node
        },
        forgetPasswordTimerNode: {
          default: null,
          type: cc.Node
        },
        forgetPasswordNode: {
          default: null,
          type: cc.Node
        },
        forgetPasswordOtp: {
          default: null,
          type: cc.EditBox
        },
        forgetPasswordNewPassword1: {
          default: null,
          type: cc.EditBox
        },
        forgetPasswordNewPassword2: {
          default: null,
          type: cc.EditBox
        },
        forgetPasswordContent1: {
          default: null,
          type: cc.Node
        },
        forgetPasswordContent2: {
          default: null,
          type: cc.Node
        },
        otpNode: {
          default: null,
          type: cc.Node
        },
        otp: {
          default: null,
          type: cc.EditBox
        },
        preLogin: {
          default: null,
          type: cc.Node
        },
        loginHandler: {
          default: null,
          type: LoginHandler
        },
        userName: {
          default: null,
          type: cc.EditBox
        },
        password: {
          default: null,
          type: cc.EditBox
        },
        countryCode: {
          default: null,
          type: cc.EditBox
        },
        phone: {
          default: null,
          type: cc.EditBox
        },
        loginDebug: {
          default: [],
          type: cc.Node
        },
        popupManager: {
          default: null,
          type: PopUpManager
        },
        lobby: {
          default: null,
          type: cc.Node
        },
        rememberMeCheckBox: {
          default: null,
          type: CheckBoxType
        },
        rememberMe: {
          default: false,
          visible: false
        },
        isWindows: false,
        userNameEdit: {
          default: null,
          type: cc.Label
        },
        passwordEdit: {
          default: null,
          type: cc.Label
        },
        customEditBox: {
          default: null,
          type: CustomEditBox
        },
        loginNode: {
          default: null,
          type: cc.Node
        },
        alreadyStoredPwd: false,
        enterPressedTime: true,
        tourData: null,
        rememberMeMob: {
          default: null,
          type: cc.Toggle
        },
        lobbySelectorNode: {
          default: null,
          type: cc.Node
        },
        resendTimer: 61,
        forgetPasswordResendTimer: 61,
        verfyOtpClickable: true
      },
      showFlagScrollView: function showFlagScrollView() {
        this.flagScrollView.active = !this.flagScrollView.active;
        for (var i = 0; i < this.flagScrollViewContent.children.length; i++) {
          this.flagScrollViewContent.children[i].children[0].active = false;
          this.flagScrollViewContent.children[i].__data.dial_code == this.countryCode.string && (this.flagScrollViewContent.children[i].children[0].active = true);
        }
      },
      hideFlagScrollView: function hideFlagScrollView() {
        this.flagScrollView.active = false;
      },
      onEndEdit: function onEndEdit() {
        for (var i = 0; i < window.CountryCodes.length; i++) if (this.countryCode.string == window.CountryCodes[i].dial_code) {
          cc.sys.localStorage.setItem("country", window.CountryCodes[i].code);
          cc.sys.localStorage.setItem("countryCode", this.countryCode.string);
          cc.resources.load("flags/" + window.CountryCodes[i].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
            err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
          });
          return;
        }
        cc.resources.load("flags/" + window.CountryCodes[230].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
          err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
        });
        this.countryCode.string = window.CountryCodes[230].dial_code;
        cc.sys.localStorage.setItem("country", window.CountryCodes[230].code);
        cc.sys.localStorage.setItem("countryCode", window.CountryCodes[230].string);
        for (var i = 0; i < this.flagScrollViewContent.children.length; i++) {
          this.flagScrollViewContent.children[i].children[0].active = false;
          this.flagScrollViewContent.children[i].__data.dial_code == this.countryCode.string && (this.flagScrollViewContent.children[i].children[0].active = true);
        }
      },
      onSelectFlag: function onSelectFlag(event, customEventData) {
        for (var i = 0; i < this.flagScrollViewContent.children.length; i++) this.flagScrollViewContent.children[i].children[0].active = false;
        event.target.children[0].active = true;
        cc.sys.localStorage.setItem("country", customEventData.code);
        cc.resources.load("flags/" + customEventData.code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
          err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
        });
        this.countryCode.string = customEventData.dial_code;
        cc.sys.localStorage.setItem("countryCode", this.countryCode.string);
        this.hideFlagScrollView();
      },
      loadFlags: function loadFlags() {
        var _this = this;
        this.flagScrollViewContent.removeAllChildren();
        console.log(window.CountryCodes);
        if (cc.sys.localStorage.getItem("phone")) this.countryCode.string = cc.sys.localStorage.getItem("countryCode"); else {
          cc.sys.localStorage.setItem("country", window.CountryCodes[230].code);
          cc.resources.load("flags/" + window.CountryCodes[230].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
            err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
          });
          this.countryCode.string = window.CountryCodes[230].dial_code;
        }
        var _loop = function _loop() {
          var instance = cc.instantiate(_this.flagItem);
          instance.setPosition(0, 0);
          instance.active = true;
          instance.children[0].active = false;
          instance.children[2].getComponent(cc.Label).string = "+" + window.CountryCodes[i].dial_code;
          cc.resources.load("flags/" + window.CountryCodes[i].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
            err || (instance.children[1].getComponent(cc.Sprite).spriteFrame = tex);
          });
          instance.getComponent(cc.Button).clickEvents[0].customEventData = window.CountryCodes[i];
          instance.parent = _this.flagScrollViewContent;
          instance.__data = window.CountryCodes[i];
          if (cc.sys.localStorage.getItem("country") == window.CountryCodes[i].code) {
            instance.children[0].active = true;
            cc.resources.load("flags/" + window.CountryCodes[i].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
              err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
            });
          }
        };
        for (var i = 0; i < window.CountryCodes.length; i++) _loop();
      },
      onLoad: function onLoad() {
        console.log("==========================>isZFold", GameManager.isZFold());
        GameManager.isZFold() && (cc.find("EntryHandler", cc.Canvas.instance.node).scale = .8);
        cc.sys.localStorage.getItem("vpUserName") && (this.vpUserName.string = cc.sys.localStorage.getItem("vpUserName"));
        cc.sys.localStorage.getItem("vpPassword") && (this.vpPassword.string = cc.sys.localStorage.getItem("vpPassword"));
        GameManager.init();
        this.loginDataFromInsta = {
          userName: null,
          password: null
        };
        if (!GameManager.isMobile || cc.sys.isBrowser) if (!window.loginDataFromInsta || null == sessionStorage.getItem("userName")) window.loginDataFromInsta || (window.loginDataFromInsta = this.loginDataFromInsta); else {
          window.loginDataFromInsta.userName = sessionStorage.getItem("userName");
          window.loginDataFromInsta.password = sessionStorage.getItem("password");
        }
        cc.debug.setDisplayStats(false);
        GameManager.isMobile && cc.sys.os === cc.sys.OS_ANDROID && !cc.sys.isBrowser && jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "dismissLoader", "()V");
        this.submitEnter();
        this.enterPressedTime = true;
      },
      submitEnter: function submitEnter() {
        return;
        var enterKeyRef;
      },
      start: function start() {
        inst = this;
        window.LoginScreen = this;
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        GameManager.scheduleOnce(function() {
          inst.clientInit();
        }, 2);
      },
      onShow: function onShow(init) {
        this.loadFlags();
        cc.sys.localStorage.getItem("vpUserName") ? this.vpUserName.string = cc.sys.localStorage.getItem("vpUserName") : this.vpUserName.string = "";
        cc.sys.localStorage.getItem("vpPassword") ? this.vpPassword.string = cc.sys.localStorage.getItem("vpPassword") : this.vpPassword.string = "";
        this.verfyOtpClickable = true;
        !init || true !== init || this.clientInit();
        var user = cc.sys.localStorage.getItem(K.SystemStorageKeys.userId);
        var rememberPrefs = cc.sys.localStorage.getItem(K.SystemStorageKeys.rememberMePreference);
        rememberPrefs = "true";
        if ("true" == rememberPrefs) this.showUserLoginDetails(cc.sys.localStorage.getItem(K.SystemStorageKeys.userId), cc.sys.localStorage.getItem(K.SystemStorageKeys.password), rememberPrefs); else {
          this.userName.string = "";
          this.password.string = "";
        }
        !GameManager.isMobile && false;
      },
      onHide: function onHide() {},
      togglePassword: function togglePassword() {
        this.password.inputFlag == cc.EditBox.InputFlag.DEFAULT ? this.password.inputFlag = cc.EditBox.InputFlag.PASSWORD : this.password.inputFlag = cc.EditBox.InputFlag.DEFAULT;
      },
      showUserLoginDetails: function showUserLoginDetails(userName, password, rememberPrefs) {
        if (GameManager.isMobile) if (userName && password && rememberPrefs) {
          this.userName.string = userName;
          this.password.string = password;
          this.rememberMeMob.isChecked = rememberPrefs;
        } else {
          this.userName.string = "";
          this.password.string = "";
        } else if (cc.sys.os !== cc.sys.OS_WINDOWS || cc.sys.isBrowser) {
          this.userName.string = userName;
          this.password.string = password;
          var displayPassword = "";
          var u = password || "";
          for (var i = 0; i < u.length; i++) displayPassword += "*";
          this.alreadyStoredPwd = true;
        } else if (userName && password && rememberPrefs) {
          this.userName.string = userName;
          this.password.string = password;
          this.rememberMeMob.isChecked = rememberPrefs;
        } else {
          this.userName.string = "";
          this.password.string = "";
        }
      },
      clientInit: function clientInit(autoLogin, noLoginSHow) {
        var _this2 = this;
        void 0 === autoLogin && (autoLogin = false);
        void 0 === noLoginSHow && (noLoginSHow = false);
        var device = "";
        if (cc.sys.isBrowser) {
          device = "browser";
          cc.sys.os === cc.sys.OS_ANDROID ? device = "androidApp" : cc.sys.os === cc.sys.OS_IOS ? device = "iosApp" : cc.sys.os === cc.sys.OS_OSX && (device = "mac");
        } else cc.sys.os === cc.sys.OS_ANDROID ? device = "androidApp" : cc.sys.os === cc.sys.OS_IOS ? device = "iosApp" : cc.sys.os === cc.sys.OS_WINDOWS ? device = "windows" : cc.sys.os === cc.sys.OS_OSX && (device = "mac");
        this.loginNode.active = !(window.loginDataFromInsta && null != window.loginDataFromInsta.userName && null != window.loginDataFromInsta.password || !!window.opener && !!window.opener.loginData);
        this.loginHandler.init(device);
        if (K.GoToTable) return;
        if ("" != this.vpUserName.string && "" != this.vpPassword.string) {
          this.preLogin.active = true;
          this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
          this.loginHandler.checkServerStatus(function(response) {
            console.log("RETRY SERVER STATUS ", response);
            if (response.success) {
              var result = response.result;
              GameManager.serverStatus = result;
              result.isUpdateRequired ? inst.popupManager.show(PopUpType.NewVersionPopup, "Please update the game.", function() {}) : result.isInMaintainance ? inst.popupManager.show(PopUpType.MaintenancePopup, "Server is under maintenance\n Please come back later.", function() {}) : inst.loginHandler.vpLogin(inst.vpUserName.string, inst.vpPassword.string, function(data) {
                console.log("vpLogin", data);
                inst.preLogin.active = false;
                ServerCom.loading.active = false;
                if (true == data.success || "success" == data.status) {
                  cc.sys.localStorage.setItem("vpUserName", inst.vpUserName.string);
                  cc.sys.localStorage.setItem("vpPassword", inst.vpPassword.string);
                  K.Token.access_token = data.access_token;
                  K.Token.refresh_token = data.refresh_token;
                  K.Token.access_token_expire_at = data.access_token_expire_at;
                  K.Token.refresh_token_expire_at = data.refresh_token_expire_at;
                  ServerCom.socketIOConnect(K.ServerAddress.gameServer + ":" + K.ServerAddress.gamePort, function() {
                    if (!ServerCom.socketConnected) return;
                    GameManager.setUserData(data.user);
                    inst.saveLoginData();
                    setTimeout(function() {
                      inst.onSuccessfullLogin(inst);
                    }, 100);
                  });
                } else inst.launch.active = false;
              });
            } else inst.popupManager.show(PopUpType.NewVersionPopup, "Please update the game.", function() {});
          }, function(error) {
            inst.launch.active = false;
            inst.preLogin.active = false;
            inst.popupManager.show(PopUpType.NotificationPopup, "Please check your\nInternet Connection.", function() {});
          });
          return;
        }
        GameManager.isForceDisconnection = false;
        setTimeout(function() {
          _this2.loginHandler.checkServerStatus(function(response) {
            console.log("RETRY SERVER STATUS ", response);
            inst.preLogin.active = false;
            if (response.success) {
              var result = response.result;
              GameManager.serverStatus = result;
              inst.loginHandler.setAddress(result.ipV4Address, result.ipV6Address);
              if (result.isUpdateRequired) inst.popupManager.show(PopUpType.NewVersionPopup, "Please update the game.", function() {}); else if (result.isInMaintainance) inst.popupManager.show(PopUpType.MaintenancePopup, "Server is under maintenance\n Please come back later.", function() {}); else {
                if (noLoginSHow) return;
                if (autoLogin) {
                  inst.onSuccessfullLogin(inst);
                  return;
                }
                if (!(!!window.opener && !!window.opener.loginData)) {
                  inst.launch.active = false;
                  ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}, false);
                }
              }
            } else inst.popupManager.show(PopUpType.NewVersionPopup, "Please update the game.", function() {});
          }, function(error) {
            inst.launch.active = false;
            inst.preLogin.active = false;
            inst.popupManager.show(PopUpType.NotificationPopup, "Please check your\nInternet Connection.", function() {});
          });
        }, 1);
      },
      setRememberMe: function setRememberMe() {
        this.rememberMe = this.rememberMeCheckBox.getSelection();
      },
      ConnectToGameSever: function ConnectToGameSever(host, port, inst) {
        this.preLogin.getChildByName("Label").getComponent(cc.Label).string = "Connecting to game server ...";
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        ServerCom.loading.active = false;
        inst.preLogin.active = true;
        inst.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        ServerCom.loading.active = false;
        inst.onSuccessfullLogin(inst);
      },
      onCloseOtp: function onCloseOtp() {
        this.unschedule(this.updateResend);
        this.resendNode.active = false;
        this.otpNode.active = false;
        this.otp.string = "";
        cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", this.otpNode).active = false;
      },
      onVerfyOtp: function onVerfyOtp() {
        var _this3 = this;
        if (!this.verfyOtpClickable) return;
        this.verfyOtpClickable = false;
        setTimeout(function() {
          _this3.verfyOtpClickable = true;
        }, 2e3);
        var inst = this;
        cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).active = false;
        this.loginHandler.verifyOtp(this.otp.string, function(response) {
          console.log("otp", response);
          inst.otp.string = "";
          if ("success" == response.status) {
            setTimeout(function() {
              inst.verfyOtpClickable = true;
            }, 1e3);
            inst.otpNode.active = false;
            K.Token.access_token = response.access_token;
            K.Token.refresh_token = response.refresh_token;
            K.Token.access_token_expire_at = response.access_token_expire_at;
            K.Token.refresh_token_expire_at = response.refresh_token_expire_at;
            ServerCom.socketIOConnect(K.ServerAddress.gameServer + ":" + K.ServerAddress.gamePort, function() {
              if (!ServerCom.socketConnected) return;
              inst.otp.string = "";
              inst.unschedule(inst.updateResend);
              inst.timerNode.getChildByName("timer2").getComponent(cc.Label).string = "";
              GameManager.setUserData(response.user);
              inst.saveLoginData();
              setTimeout(function() {
                inst.onSuccessfullLogin(inst);
              }, 100);
            });
          } else {
            inst.verfyOtpClickable = true;
            cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).active = true;
            cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).getComponent(cc.Label).string = response.messgae;
          }
        });
      },
      onSuccessfullLogin: function onSuccessfullLogin(inst) {
        GameManager.isConnected = false;
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        console.log("onSuccessfullLogin", ServerCom.inGame);
        cc.sys.localStorage.setItem("auto_login_token", K.Token.access_token);
        cc.sys.localStorage.setItem("auto_login_refresh_token", K.Token.refresh_token);
        cc.sys.localStorage.setItem("auto_login_access_token_expire_at", K.Token.access_token_expire_at);
        cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", K.Token.refresh_token_expire_at);
        cc.sys.localStorage.setItem("auto_login_username", GameManager.user.userName);
        if (ServerCom.inGame || true) {
          this.lobbySelectorNode && (this.lobbySelectorNode.active = false);
          console.log("onSuccessfullLogin3");
          inst.loginHandler.checkForMultiClient(function(response) {
            console.log("MULTI CLIENT RESPONSE ", response);
            if (response.success) {
              GameManager.isConnected = true;
              console.log("Active tables:", GameManager.activeTableCount);
              var currentActiveIds = [];
              var currentActiveTableIds = [];
              var prevSelection = GameScreen ? GameScreen.prevSelection : 0;
              var hit = false;
              GameManager.gameModel.activePokerModels.forEach(function(element, index) {
                if (element.gameData.raw.tournamentId) {
                  currentActiveIds.push(element.gameData.raw.tournamentId);
                  currentActiveTableIds.push(element.gameData.channelId);
                }
                1 == currentActiveTableIds.length && (this.tourData = element.gameData.raw.tourData);
              }, this);
              console.log("currentActiveIds", currentActiveIds);
              GameManager.reset();
              if (!!response.joinChannels && response.joinChannels.length > 0) {
                hit = true;
                this.preLogin.active = true;
                this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
                GameManager.scheduleOnce(function() {
                  var joinCount = response.joinChannels.length;
                  response.joinChannels.forEach(function(element, index) {
                    var newData = new JoinData(element);
                    if (!newData.channelId) GameManager.join(newData.tableId, K.PomeloAPI.joinChannel, newData, null, null, index + 1, joinCount, true); else {
                      TableHandler.joinTableList.push(newData.channelId);
                      newData.tableId = "";
                      GameManager.join(newData.channelId, K.PomeloAPI.joinChannel, newData, null, null, index + 1, joinCount, true);
                    }
                  }, this);
                }, .1);
              }
              if (currentActiveIds.length > 0) {
                hit = true;
                this.preLogin.active = true;
                this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
                GameManager.scheduleOnce(function() {
                  if (!GameManager.isSocketIOConnected) {
                    this.preLogin.active = false;
                    return;
                  }
                  console.log("GameScreen.prevSelection", prevSelection);
                  ServerCom.socketIOBroadcast(currentActiveTableIds[0] + ":" + GameManager.user.playerId, this.onTournamentTableUserBroadcast.bind(this));
                  window.TournamentLobbyHandler.requestTournamentEnterTable({
                    tournamentId: currentActiveIds[0]
                  }, function(data) {}, function(error) {}, "Enter table, please wait ......");
                }.bind(this), 1);
              } else if (this.preLogin.active) {
                hit || (this.preLogin.active = false);
                if (!hit) {
                  this.launch.active = false;
                  ScreenManager.showScreen(K.ScreenEnum.LobbyScreen, 10, function() {}, false);
                }
              } else {
                hit || (this.preLogin.active = false);
                if (!hit) {
                  this.launch.active = false;
                  ScreenManager.showScreen(K.ScreenEnum.LobbyScreen, 10, function() {}, false);
                }
              }
            } else {
              this.verfyOtpClickable = true;
              K.disconnectRequestedByPlayer = true;
              this.preLogin.active = false;
              this.launch.active = false;
              ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}, false);
            }
          }.bind(this));
        }
      },
      onSignUpFromLogin: function onSignUpFromLogin() {
        this.loginUsingPasswordNode.active = false;
        ScreenManager.showScreen(K.ScreenEnum.SignupScreen, 10, function() {}, false);
      },
      onCancelLogin: function onCancelLogin() {},
      validateEmail: function validateEmail(email) {
        var re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
        return re.test(email);
      },
      onLogin: function onLogin() {
        var timeout;
        K.internetAvailable ? K.disconnectRequestedByPlayer = true : K.disconnectRequestedByPlayer = false;
        this.vpErrorMessage.string = "";
        this.vpUserName.node.getChildByName("red").active = false;
        this.vpPassword.node.getChildByName("red").active = false;
        this.preLogin.getChildByName("Label").getComponent(cc.Label).string = "Loading, please wait ...";
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        ServerCom.loading.active = false;
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        ServerCom.loading.active = false;
        cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", this.otpNode).active = false;
        this.loginHandler.vpLogin(this.vpUserName.string, this.vpPassword.string, function(data) {
          console.log("vpLogin", JSON.stringify(data));
          if (!data) return;
          inst.preLogin.active = false;
          ServerCom.loading.active = false;
          if (true == data.success || "success" == data.status) {
            cc.sys.localStorage.setItem("vpUserName", inst.vpUserName.string);
            cc.sys.localStorage.setItem("vpPassword", inst.vpPassword.string);
            K.Token.access_token = data.access_token;
            K.Token.refresh_token = data.refresh_token;
            K.Token.access_token_expire_at = data.access_token_expire_at;
            K.Token.refresh_token_expire_at = data.refresh_token_expire_at;
            ServerCom.socketIOConnect(K.ServerAddress.gameServer + ":" + K.ServerAddress.gamePort, function() {
              if (!ServerCom.socketConnected) return;
              GameManager.setUserData(data.user);
              inst.saveLoginData();
              setTimeout(function() {
                inst.onSuccessfullLogin(inst);
              }, 100);
            });
          } else {
            inst.vpErrorMessage.node.active = true;
            data.message ? inst.vpErrorMessage.string = data.message : inst.vpErrorMessage.string = data.error[0].message;
          }
        });
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        ServerCom.loading.active = false;
        this.preLogin.active = true;
        this.preLogin.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        ServerCom.loading.active = false;
      },
      updateResend: function updateResend(dt) {
        this.resendTimer -= 1;
        if (0 == this.resendTimer) {
          this.unschedule(this.updateResend);
          this.timerNode.active = false;
          this.resendNode.active = true;
        } else {
          this.timerNode.active = true;
          this.timerNode.getChildByName("timer2").getComponent(cc.Label).string = this.resendTimer + "s";
        }
      },
      onResend: function onResend() {
        var inst = this;
        this.loginHandler.loginSTD(this.phone.string, function(data) {
          console.log("loginSTD", data);
          if (!data) return;
          inst.preLogin.active = false;
          ServerCom.loading.active = false;
          if (data.success) {
            cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).active = true;
            cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).getComponent(cc.Label).string = "OTP sent successfully: " + data.data;
            inst.otpNode.active = true;
            inst.resendNode.active = false;
            inst.resendTimer = 61;
            inst.schedule(inst.updateResend, 1);
          } else {
            inst.loginDebug[2].getComponent(cc.Label).string = data.message;
            inst.loginDebug[2].active = true;
          }
        });
      },
      onLoginCallBack: function onLoginCallBack(data) {
        console.log("Login Sucess with Dtaa", data);
        K.ServerAddress.pokerVer = data.serverVersion;
        K.disconnectRequestedByPlayer = true;
        if (true === data.success || "success" == data.status) {
          inst.saveLoginData(data);
          GameManager.setUserData(data.user);
          setTimeout(function() {
            inst.ConnectToGameSever(data.user.host, data.user.port, inst);
          }, 100);
        } else {
          inst.loginDebug[2].getComponent(cc.Label).string = !data.info ? "" : data.info;
          inst.loginDebug[2].active = true;
        }
      },
      saveLoginData: function saveLoginData(data) {
        cc.sys.localStorage.setItem("countryCode", this.countryCode.string);
        cc.sys.localStorage.setItem("phone", this.phone.string);
        cc.sys.localStorage.setItem(K.SystemStorageKeys.userId, this.userName.string);
        cc.sys.localStorage.setItem(K.SystemStorageKeys.password, this.password.string);
      },
      onResetPassword: function onResetPassword() {
        var token = this.userName.string;
        var newPass = this.password.string;
        this.loginHandler.resetPassword(token, newPass, function(data) {
          data.success;
        });
      },
      onForgotPassword: function onForgotPassword() {
        this.popupManager.show(PopUpType.ForgotPasswordPopUp, {}, function() {});
      },
      onTournamentTableUserBroadcast: function onTournamentTableUserBroadcast(data) {
        console.log(">>>>>>>>>>>>>>>>>>>>>>>onTournamentTableUserBroadcast", data);
        if ("enterChannelResponse" == data.eventName) if (data.data.success) {
          GameManager.popUpManager.hideAllPopUps();
          socketIO.socket.off(data.eventTo);
          socketIO.socket.off(data.channelId + ":" + data.playerId);
          if (!GameManager.isActive) {
            ServerCom.forceKeepLoading = false;
            ServerCom.loading.active = false;
            this.gotoTable && (this.gotoTable.active = false);
            return;
          }
          data.data.gameData = new GameData(data.data);
          data.data.tourData = this.tourData;
          console.log("window.TournamentLobbyListPresenter");
          console.log(window.TournamentLobbyListPresenter);
          if (!K.GoToTable) for (var i = 0; i < window.TournamentLobbyListPresenter.contentHolderAll.children.length; i++) {
            var instance = window.TournamentLobbyListPresenter.contentHolderAll.children[i];
            var tourItemInfo = instance.getComponent("TournamentLobbyListItem").tourItemInfo;
            if (this.tourData.id == tourItemInfo.id) {
              data.data.tourData = tourItemInfo;
              break;
            }
          }
          var isTournamentExisting = false;
          var tournamentIndexFound = -1;
          for (var index = 0; index < GameManager.gameModel.activePokerModels.length; index++) {
            if (!GameManager.gameModel.activePokerModels[index].tourData) continue;
            var id = GameManager.gameModel.activePokerModels[index].tourData.id;
            if (this.tourData.id === id) {
              isTournamentExisting = true;
              tournamentIndexFound = index;
              break;
            }
          }
          this.launch.active = false;
          data.data.isRejoin = isTournamentExisting;
          data.data.indexFound = tournamentIndexFound;
          ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, data.data, function() {});
          this.scheduleOnce(function() {
            ServerCom.forceKeepLoading = false;
            ServerCom.loading.active = false;
            this.gotoTable && (this.gotoTable.active = false);
          }, 1.2);
        } else {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Error!",
            content: data.data.info ? data.data.info : data.data.response
          }, function() {});
        }
      },
      onScreenShot: function onScreenShot() {
        var _this4 = this;
        if (cc.sys.isNative) {
          this.capture.getComponent("capture_to_native").init();
          this.scheduleOnce(function() {
            var picData = _this4.capture.getComponent("capture_to_native").initImage();
            _this4.capture.getComponent("capture_to_native").createCanvas(picData);
            _this4.capture.getComponent("capture_to_native").saveFile(picData);
          }, 1);
        } else {
          this.capture.getComponent("capture_to_web").init();
          this.capture.getComponent("capture_to_web").createCanvas();
          var img = this.capture.getComponent("capture_to_web").createImg();
          this.scheduleOnce(function() {
            _this4.capture.getComponent("capture_to_web").showImage(img);
          }, 1);
        }
      },
      onLoginUsingPassword: function onLoginUsingPassword() {
        this.loginUsingPasswordNode.active = true;
      },
      onBackLoginUsingPassword: function onBackLoginUsingPassword() {
        this.loginUsingPasswordUsername.string = "";
        this.loginUsingPasswordPassword.string = "";
        this.loginUsingPasswordPassword.inputFlag = cc.EditBox.InputFlag.PASSWORD;
        this.loginUsingPasswordNode.active = false;
      },
      onLoginWithPasword: function onLoginWithPasword() {
        if ("" == this.loginUsingPasswordUsername.string.trim()) return;
        if ("" == this.loginUsingPasswordPassword.string.trim()) return;
        GameManager.getToken(this.loginUsingPasswordUsername.string, this.loginUsingPasswordPassword.string, function(response) {
          var _this5 = this;
          this.loginUsingPasswordUsername.string = "";
          this.loginUsingPasswordPassword.string = "";
          if ("success" == response.status) {
            this.preLogin.active = true;
            ServerCom.loading.active = false;
            ServerCom.socketIOConnect(K.ServerAddress.gameServer + ":" + K.ServerAddress.gamePort, function() {
              if (!ServerCom.socketConnected) return;
              _this5.loginHandler.loginGame(_this5.loginUsingPasswordUsername.string, "", _this5.loginUsingPasswordPassword.string, "login", "normal", _this5.onLoginCallBack.bind(_this5));
            });
          } else {
            this.preLogin.active = false;
            ServerCom.loading.active = false;
            inst.loginDebug[2].getComponent(cc.Label).string = "Invalid username or password please try again";
            inst.loginDebug[2].active = true;
          }
        }.bind(this));
      },
      onTogglePassword: function onTogglePassword(target) {
        target.isChecked ? this.loginUsingPasswordPassword.inputFlag = cc.EditBox.InputFlag.DEFAULT : this.loginUsingPasswordPassword.inputFlag = cc.EditBox.InputFlag.PASSWORD;
      },
      onToggleForgetPassword1: function onToggleForgetPassword1(target) {
        target.isChecked ? this.forgetPasswordNewPassword1.inputFlag = cc.EditBox.InputFlag.DEFAULT : this.forgetPasswordNewPassword1.inputFlag = cc.EditBox.InputFlag.PASSWORD;
      },
      onToggleForgetPassword2: function onToggleForgetPassword2(target) {
        target.isChecked ? this.forgetPasswordNewPassword2.inputFlag = cc.EditBox.InputFlag.DEFAULT : this.forgetPasswordNewPassword2.inputFlag = cc.EditBox.InputFlag.PASSWORD;
      },
      onUpdateNewPassword: function onUpdateNewPassword() {},
      onPasswordVerifyOtp: function onPasswordVerifyOtp() {},
      onShowTC: function onShowTC(event, url) {
        this.tc.active = true;
        this.tc.getChildByName("Cover").getChildByName("WebView").getComponent(cc.WebView).url = "https://bbpoker.pro/terms-conditions/";
        this.tc.getChildByName("Cover").getChildByName("HeadingText").getComponent(cc.Label).string = "Terms-Conditions";
      },
      onShowPP: function onShowPP(event, url) {
        this.tc.active = true;
        this.tc.getChildByName("Cover").getChildByName("WebView").getComponent(cc.WebView).url = "https://bbpoker.pro/privacy-policy/";
        this.tc.getChildByName("Cover").getChildByName("HeadingText").getComponent(cc.Label).string = "Privacy Policy";
      },
      onHideTC: function onHideTC() {
        this.tc.getChildByName("Cover").getChildByName("WebView").getComponent(cc.WebView).url = "";
        this.tc.active = false;
      },
      onConfirmCustom: function onConfirmCustom() {
        if (this.node.getChildByName("Editable")) {
          this.node.getChildByName("Editable").active = false;
          K.ServerAddress.gameServer = this.node.getChildByName("Editable").getChildByName("gameServer").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.gamePort = this.node.getChildByName("Editable").getChildByName("gamePort").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.ipAddress = this.node.getChildByName("Editable").getChildByName("ipAddress").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.port = this.node.getChildByName("Editable").getChildByName("port").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.assets_server = this.node.getChildByName("Editable").getChildByName("assets_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.otp_server = this.node.getChildByName("Editable").getChildByName("otp_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.ServerAddress.ads_server = this.node.getChildByName("Editable").getChildByName("ads_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.Token.auth_server = this.node.getChildByName("Editable").getChildByName("auth_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          K.Token.auth_refresh_server = this.node.getChildByName("Editable").getChildByName("auth_refresh_server").getChildByName("EditBox").getComponent(cc.EditBox).string;
          cc.sys.localStorage.setItem("EditablegameServer", this.node.getChildByName("Editable").getChildByName("gameServer").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("EditablegamePort", this.node.getChildByName("Editable").getChildByName("gamePort").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("EditableipAddress", this.node.getChildByName("Editable").getChildByName("ipAddress").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableport", this.node.getChildByName("Editable").getChildByName("port").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableassets_server", this.node.getChildByName("Editable").getChildByName("assets_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableotp_server", this.node.getChildByName("Editable").getChildByName("otp_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableads_server", this.node.getChildByName("Editable").getChildByName("ads_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableauth_server", this.node.getChildByName("Editable").getChildByName("auth_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
          cc.sys.localStorage.setItem("Editableauth_refresh_server", this.node.getChildByName("Editable").getChildByName("auth_refresh_server").getChildByName("EditBox").getComponent(cc.EditBox).string);
        }
      },
      resetAll: function resetAll() {
        this.vpLogin.interactable = false;
        this.vpUserName.string = "";
        this.vpPassword.string = "";
      },
      onCheck: function onCheck() {
        this.vpLogin.interactable = false;
        if ("" === this.vpUserName.string) return;
        if ("" === this.vpPassword.string) return;
        this.vpLogin.interactable = true;
      },
      onForgetPasswordStep1Check: function onForgetPasswordStep1Check() {
        this.vpForgetPasswordSubmit.interactable = false;
        if ("" === this.vpForgetPasswordUsername.string) return;
        this.vpForgetPasswordSubmit.interactable = true;
      },
      onForgetPasswordStep2Check: function onForgetPasswordStep2Check() {
        this.vpForgetPasswordSubmitOTP.interactable = false;
        if ("" === this.vpForgetPasswordOTP.string) return;
        this.vpForgetPasswordSubmitOTP.interactable = true;
      },
      onForgetPasswordStep3Check: function onForgetPasswordStep3Check() {
        this.vpForgetPasswordSubmitUpdate.interactable = false;
        if ("" === this.vpForgetPasswordNew.string || "" === this.vpForgetPasswordNewConfirm.string) return;
        this.vpForgetPasswordSubmitUpdate.interactable = true;
      },
      onForgetPassword: function onForgetPassword() {
        this.vpForgetPasswordEmail.string = "";
        this.vpForgetPasswordUsername.string = "";
        this.vpForgetPasswordOTP.string = "";
        this.vpForgetPasswordNew.string = "";
        this.vpForgetPasswordNewConfirm.string = "";
        this.vpForgetPasswordErrorMessage1.string = "";
        this.vpForgetPasswordErrorMessage2.string = "";
        this.vpForgetPasswordErrorMessage3.string = "";
        this.forgetPasswordNode.active = true;
        this.forgetPasswordNode.getChildByName("Step1").active = true;
        this.forgetPasswordNode.getChildByName("Step2").active = false;
        this.forgetPasswordNode.getChildByName("Step3").active = false;
        this.vpForgetPasswordSubmit.interactable = false;
        this.vpForgetPasswordSubmitOTP.interactable = false;
        this.vpForgetPasswordSubmitUpdate.interactable = false;
      },
      onForgetPasswordStep1Back: function onForgetPasswordStep1Back() {
        this.vpForgetPasswordEmail.string = "";
        this.vpForgetPasswordUsername.string = "";
        this.vpForgetPasswordOTP.string = "";
        this.vpForgetPasswordNew.string = "";
        this.vpForgetPasswordNewConfirm.string = "";
        this.vpForgetPasswordErrorMessage1.string = "";
        this.vpForgetPasswordErrorMessage2.string = "";
        this.vpForgetPasswordErrorMessage3.string = "";
        this.forgetPasswordNode.active = false;
        this.forgetPasswordNode.getChildByName("Step1").active = false;
        this.forgetPasswordNode.getChildByName("Step2").active = false;
        this.forgetPasswordNode.getChildByName("Step3").active = false;
        this.vpForgetPasswordSubmit.interactable = false;
        this.vpForgetPasswordSubmitOTP.interactable = false;
        this.vpForgetPasswordSubmitUpdate.interactable = false;
      },
      onForgetPasswordStep2Back: function onForgetPasswordStep2Back() {
        this.vpForgetPasswordEmail.string = "";
        this.vpForgetPasswordUsername.string = "";
        this.vpForgetPasswordOTP.string = "";
        this.vpForgetPasswordNew.string = "";
        this.vpForgetPasswordNewConfirm.string = "";
        this.vpForgetPasswordErrorMessage1.string = "";
        this.vpForgetPasswordErrorMessage2.string = "";
        this.vpForgetPasswordErrorMessage3.string = "";
        this.forgetPasswordNode.getChildByName("Step1").active = true;
        this.forgetPasswordNode.getChildByName("Step2").active = false;
        this.forgetPasswordNode.getChildByName("Step3").active = false;
        this.vpForgetPasswordSubmit.interactable = false;
        this.vpForgetPasswordSubmitOTP.interactable = false;
        this.vpForgetPasswordSubmitUpdate.interactable = false;
      },
      onForgetPasswordStep3Back: function onForgetPasswordStep3Back() {
        this.vpForgetPasswordEmail.string = "";
        this.vpForgetPasswordUsername.string = "";
        this.vpForgetPasswordOTP.string = "";
        this.vpForgetPasswordNew.string = "";
        this.vpForgetPasswordNewConfirm.string = "";
        this.vpForgetPasswordErrorMessage1.string = "";
        this.vpForgetPasswordErrorMessage2.string = "";
        this.vpForgetPasswordErrorMessage3.string = "";
        this.forgetPasswordNode.getChildByName("Step1").active = false;
        this.forgetPasswordNode.getChildByName("Step2").active = true;
        this.forgetPasswordNode.getChildByName("Step3").active = false;
        this.vpForgetPasswordSubmit.interactable = false;
        this.vpForgetPasswordSubmitOTP.interactable = false;
        this.vpForgetPasswordSubmitUpdate.interactable = false;
      },
      onForgetPasswordToStep2: function onForgetPasswordToStep2() {
        var _this6 = this;
        this.loginHandler.vpSendOTP(this.vpForgetPasswordUsername.string, function(data) {
          console.log("vpSendOTP", JSON.stringify(data));
          if (true == data.success || "success" == data.status) {
            _this6.vpForgetPasswordEmail.string = "";
            _this6.vpForgetPasswordOTP.string = "";
            _this6.vpForgetPasswordNew.string = "";
            _this6.vpForgetPasswordNewConfirm.string = "";
            _this6.vpForgetPasswordErrorMessage1.string = "";
            _this6.vpForgetPasswordErrorMessage2.string = "";
            _this6.vpForgetPasswordErrorMessage3.string = "";
            _this6.forgetPasswordNode.getChildByName("Step1").active = false;
            _this6.forgetPasswordNode.getChildByName("Step2").active = true;
            _this6.forgetPasswordNode.getChildByName("Step3").active = false;
            _this6.forgetPasswordNode.getChildByName("Step2").getChildByName("Heading3").getComponent(cc.Label).string = data.associatedEmailId;
            _this6.forgetPasswordNode.getChildByName("Step2").getChildByName("debug").getComponent(cc.Label).string = data.otp || "";
            _this6.vpForgetPasswordSubmit.interactable = false;
            _this6.vpForgetPasswordSubmitOTP.interactable = false;
            _this6.vpForgetPasswordSubmitUpdate.interactable = false;
          } else {
            _this6.vpForgetPasswordErrorMessage1.node.active = true;
            _this6.vpForgetPasswordErrorMessage2.node.active = true;
            if (data.message) {
              _this6.vpForgetPasswordErrorMessage1.string = data.message;
              _this6.vpForgetPasswordErrorMessage2.string = data.message;
            } else {
              _this6.vpForgetPasswordErrorMessage1.string = data.error[0].message;
              _this6.vpForgetPasswordErrorMessage2.string = data.error[0].message;
            }
          }
        });
      },
      onForgetPasswordToStep3: function onForgetPasswordToStep3() {
        var _this7 = this;
        this.loginHandler.vpVerifyOTP(this.forgetPasswordNode.getChildByName("Step2").getChildByName("Heading3").getComponent(cc.Label).string, this.vpForgetPasswordOTP.string, function(data) {
          console.log("vpVerifyOTP", JSON.stringify(data));
          if (true == data.success || "success" == data.status) {
            _this7.vpForgetPasswordEmail.string = "";
            _this7.vpForgetPasswordUsername.string = "";
            _this7.vpForgetPasswordOTP.string = "";
            _this7.vpForgetPasswordNew.string = "";
            _this7.vpForgetPasswordNewConfirm.string = "";
            _this7.vpForgetPasswordErrorMessage1.string = "";
            _this7.vpForgetPasswordErrorMessage2.string = "";
            _this7.vpForgetPasswordErrorMessage3.string = "";
            _this7.forgetPasswordNode.getChildByName("Step1").active = false;
            _this7.forgetPasswordNode.getChildByName("Step2").active = false;
            _this7.forgetPasswordNode.getChildByName("Step3").active = true;
            _this7.resetToken = data.resetToken;
            _this7.vpForgetPasswordSubmit.interactable = false;
            _this7.vpForgetPasswordSubmitOTP.interactable = false;
            _this7.vpForgetPasswordSubmitUpdate.interactable = false;
          } else {
            _this7.vpForgetPasswordErrorMessage2.node.active = true;
            data.message ? _this7.vpForgetPasswordErrorMessage2.string = data.message : _this7.vpForgetPasswordErrorMessage2.string = data.error[0].message;
          }
        });
      },
      onForgetPasswordToFinish: function onForgetPasswordToFinish() {
        var _this8 = this;
        this.loginHandler.vpResetPassword(this.forgetPasswordNode.getChildByName("Step2").getChildByName("Heading3").getComponent(cc.Label).string, this.vpForgetPasswordNew.string, this.vpForgetPasswordNewConfirm.string, this.resetToken, function(data) {
          console.log("vpResetPassword", JSON.stringify(data));
          if (true == data.success || "success" == data.status) {
            _this8.vpForgetPasswordEmail.string = "";
            _this8.vpForgetPasswordUsername.string = "";
            _this8.vpForgetPasswordOTP.string = "";
            _this8.vpForgetPasswordNew.string = "";
            _this8.vpForgetPasswordNewConfirm.string = "";
            _this8.vpForgetPasswordErrorMessage1.string = "";
            _this8.vpForgetPasswordErrorMessage2.string = "";
            _this8.vpForgetPasswordErrorMessage3.string = "";
            _this8.vpForgetPasswordSubmit.interactable = false;
            _this8.vpForgetPasswordSubmitOTP.interactable = false;
            _this8.vpForgetPasswordSubmitUpdate.interactable = false;
            _this8.vpForgetPasswordSuccessPopup.active = true;
          } else {
            _this8.vpForgetPasswordErrorMessage3.node.active = true;
            data.message ? _this8.vpForgetPasswordErrorMessage3.string = data.message : _this8.vpForgetPasswordErrorMessage3.string = data.error[0].message;
          }
        });
      },
      onForgetPasswordContinue: function onForgetPasswordContinue() {
        this.forgetPasswordNode.active = false;
        this.forgetPasswordNode.getChildByName("Step1").active = false;
        this.forgetPasswordNode.getChildByName("Step2").active = false;
        this.forgetPasswordNode.getChildByName("Step3").active = false;
        this.vpForgetPasswordSuccessPopup.active = false;
      }
    });
    cc._RF.pop();
  }, {
    AbstractScreen: "AbstractScreen",
    Checkbox: "Checkbox",
    CustomEditBox: "CustomEditBox",
    LoginHandler: "LoginHandler",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes"
  } ],
  MaxTablesPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "95e30FYZlFDaKZmUqz6cEiz", "MaxTablesPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        infoLbl: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        null != data && (this.infoLbl.string = data);
      },
      onClickEnter: function onClickEnter() {
        this.onExit();
      },
      onExit: function onExit() {
        GameManager.playSound(K.Sounds.click);
        this.popUpManager.hide(PopUpType.MaxTablesJoinedPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  MobileNotePopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7336bDAWXNP+bT0tW+0Qbvm", "MobileNotePopup");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        note_editBox: cc.EditBox,
        colorHolder: cc.Node
      },
      onLoad: function onLoad() {
        this.colors = [ new cc.Color(255, 255, 255), new cc.Color(206, 210, 2), new cc.Color(204, 123, 1), new cc.Color(200, 0, 0), new cc.Color(238, 1, 172), new cc.Color(13, 10, 255), new cc.Color(16, 240, 255) ];
      },
      start: function start() {},
      init: function init(flag, color, text, targetPlayerId, pokerPresenter) {
        console.log(color, text, flag);
        this.colors || (this.colors = [ new cc.Color(255, 255, 255), new cc.Color(206, 210, 2), new cc.Color(204, 123, 1), new cc.Color(200, 0, 0), new cc.Color(238, 1, 172), new cc.Color(13, 10, 255), new cc.Color(16, 240, 255) ]);
        this.node.active = true;
        if (flag) {
          this.note_editBox.string = text;
          var col_ind = this.findColIndex(color);
          col_ind < 0 && (col_ind = 0);
          this.colorHolder.getComponent(cc.ToggleContainer).toggleItems[col_ind].isChecked = true;
          this.setColor(this.colors[col_ind]);
        } else {
          this.note_editBox.string = "";
          this.colorHolder.getComponent(cc.ToggleContainer).toggleItems[0].isChecked = true;
          this.setColor(this.colors[0]);
        }
        this.targetPlayerId = targetPlayerId;
        this.pokerPresenter = pokerPresenter;
      },
      findColIndex: function findColIndex(color) {
        var toReturn = -1;
        this.colors.forEach(function(col, i) {
          col.r == color.r && col.g == color.g && col.b == color.b && (toReturn = i);
        });
        return toReturn;
      },
      onRemoveColor: function onRemoveColor() {},
      onColorSelected: function onColorSelected(data, custom, c) {
        this.setColor(this.colors[data.node.name]);
        this.onSave();
      },
      setColor: function setColor(color) {
        this.selectedColor = {};
        this.selectedColor.r = color.r;
        this.selectedColor.g = color.g;
        this.selectedColor.b = color.b;
      },
      onEscape: function onEscape() {},
      onSave: function onSave() {
        var tempData = this.note_editBox.string.trim();
        if ("" != this.targetPlayerId) {
          var inst = this;
          var data = {
            playerId: GameManager.user.playerId,
            forPlayerId: this.targetPlayerId,
            notes: tempData,
            color: this.selectedColor
          };
          ServerCom.pomeloRequest(K.PomeloAPI.createNote, data, function(response) {
            if (response.success) {
              if (!inst.pokerPresenter || !inst.pokerPresenter.model) return;
              inst.pokerPresenter.model.updateNotes(inst.targetPlayerId, inst.selectedColor, data.notes);
              inst.onEscape();
            } else 0 == response.info.localeCompare("notes for this player already exist") && inst.updateNotes(inst.targetPlayerId, tempData);
          }, null, 5e3, false, false);
        }
      },
      updateNotes: function updateNotes(id, note) {
        var profileData = {
          query: {
            playerId: "hsdfhd",
            forPlayerId: "sdfsdf"
          },
          updateKeys: {
            notes: "",
            color: "1"
          }
        };
        var data = profileData;
        data.query.playerId = GameManager.user.playerId;
        data.query.forPlayerId = id;
        data.updateKeys.notes = note;
        data.updateKeys.color = this.selectedColor;
        var inst = this;
        ServerCom.pomeloRequest(K.PomeloAPI.updateNote, data, function(response) {
          if (response.success) {
            if (!this.pokerPresenter || !this.pokerPresenter.model) return;
            this.pokerPresenter.model.updateNotes(id, this.selectedColor, note);
            this.onEscape();
          }
        }.bind(this), null, 5e3, false, false);
      },
      onDelete: function onDelete() {
        if ("" != this.targetPlayerId) {
          var profileData = {
            query: {
              playerId: "hsdfhd",
              forPlayerId: "sdfsdf"
            }
          };
          var data = profileData;
          data.query.playerId = GameManager.user.playerId;
          data.query.forPlayerId = this.targetPlayerId;
          var inst = this;
          ServerCom.pomeloRequest(K.PomeloAPI.deleteNote, data, function(response) {
            if (response.success) {
              if (!this.pokerPresenter || !this.pokerPresenter.model) return;
              this.pokerPresenter.model.updateNotes(inst.targetPlayerId, null, null);
              this.note_editBox.string = "";
            }
          }.bind(this), null, 5e3, false, false);
        }
      },
      onCancel: function onCancel() {
        this.onEscape();
      }
    });
    cc._RF.pop();
  }, {} ],
  Movement: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5aed48lCPZGeqQHuTbWgZGG", "Movement");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        startMoving: false,
        dragging: false,
        disableDrag: true,
        target: null,
        dragElements: {
          type: [ cc.Node ],
          default: []
        }
      },
      onLoad: function onLoad() {
        this.registerTouchInput();
      },
      registerTouchInput: function registerTouchInput() {
        this.node.on(cc.Node.EventType.TOUCH_START, function(event) {
          this.dragging = true;
          this.dropZone = null;
          this.target = null;
          event.stopPropagation();
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, function(event) {
          event.stopPropagation();
          if (this.dragging) {
            var touch = event.touch;
            this.target = this.node.parent.convertTouchToNodeSpaceAR(touch);
          }
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          event.stopPropagation();
          this.dragging && (this.dragging = false);
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, function(event) {
          event.stopPropagation();
          this.dragging && (this.dragging = false);
        }, this);
      },
      dragCard: function dragCard(dt) {
        this.node.position = this.node.position.lerp(this.target, 20 * dt);
        this.dragElements.forEach(function(element) {
          element.position = this.node.position;
        }, this);
      },
      update: function update(dt) {
        !!this.target && this.dragging && this.dragCard(dt);
      }
    });
    cc._RF.pop();
  }, {} ],
  MultiLoginPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "532299m8e5J74siCp95tpVK", "MultiLoginPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      onOk: function onOk() {
        GameManager.popUpManager.hide(PopUpType.MultiLoginPopup, function() {
          this.disconnectAndOpenLoginScreen();
        }.bind(this));
        GameManager.playSound(K.Sounds.click);
      },
      onSingleLogin: function onSingleLogin() {
        LoginHandler.singleLogin(function(response) {
          this.onOk();
        }.bind(this), function(error) {
          this.onOk();
        }.bind(this));
        GameManager.playSound(K.Sounds.click);
      },
      disconnectAndOpenLoginScreen: function disconnectAndOpenLoginScreen() {
        ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}, false);
        K.disconnectRequestedByPlayer = true;
        setTimeout(function() {
          LoginHandler.startPomelo(K.ServerAddress.gameServer, K.ServerAddress.gamePort);
        }, 100);
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  NestablePageView_Outer: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4f25f/YH89Ny7iEX44qhakx", "NestablePageView_Outer");
    "use strict";
    cc.Class({
      extends: cc.PageView,
      properties: {
        m_InnerScrollViews: [ require("NestableScrollView_Inner") ],
        m_PlanDir: {
          default: null,
          visible: false
        },
        m_ScrollingInnerSv: {
          default: null,
          visible: false
        }
      },
      onLoad: function onLoad() {
        var _this = this;
        this._super();
        this.m_PlanDir = null;
        this.m_InnerScrollViews.forEach(function(inner) {
          inner.setOuterScrollView(_this);
        });
      },
      _isHisChild: function _isHisChild(child, undeterminedParent) {
        if (child == undeterminedParent) return true;
        if (null != child.parent) return child.parent == undeterminedParent || this._isHisChild(child.parent, undeterminedParent);
        return false;
      },
      _findScrollingInnerSv: function _findScrollingInnerSv(target) {
        for (var i = 0; i < this.m_InnerScrollViews.length; i++) {
          var isHisChild = this._isHisChild(target, this.m_InnerScrollViews[i].node);
          if (isHisChild) return this.m_InnerScrollViews[i];
        }
        return null;
      },
      isDifferentBetweenSettingAndPlan: function isDifferentBetweenSettingAndPlan(sv) {
        if (0 == this.m_PlanDir) return false;
        if (1 == this.m_PlanDir && sv.horizontal) return false;
        if (-1 == this.m_PlanDir && sv.vertical) return false;
        return true;
      },
      hasNestedViewGroup: function hasNestedViewGroup(event, captureListeners) {
        if (event.eventPhase !== cc.Event.CAPTURING_PHASE) return;
        return false;
      },
      _onTouchBegan: function _onTouchBegan(event, captureListeners) {
        this._touchBeganPosition = event.touch.getLocation();
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        this.m_PlanDir = null;
        this.m_ScrollingInnerSv = null;
        var touch = event.touch;
        this.content && this._handlePressLogic(touch);
        this._touchMoved = false;
        this._stopPropagationIfTargetIsMe(event);
      },
      _onTouchMoved: function _onTouchMoved(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        var touch = event.touch;
        var deltaMove = touch.getLocation().sub(touch.getStartLocation());
        if (null == this.m_PlanDir && deltaMove.mag() > 7) {
          this.m_ScrollingInnerSv = this._findScrollingInnerSv(event.target);
          if (null != this.m_ScrollingInnerSv) {
            var contentSize = this.m_ScrollingInnerSv.content.getContentSize();
            var scrollViewSize = this.m_ScrollingInnerSv.node.getContentSize();
            this.m_ScrollingInnerSv.vertical && contentSize.height > scrollViewSize.height || this.m_ScrollingInnerSv.horizontal && contentSize.width > scrollViewSize.width ? this.m_PlanDir = Math.abs(deltaMove.x) > Math.abs(deltaMove.y) ? 1 : -1 : this.m_PlanDir = 0;
          } else this.m_PlanDir = 0;
        }
        this.content && (this.isDifferentBetweenSettingAndPlan(this) || this._handleMoveLogic(touch));
        if (!this.cancelInnerEvents) return;
        if (null == this.m_ScrollingInnerSv) {
          if (deltaMove.mag() > 7 && !this._touchMoved && event.target !== this.node) {
            var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);
            cancelEvent.type = cc.Node.EventType.TOUCH_CANCEL;
            cancelEvent.touch = event.touch;
            cancelEvent.simulate = true;
            event.target.dispatchEvent(cancelEvent);
            this._touchMoved = true;
          }
          this._stopPropagationIfTargetIsMe(event);
        }
      }
    });
    cc._RF.pop();
  }, {
    NestableScrollView_Inner: "NestableScrollView_Inner"
  } ],
  NestableScrollView_Inner: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ec87e84XcFDkLEedpwy3xUt", "NestableScrollView_Inner");
    "use strict";
    cc.Class({
      extends: cc.ScrollView,
      properties: {
        m_OuterScrollView: {
          default: null,
          visible: false
        }
      },
      setOuterScrollView: function setOuterScrollView(outer) {
        this.m_OuterScrollView = outer;
      },
      _onTouchMoved: function _onTouchMoved(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        var touch = event.touch;
        var deltaMove = touch.getLocation().sub(touch.getStartLocation());
        this.content && (this.m_OuterScrollView.isDifferentBetweenSettingAndPlan(this) || this._handleMoveLogic(touch));
        if (!this.cancelInnerEvents) return;
        if (deltaMove.mag() > 7 && !this._touchMoved && event.target !== this.node) {
          var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);
          cancelEvent.type = cc.Node.EventType.TOUCH_CANCEL;
          cancelEvent.touch = event.touch;
          cancelEvent.simulate = true;
          event.target.dispatchEvent(cancelEvent);
          this._touchMoved = true;
        }
        this._stopPropagationIfTargetIsMe(event);
      }
    });
    cc._RF.pop();
  }, {} ],
  NestableScrollView_Outer: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5993d3JPSZBDIj9gsrlrcQ7", "NestableScrollView_Outer");
    "use strict";
    cc.Class({
      extends: cc.ScrollView,
      properties: {
        m_InnerScrollViews: [ require("NestableScrollView_Inner") ],
        m_PlanDir: {
          default: null,
          visible: false
        },
        m_ScrollingInnerSv: {
          default: null,
          visible: false
        }
      },
      onLoad: function onLoad() {
        var _this = this;
        this.m_PlanDir = null;
        this.m_InnerScrollViews.forEach(function(inner) {
          inner.setOuterScrollView(_this);
        });
      },
      _isHisChild: function _isHisChild(child, undeterminedParent) {
        if (child == undeterminedParent) return true;
        if (null != child.parent) return child.parent == undeterminedParent || this._isHisChild(child.parent, undeterminedParent);
        return false;
      },
      _findScrollingInnerSv: function _findScrollingInnerSv(target) {
        for (var i = 0; i < this.m_InnerScrollViews.length; i++) {
          var isHisChild = this._isHisChild(target, this.m_InnerScrollViews[i].node);
          if (isHisChild) return this.m_InnerScrollViews[i];
        }
        return null;
      },
      isDifferentBetweenSettingAndPlan: function isDifferentBetweenSettingAndPlan(sv) {
        if (0 == this.m_PlanDir) return false;
        if (1 == this.m_PlanDir && sv.horizontal) return false;
        if (-1 == this.m_PlanDir && sv.vertical) return false;
        return true;
      },
      hasNestedViewGroup: function hasNestedViewGroup(event, captureListeners) {
        if (event.eventPhase !== cc.Event.CAPTURING_PHASE) return;
        return false;
      },
      _onTouchBegan: function _onTouchBegan(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        this.m_PlanDir = null;
        this.m_ScrollingInnerSv = null;
        var touch = event.touch;
        this.content && this._handlePressLogic(touch);
        this._touchMoved = false;
        this._stopPropagationIfTargetIsMe(event);
      },
      _onTouchMoved: function _onTouchMoved(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        var touch = event.touch;
        var deltaMove = touch.getLocation().sub(touch.getStartLocation());
        if (null == this.m_PlanDir && deltaMove.mag() > 7) {
          this.m_ScrollingInnerSv = this._findScrollingInnerSv(event.target);
          if (null != this.m_ScrollingInnerSv) {
            var contentSize = this.m_ScrollingInnerSv.content.getContentSize();
            var scrollViewSize = this.m_ScrollingInnerSv.node.getContentSize();
            this.m_ScrollingInnerSv.vertical && contentSize.height > scrollViewSize.height || this.m_ScrollingInnerSv.horizontal && contentSize.width > scrollViewSize.width ? this.m_PlanDir = Math.abs(deltaMove.x) > Math.abs(deltaMove.y) ? 1 : -1 : this.m_PlanDir = 0;
          } else this.m_PlanDir = 0;
        }
        this.content && (this.isDifferentBetweenSettingAndPlan(this) || this._handleMoveLogic(touch));
        if (!this.cancelInnerEvents) return;
        if (null == this.m_ScrollingInnerSv) {
          if (deltaMove.mag() > 7 && !this._touchMoved && event.target !== this.node) {
            var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);
            cancelEvent.type = cc.Node.EventType.TOUCH_CANCEL;
            cancelEvent.touch = event.touch;
            cancelEvent.simulate = true;
            event.target.dispatchEvent(cancelEvent);
            this._touchMoved = true;
          }
          this._stopPropagationIfTargetIsMe(event);
        }
      }
    });
    cc._RF.pop();
  }, {
    NestableScrollView_Inner: "NestableScrollView_Inner"
  } ],
  NewPlayerInfoPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c88a3GtxjRFfaWjXv1eP3DJ", "NewPlayerInfoPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: cc.Component,
      properties: {
        desc: {
          default: null,
          type: cc.Node
        },
        descLabel: {
          default: null,
          type: cc.Label
        },
        stickerTemp: {
          default: null,
          type: cc.Node
        },
        stickers: {
          default: null,
          type: cc.Node
        },
        playerName: {
          default: null,
          type: cc.Label
        },
        playerImg: {
          default: null,
          type: cc.Sprite
        },
        balance: {
          default: null,
          type: cc.Label
        },
        balance2: {
          default: null,
          type: cc.Label
        },
        noteNode: {
          default: null,
          type: cc.Node
        },
        days: {
          default: null,
          type: cc.Label
        },
        daysD: {
          default: null,
          type: cc.Node
        },
        resData: null
      },
      onLoad: function onLoad() {
        this.stickers.removeAllChildren();
        for (var i = 0; i < GameManager.stickerImages.length; i++) {
          var stickerImages = GameManager.stickerImages[i];
          var poolObject = cc.instantiate(this.stickerTemp);
          poolObject.active = true;
          poolObject.y = 0;
          poolObject.parent = this.stickers;
          poolObject.getComponent("StickerBase").stickerId = i + 1;
          poolObject.getComponent(cc.Button).clickEvents[0].customEventData = i + 1;
          poolObject.children[0].getComponent(cc.Sprite).spriteFrame = stickerImages;
        }
      },
      onShow: function onShow(data, gameData, resData) {
        this.resData = resData;
        console.log("data", data);
        GameManager.emit("disablePageView");
        this.daysD.active = false;
        this.days.string = "1 Day";
        if (data.playerId == GameManager.user.playerId) {
          this.noteNode.active = false;
          this.playerName.string = GameManager.user.userName;
          this.playerImg.spriteFrame = GameManager.user.urlImg;
          this.balance.string = Number(data.chips.toFixed(2));
        } else {
          this.noteNode.active = true;
          this.playerName.string = data.playerName;
        }
        this.balance.string = Number(data.chips.toFixed(2));
        data.urlImg ? this.playerImg.spriteFrame = data.urlImg : this.playerImg.spriteFrame = GameManager.user.urlImg;
        this.balance2.string = "(" + Number((data.chips / gameData.tableDetails.bigBlind).toFixed(2)) + "BB)";
        this.updateUI();
      },
      onShowD: function onShowD() {
        this.daysD.active = true;
      },
      onHideD: function onHideD() {
        this.daysD.active = false;
      },
      onDays: function onDays(event, custom) {
        this.onHideD();
        this.days.string = event.target.children[0].getComponent(cc.Label).string;
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getPlayerStats", {
          playerId: GameManager.user.playerId,
          range: Number(custom)
        }, function(response) {
          if (response.success) {
            console.log(response);
            inst.resData = response.data;
            inst.updateUI();
          }
        }, null, 5e3, false);
      },
      updateUI: function updateUI() {
        cc.find("base/Keys", this.node).children[0].children[0].getComponent(cc.Label).string = (this.resData.vpipValue || 0) + "%";
        cc.find("base/Keys", this.node).children[1].children[0].getComponent(cc.Label).string = (this.resData.pfrValue || 0) + "%";
        cc.find("base/Keys", this.node).children[2].children[0].getComponent(cc.Label).string = (this.resData.t3betPFValue || 0) + "%";
        cc.find("base/Keys", this.node).children[3].children[0].getComponent(cc.Label).string = (this.resData.foldTo3betValue || 0) + "%";
        cc.find("base/Keys", this.node).children[5].children[0].getComponent(cc.Label).string = (this.resData.raiseFCBetValue || 0) + "%";
        cc.find("base/Keys", this.node).children[6].children[0].getComponent(cc.Label).string = (this.resData.stealFromCOValue || 0) + "%";
        cc.find("base/Keys", this.node).children[7].children[0].getComponent(cc.Label).string = (this.resData.attToStealValue || 0) + "%";
        cc.find("base/Keys", this.node).children[8].children[0].getComponent(cc.Label).string = (this.resData.bbValue || 0) + "%";
        cc.find("base/wtrd", this.node).children[0].getComponent(cc.Label).string = "WTSD " + (this.resData.wtsdValue || 0) + "%";
        cc.find("base/wtrd", this.node).children[2].getComponent(cc.Label).string = "WSD " + (this.resData.wsdValue || 0) + "%";
      },
      onDetail: function onDetail(event, data) {
        this.desc.active = true;
        this.desc.opacity = 255;
        this.descLabel.string = {
          VPIP: "Percentage of the time that a player voluntarily contributed money to the pot, given that he had a chance to do so",
          PFR: "The percentage of hands where the player made any raise pre-flop",
          "3-Bet": "Percentage of the time that a player 3Bet preflop given that he had a chance to do so",
          "Fold to 3-bet": "Percentage of the time that a player folded to a 3 Bet on any street in any situation regardless of prior action, given that he had a chance to do so",
          "C-Bet": "Percentage of the time that a player raised a continuation bet on the flop",
          "Steal from CO": "Percentage of the time that a player opened the pot by raising from the cutoff.",
          Steal: "Percentage of the time that a player opened the pot by raising from the cutoff, button, or small blind",
          "BB/100": "Net amount of money that a player won per 100 hands played in terms of big blinds",
          WTSD: "Percentage of the time that a player went to showdown, given that he saw the flop",
          WSD: "Percentage of the time that a player won some money at showdown, given that he got to showdown"
        }[data];
        this.desc.stopAllActions();
        this.desc.runAction(cc.sequence(cc.delayTime(2), cc.fadeOut(.5)));
      },
      onHideDetail: function onHideDetail() {
        this.desc.stopAllActions();
        this.desc.active = false;
      },
      onClose: function onClose() {
        this.daysD.active = false;
        GameManager.emit("enablePageView");
        this.node.active = false;
        GameManager.emit("showJoinSimlar");
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  NewTable: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "22806A8U+1CzLxFmj0o4PFn", "NewTable");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        contentHolder: {
          default: null,
          type: cc.Node
        },
        content: {
          default: null,
          type: cc.Node
        },
        darkColor: {
          default: new cc.Color()
        },
        lightColor: {
          default: new cc.Color()
        },
        selectedColor: {
          default: new cc.Color()
        },
        normalColor: {
          default: new cc.Color()
        }
      },
      onLoad: function onLoad() {
        console.log("new table on laod", this.content);
        this.contentPool = [];
        this.compType = null;
        this.currentSelection = null;
      },
      init: function init(data, compType) {
        void 0 === compType && (compType = null);
        console.log("content handler init", data, compType);
        this.compType = compType;
        this.createRows(data.length, .1, data);
      },
      createRows: function createRows(length, delay, data) {
        for (var i = 0; i < length; i++) {
          var current = data[i];
          this.createRow(this.compType, current);
        }
        this.populateRow(delay, 0, this.contentPool.length - 1);
      },
      createRow: function createRow(compType, data) {
        var node = cc.instantiate(this.content);
        var comp = node.getComponent(compType);
        data.onSelection = this.onSelectTable.bind(this);
        data.getCurrentSelection = this.getCurrentSelection.bind(this);
        comp.init(data);
        this.contentPool.push(comp);
        return node;
      },
      populateRow: function populateRow(delay, index, length) {
        var _this = this;
        if (index <= length) {
          var comp = this.contentPool[index];
          var color = index % 2 == 0 ? this.darkColor : this.lightColor;
          comp.changeBgColor(color);
          comp.node.parent = this.contentHolder;
          comp.node.active = true;
          this.scheduleOnce(function() {
            _this.populateRow(delay, ++index, length);
          }, delay);
        }
      },
      onSelectTable: function onSelectTable(selected) {
        if (selected === this.currentSelection) return;
        console.log("selection changed");
        selected.changeSelection(this.selectedColor, cc.Color.WHITE);
        !this.currentSelection || this.currentSelection.changeSelection(this.normalColor, cc.Color.BLACK);
        this.currentSelection = selected;
      },
      getCurrentSelection: function getCurrentSelection() {
        return this.currentSelection;
      }
    });
    cc._RF.pop();
  }, {} ],
  NewVersionPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e08210xhohF676FYUsT5Ckl", "NewVersionPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {},
      onLoad: function onLoad() {},
      onShow: function onShow() {},
      onOkBtn: function onOkBtn() {
        var device = "";
        if (cc.sys.isBrowser) {
          device = "browser";
          cc.sys.os === cc.sys.OS_ANDROID ? device = "androidApp" : cc.sys.os === cc.sys.OS_IOS ? device = "iosApp" : cc.sys.os === cc.sys.OS_OSX && (device = "mac");
        } else if (cc.sys.os === cc.sys.OS_ANDROID) {
          device = "androidApp";
          cc.sys.openURL("https://play.google.com/store/apps/details?id=com.atozgames.bbpokergame");
        } else if (cc.sys.os === cc.sys.OS_IOS) {
          device = "iosApp";
          cc.sys.openURL("https://apps.apple.com/us/app/bb-poker-play-with-friends/id6737835776");
        } else if (cc.sys.os === cc.sys.OS_WINDOWS) device = "windows"; else if (cc.sys.os === cc.sys.OS_OSX) {
          device = "mac";
          cc.sys.openURL("https://play.google.com/store/apps/details?id=com.atozgames.bbpokergame");
        }
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  NotePanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "20f3fXARxRDno8hz4G5FtcX", "NotePanel");
    "use strict";
    var DropDownType = require("DropDown");
    var ChatPanel = require("ChatPanel");
    var CreateNote = require("PostTypes").CreateNote;
    var GetNote = require("PostTypes").GetNote;
    var playersChanged = null;
    cc.Class({
      extends: cc.Component,
      properties: {
        playersDropdown: {
          default: null,
          type: DropDownType
        },
        colorDropDown: {
          default: null,
          type: DropDownType
        },
        editBox: {
          default: null,
          type: cc.EditBox
        },
        gameData: {
          default: null
        },
        playersName: {
          default: []
        },
        selectedPlayerName: "",
        selectedPlayerID: "",
        selectedColor: {
          default: cc.Color.White
        },
        noteGridParent: {
          default: null,
          type: cc.Node
        },
        notePrefab: {
          default: null,
          type: cc.Prefab
        },
        notes: [],
        namesInNotes: [],
        tempName: "",
        colors: {
          default: [],
          type: [ cc.Color ]
        },
        gridRefreshedRef: null,
        pokerModel: {
          default: null,
          type: cc.Node
        },
        pokerGame: null,
        deleteBtn: {
          default: null,
          type: cc.Node
        }
      },
      gridRefreshed: function gridRefreshed() {},
      onLoad: function onLoad() {
        this.pokerGame = this.pokerModel.getComponent("PokerModel");
        this.gameData = this.pokerGame.gameData;
        this.gridRefreshedRef = this.gridRefreshed.bind(this);
        playersChanged = this.onPlayersChanged.bind(this);
        GameScreen.node.on("grid-refreshed", this.gridRefreshedRef);
        this.registerBroadcast();
        this.initPlayersDropdown();
        this.initColor();
      },
      getNote: function getNote() {
        if (!this.selectedPlayerID) return;
        var data = new GetNote(GameManager.user.playerId, this.selectedPlayerID);
        this.editBox.string = "";
        ServerCom.pomeloRequest(K.PomeloAPI.getNote, data, function(response) {
          if (response.success) {
            if (!this.editBox) return;
            this.editBox.string = response.result.notes;
            this.colorDropDown.setColor(response.result.color, true);
          }
        }.bind(this), null, 5e3, false, false);
      },
      updateNotes: function updateNotes(id, note) {
        var profileData = {
          query: {
            playerId: "hsdfhd",
            forPlayerId: "sdfsdf"
          },
          updateKeys: {
            notes: "",
            color: "1"
          }
        };
        var data = profileData;
        data.query.playerId = GameManager.user.playerId;
        data.query.forPlayerId = id;
        data.updateKeys.notes = note;
        data.updateKeys.color = this.selectedColor;
        var inst = this;
        ServerCom.pomeloRequest(K.PomeloAPI.updateNote, data, function(response) {
          if (response.success) {
            if (!this.pokerGame) return;
            this.pokerGame.updateNotes(inst.selectedPlayerID, this.selectedColor, note);
          }
        }.bind(this), null, 5e3, false, false);
      },
      initPlayersDropdown: function initPlayersDropdown() {
        this.playersName = [];
        this.gameData.tableDetails.players.forEach(function(element) {
          element.playerName === GameManager.user.userName || this.playersName.push(element.playerName);
        }, this);
        this.playersDropdown.prevSelection = null;
        this.playersDropdown.showDefault();
        this.playersDropdown.registerCallback(this.updatePlayerID.bind(this));
        this.playersDropdown.setContent(this.playersName);
        this.playersDropdown.prevSelection = null;
        this.colorDropDown.prevSelection = null;
        this.colorDropDown.showDefault();
      },
      initColor: function initColor() {
        this.colorDropDown.setContent(this.colors);
        this.colorDropDown.registerCallback(this.updatePlayerColor.bind(this));
        this.colorDropDown.showDefault();
      },
      updatePlayerColor: function updatePlayerColor(color) {
        this.selectedColor = {};
        this.selectedColor.r = color.r;
        this.selectedColor.g = color.g;
        this.selectedColor.b = color.b;
      },
      onSubmit: function onSubmit() {
        this.deleteBtn.active = true;
        var tempData = this.editBox.string.trim();
        if ("" != this.selectedPlayerID) {
          var inst = this;
          var data = new CreateNote(GameManager.user.playerId, this.selectedPlayerID, tempData, inst.selectedColor);
          ServerCom.pomeloRequest(K.PomeloAPI.createNote, data, function(response) {
            if (response.success) {
              if (!inst.pokerGame) return;
              inst.pokerGame.updateNotes(inst.selectedPlayerID, inst.selectedColor, data.notes);
            } else 0 == response.info.localeCompare("notes for this player already exist") && inst.updateNotes(inst.selectedPlayerID, tempData);
          }, null, 5e3, false, false);
        }
      },
      updatePlayerID: function updatePlayerID(name) {
        var emptyDD = true;
        this.gameData.tableDetails.players.forEach(function(element) {
          if (element.playerName == name) {
            this.selectedPlayerID = element.playerId;
            emptyDD = false;
            this.getNote();
          }
        }, this);
        emptyDD && (this.selectedPlayerID = "");
        this.selectedPlayerName = name;
      },
      registerBroadcast: function registerBroadcast() {
        if (!this.pokerGame) return;
        this.pokerGame.off(K.PokerEvents.OnSit, playersChanged);
        this.pokerGame.on(K.PokerEvents.OnSit, playersChanged);
        this.pokerGame.off(K.PokerEvents.OnLeave, playersChanged);
        this.pokerGame.on(K.PokerEvents.OnLeave, playersChanged);
      },
      onPlayersChanged: function onPlayersChanged() {
        this.initPlayersDropdown();
      },
      deleteNotes: function deleteNotes(id, note) {
        if ("" != this.selectedPlayerID) {
          var profileData = {
            query: {
              playerId: "hsdfhd",
              forPlayerId: "sdfsdf"
            }
          };
          var data = profileData;
          data.query.playerId = GameManager.user.playerId;
          data.query.forPlayerId = this.selectedPlayerID;
          var inst = this;
          ServerCom.pomeloRequest(K.PomeloAPI.deleteNote, data, function(response) {
            if (response.success) {
              if (!this.pokerGame) return;
              this.pokerGame.updateNotes(inst.selectedPlayerID, null, null);
              this.editBox.string = "";
            }
          }.bind(this), null, 5e3, false, false);
        }
      },
      editingStarted: function editingStarted() {
        this.deleteBtn.active = false;
      }
    });
    cc._RF.pop();
  }, {
    ChatPanel: "ChatPanel",
    DropDown: "DropDown",
    PostTypes: "PostTypes"
  } ],
  NotificationPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "23fb7oLTSNI+J17/CR3HVC9", "NotificationPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        infoLbl: {
          default: null,
          type: cc.Label
        },
        timer: 3
      },
      onShow: function onShow(data) {
        null != data && (this.infoLbl.string = data);
        this.node.y = 200;
        this.node.runAction(cc.sequence(cc.moveTo(.5, new cc.Vec2(0, 185)), cc.delayTime(1.5), cc.moveTo(.5, new cc.Vec2(0, 185))));
        this.scheduleOnce(function() {
          this.onClose();
        }, this.timer);
      },
      onClose: function onClose() {
        GameManager.popUpManager.hide(PopUpType.NotificationPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  NtPageView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "18edcYPaYBLu5kckl4vUeOh", "NtPageView");
    "use strict";
    cc.Class({
      extends: cc.PageView,
      hasNestedViewGroup: function hasNestedViewGroup(event, captureListeners) {
        if (event.eventPhase !== cc.Event.CAPTURING_PHASE) return;
        var touch = event.touch;
        if (!touch) return;
        var deltaMove = cc.pSub(touch.getLocation(), touch.getStartLocation());
        if (deltaMove.x > 7 || deltaMove.x < -7) return false;
        if (captureListeners) for (var i = 0; i < captureListeners.length; ++i) {
          var item = captureListeners[i];
          if (this.node === item) {
            if (event.target.getComponent(cc.ViewGroup)) return true;
            return false;
          }
          if (item.getComponent(cc.ViewGroup)) return true;
        }
        return false;
      }
    });
    cc._RF.pop();
  }, {} ],
  NtScrollViewIn: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c9eebRyAlhMAqxMtZ8GqOos", "NtScrollViewIn");
    "use strict";
    cc.Class({
      extends: cc.ScrollView,
      properties: {
        m_OuterScrollView: {
          default: null,
          visible: false
        }
      },
      onLoad: function onLoad() {
        cc.log("");
      },
      setOuterScrollView: function setOuterScrollView(outer) {
        this.m_OuterScrollView = outer;
      },
      _onTouchMoved: function _onTouchMoved(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        var touch = event.touch;
        var deltaMove = touch.getLocation().sub(touch.getStartLocation());
        if (this.content) {
          if (!this.m_OuterScrollView) return;
          this.m_OuterScrollView.isDifferentBetweenSettingAndPlan(this) || this._handleMoveLogic(touch);
        }
        if (!this.cancelInnerEvents) return;
        if (deltaMove.mag() > 7 && !this._touchMoved && event.target !== this.node) {
          var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);
          cancelEvent.type = cc.Node.EventType.TOUCH_CANCEL;
          cancelEvent.touch = event.touch;
          cancelEvent.simulate = true;
          event.target.dispatchEvent(cancelEvent);
          this._touchMoved = true;
        }
        this._stopPropagationIfTargetIsMe(event);
      }
    });
    cc._RF.pop();
  }, {} ],
  NtScrollViewOut: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4a383K5zFZNMobsaYmD7K53", "NtScrollViewOut");
    "use strict";
    cc.Class({
      extends: cc.ScrollView,
      properties: {
        m_InnerScrollViews: [ require("NtScrollViewIn") ],
        m_PlanDir: {
          default: null,
          visible: false
        },
        m_ScrollingInnerSv: {
          default: null,
          visible: false
        }
      },
      onLoad: function onLoad() {},
      setOutComp: function setOutComp() {
        var _this = this;
        this.m_PlanDir = null;
        this.m_InnerScrollViews.forEach(function(inner) {
          inner.setOuterScrollView(_this);
        });
      },
      _isHisChild: function _isHisChild(child, undeterminedParent) {
        if (child == undeterminedParent) return true;
        if (null != child.parent) return child.parent == undeterminedParent || this._isHisChild(child.parent, undeterminedParent);
        return false;
      },
      _findScrollingInnerSv: function _findScrollingInnerSv(target) {
        for (var i = 0; i < this.m_InnerScrollViews.length; i++) {
          var isHisChild = this._isHisChild(target, this.m_InnerScrollViews[i].node);
          if (isHisChild) return this.m_InnerScrollViews[i];
        }
        return null;
      },
      isDifferentBetweenSettingAndPlan: function isDifferentBetweenSettingAndPlan(sv) {
        if (0 == this.m_PlanDir) return false;
        if (1 == this.m_PlanDir && sv.horizontal) return false;
        if (-1 == this.m_PlanDir && sv.vertical) return false;
        return true;
      },
      hasNestedViewGroup: function hasNestedViewGroup(event, captureListeners) {
        if (event.eventPhase !== cc.Event.CAPTURING_PHASE) return;
        return false;
      },
      _onTouchBegan: function _onTouchBegan(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        this.m_PlanDir = null;
        this.m_ScrollingInnerSv = null;
        var touch = event.touch;
        this.content && this._handlePressLogic(touch);
        this._touchMoved = false;
        this._stopPropagationIfTargetIsMe(event);
      },
      _onTouchMoved: function _onTouchMoved(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        var touch = event.touch;
        var deltaMove = touch.getLocation().sub(touch.getStartLocation());
        if (null == this.m_PlanDir && deltaMove.mag() > 7) {
          this.m_ScrollingInnerSv = this._findScrollingInnerSv(event.target);
          if (null != this.m_ScrollingInnerSv) {
            var contentSize = this.m_ScrollingInnerSv.content.getContentSize();
            var scrollViewSize = this.m_ScrollingInnerSv.node.getContentSize();
            this.m_ScrollingInnerSv.vertical && contentSize.height > scrollViewSize.height || this.m_ScrollingInnerSv.horizontal && contentSize.width > scrollViewSize.width ? this.m_PlanDir = Math.abs(deltaMove.x) > Math.abs(deltaMove.y) ? 1 : -1 : this.m_PlanDir = 0;
          } else this.m_PlanDir = 0;
        }
        this.content && (this.isDifferentBetweenSettingAndPlan(this) || this._handleMoveLogic(touch));
        if (!this.cancelInnerEvents) return;
        if (null == this.m_ScrollingInnerSv) {
          if (deltaMove.mag() > 7 && !this._touchMoved && event.target !== this.node) {
            var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);
            cancelEvent.type = cc.Node.EventType.TOUCH_CANCEL;
            cancelEvent.touch = event.touch;
            cancelEvent.simulate = true;
            event.target.dispatchEvent(cancelEvent);
            this._touchMoved = true;
          }
          this._stopPropagationIfTargetIsMe(event);
        }
      }
    });
    cc._RF.pop();
  }, {
    NtScrollViewIn: "NtScrollViewIn"
  } ],
  NtScrollView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ef578iKcv1JOLI1U213bFT/", "NtScrollView");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, menu = _a.menu;
    var NtScrollView = function(_super) {
      __extends(NtScrollView, _super);
      function NtScrollView() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.scrollView = null;
        _this.cancelInnerEvents = true;
        _this.pageView = null;
        _this.direction = null;
        _this.start_loc = null;
        _this._touchMoved = false;
        return _this;
      }
      NtScrollView.prototype.onLoad = function() {
        var ObIconCellSNode = this.node.parent;
        var ObLandScrolls = ObIconCellSNode.parent.parent.parent;
        this.pageView = ObLandScrolls.getComponent(cc.ScrollView);
        this.direction = null;
        this.start_loc = null;
        this.node.on(cc.Node.EventType.TOUCH_START, this._onTouchBegan, this, true);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this._onTouchMoved, this, true);
        this.node.on(cc.Node.EventType.TOUCH_END, this._onTouchEnded, this, true);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this._onTouchCancelled, this, true);
      };
      NtScrollView.prototype.hasNestedViewGroup = function(event, captureListeners) {
        if (event.eventPhase !== cc.Event.CAPTURING_PHASE) return;
        if (captureListeners) for (var i = 0; i < captureListeners.length; ++i) {
          var item = captureListeners[i];
          if (this.node === item) {
            if (event.target.getComponent(cc.ViewGroup)) return true;
            return false;
          }
          if (item.getComponent(cc.ViewGroup)) return true;
        }
        return false;
      };
      NtScrollView.prototype._stopPropagationIfTargetIsMe = function(event) {
        event.eventPhase === cc.Event.AT_TARGET && event.target === this.node && event.stopPropagation();
      };
      NtScrollView.prototype._onTouchBegan = function(event, captureListeners) {
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        var touch = event.touch;
        this.start_loc = event.touch.getLocation();
        if (this.node) {
          this.pageView && this.pageView._handlePressLogic(touch);
          this.scrollView && this.scrollView._handlePressLogic(touch);
        }
        this._touchMoved = false;
        this._stopPropagationIfTargetIsMe(event);
      };
      NtScrollView.prototype._onTouchMoved = function(event, captureListeners) {
        var now_pos = event.touch.getLocation();
        var delta_x = Math.abs(this.start_loc.x - now_pos.x);
        var delta_y = Math.abs(this.start_loc.y - now_pos.y);
        (delta_x > 5 || delta_y > 5) && !this.direction && (this.direction = delta_x > delta_y ? "pageview_move" : "scrollview_move");
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        var touch = event.touch;
        this.node && this._handleMoveLogic(touch);
        if (!this.cancelInnerEvents) return;
        var deltaMove = touch.getLocation().sub(touch.getStartLocation());
        if (deltaMove.mag() > 7 && !this._touchMoved && event.target !== this.node) {
          var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);
          cancelEvent.type = cc.Node.EventType.TOUCH_CANCEL;
          cancelEvent.touch = event.touch;
          cancelEvent.simulate = true;
          event.target.dispatchEvent(cancelEvent);
          this._touchMoved = true;
        }
        this._stopPropagationIfTargetIsMe(event);
      };
      NtScrollView.prototype._onTouchEnded = function(event, captureListeners) {
        this.direction = null;
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        var touch = event.touch;
        this.node && this._handleReleaseLogic(touch);
        this.pageView && this.pageView._dispatchEvent("touch-up");
        this.scrollView && this.scrollView._dispatchEvent("touch-up");
        this._touchMoved ? event.stopPropagation() : this._stopPropagationIfTargetIsMe(event);
      };
      NtScrollView.prototype._onTouchCancelled = function(event, captureListeners) {
        this.direction = null;
        if (!this.enabledInHierarchy) return;
        if (this.hasNestedViewGroup(event, captureListeners)) return;
        if (!event.simulate) {
          var touch = event.touch;
          this.node && this._handleReleaseLogic(touch);
        }
        this._stopPropagationIfTargetIsMe(event);
      };
      NtScrollView.prototype._clampDelta = function(delta) {
        var x = Math.abs(delta.x);
        var y = Math.abs(delta.y);
        x < y ? delta.x = 0 : delta.y = 0;
        return delta;
      };
      NtScrollView.prototype._handleMoveLogic = function(touch) {
        var deltaMove = this._clampDelta(touch.getDelta());
        this.pageView && this.pageView._processDeltaMove(deltaMove);
        this.scrollView && this.scrollView._processDeltaMove(deltaMove);
      };
      NtScrollView.prototype._handleReleaseLogic = function(touch) {
        var delta = touch.getDelta();
        delta = this._clampDelta(delta);
        if (this.pageView) {
          this.pageView._gatherTouchMove(delta);
          this.pageView._processInertiaScroll();
          this.pageView._dispatchEvent("scroll-ended");
        }
        if (this.scrollView) {
          this.scrollView._gatherTouchMove(delta);
          this.scrollView._processInertiaScroll();
          this.scrollView._dispatchEvent("scroll-ended");
        }
      };
      __decorate([ property({
        type: cc.ScrollView,
        tooltip: false
      }) ], NtScrollView.prototype, "scrollView", void 0);
      __decorate([ property({
        tooltip: false
      }) ], NtScrollView.prototype, "cancelInnerEvents", void 0);
      NtScrollView = __decorate([ ccclass, menu("Script/Extend/NtScrollView") ], NtScrollView);
      return NtScrollView;
    }(cc.ViewGroup);
    exports.default = NtScrollView;
    cc._RF.pop();
  }, {} ],
  OFCConfigs: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c558bB2aulGmom/mfqWArqn", "OFCConfigs");
    "use strict";
    var configs = null;
    (function() {
      configs = Object.create(K);
      configs.PomeloAPI = {
        joinChannel: "connector.ofcHandler.ofcJoinChannel",
        autoSit: "connector.ofcHandler.ofcAutoSit",
        sitHere: "connector.ofcHandler.ofcSit",
        makeMove: "connector.ofcHandler.ofcMakeMove",
        leaveTable: "connector.ofcHandler.ofcLeaveTable",
        addChips: "connector.ofcHandler.ofcAddPointsOnTable",
        joinWaitingList: "connector.ofcHandler.ofcJoinWaitingList",
        connectionAck: "connector.entryHandler.isConnected",
        registerTournament: "connector.entryHandler.registerTournament",
        deRegisterTournament: "connector.entryHandler.deRegisterTournament",
        checkRegistration: "connector.entryHandler.isRegisteredUserInTournament",
        reportIssue: "connector.entryHandler.reportIssue",
        chatRequest: "connector.entryHandler.chat",
        getProfile: "connector.entryHandler.getProfile",
        sitOutNextHand: "connector.entryHandler.sitoutNextHand",
        sitOutNextBigBlind: "connector.entryHandler.sitoutNextBigBlind",
        resume: "connector.entryHandler.resume",
        setAutoBuyIn: "connector.entryHandler.setAutoBuyIn",
        getTableStructure: "connector.entryHandler.getTableStructure",
        getUsers: "connector.entryHandler.getRegisteredTournamentUsers",
        resetSitout: "connector.entryHandler.resetSitout",
        joinSimilar: "connector.entryHandler.joinSimilarTable",
        getBlindAndPrize: "connector.entryHandler.getBlindAndPrize",
        setFavTable: "connector.entryHandler.addFavourateTable",
        removeFavTable: "connector.entryHandler.removeFavourateTable",
        quickSeatCash: "connector.entryHandler.quickSeat",
        getPrizes: "connector.entryHandler.getPlayerPrize",
        collectPrize: "connector.entryHandler.collectPrize",
        getTableData: "connector.entryHandler.getTable",
        createNote: "connector.entryHandler.createNotes",
        getNote: "connector.entryHandler.getNotes",
        updateNote: "connector.entryHandler.updateNotes",
        getBlindPrizeTournament: "connector.entryHandler.getBlindAndPrizeForNormalTournament",
        setPlayerValOnTable: "connector.entryHandler.setPlayerValueOnTable",
        getFilters: "connector.entryHandler.getFilters",
        quickSeatTournament: "connector.entryHandler.quickSeatInTournament",
        quickSeatSitNGo: "connector.entryHandler.quickSeatInSitNGo",
        getHandTab: "connector.entryHandler.getHandTab",
        getHandHistory: "connector.entryHandler.getHandHistory",
        lateRegistration: "connector.entryHandler.lateRegistration"
      };
    })();
    module.exports = configs;
    cc._RF.pop();
  }, {} ],
  OFCModel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "edc92SFHSBAcpXDO6a54vBv", "OFCModel");
    "use strict";
    var PokerModel = require("PokerModel").PokerModel;
    cc.Class({
      extends: PokerModel,
      properties: {},
      onLoad: function onLoad() {
        this._super();
        this.K = require("OFCConfigs");
        this.moveData = require("OFCPostTypes").MoveData;
        this.sitData = require("OFCPostTypes").SitData;
        this.player = require("OFCResponseTypes").Player;
      },
      registerBroadcasts: function registerBroadcasts() {
        this._super();
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.ofcFirstRoundCards, this.onOfcFirstRoundCards.bind(this));
      },
      makeMove: function makeMove() {
        var data = new this.moveData(this.gameData.channelId, this.gameData.playerId, this.gameData.playerName, this.getMyPlayer().cards, this.getMyPlayer().discardedCards);
        ServerCom.pomeloRequest(this.K.PomeloAPI.makeMove, data, function(response) {
          response.success;
        }, null, 5e3, false);
      },
      onMoveMade: function onMoveMade(data) {
        this.gameData.tableDetails.currentMoveIndex = "" === data.currentMoveIndex ? -1 : data.currentMoveIndex;
        var index = this.getPlayerById(data.playerId);
        this.gameData.tableDetails.players[index].cards = data.cards;
        this.gameData.tableDetails.players[index].royalities = data.royalities;
        this.gameData.tableDetails.players[index].roundName = data.roundName;
        -1 != this.gameData.tableDetails.currentMoveIndex ? this.startTimerTick(this.gameData.tableDetails.turnTime) : this.clearTimerTick();
        this.emit(this.K.PokerEvents.OnTurn, data, index);
      },
      onGameStart: function onGameStart(data) {
        this.gameData.tableDetails.dealerIndex = data.dealerIndex;
        this.gameData.tableDetails.currentMoveIndex = data.currentMoveIndex;
        this.gameData.tableDetails.state = data.state;
        this.gameData.tableDetails.roundName = data.roundName;
        this.startTimerTick(this.gameData.tableDetails.turnTime);
        this.onGameStateChange();
        this.emit(this.K.PokerEvents.OnStartGame, data);
      },
      onPlayerCards: function onPlayerCards(data) {
        var index = this.getPlayerById(data.playerId);
        var cardType = [];
        data.cards.forEach(function(cardData) {
          cardType.push(this.getCardByData(cardData));
        }, this);
        this.gameData.tableDetails.players[index].currentCards = data.cards;
        this.emit(K.PokerEvents.OnPlayerCard, cardType, this.gameData.tableDetails.players[index].seatIndex);
      },
      onGameOver: function onGameOver(data) {
        var index = [];
        data.winners.forEach(function(element) {
          var playerIndex = this.getPlayerById(element.playerId);
          this.gameData.tableDetails.players[playerIndex].points = element.points;
          this.gameData.tableDetails.players[playerIndex].winningPoints = element.winningPoints;
          this.gameData.tableDetails.players[playerIndex].pointDetails = element.pointDetails;
          data.endingType === K.GameEndType.GameCompleted && index.push(this.gameData.tableDetails.players[playerIndex].seatIndex);
        }, this);
        this.gameData.tableDetails.state = K.GameState.GameOver;
        this.onGameStateChange();
        this.clearTimerTick();
        this.emit(K.PokerEvents.onTurnInOtherRoom, this, false);
        this.emit(K.PokerEvents.OnGameOver, data, index);
      },
      generateHoleCards: function generateHoleCards() {},
      onDealerChat: function onDealerChat() {},
      onGameStateChange: function onGameStateChange() {
        this.emit(K.PokerEvents.onGameStateChange, this.gameData.tableDetails.state);
      },
      clearTotalRoundBet: function clearTotalRoundBet() {},
      onOfcFirstRoundCards: function onOfcFirstRoundCards(data) {
        var index = this.getPlayerById(data.playerId);
        var cardType = [];
        data.cards.forEach(function(cardData) {
          cardType.push(this.getCardByData(cardData));
        }, this);
        this.gameData.tableDetails.players[index].currentCards = data.cards;
        this.emit(K.PokerEvents.onOfcFirstRoundCards, data.cards, cardType, data.playerId);
      }
    });
    cc._RF.pop();
  }, {
    OFCConfigs: "OFCConfigs",
    OFCPostTypes: "OFCPostTypes",
    OFCResponseTypes: "OFCResponseTypes",
    PokerModel: "PokerModel"
  } ],
  OFCPlayerPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "da5f1L1sd9Oy61hsCZtsm6Z", "OFCPlayerPresenter");
    "use strict";
    var PlayerPresenter = require("PlayerPresenter");
    var K = require("OFCConfigs");
    cc.Class({
      extends: PlayerPresenter,
      properties: {
        topPointsLbl: {
          default: null,
          type: cc.Label
        },
        bottomPointsLbl: {
          default: null,
          type: cc.Label
        },
        middlePointsLbl: {
          default: null,
          type: cc.Label
        },
        winPointsLbl: {
          default: null,
          type: cc.Label
        },
        foul: {
          default: null,
          type: cc.Node
        },
        pineapple: {
          default: null,
          type: cc.Node
        }
      },
      enablePlayerView: function enablePlayerView(selfPlayerId) {
        this.resetSeat();
        this.amountLabel.string = Math.floor(this.playerData.points);
        this.nameLabel.string = this.playerData.playerName;
        this.sitHerePanel.active = false;
        this.occupiedPanel.active = true;
        this.onStateChange();
        this.seatState = K.SeatState.Occupied;
        var self = selfPlayerId === this.playerData.playerId;
        this.setSelfPlayerView(self);
        this.resetLblColor();
        this.displayNote(this.playerData.playerId);
        !this.playerData.cards || !this.playerData.cards.top || this.displayMove(this.playerData.cards);
      },
      setSelfPlayerView: function setSelfPlayerView(self) {
        this._super(self);
        self && this.initDropzone();
      },
      initDropzone: function initDropzone() {
        for (var i = 0; i < this.cardHolder.children.length; i++) for (var j = 0; j < this.cardHolder.children[i].children.length; j++) this.pokerPresenter.dragManager.addDropZone(this.cardHolder.children[i].children[j]);
      },
      gameOver: function gameOver(data) {
        this.resetTimer();
        this.amountLabel.string = data.points;
        this.topPointsLbl.node.parent.parent.active = true;
        this.topPointsLbl.node.parent.active = true;
        this.middlePointsLbl.node.parent.active = true;
        this.bottomPointsLbl.node.parent.active = true;
        this.topPointsLbl.string = data.pointDetails.top;
        this.middlePointsLbl.string = data.pointDetails.middle;
        this.bottomPointsLbl.string = data.pointDetails.bottom;
        this.winPointsLbl.node.parent.active = true;
        this.winPointsLbl.string = data.winningPoints;
        data.isFoul && (this.foul.active = true);
      },
      resetPlayerView: function resetPlayerView() {
        this.topPointsLbl.node.parent.parent.active = false;
        this.winPointsLbl.node.parent.active = false;
        this.foul.active = false;
        this.clearPlayerCards();
        this.checkForFantasyLand();
      },
      displayMove: function displayMove(cards) {
        this.clearPlayerCards();
        setTimeout(function() {
          for (var i = 0; i < cards.top.length; i++) this.generateCard(cards.top[i], 0, i);
          for (var i = 0; i < cards.middle.length; i++) this.generateCard(cards.middle[i], 1, i);
          for (var i = 0; i < cards.bottom.length; i++) this.generateCard(cards.bottom[i], 2, i);
        }.bind(this), 500);
        this.resetTimer();
      },
      displayRoyalities: function displayRoyalities(royalities) {
        if (null != royalities.top && void 0 != royalities.top && royalities.top > -1) {
          this.topPointsLbl.node.parent.parent.active = true;
          this.topPointsLbl.node.parent.active = true;
          this.topPointsLbl.string = royalities.top;
        } else this.topPointsLbl.node.parent.active = false;
        if (null != royalities.middle && void 0 != royalities.middle && royalities.middle > -1) {
          this.middlePointsLbl.node.parent.parent.active = true;
          this.middlePointsLbl.node.parent.active = true;
          this.middlePointsLbl.string = royalities.middle;
        } else this.middlePointsLbl.node.parent.active = false;
        if (null != royalities.bottom && void 0 != royalities.bottom && royalities.bottom > -1) {
          this.bottomPointsLbl.node.parent.parent.active = true;
          this.bottomPointsLbl.node.parent.active = true;
          this.bottomPointsLbl.string = royalities.bottom;
        } else this.bottomPointsLbl.node.parent.active = false;
      },
      generateCard: function generateCard(cardData, row, i) {
        if (!!cardData) {
          var instance = CardPool.generateCard(this.pokerPresenter.cardPrefab.name, function() {});
          var cardComponent = instance.getComponent("Card");
          cardData = this.pokerPresenter.model.getCardByData(cardData);
          instance.getComponent("CardMovement").enableDragging = false;
          instance.getComponent("CardMovement").dragManager = this.pokerPresenter.dragManager;
          cardComponent.init(cardData);
          cardComponent.reveal(true);
          this.cardHolder.children[row].children[i].addChild(instance);
          instance.position = new cc.Vec2(0, 0);
          instance.getComponent("Card").setOriginalPosition(instance.position);
        }
      },
      onTurn: function onTurn(turnDisplayTime) {
        this.pokerPresenter.model.off(K.PokerEvents.onTimerTick);
        this.pokerPresenter.model.on(K.PokerEvents.onTimerTick, function(time) {
          this.timerSprite.fillRange = time;
          this.timerSprite.node.color = cc.Color.RED.lerp(cc.Color.GREEN, time);
        }.bind(this));
        this.amountLabel.string = Math.floor(this.playerData.points);
        this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && this.setPlayerColor();
      },
      addPlayerCards: function addPlayerCards(card) {},
      revealCards: function revealCards() {},
      resetCards: function resetCards(flag) {},
      clearPlayerCards: function clearPlayerCards() {
        for (var i = 0; i < this.cardHolder.children.length; i++) for (var j = 0; j < this.cardHolder.children[i].children.length; j++) this.cardHolder.children[i].children[j].children.length > 1 && this.cardHolder.children[i].children[j].children.forEach(function(element) {
          "BASE" != element.name.toUpperCase() && CardPool.destroyCard(element, function() {});
        }, this);
      },
      showPoints: function showPoints() {},
      onMouse_Enter: function onMouse_Enter() {},
      registerHoverEvents: function registerHoverEvents() {},
      activatePlayerBet: function activatePlayerBet() {},
      setBetPosition: function setBetPosition() {},
      enableWaitingView: function enableWaitingView() {
        this._super();
        this.cardHolder.active = false;
      },
      enablePlayingView: function enablePlayingView() {
        this._super();
        this.cardHolder.active = true;
      },
      enableReservedView: function enableReservedView() {
        this._super();
        this.cardHolder.active = false;
      },
      checkForFantasyLand: function checkForFantasyLand() {}
    });
    cc._RF.pop();
  }, {
    OFCConfigs: "OFCConfigs",
    PlayerPresenter: "PlayerPresenter"
  } ],
  OFCPostTypes: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "647c2VH7apFGbKJ9N1P/MTo", "OFCPostTypes");
    "use strict";
    var login = require("PostTypes").Login;
    function sitData(channelId, playerId, points, seatIndex, playerName, imageAvtar, isAutoReBuy) {
      this.channelId = channelId;
      this.playerId = playerId;
      this.points = points;
      this.seatIndex = seatIndex;
      this.playerName = playerName;
      this.imageAvtar = "";
      this.isRequested = true;
      this.isAutoReBuy = isAutoReBuy;
      this.networkIp = login.ipV4Address;
    }
    function moveData(channelId, playerId, playerName, cards, discarded) {
      this.channelId = channelId;
      this.playerId = playerId;
      this.playerName = playerName;
      this.cards = cards;
      this.discarded = discarded;
      this.isRequested = true;
    }
    module.exports = {
      SitData: sitData,
      MoveData: moveData
    };
    cc._RF.pop();
  }, {
    PostTypes: "PostTypes"
  } ],
  OFCPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ca767Dex1BG1pbbAsK7vigO", "OFCPresenter");
    "use strict";
    var OFCModelType = require("OFCModel");
    var PokerPresenter = require("PokerPresenter");
    var K = require("OFCConfigs");
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: PokerPresenter,
      properties: {
        model: {
          default: null,
          type: OFCModelType,
          override: true
        },
        threePlayerView: {
          default: null,
          type: cc.Prefab
        },
        ofcCardHolder: {
          default: null,
          type: cc.Node
        },
        ofcCardPrefab: {
          default: null,
          type: cc.Prefab
        },
        submitBtn: {
          default: null,
          type: cc.Node
        },
        ofcDiscardedCardHolder: {
          default: null,
          type: cc.Node
        },
        onCardDragStopRef: null,
        dragManager: null
      },
      setTiledView: function setTiledView(flag) {
        this.highlightBg.node.active = !!flag && this.highLightCheckbox.getSelection();
        this.unTiledView.active = !flag;
        this.tiledView.active = flag;
        this.unTiledView.active = false;
        this.tiledView.getChildByName("TopLeft").getChildByName("AddChipsButton").active = false;
        this.tiledView.getChildByName("TopLeft").getChildByName("StandUpButton").active = false;
      },
      manageBtns: function manageBtns(val) {
        this.sitOutNextHandCheckBox.node.parent.active = val;
        this.tiledView.getChildByName("TopLeft").getChildByName("StandUpButton").active = false;
      },
      loadSeats: function loadSeats() {
        switch (this.model.roomConfig.maxPlayers) {
         case 2:
          this.instantiateSeats(1, 2, cc.instantiate(this.twoPlayerView), this.twoPlayerView, "OFCPlayerPresenter");
          break;

         case 3:
         default:
          this.instantiateSeats(2, 3, cc.instantiate(this.threePlayerView), this.threePlayerView, "OFCPlayerPresenter");
        }
      },
      resetGame: function resetGame() {
        this.popUpManager.hide(PopUpType.PlayerInfoPopup, function() {});
        this.clearHoleCards();
        this.clearDiscardedCards();
        this.initDropzones();
        this.playerHand.forEach(function(element) {
          element.resetPlayerView();
        }, this);
      },
      allocateSeat: function allocateSeat() {
        this._super();
        this.model.gameData.tableDetails.state !== K.GameState.Running && (this.submitBtn.active = false);
      },
      onLoad: function onLoad() {
        this.K = require("OFCConfigs");
        this.dragManager = this.getComponent("DragManager");
        this.initDropzones();
        this.model.on(K.PokerEvents.OnJoin, this.onJoinSuccess.bind(this));
        this.model.on(K.PokerEvents.OnSit, this.sitSuccess.bind(this));
        this.model.on(K.PokerEvents.OnPlayerStateChange, this.playerStateChange.bind(this));
        this.model.on(K.PokerEvents.OnGamePlayers, this.resetGame.bind(this));
        this.model.on(K.PokerEvents.OnDealerChat, this.dealerChat.bind(this));
        this.model.on(K.PokerEvents.OnStartGame, this.startGame.bind(this));
        this.model.on(K.PokerEvents.OnTurn, this.nextTurn.bind(this));
        this.model.on(K.PokerEvents.OnGameOver, this.gameOver.bind(this));
        this.model.on(K.PokerEvents.OnLeave, this.playerLeft.bind(this));
        this.model.on(K.PokerEvents.OnChat, this.chat.bind(this));
        this.model.on(K.PokerEvents.OnPlayerCard, this.playerCards.bind(this));
        this.model.on(K.PokerEvents.onRotateView, this.rotateView.bind(this));
        this.model.on(K.PokerEvents.onPlayerNotes, this.onPlayerNotes.bind(this));
        this.model.on(K.PokerEvents.onPlayerCoins, this.onPlayerCoins.bind(this));
        this.model.on(K.PokerEvents.onGameStateChange, this.onGameStateChange.bind(this));
        this.model.on(K.PokerEvents.onOfcFirstRoundCards, this.onOfcFirstRoundCards.bind(this));
        this.model.on(K.PokerEvents.OnBankrupt, function(data) {
          this.onAddChips(this.model.roomConfig.minBuyIn);
        }.bind(this));
        this.sitOutNextHandCheckBox.registerCallback(this.onSitOutNextHand.bind(this));
        this.tempOnLoad();
        this.chatSubmitBtn = GameScreen.chatBtn;
        this.onCardDragStopRef = this.onCardDragStop.bind(this);
        this.dragManager.on("onCardDragStop", this.onCardDragStopRef);
      },
      onCardDragStop: function onCardDragStop(dropZone, dragElement) {
        var myPlayer = this.getMyPlayer();
        var cardHolder = this.playerHand[this.getRotatedSeatIndex(myPlayer.seatIndex)].cardHolder;
        if (null == dropZone) {
          dragElement.getComponent("Card").returnToOriginalPosition();
          return;
        }
        if (dropZone.parent.parent != cardHolder || dragElement.parent.parent != dropZone.parent) {
          if (!dropZone.getComponentInChildren("Card")) {
            if (dropZone.parent.parent == cardHolder) for (var i = 0; i < dropZone.parent.children.length; i++) {
              var element = dropZone.parent.children[i];
              var temp1 = element.getComponentInChildren("Card");
              !temp1 || (temp1.getComponent("CardMovement").enableDragging = false);
            }
            if (dropZone.parent.parent != cardHolder || dragElement.parent.parent != dropZone.parent) for (var i = 0; i < dragElement.parent.parent.children.length; i++) {
              var element = dragElement.parent.parent.children[i];
              var temp1 = element.getComponentInChildren("Card");
              if (!temp1) {
                i > 1 && (dragElement.parent.parent.children[i - 2].getComponentInChildren("CardMovement").enableDragging = true);
                break;
              }
              i == dragElement.parent.parent.children.length - 1 && (dragElement.parent.parent.children[i - 1].getComponentInChildren("CardMovement").enableDragging = true);
            }
            if (dropZone.parent.parent == cardHolder) for (var i = 0; i < dropZone.parent.children.length; i++) {
              var element = dropZone.parent.children[i];
              if (!element.getComponentInChildren("Card")) {
                dropZone = element;
                break;
              }
            }
            dragElement.parent = dropZone;
            dragElement.position = new cc.Vec2(0, 0);
            dragElement.width = dragElement.parent.getChildByName("base").width;
            dragElement.height = dragElement.parent.getChildByName("base").height;
            dragElement.getComponent("Card").setOriginalPosition(dragElement.position);
          } else dragElement.getComponent("Card").returnToOriginalPosition();
          var count = 0;
          var card = null;
          for (var i = 0; i < this.ofcCardHolder.children.length; i++) {
            var temp = this.ofcCardHolder.children[i].getComponentInChildren("Card");
            if (!!temp) {
              count++;
              temp.getComponent("CardMovement").enableDragging = true;
              card = temp;
            }
          }
          var roundName = this.getMyPlayer().roundName || "ONE";
          if (!card || "ONE" == roundName) this.activateSubmitBtn(0 == count); else {
            this.activateSubmitBtn(1 == count);
            1 == count && (card.getComponent("CardMovement").enableDragging = false);
          }
        } else dragElement.getComponent("Card").returnToOriginalPosition();
      },
      initDropzones: function initDropzones() {
        this.dragManager.dropZones = [];
        for (var i = 0; i < this.ofcCardHolder.children.length; i++) this.dragManager.addDropZone(this.ofcCardHolder.children[i]);
      },
      onDestroy: function onDestroy() {
        this.model.removeAllListeners();
      },
      handleSitOutBtns: function handleSitOutBtns(val) {
        this.resumeBtn.active = !val;
        this.sitOutNextHandCheckBox.setSelection(!val);
        this.sitOutNextHandCheckBox.node.parent.active = val && this.model.gameData.channelType == K.ChannelType.Normal && !this.model.isPlayerStandUp();
      },
      handleSitoutResponse: function handleSitoutResponse(response) {
        response.success ? this.sitOutNextHandCheckBox.setSelection(true) : this.sitOutNextHandCheckBox.setSelection(false);
      },
      startGame: function startGame(data) {
        var players = this.model.gameData.tableDetails.players;
        for (var index = 0; index < players.length; index++) {
          var presenter = this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)];
          presenter.enablePlayerView(this.model.gameData.playerId);
        }
        this.playerHand[this.getRotatedSeatIndex(data.dealerIndex)].setDealer(true);
        this.enableCurrentPlayerTurn(true);
      },
      nextTurn: function nextTurn(data, previousIndex) {
        var previousIndex = this.model.gameData.tableDetails.players[previousIndex].seatIndex;
        this.getMyPlayer() && previousIndex == this.getMyPlayer().seatIndex && data.isRequested ? this.playerHand[this.getRotatedSeatIndex(previousIndex)].resetTimer() : this.playerHand[this.getRotatedSeatIndex(previousIndex)].displayMove(data.cards);
        !data.royalities || this.playerHand[this.getRotatedSeatIndex(previousIndex)].displayRoyalities(data.royalities);
        this.enableCurrentPlayerTurn();
      },
      enableCurrentPlayerTurn: function enableCurrentPlayerTurn(firstTurn) {
        void 0 === firstTurn && (firstTurn = false);
        this.activateSubmitBtn(false);
        var currentIdx = this.model.gameData.tableDetails.currentMoveIndex;
        if ("" === currentIdx) return;
        if (-1 !== currentIdx) {
          var playerPresenter = this.playerHand[this.getRotatedSeatIndex(currentIdx)];
          playerPresenter.onTurn(this.model.gameData.tableDetails.turnTime);
          firstTurn || this.model.gameData.tableDetails.players[this.model.getPlayerBySeat(currentIdx)].roundName == K.RoundNames.one || this.generateTableCards();
        }
      },
      activateSubmitBtn: function activateSubmitBtn(flag) {
        this.submitBtn.active = flag;
      },
      gameOver: function gameOver(data, playerIndex) {
        var log = "";
        var players = this.model.gameData.tableDetails.players;
        for (var i = 0; i < data.winners.length; i++) {
          var index = this.model.getPlayerById(data.winners[i].playerId);
          log = log + "Winner: " + players[index].playerName + "   Points: " + data.winners[i].points + "   WinPoints: " + data.winners[i].winningPoints + "\n";
          this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)].gameOver(data.winners[i]);
        }
        this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.dealerIndex)].setDealer(false);
      },
      playerCards: function playerCards(data, seatIndex) {},
      onSubmit: function onSubmit() {
        this.activateSubmitBtn(false);
        var myPlayer = this.getMyPlayer();
        var cardHolder = this.playerHand[this.getRotatedSeatIndex(myPlayer.seatIndex)].cardHolder;
        myPlayer.currentCards = [];
        var data = {
          top: [],
          middle: [],
          bottom: []
        };
        for (var i = 0; i < cardHolder.children.length; i++) for (var j = 0; j < cardHolder.children[i].children.length; j++) {
          var card = cardHolder.children[i].children[j].getComponentInChildren("Card");
          if (!!card) {
            data[cardHolder.children[i].name].push(card.cardData);
            card.getComponent("CardMovement").enableDragging = false;
            this.dragManager.removeDropZone(cardHolder.children[i].children[j]);
          }
        }
        for (var i = 0; i < this.ofcCardHolder.children.length; i++) {
          var card = this.ofcCardHolder.children[i].getComponentInChildren("Card");
          if (!!card) {
            card.getComponent("CardMovement").enableDragging = false;
            myPlayer.discardedCards.push(card.cardData);
            var roundName = this.getMyPlayer().roundName || "ONE";
            if ("ONE" != roundName) {
              card.node.parent = this.ofcDiscardedCardHolder.children[K.RoundToCards[roundName] - 1];
              card.node.position = new cc.Vec2(0, 0);
            }
          }
        }
        myPlayer.cards = data;
        this.model.makeMove();
      },
      displayPots: function displayPots() {},
      clearPots: function clearPots() {},
      checkInBetweenBlinds: function checkInBetweenBlinds() {},
      isStraddleAllowed: function isStraddleAllowed() {},
      setPostBigBlind: function setPostBigBlind() {},
      roundOver: function roundOver() {},
      onBestHand: function onBestHand() {},
      placeDummyCards: function placeDummyCards() {},
      onJoinExtras: function onJoinExtras() {
        this.onGameStateChange(this.model.gameData.tableDetails.state);
        this.generateDiscardedCards();
      },
      handleRunItTwice: function handleRunItTwice() {},
      clearHoleCards: function clearHoleCards() {
        for (var i = 0; i < this.ofcCardHolder.children.length; i++) this.ofcCardHolder.children[i].children.length > 1 && this.ofcCardHolder.children[i].children.forEach(function(element) {
          "BASE" != element.name.toUpperCase() && CardPool.destroyCard(element, function() {});
        }, this);
      },
      clearDiscardedCards: function clearDiscardedCards() {
        for (var i = 0; i < this.ofcDiscardedCardHolder.children.length; i++) this.ofcDiscardedCardHolder.children[i].children.length > 1 && this.ofcDiscardedCardHolder.children[i].children.forEach(function(element) {
          "BASE" != element.name.toUpperCase() && CardPool.destroyCard(element, function() {});
        }, this);
      },
      generateTableCards: function generateTableCards() {
        var currentIdx = this.model.gameData.tableDetails.currentMoveIndex;
        var curPlayer = this.model.gameData.tableDetails.players[this.model.getPlayerBySeat(currentIdx)];
        this.clearHoleCards();
        var count = 0;
        if (!this.getMyPlayer() || this.getMyPlayer().playerId != curPlayer.playerId) {
          var maxCards = curPlayer.roundName == K.RoundNames.one ? 5 : 3;
          maxCards = curPlayer.roundName == K.RoundNames.finished ? 0 : maxCards;
          for (var i = 0; i < maxCards; i++) {
            var instance = CardPool.generateCard("Card", function() {});
            var cardComponent = instance.getComponent("Card");
            instance.getComponent("CardMovement").enableDragging = false;
            instance.getComponent("CardMovement").dragManager = this.dragManager;
            cardComponent.reveal(false);
            this.ofcCardHolder.children[i].addChild(instance);
            instance.position = new cc.Vec2(0, 0);
            instance.width = instance.parent.getChildByName("base").width;
            instance.height = instance.parent.getChildByName("base").height;
          }
        } else curPlayer.currentCards.forEach(function(element) {
          var instance = CardPool.generateCard("Card", function() {});
          var cardComponent = instance.getComponent("Card");
          instance.getComponent("CardMovement").enableDragging = true;
          instance.getComponent("CardMovement").dragManager = this.dragManager;
          cardComponent.cardData = element;
          cardComponent.init(this.model.getCardByData(element), this.model);
          cardComponent.reveal(true);
          this.ofcCardHolder.children[count].addChild(instance);
          instance.position = new cc.Vec2(0, 0);
          instance.width = instance.parent.getChildByName("base").width;
          instance.height = instance.parent.getChildByName("base").height;
          instance.getComponent("Card").setOriginalPosition(instance.position);
          count++;
        }, this);
      },
      generateDiscardedCards: function generateDiscardedCards() {
        this.clearDiscardedCards();
        var myPlayer = this.getMyPlayer();
        if (!!myPlayer && myPlayer.discardedCards.length > 0) {
          var count = 0;
          myPlayer.discardedCards.forEach(function(element) {
            var instance = CardPool.generateCard("Card", function() {});
            var cardComponent = instance.getComponent("Card");
            instance.getComponent("CardMovement").enableDragging = false;
            instance.getComponent("CardMovement").dragManager = this.dragManager;
            cardComponent.cardData = element;
            cardComponent.init(this.model.getCardByData(element), this.model);
            cardComponent.reveal(true);
            this.ofcDiscardedCardHolder.children[count].addChild(instance);
            instance.position = new cc.Vec2(0, 0);
            instance.width = instance.parent.getChildByName("base").width;
            instance.height = instance.parent.getChildByName("base").height;
            instance.getComponent("Card").setOriginalPosition(instance.position);
            count++;
          }, this);
        }
      },
      onGameStateChange: function onGameStateChange(state) {
        if (state == K.GameState.Running) {
          this.ofcCardHolder.active = true;
          this.ofcDiscardedCardHolder.active = true;
        } else if (state == K.GameState.Idle) {
          this.ofcCardHolder.active = false;
          this.ofcDiscardedCardHolder.active = false;
        }
      },
      onOfcFirstRoundCards: function onOfcFirstRoundCards(originalCards, data, playerId) {
        if (null === data || 0 === data.length) return;
        this.clearHoleCards();
        var enableDrag = playerId == this.getMyPlayer().playerId;
        var count = 0;
        data.forEach(function(element) {
          var instance = CardPool.generateCard("Card", function() {});
          var cardComponent = instance.getComponent("Card");
          instance.getComponent("CardMovement").enableDragging = enableDrag;
          instance.getComponent("CardMovement").dragManager = this.dragManager;
          cardComponent.cardData = originalCards[count];
          cardComponent.init(element);
          cardComponent.reveal(true);
          this.ofcCardHolder.children[count].addChild(instance);
          instance.position = new cc.Vec2(0, 0);
          instance.width = instance.parent.getChildByName("base").width;
          instance.height = instance.parent.getChildByName("base").height;
          instance.getComponent("Card").setOriginalPosition(instance.position);
          count++;
        }, this);
      }
    });
    cc._RF.pop();
  }, {
    OFCConfigs: "OFCConfigs",
    OFCModel: "OFCModel",
    PokerPresenter: "PokerPresenter",
    PopUpManager: "PopUpManager"
  } ],
  OFCResponseTypes: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3f45eEBRfhH0K3qpI0NLIkW", "OFCResponseTypes");
    "use strict";
    var changeAvatar = require("ResponseTypes").changeAvatar;
    function gameData(data) {
      this.success = data.success;
      this.channelId = data.channelId;
      this.playerId = data.playerId;
      this.playerName = data.playerName;
      this.tableDetails = {};
      this.tableDetails.state = data.tableDetails.state;
      this.tableDetails.turnTime = data.tableDetails.turnTime;
      var array = [];
      data.tableDetails.players.forEach(function(element) {
        var playerData = new player(element);
        array.push(playerData);
        if (this.playerId == playerData.playerId) {
          playerData.currentCards = data.currentCards;
          playerData.discardedCards = data.discardedCard;
        }
      }, this);
      this.tableDetails.remainingMoveTime = data.tableDetails.remainingMoveTime;
      this.tableDetails.players = array;
      this.tableDetails.roundName = data.tableDetails.roundName;
      this.tableDetails.roundCount = data.tableDetails.roundCount;
      this.tableDetails.dealerIndex = data.tableDetails.dealerIndex;
      this.tableDetails.currentMoveIndex = data.tableDetails.currentMoveIndex;
      this.tableDetails.actionName = data.tableDetails.actionName;
    }
    function player(data) {
      this.playerId = data.playerId;
      this.channelId = data.channelId;
      this.playerName = data.playerName;
      this.points = data.points || 0;
      this.seatIndex = data.seatIndex || -1;
      this.imageAvtar = "";
      var profileData = {
        playerId: data.playerId,
        keys: [ "profileImage" ]
      };
      var self = this;
      pomelo.request(K.PomeloAPI.getProfile, profileData, function(data) {
        self.imageAvtar = data.result.profileImage;
        changeAvatar(self.imageAvtar, self);
      }, null, 5e3, false);
      this.currentCards = data.currentCards || [];
      this.discardedCards = data.discardedCard || [];
      this.cards = data.cards || null;
      this.state = data.state || K.PlayerState.Waiting;
      this.sitoutNextHand = data.sitoutNextHand || false;
      this.rowPoints = data.rowPoints;
      this.roundName = data.roundName;
      this.autoSitOut = data.autoSitOut;
      this.royalities = data.royalities;
      this.isTournamentSitout = data.isTournamentSitout;
    }
    player.prototype.reset = function(data) {
      this.points = data.points;
      this.state = data.state;
      this.cards = [];
      this.currentCards = [];
      this.discardedCards = [];
      this.royalities = [];
      this.rowPoints = [];
      this.roundName = "ONE";
    };
    module.exports = {
      Player: player,
      GameData: gameData
    };
    cc._RF.pop();
  }, {
    ResponseTypes: "ResponseTypes"
  } ],
  OnLogOutPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6c392ILr9ZOSZAyN8iURGbD", "OnLogOutPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        head: {
          default: null,
          type: cc.Label
        },
        title: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.soundValue = null;
        null != data && (this.soundValue = data);
        console.log("LEAVE POPUP WITH DATA ", data);
        if (data) {
          this.closeGame = data;
          this.head.string = "Quit";
          this.title.string = "Are you sure you want to quit?";
        } else {
          this.head.string = "Logout";
          this.title.string = "Are you sure you want to logout?";
        }
      },
      onOkBtn: function onOkBtn() {
        null != this.soundValue && false != this.soundValue || GameManager.playSound(K.Sounds.click);
        cc.sys.localStorage.setItem("vpUserName", "");
        cc.sys.localStorage.setItem("vpPassword", "");
        GameManager.popUpManager.hide(PopUpType.NotificationPopup, function() {});
        GameManager.popUpManager.hide(PopUpType.OnLogOutPopup, function() {});
        if (this.closeGame) {
          this.closeGame = false;
          cc.sys.platform == cc.sys.ANDROID ? jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "exitGame", "()V") : cc.game.end();
        } else GameManager.logout();
      },
      onCancelBtn: function onCancelBtn() {
        null != this.soundValue && false != this.soundValue || GameManager.playSound(K.Sounds.click);
        this.closeGame = false;
        GameManager.popUpManager.hide(PopUpType.OnLogOutPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  OptionalPlayerInput: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fd06d24v+pBzraZO46IWOc8", "OptionalPlayerInput");
    "use strict";
    var Checkbox = require("Checkbox");
    var pokerPresenterType = require("PokerPresenter");
    var PreCheckType = cc.Enum({
      CALL: "Call",
      CALL_ANY: "CallAny",
      FOLD: "Fold",
      CHECK: "Check",
      ALLIN: "AllIn",
      CHECK_FOLD: "Check_Fold",
      CALL_ANY_CHECK: "CallAny_Check",
      NONE: "NONE"
    });
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerPresenter: {
          default: null,
          type: pokerPresenterType
        },
        set1: {
          default: [],
          type: cc.Node
        },
        set2: {
          default: [],
          type: cc.Node
        },
        set3: {
          default: [],
          type: cc.Node
        },
        callLbl: {
          default: null,
          type: cc.Label
        },
        callBBLbl: {
          default: null,
          type: cc.Label
        },
        optionGrid: {
          default: [],
          type: cc.Node
        },
        selectedValue: null,
        isSelected: false
      },
      onLoad: function onLoad() {
        this.callVal = 0;
        this.optionGrid = [ this.set1, this.set2, this.set3 ];
        this.enableTempPlayerInput(false, 0);
        this.selectedValue = null;
        this.pokerPresenterInstance = this.node.parent.getChildByName("PokerPresenter").getComponent("PokerPresenter");
        this.requestMappings = {};
        GameManager.on("switchBB", this.switchBBNow.bind(this));
      },
      enableTempPlayerInput: function enableTempPlayerInput(enable, set, callVal, selectedPreCheckValue, calledFromResponse) {
        void 0 === callVal && (callVal = -1);
        this.pokerPresenterInstance = this.node.parent.getChildByName("PokerPresenter").getComponent("PokerPresenter");
        if (this.pokerPresenterInstance && this.pokerPresenterInstance.model && this.pokerPresenterInstance.model.roomConfig && this.pokerPresenterInstance.model.roomConfig.isAllInAndFold) return;
        if (this.pokerPresenterInstance && !!calledFromResponse) {
          var playerPresenter = this.pokerPresenterInstance.getMyPlayer();
          if (!!playerPresenter) {
            if (this.pokerPresenterInstance.model.gameData.tableDetails.currentMoveIndex == playerPresenter.seatIndex || this.pokerPresenterInstance.model.gameData.tableDetails.state == K.GameState.GameOver) {
              for (var k = 0; k < this.optionGrid.length; k++) for (var l = 0; l < this.optionGrid[k].length; l++) {
                this.optionGrid[k][l].active = false;
                this.optionGrid[k][l].getChildByName("Checkbox").getComponent(Checkbox).setSelection(false);
              }
              this.selectedValue = null;
              return;
            }
            var errorOverlapFlag = false;
            for (var _k = 0; _k < this.optionGrid.length; _k++) for (var l = 0; l < this.optionGrid[_k].length; l++) this.optionGrid[_k][l].active && (errorOverlapFlag = true);
            errorOverlapFlag;
          }
        }
        set = enable ? set : 0;
        for (var i = 0; i < this.optionGrid.length; i++) this.enableSet(i, set - 1 == i, callVal, selectedPreCheckValue);
      },
      enableSet: function enableSet(index, active, callVal, selectedPreCheckValue) {
        this.callVal = 0;
        for (var i = 0; i < this.optionGrid[index].length; i++) {
          this.optionGrid[index][i].active = active;
          this.optionGrid[index][i].getChildByName("Checkbox").getComponent(Checkbox).setSelection(false);
          if ("Call" == this.optionGrid[index][i].name && callVal > 0) if (callVal > 0) {
            this.callVal = callVal;
            this.optionGrid[index][i].getChildByName("Label").getComponent(cc.Label).string = LocalizedManager.t("TXT_CALL") + " " + Math.floor(callVal);
            this.optionGrid[index][i].getChildByName("Label").getComponent(cc.Label).__string = Math.floor(callVal);
          } else this.optionGrid[index][i].getChildByName("Label").getComponent(cc.Label).string = LocalizedManager.t("TXT_CALL");
          this.optionGrid[index][i].name == selectedPreCheckValue && this.optionGrid[index][i].getChildByName("Checkbox").getComponent(Checkbox).onClick();
        }
        this.updateBB();
      },
      tempTestFunction: function tempTestFunction(callVal) {
        console.log(">>>>>> tempTestFunction");
        console.log("callVal", callVal);
        this.callLbl.string = 0 == callVal || "0" == callVal || "-0" == callVal ? LocalizedManager.t("TXT_CALL") : LocalizedManager.t("TXT_CALL") + " " + Math.floor(callVal);
      },
      saveMoveFor: function saveMoveFor(data) {
        if (this.pokerPresenterInstance) {
          this.pokerPresenterInstance.playAudio(K.Sounds.click);
          var playerPresenter = this.pokerPresenterInstance.getMyPlayer();
          if (this.pokerPresenterInstance.model.gameData.tableDetails.currentMoveIndex == playerPresenter.seatIndex) {
            var _i = data.currentTarget.parent.getSiblingIndex();
            var _j = data.currentTarget.getSiblingIndex();
            this.optionGrid[_i][_j].getChildByName("Checkbox").getComponent(Checkbox).setSelection(false);
            return;
          }
        }
        var i = data.currentTarget.parent.getSiblingIndex();
        var j = data.currentTarget.getSiblingIndex();
        var isSelected = this.optionGrid[i][j].getChildByName("Checkbox").getComponent(Checkbox).getSelection();
        this.optionGrid[i][j].getChildByName("Checkbox").getComponent(Checkbox).onClick();
        var selectedValue = isSelected ? this.optionGrid[i][j].name : null;
        var set = i + 1;
        var callValue = -1;
        if ("Call" == this.optionGrid[i][j].name) {
          var tmp = this.optionGrid[i][j].getChildByName("Label").getComponent(cc.Label).string;
          callValue = tmp.match(/\d+/g);
          callValue = callValue.length > 1 ? Number(callValue[0] + "." + callValue[1]) : Number(callValue[0]);
        }
        this.togglePreCheckOnServer(selectedValue, set, callValue);
      },
      togglePreCheckOnServer: function togglePreCheckOnServer(precheck, set, callVal) {
        void 0 === callVal && (callVal = -1);
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.channelId = this.node.parent.getComponent("PokerModel").gameData.channelId;
        data.precheckValue = null == precheck ? "NONE" : precheck;
        data.set = set;
        data.isRequested = true;
        data.callPCAmount = callVal;
        this.selectedValue = null;
        var requestId = this.makeId();
        this.requestMappings[requestId] = this.pokerPresenterInstance.preCheckCounter;
        console.log("pre check reaquest", data);
        this.pokerPresenterInstance.isTournament() ? ServerCom.socketIORequest(K.SocketIOAPI.Game.TournamentPreAction, data, function(response) {
          if (response.success) {
            console.log("linkin park response of PRECHECK ACKNOWLEGED n culprit", data);
            if (this.requestMappings[requestId] < this.pokerPresenterInstance.preCheckCounter) console.log("AVOIDED NEW FAILURE CASE"); else {
              this.selectedValue = "NONE" == data.precheckValue ? null : data.precheckValue;
              this.enableTempPlayerInput(true, data.set, data.callPCAmount, data.precheckValue, true);
            }
          } else console.error("PRECHECK FUCKED UP");
        }.bind(this), null, 5e3, false) : ServerCom.pomeloRequest(K.PomeloAPI.updatePreCheckOnServer, data, function(data) {
          if (data.success) {
            console.log("linkin park response of PRECHECK ACKNOWLEGED n culprit", data);
            if (this.requestMappings[requestId] < this.pokerPresenterInstance.preCheckCounter) console.log("AVOIDED NEW FAILURE CASE"); else {
              this.selectedValue = "NONE" == data.precheckValue ? null : data.precheckValue;
              this.enableTempPlayerInput(true, data.set, data.callPCAmount, data.precheckValue, true);
            }
          } else console.error("PRECHECK FUCKED UP");
        }.bind(this), null, 5e3, false);
      },
      resetAll: function resetAll() {},
      makeId: function makeId() {
        var text = "";
        var possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
        for (var i = 0; i < 20; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));
        return text;
      },
      updateBB: function updateBB() {
        if (!this.pokerPresenter || !this.pokerPresenter.model || !this.pokerPresenter.model.gameData) return;
        this.callBBLbl.string = LocalizedManager.t("TXT_CALL") + " " + (Number(this.callLbl.__string) / this.pokerPresenter.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        if (GameManager.isBB && GameManager.user.settings.stackInBB) {
          this.callLbl.node.active = false;
          this.callBBLbl.node.active = true;
        } else {
          this.callLbl.node.active = true;
          this.callBBLbl.node.active = false;
        }
      },
      switchBBNow: function switchBBNow() {
        this.updateBB();
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PokerPresenter: "PokerPresenter"
  } ],
  PlatformAdapterUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c4be0OqdcpMPp9bSrj/WcEx", "PlatformAdapterUtil");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        enableForBrowser: {
          default: false
        }
      },
      onLoad: function onLoad() {
        this.enableForWeb && (cc.sys.isBrowser || (this.node.active = false));
      }
    });
    cc._RF.pop();
  }, {} ],
  PlayerAccountPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1d389669wJM66J0lGqIkyrR", "PlayerAccountPopup");
    "use strict";
    var CheckboxType = require("Checkbox");
    var PopUpBase = require("PopUpBase");
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        availBalLbl: {
          default: null,
          type: cc.Label
        },
        stars: {
          default: [],
          type: [ cc.Node ]
        },
        vipCoinsLbl: {
          default: null,
          type: cc.Label
        },
        playerImg: {
          default: null,
          type: cc.Sprite
        },
        playerNameLbl: {
          default: null,
          type: cc.Label
        },
        passwordLbl: {
          default: null,
          type: cc.Label
        },
        currentPasswordLbl: {
          default: null,
          type: cc.Label
        },
        newPasswordLbl: {
          default: null,
          type: cc.Label
        },
        passwordStrength: {
          default: [],
          type: [ cc.Node ]
        },
        confirmPasswordLbl: {
          default: null,
          type: cc.Label
        },
        showCharacter: {
          default: null,
          type: CheckboxType
        },
        emailLbl: {
          default: null,
          type: cc.Label
        },
        phoneLbl: {
          default: null,
          type: cc.Label
        },
        addressLbl: {
          default: null,
          type: cc.Label
        },
        dobLbl: {
          default: null,
          type: cc.Label
        },
        editBoxOpened: {
          default: false
        },
        gameHistroyGrid: {
          default: null,
          type: cc.Node
        },
        editBoxOpenedType: {
          default: -1
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.playerNameLbl.string = GameManager.user.firstName;
        this.playerImg.spriteFrame = GameManager.user.urlImg;
        if (null !== data) {
          this.availBalLbl.string = data.availBalance.toString();
          this.vipCoinsLbl.string = data.vipCoins.toString();
          this.playerNameLbl.string = data.playerName;
          this.passwordLbl.string = data.password;
          this.currentPasswordLbl.string = "";
          this.newPasswordLbl.string = "";
          this.confirmPasswordLbl.string = "";
          this.emailLbl.string = data.email;
          this.phone.string = data.phoneNumber;
          this.addressLbl.string = data.address;
          this.dobLbl.string = data.dob.toString();
          for (var i = 0; i < element.length; i++) this.stars[i].active = i < data.stars;
          GameManager.off("image-loaded", this.imageLoaded.bind(this));
          GameManager.on("image-loaded", this.imageLoaded.bind(this));
        }
      },
      imageLoaded: function imageLoaded(user) {
        GameManager.user.playerId === user.playerId && (this.playerImg.spriteFrame = user.urlImg);
      },
      onEditName: function onEditName() {
        this.editBoxOpenedType = 0;
      },
      onEditPassword: function onEditPassword() {
        this.editBoxOpenedType = 1;
      },
      onEditEmail: function onEditEmail() {
        this.editBoxOpenedType = 2;
      },
      onEditPhone: function onEditPhone() {
        this.editBoxOpenedType = 3;
      },
      onEditAddress: function onEditAddress() {
        this.editBoxOpenedType = 4;
      },
      onEditDOB: function onEditDOB() {
        this.editBoxOpenedType = 5;
      },
      onApply: function onApply() {
        this.editBoxOpenedType = -1;
        this.editBoxOpenedType;
      },
      onCancel: function onCancel() {
        this.editBoxOpenedType = -1;
      },
      onChangeImage: function onChangeImage() {
        this.popUpManager.show(PopUpType.AvatarDialog, null, function() {});
        this.onClose();
      },
      onPlayerAccount: function onPlayerAccount() {},
      onGameHistory: function onGameHistory() {},
      onClose: function onClose() {
        this.popUpManager.hide(PopUpType.PlayerAccountPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  PlayerInfoPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "272b4rH0IxBZq3aa0rNUFkT", "PlayerInfoPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        infoLbl: {
          default: null,
          type: cc.Label
        },
        headingLbl: {
          default: null,
          type: cc.Label
        }
      },
      onShow: function onShow(data) {
        if (null !== data) {
          this.infoLbl.string = data.info;
          !data.heading || (this.headingLbl.string = data.heading);
          var disableTimer = false;
          !data.disableTimer || (disableTimer = true);
          if (!disableTimer) {
            var timer = 4;
            !data.timer || (timer = data.timer);
            setTimeout(function() {
              !this.popUpManager || (this.popUpManager != GameManager.popUpManager ? this.popUpManager.hide(2) : this.popUpManager.hide(PopUpType.PlayerInfoPopup));
            }.bind(this), 1e3 * timer);
          }
        }
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  PlayerPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "138c9QO6FZKN4YEdTAWw5j7", "PlayerPresenter");
    "use strict";
    var card = require("CardTypes").Card;
    var suit = require("CardTypes").Suit;
    var StickerController = require("StickerController");
    var SliderTouchType = require("SliderTouch");
    var PlayerPresenter = cc.Class({
      extends: cc.Component,
      properties: {
        moveShower1: {
          default: null,
          type: cc.Node
        },
        moveShower2: {
          default: null,
          type: cc.Node
        },
        moveShower3: {
          default: null,
          type: cc.Node
        },
        moveShower4: {
          default: null,
          type: cc.Node
        },
        pokerPresenter: {
          default: null
        },
        bestHandNode: {
          default: null,
          type: cc.Node
        },
        glow: {
          default: null,
          type: cc.Node
        },
        glowFrame: {
          default: null,
          type: cc.Node
        },
        fillbg: {
          default: null,
          type: cc.Node
        },
        inviteNode: {
          default: null,
          type: cc.Node
        },
        inviteListNode: {
          default: null,
          type: cc.Node
        },
        stickerNode: {
          default: null,
          type: cc.Node
        },
        stickerNodeSelf: {
          default: null,
          type: cc.Node
        },
        stickerNodeMy: {
          default: null,
          type: cc.Node
        },
        stickerNodeMyOther: {
          default: null,
          type: cc.Node
        },
        seatIndex: {
          default: -1
        },
        cardHolder: {
          default: null,
          type: cc.Node
        },
        cardHolderShow: {
          default: null,
          type: cc.Node
        },
        cardHolderMyShow: {
          default: null,
          type: cc.Node
        },
        cardHolderMy: {
          default: null,
          type: cc.Node
        },
        cardHolder2: {
          default: null,
          type: cc.Node
        },
        cardHolder3: {
          default: null,
          type: cc.Node
        },
        cardHolder4: {
          default: null,
          type: cc.Node
        },
        cardHolder5: {
          default: null,
          type: cc.Node
        },
        cardHolder6: {
          default: null,
          type: cc.Node
        },
        cardHolder2R: {
          default: null,
          type: cc.Node
        },
        cardHolder3R: {
          default: null,
          type: cc.Node
        },
        cardHolder4R: {
          default: null,
          type: cc.Node
        },
        cardHolder5R: {
          default: null,
          type: cc.Node
        },
        cardHolder6R: {
          default: null,
          type: cc.Node
        },
        cardHolder2My: {
          default: null,
          type: cc.Node
        },
        cardHolder3My: {
          default: null,
          type: cc.Node
        },
        cardHolder4My: {
          default: null,
          type: cc.Node
        },
        cardHolder5My: {
          default: null,
          type: cc.Node
        },
        cardHolder6My: {
          default: null,
          type: cc.Node
        },
        seatState: {
          default: "Free",
          visible: false
        },
        sitHerePanel: {
          default: null,
          type: cc.Node
        },
        occupiedPanel: {
          default: null,
          type: cc.Node
        },
        avatarBtn: {
          default: null,
          type: cc.Button
        },
        addFriendBtn: {
          default: null,
          type: cc.Button
        },
        emojiBtn: {
          default: null,
          type: cc.Button
        },
        timerSprite: {
          default: null,
          type: cc.Sprite
        },
        timerPSprite: {
          default: null,
          type: cc.Sprite
        },
        baseSprite: {
          default: null,
          type: cc.Sprite
        },
        selfSpriteFrame: {
          default: null,
          type: cc.SpriteFrame
        },
        othersSpriteFrame: {
          default: null,
          type: cc.SpriteFrame
        },
        amountLabel: {
          default: null,
          type: cc.Label
        },
        nameLabel: {
          default: null,
          type: cc.Label
        },
        image: {
          default: null,
          type: cc.Sprite
        },
        dealerSprite: {
          default: null,
          type: cc.Node
        },
        dealerSprite2: {
          default: null,
          type: cc.Node
        },
        dealerSprite3: {
          default: null,
          type: cc.Node
        },
        playerBetLabel: {
          default: null,
          type: cc.Node
        },
        moveDisplayTime: {
          default: -1,
          visible: false
        },
        currentTurnDisplayTime: {
          default: -1,
          visible: false
        },
        turnDisplayTime: {
          default: .5,
          visible: false
        },
        playerData: {
          default: null,
          visible: false
        },
        timer: {
          default: null,
          visible: false
        },
        sysTime: {
          default: null,
          visible: false
        },
        playerColor: {
          default: new cc.Color()
        },
        nonPlayerColor: {
          default: new cc.Color()
        },
        foldView: {
          default: null,
          type: cc.Node
        },
        nameLblColor: {
          default: new cc.Color(),
          visible: false
        },
        foldNameLblColor: {
          default: new cc.Color(),
          visible: false
        },
        amountLblColor: {
          default: new cc.Color(),
          visible: false
        },
        foldAmountLblColor: {
          default: new cc.Color(),
          visible: false
        },
        reservedPanel: {
          default: null,
          type: cc.Node
        },
        noteColorBase: {
          default: null,
          type: cc.Node
        },
        noteButton: {
          default: null,
          type: cc.Node
        },
        chatHead: {
          default: null,
          type: cc.Node
        },
        chatLbl: {
          default: null,
          type: cc.RichText
        },
        emptyPanel: {
          default: null,
          type: cc.Node
        },
        normalTimerLbl: {
          default: null,
          type: cc.Label
        },
        selfNameLblColor: new cc.Color(),
        selfFoldNameLblColor: new cc.Color(),
        selfAmountLblColor: new cc.Color(),
        selfFoldAmountLblColor: new cc.Color(),
        othersNameLblColor: new cc.Color(),
        othersFoldNameLblColor: new cc.Color(),
        othersAmountLblColor: new cc.Color(),
        othersFoldAmountLblColor: new cc.Color(),
        gridRefreshedRef: null,
        imageLoadedRef: null,
        extra: {
          type: cc.Node,
          default: null
        },
        timeBank: {
          type: cc.Node,
          default: null
        },
        timeBankV: {
          default: null,
          type: SliderTouchType
        },
        winnerBanner: {
          default: null,
          type: cc.Node
        },
        imgHider: {
          default: null,
          type: cc.Node
        },
        winningNode: {
          default: null,
          type: cc.Node
        },
        moveShower: {
          default: null,
          type: cc.Node
        },
        grayer: {
          default: null,
          type: cc.Node
        },
        grayer2: {
          default: null,
          type: cc.Node
        },
        grayer3: {
          default: null,
          type: cc.Node
        },
        bestHands1: {
          default: null,
          type: cc.SpriteFrame
        },
        bestHands2: {
          default: null,
          type: cc.SpriteFrame
        },
        timersToKill: []
      },
      onLoad: function onLoad() {
        var _this = this;
        this.normalScale = 1;
        this.grayScale = 1;
        this.CardsFirstPositionOffset = 57;
        this.CardsSecondPositionOffset = 130;
        GameManager.isMobile;
        this.gridRefreshedRef = this.gridRefreshed.bind(this);
        this.imageLoadedRef = this.imageLoaded.bind(this);
        GameScreen.node.on("grid-refreshed", this.gridRefreshedRef);
        GameManager.on("image-loaded", this.imageLoadedRef);
        GameManager.on("updatePlayerImageInTable", this.updatePlayerImageInTable.bind(this));
        GameManager.on("switchBB", this.switchBBNow.bind(this));
        this.clearPlayerCards();
        this.isPlaying = false;
        this.displayDefaultTimer = this.resetBetTimer = 0;
        this.winningNode.children[1].getComponent(cc.Animation).on("stop", function(event) {
          if (cc.isValid(_this.winningNode)) {
            _this.winningNode.children[1].active = false;
            _this.winningNode.children[3].active = true;
            _this.winningNode.children[3].getComponent(cc.Animation).play();
          }
        }, this);
        this.winningNode.children[3].getComponent(cc.Animation).on("stop", function(event) {
          if (cc.isValid(_this.winningNode)) {
            _this.winningNode.children[2].active = _this.winningNode.children[4].active = true;
            _this.winningNode.children[2].getComponent(cc.Animation).play();
            _this.winningNode.children[4].getComponent(cc.Animation).play();
          }
        }, this);
        this.playerBetLabel.parent.getChildByName("gold").active = true;
      },
      registerHoverEvents: function registerHoverEvents() {
        this.node.on(cc.Node.EventType.MOUSE_ENTER, function(event) {
          cc.isValid(this.node) && this.onMouse_Enter();
        }.bind(this), this);
        this.node.on(cc.Node.EventType.MOUSE_LEAVE, function(event) {
          cc.isValid(this.node) && this.onMouse_Leave();
        }.bind(this), this);
        this.node.on(cc.Node.EventType.TOUCH_START, function(event) {
          cc.isValid(this.node) && !this.pokerPresenter.isObserver() && this.onMouse_Enter();
        }.bind(this), this);
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          cc.isValid(this.node) && this.onMouse_Leave();
        }.bind(this), this);
        this.noteButton.children[2].on(cc.Node.EventType.MOUSE_ENTER, function(event) {
          this.noteButton.children[0].active = true;
        }.bind(this), this);
        this.noteButton.children[2].on(cc.Node.EventType.MOUSE_LEAVE, function(event) {
          this.noteButton.children[0].active = false;
        }.bind(this), this);
        this.noteButton.children[2].on(cc.Node.EventType.MOUSE_UP, function(event) {
          this.onClickAvatarBtn();
        }.bind(this), this);
        cc.sys.isMobile && this.noteButton.children[2].on(cc.Node.EventType.TOUCH_END, function(event) {
          this.onClickAvatarBtn();
        }.bind(this), this);
      },
      imageLoaded: function imageLoaded(user) {
        if (null != this.playerData && this.playerData.playerId == user.playerId) if (user.urlImg) {
          this.image.spriteFrame = user.urlImg;
          cc.find("PlayerImageMask/New Node/PlayerImage", this.inviteNode).getComponent(cc.Sprite).spriteFrame = user.urlImg;
        } else {
          var randomIndex = Math.round(Math.random() * GameManager.avatarImages.length - 1);
          this.image.spriteFrame = GameManager.avatarImages[randomIndex];
        }
      },
      gridRefreshed: function gridRefreshed() {
        if (1 == GameManager.activeTableCount || 2 == GameScreen.viewType) {
          K.PORTRAIT || (this.node.scale = 1);
          this.pokerPresenter.checkForSelfTurn(this.playerId) && GameScreen.gameModel.emit("K.PokerEvents.onTurnInOtherRoom", this.pokerPresenter.model, true);
        } else K.PORTRAIT;
      },
      resetSeat: function resetSeat() {
        !this.chatHead.active || (this.chatHead.active = false);
        this.resetTimer();
        this.activatePlayerBet(false);
        this.seatState = K.SeatState.Free;
        this.dealerSprite.active = false;
        this.dealerSprite2.active = false;
        this.dealerSprite3.active = false;
        this.bestHandNode.active = false;
        this.playerBetLabel.parent.scale = 1.6 / this.playerBetLabel.parent.parent.parent.parent.scale;
        this.timeBank.active = false;
        this.extra.active = false;
        this.isSelf() && this.playerData.state != K.PlayerState.Waiting && (this.timeBank.active = true);
        this.timeBank.children[1].getComponent(cc.Label).string = "";
        this.image.node.active = true;
        this.timerPSprite.node.active = this.timerSprite.node.parent.active = false;
        this.clearPlayerCards();
        this.setSelfPlayerView(false);
        this.unscheduleAllCallbacks();
        this.image.setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
        this.node.scale = this.normalScale;
        this.timeBank.scale = .42;
        this.moveShower.scale = 0;
      },
      enablePlayerView: function enablePlayerView(selfPlayerId, revealForSelfAtStartGame) {
        void 0 === revealForSelfAtStartGame && (revealForSelfAtStartGame = true);
        this.resetSeat();
        if (this.node.parent.x < 0 || this.isSelf()) {
          this.node.getChildByName("BB").x = 75.751;
          this.node.getChildByName("SB").x = 75.751;
        } else {
          this.node.getChildByName("BB").x = -75.751;
          this.node.getChildByName("SB").x = -75.751;
        }
        if (this.isSelf()) {
          this.moveShower.x = this.moveShower1.x;
          this.moveShower.y = this.moveShower1.y;
        } else if (0 == this.node.parent.x) {
          this.moveShower.x = this.moveShower4.x;
          this.moveShower.y = this.moveShower4.y;
        } else if (this.node.parent.x < 0) {
          this.moveShower.x = this.moveShower2.x;
          this.moveShower.y = this.moveShower2.y;
        } else {
          this.moveShower.x = this.moveShower3.x;
          this.moveShower.y = this.moveShower3.y;
        }
        this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
        this.updateBB();
        this.nameLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName;
        this.sitHerePanel.active = false;
        this.emptyPanel.active = false;
        this.occupiedPanel.active = true;
        this.onStateChange();
        this.seatState = K.SeatState.Occupied;
        0 !== this.playerData.totalRoundBet && this.displayBet(this.playerData.totalRoundBet.roundOff(2));
        var self = selfPlayerId === this.playerData.playerId;
        if (self) {
          this.avatarBtn.interactable = false;
          this.emojiBtn.node.active = true;
          this.addFriendBtn.node.active = false;
          this.updateTimeBank2(this.playerData.timeBankSec);
        } else {
          this.avatarBtn.interactable = true;
          this.emojiBtn.node.active = (true, !this.reservedPanel.active);
          console.log("set EMOJIN ENABLE enablePlayerView");
          this.addFriendBtn.node.active = false;
        }
        this.setSelfPlayerView(self, revealForSelfAtStartGame);
        this.resetLblColor();
        this.displayNote(this.playerData.playerId);
        this.playerData.state == K.PlayerState.Playing && "" != this.playerData.lastMove && this.disPlayMoveUtil(this.playerData.playerName, this.playerData.lastMove);
      },
      setSelfPlayerView: function setSelfPlayerView(state, revealForSelfAtStartGame) {
        null != this.playerData;
        this.gridRefreshed();
        if (state) {
          this.image.spriteFrame = GameManager.user.urlImg;
          if (this.playerData.state === K.PlayerState.Playing) {
            revealForSelfAtStartGame && this.revealCards(revealForSelfAtStartGame);
            "FOLD" == this.playerData.lastMove && this.scheduleOnce(function() {}, .1);
          }
        } else if (null != this.playerData) if (this.playerData.urlImg) {
          this.image.spriteFrame = this.playerData.urlImg;
          this.image2 && (this.image2.spriteFrame = this.playerData.urlImg);
        } else {
          this.image.spriteFrame = GameManager.user.urlImg;
          this.image2 && (this.image2.spriteFrame = GameManager.user.urlImg);
        }
      },
      displayBet: function displayBet(bet) {
        bet < 0 && console.warn("bet", bet);
        this.playerBetLabel.getComponent(cc.Label).string = GameManager.convertChips(bet);
        this.playerBetLabel.getComponent(cc.Label).__string = bet;
        this.updateBB();
        this.activatePlayerBet(true);
        this.playerBetLabel.children[0].getComponent("PokerChipsView").generateChips(bet);
      },
      setBetPosition: function setBetPosition(position) {
        this.playerBetLabel.parent.setPosition(position);
      },
      setDealerPosition: function setDealerPosition(position) {
        this.dealerSprite.setPosition(position);
      },
      resetTimer: function resetTimer() {
        this.timerSprite.fillRange = 0;
        K.PORTRAIT;
        this.timeBank.active = false;
        this.extra.active = false;
        this.isSelf() && this.playerData.state != K.PlayerState.Waiting && (this.timeBank.active = true);
        this.image.node.active = true;
        this.timerPSprite.node.active = this.timerSprite.node.parent.active = false;
        this.imgHider.active = false;
        this.normalTimerLbl.string = "";
        this.normalTimerLbl.node.active = false;
        if (K.PORTRAIT) {
          this.normalTimerLbl.node.parent.active = false;
          this.normalTimerLbl.node.parent.children[0].active = false;
        }
      },
      displayNote: function displayNote(playerId) {
        console.log(!!this.playerData && !!this.playerData.noteColor, this.playerData);
        if (!this.playerData || !this.playerData.noteColor) {
          this.noteColorBase.active = false;
          this.noteButton.active = false;
          this.noteButton.children[0].active = false;
        } else {
          this.noteColorBase.active = true;
          this.noteButton.active = true;
          this.noteButton.children[0].active = false;
          this.noteButton.children[0].children[1].children[0].children[0].getComponent(cc.RichText).string = "<color=#000000>" + this.playerData.noteText + "</c>";
          var rgbColor = cc.Color.BLUE;
          if (this.playerData.noteColor.r) var rgbColor = new cc.Color(this.playerData.noteColor.r, this.playerData.noteColor.g, this.playerData.noteColor.b);
          this.noteColorBase.color = new cc.Color(rgbColor);
          this.noteButton.color = new cc.Color(rgbColor);
          this.noteColorBase.children[0].color = new cc.Color(rgbColor);
          this.playerData.noteText || (this.noteButton.active = false);
          255 == rgbColor.r && 255 == rgbColor.g && 255 == rgbColor.b && (this.noteColorBase.active = false);
        }
      },
      resetLblColor: function resetLblColor() {},
      changeLblColor: function changeLblColor() {},
      activatePlayerBet: function activatePlayerBet(flag, animateToCenter) {
        var _this2 = this;
        if (animateToCenter) {
          var initPos = this.playerBetLabel.parent.getPosition();
          var worldPos = this.pokerPresenter.potAmount[0].parent.parent.convertToWorldSpaceAR(this.pokerPresenter.potAmount[0].parent.getPosition());
          var finalPos = this.playerBetLabel.parent.parent.convertToNodeSpaceAR(worldPos);
          var func = cc.callFunc(function() {
            _this2.playerBetLabel.parent.active = flag;
            _this2.playerBetLabel.parent.setPosition(initPos);
            _this2.playerBetLabel.children[0].getComponent("PokerChipsView").destroyChips();
          });
          var moveToCenter = cc.moveTo(.5, finalPos).easing(cc.easeCircleActionInOut());
          this.playerBetLabel.parent.runAction(cc.sequence(moveToCenter, func));
          this.resetBetTimer = setTimeout(function() {
            if (cc.isValid(this.node)) {
              this.playerBetLabel.parent.active = flag;
              this.playerBetLabel.parent.stopAllActions();
              this.playerBetLabel.parent.setPosition(initPos);
            }
            this.playerBetLabel.children[0].getComponent("PokerChipsView").destroyChips();
          }.bind(this), 530);
        } else {
          this.playerBetLabel.parent.active = flag;
          flag || this.playerBetLabel.children[0].getComponent("PokerChipsView").destroyChips();
        }
      },
      gameOver: function gameOver() {
        this.amountLabel.node.stopAllActions();
        this.resetTimer();
        this.timersToKill.push(setTimeout(function() {
          cc.isValid(this.node) && (!this.playerData || null === this.amountLabel || void 0 === this.amountLabel || this.activatePlayerBet(false));
        }.bind(this), 550));
        this.node.getChildByName("BB").active = false;
        this.node.getChildByName("SB").active = false;
        this.node.getChildByName("BB2").active = false;
        this.node.getChildByName("SB2").active = false;
      },
      displayBlind: function displayBlind(amount) {
        this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
        this.updateBB();
        this.displayBet(amount.roundOff(2));
      },
      setDealer: function setDealer(state) {
        this.dealerSprite.active = state;
        this.dealerSprite2.active = false;
        this.dealerSprite3.active = false;
        true == state;
        if (!this.playerData) {
          this.dealerSprite.active = false;
          this.dealerSprite2.active = false;
          this.dealerSprite3.active = false;
        }
      },
      disablePlayerView: function disablePlayerView() {
        this.resetTimer();
        this.sitHerePanel.active = true;
        this.setDealer(false);
        this.bestHandNode.active = false;
        this.node.getChildByName("BB").active = false;
        this.node.getChildByName("SB").active = false;
        this.node.getChildByName("BB2").active = false;
        this.node.getChildByName("SB2").active = false;
        this.reservedPanel.active = false;
        this.occupiedPanel.active = false;
        this.emptyPanel.active = false;
        this.seatState = K.SeatState.Free;
        this.noteColorBase.active = false;
        this.noteButton.active = false;
        this.noteButton.children[0].active = false;
        this.emojiBtn.node.active = false;
        this.avatarBtn.node.active = false;
        console.log("RESEETTTT WWHEN LEAVEEEEEE disablePlayerView");
        this.playerData = null;
      },
      disableView: function disableView() {
        this.bestHandNode.active = false;
        this.node.getChildByName("BB").active = false;
        this.node.getChildByName("SB").active = false;
        this.node.getChildByName("BB2").active = false;
        this.node.getChildByName("SB2").active = false;
        this.emptyPanel.active = true;
        this.sitHerePanel.active = false;
        this.emptyPanel.children[1].getComponent(cc.Label).string = "Empty";
        this.occupiedPanel.active = false;
        this.reservedPanel.active = false;
        this.seatState = K.SeatState.Hidden;
        this.noteColorBase.active = false;
        this.noteButton.active = false;
        this.noteButton.children[0].active = false;
        this.emojiBtn.node.active = false;
        this.avatarBtn.node.active = false;
        this.setDealer(false);
        console.log("RESEETTTT WWHEN LEAVEEEEEE disableView");
        this.playerData = null;
      },
      onNoteBtn: function onNoteBtn() {
        this.showPlayerInfo();
      },
      disPlayMoveUtil: function disPlayMoveUtil(playerName, move) {
        this.moveShower.stopAllActions();
        this.moveShower.active = true;
        var moveText = "";
        switch (move) {
         case "FOLD":
          moveText = LocalizedManager.t("TXT_FOLD");
          break;

         case "ALLIN":
          moveText = LocalizedManager.t("TXT_ALL_IN");
          break;

         case "CHECK":
          moveText = LocalizedManager.t("TXT_CHECK");
          break;

         case "RAISE":
          moveText = LocalizedManager.t("TXT_RAISE");
          break;

         case "BET":
          moveText = LocalizedManager.t("TXT_BET");
          break;

         case "CALL":
          moveText = LocalizedManager.t("TXT_CALL");
        }
        K.PORTRAIT && move;
        this.moveShower.children.forEach(function(element) {
          element.active = false;
        }, this);
        this.moveShower.getChildByName(move).active = true;
        this.moveShower.scale = 1 / this.moveShower.parent.parent.scale / this.moveShower.parent.parent.parent.scale * 1.45;
      },
      displayMove: function displayMove(move) {
        this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
        this.updateBB();
        this.disPlayMoveUtil(this.playerData.playerName, move);
        if ("FOLD" !== move && "ALLIN" !== move) {
          this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && ("CALL" == move ? this.pokerPresenter.playAudio(K.Sounds.playerCall) : "CHECK" == move ? this.pokerPresenter.playAudio(K.Sounds.playerCheck) : "RAISE" == move ? this.pokerPresenter.playAudio(K.Sounds.playerRaise) : "BET" == move && this.pokerPresenter.playAudio(K.Sounds.playerBet));
          this.displayDefault();
        } else if ("FOLD" === move) {
          if (this.pokerPresenter.checkForSelfTurn(this.playerData.playerId)) {
            this.pokerPresenter.playAudio(K.Sounds.playerFold);
            this.graySelf();
          }
          this.enableFoldView();
        } else if ("ALLIN" === move) {
          this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && this.pokerPresenter.playAudio(K.Sounds.playerAllIn);
          this.enableAllInView();
        }
        var totalRoundBet = 0;
        totalRoundBet = this.playerData.totalRoundBet < 1 ? Math.ceil(this.playerData.totalRoundBet) : (this.pokerPresenter.isTournament(), 
        Math.floor(this.playerData.totalRoundBet));
        totalRoundBet <= 0 ? ("CALL" === move && 0 == totalRoundBet || "ALLIN" === move && 0 == totalRoundBet && void 0 != this.playerData.totalRoundLastBet) && this.displayBet(this.playerData.totalRoundLastBet.roundOff(2)) : this.displayBet(this.playerData.totalRoundBet.roundOff(2));
        this.resetTimer();
      },
      enableFoldView: function enableFoldView() {
        if (!!this.playerData) {
          this.nameLabel.string = LocalizedManager.t("TXT_FOLD");
          if (null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId)) {
            this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
            this.updateBB();
          } else this.amountLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName;
        }
        this.changeLblColor();
        null == this.playerData || this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) || this.cardHolder.children.forEach(function(element) {}, this);
        null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && this.pokerPresenter.model.emit("FoldEvent");
        this.cardHolderMy.children.forEach(function(element) {
          element.getComponent("Card").gray();
        }, this);
        this.cardHolder.children.forEach(function(element) {
          element.getComponent("Card").gray();
        }, this);
        this.image.setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
        this.timeBank.active = false;
        this.node.scale = this.grayScale;
        this.timeBank.scale = .42 / this.grayScale;
      },
      displayDefault: function displayDefault() {
        this.pokerPresenter.model.isVideo ? this.displayDefaultTimer = setTimeout(function() {
          cc.isValid(this.node) && (!this.playerData || this.onStateChange());
        }.bind(this), K.moveDisplayTime / this.pokerPresenter.model.videoSpeed) : this.displayDefaultTimer = setTimeout(function() {
          cc.isValid(this.node) && (!this.playerData || this.onStateChange());
        }.bind(this), K.moveDisplayTime);
      },
      clearTimers: function clearTimers() {
        clearTimeout(this.displayDefaultTimer);
        clearTimeout(this.resetBetTimer);
        this.timersToKill.forEach(function(element) {
          clearTimeout(element);
        }, this);
        this.timersToKill = [];
      },
      onMouse_Enter: function onMouse_Enter() {
        null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && "FOLD" === this.playerData.lastMove && this.playerData.state == K.PlayerState.Playing && this.resetCards(true);
      },
      showMobileNotePopup: function showMobileNotePopup() {
        if (GameScreen.isMobile && null != this.playerData && !this.pokerPresenter.checkForSelfTurn(this.playerData.playerId)) {
          var flag = !!this.playerData.noteColor;
          this.pokerPresenter.sureToFoldNode.parent.getChildByName("NotePopup").getComponent("MobileNotePopup").init(flag, this.playerData.noteColor, this.playerData.noteText, this.playerData.playerId, this.pokerPresenter);
        }
      },
      onClickEmojiBtn: function onClickEmojiBtn() {
        cc.log("onClickEmojiBtn");
        this.showStickerBuddiesPopup(true);
      },
      onClickAddFriendBtn: function onClickAddFriendBtn() {
        cc.log("onClickAddFriendBtn");
      },
      clientSendAddFriendEvent: function clientSendAddFriendEvent() {
        var payload = {};
        var player = this.pokerPresenter.getMyPlayer();
        var opponent = this.playerData;
        payload.playerId = GameManager.user.playerId;
        payload.friendId = opponent.playerId;
        console.log("clientSendAddFriendEvent ", payload);
        var _t = this;
        ServerCom.pomeloRequest(K.BuddyAPI.sendFriendRequest, payload, function(response) {
          console.log("sendFriendRequest reponse", response);
          if (response.success) {
            _t.addFriendBtn.node.children[0].active = false;
            _t.addFriendBtn.node.children[1].active = true;
          }
          setTimeout(function() {
            _t.addFriendBtn.node.active = false;
          }, 1e3);
        }, null, 5e3, false);
      },
      onClickAvatarBtn: function onClickAvatarBtn() {
        cc.log("onClickAvatarBtn");
      },
      showStickerBuddiesPopup: function showStickerBuddiesPopup(isShowSticker) {
        var isGameRunning = this.pokerPresenter.model.gameData.tableDetails.state === K.GameState.Running || this.pokerPresenter.model.gameData.tableDetails.state === K.GameState.GameOver;
        var player = this.pokerPresenter.getMyPlayer();
        var isPlayerPlaying = player && player.state !== K.PlayerState.Waiting && player.state !== K.PlayerState.OnBreak;
        var opponent = this.playerData;
        var opponentIdx = opponent && this.pokerPresenter.model.getPlayerById(opponent.playerId);
        if (!opponent || -1 == opponentIdx) return;
        if (!isShowSticker) {
          this.showMobileNotePopup();
          return;
        }
        var isOpponentPlaying = opponent && opponent.state !== K.PlayerState.Waiting && opponent.state !== K.PlayerState.OnBreak;
        isGameRunning && this.pokerPresenter.sureToFoldNode.parent.getChildByName("StickerPopup").getComponent("StickersPopup").init(this.playerData.playerId, this.pokerPresenter);
      },
      onMouse_Leave: function onMouse_Leave() {
        null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && "FOLD" === this.playerData.lastMove && this.playerData.state == K.PlayerState.Playing;
      },
      enableAllInView: function enableAllInView() {
        this.nameLabel.string = LocalizedManager.t("TXT_ALL_IN");
        this.timersToKill.push(setTimeout(function() {
          cc.isValid(this.node) && (!this.playerData || this.nameLabel.string === LocalizedManager.t("TXT_ALL_IN") && (this.nameLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName));
        }.bind(this), K.moveDisplayTime));
      },
      enableWaitingView: function enableWaitingView() {
        LocalizedManager.setTextKey(this.nameLabel.node, "TXT_WAITTING");
        if (null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId)) {
          this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
          this.updateBB();
        } else this.amountLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName;
        this.image.setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
        this.node.scale = this.normalScale;
        this.timeBank.scale = .42;
        this.dealerSprite.active = false;
        this.clearPlayerCards();
        this.moveShower.scale = 0;
      },
      enableOnbreakView: function enableOnbreakView() {
        this.grayer.active = true;
        LocalizedManager.setTextKey(this.nameLabel.node, "TXT_SITTING_OUT");
        if (null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId)) {
          this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
          this.updateBB();
        } else this.amountLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName;
        this.changeLblColor();
        this.clearPlayerCards();
        this.moveShower.scale = 0;
      },
      enableRebuyingView: function enableRebuyingView() {
        this.nameLabel.string = "Rebuying";
        this.amountLabel.string = "0";
        this.updateBB();
        this.clearPlayerCards();
      },
      enableDisconnectedView: function enableDisconnectedView() {
        this.grayer2.active = true;
        this.nameLabel.string = LocalizedManager.t("TXT_DISCONECTED");
        if (null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId)) {
          this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
          this.updateBB();
        } else this.amountLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName;
      },
      enableOutOfMoneyView: function enableOutOfMoneyView() {
        LocalizedManager.setTextKey(this.nameLabel.node, "TXT_SITTING_OUT");
        if (null != this.playerData && this.pokerPresenter.checkForSelfTurn(this.playerData.playerId)) {
          this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
          this.updateBB();
        } else this.amountLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName;
        this.activatePlayerBet(false);
      },
      enablePlayingView: function enablePlayingView() {
        this.amountLabel.node.stopAllActions();
        this.resetLblColor();
        this.nameLabel.string = this.playerData.playerName.length > 8 ? this.playerData.playerName.substring(0, 8) + ".." : this.playerData.playerName;
        "FOLD" === this.playerData.lastMove ? this.enableFoldView() : "ALLIN" === this.playerData.lastMove && this.enableAllInView();
      },
      enableReservedView: function enableReservedView() {
        this.reservedPanel.active = true;
        this.emojiBtn.node.active = false;
        console.log("set EMOJIN ENABLE  OFF enableReservedView");
        this.addFriendBtn.node.active = false;
      },
      fadeOutFoldedCards: function fadeOutFoldedCards() {
        var color = cc.Color.BLACK;
      },
      setPlayerColor: function setPlayerColor() {},
      onTurn: function onTurn(turnDisplayTime) {
        this.isTurned = false;
        this.pokerPresenter.model.off(K.PokerEvents.onTimerTick);
        this.normalTimerLbl.node.active = true;
        this.timerPSprite.node.active = this.timerSprite.node.parent.active = true;
        this.timerSprite.node.getChildByName("Dot").active = false;
        K.PORTRAIT && (this.normalTimerLbl.node.parent.active = true);
        this.imgHider.active = true;
        this.pokerPresenter.model.on(K.PokerEvents.onTimerTick, function(time, elapsed) {
          if (this.extra.active) {
            this.timeBank.children[1].getComponent(cc.Label).string = Math.abs(parseInt(elapsed));
            1 == this.timeBank.children[1].getComponent(cc.Label).string.length && (this.timeBank.children[1].getComponent(cc.Label).string = "0" + this.timeBank.children[1].getComponent(cc.Label).string);
            if (K.PORTRAIT) {
              this.timeBankV.node.parent.children[1].children[0].getComponent(cc.Label).string = Math.abs(parseInt(elapsed));
              this.timeBankV.setSliderValue(time);
            }
          }
          this.timerSprite.fillRange = time;
          this.normalTimerLbl.node.parent.children[0].active = true;
          this.timerSprite.fillRange < 0 && (this.timerSprite.fillRange = 0);
          this.timerSprite.fillRange > 1 && (this.timerSprite.fillRange = 1);
          this.timerSprite.node.getChildByName("Dot").active = true;
          this.timerSprite.node.getChildByName("Dot").x = 180 * this.timerSprite.fillRange - 90;
          0 == this.timerSprite.fillRange;
          this.normalTimerLbl.string = Math.abs(parseInt(elapsed));
          if (5 == Math.floor(parseInt(elapsed)) && this.playerData.playerId == GameManager.user.playerId) {
            if (!this.isPlaying) {
              this.timersToKill.push(setTimeout(function() {
                cc.isValid(this.node) && (this.isPlaying = false);
              }.bind(this), 900));
              this.pokerPresenter.playAudio(K.Sounds.endTimer);
              this.isPlaying = true;
            }
            if (GameScreen.isMobile && !this.isTurned && !cc.sys.isBrowser) {
              this.isTurned = true;
              GameScreen.selectTable(this.pokerPresenter.model.gameData.channelId);
            }
          }
        }.bind(this));
        if (this.playerData) {
          this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
          this.updateBB();
          this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && this.setPlayerColor();
        }
      },
      enableTimeBank: function enableTimeBank() {
        this.timeBank.active = true;
        this.isSelf() ? this.timeBank.opacity = 255 : this.timeBank.opacity = 0;
        this.extra.active = true;
        this.timeBank.children[0].scaleY = 0;
        var act = cc.scaleTo(.2, 1, 1);
        this.timeBank.children[0].runAction(act);
        this.timerSprite.node.parent.active = false;
        this.timerPSprite.node.active = true;
        if (K.PORTRAIT) {
          this.timeBankV.node.active = true;
          this.timeBankV.node.parent.children[1].children[0].getComponent(cc.Label).string = "";
          this.timeBankV.setSliderValue(1);
        }
      },
      onStateChange: function onStateChange() {
        if (!!this.playerData.state) {
          this.reservedPanel.active = false;
          this.grayer.active = false;
          this.grayer2.active = false;
          switch (this.playerData.state) {
           case K.PlayerState.Waiting:
            this.enableWaitingView();
            break;

           case K.PlayerState.Playing:
            this.enablePlayingView();
            this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
            this.updateBB();
            break;

           case K.PlayerState.OutOfMoney:
            this.enableOutOfMoneyView();
            break;

           case K.PlayerState.OnBreak:
            this.enableOnbreakView();
            break;

           case K.PlayerState.Disconnected:
            this.enableDisconnectedView();
            break;

           case K.PlayerState.Left:
            break;

           case K.PlayerState.None:
            this.disableView();
            break;

           case K.PlayerState.Reserved:
            this.enableReservedView();
            break;

           case K.PlayerState.Rebuy:
            this.enableRebuyingView();
          }
        }
      },
      onSitHere: function onSitHere() {
        this.pokerPresenter.onSitHere(this.seatIndex);
      },
      onInvite: function onInvite() {},
      isLeftPlayer: function isLeftPlayer(rIndex) {
        2 == this.pokerPresenter.model.roomConfig.maxPlayers || 3 == this.pokerPresenter.model.roomConfig.maxPlayers || 4 == this.pokerPresenter.model.roomConfig.maxPlayers || 5 == this.pokerPresenter.model.roomConfig.maxPlayers || 6 == this.pokerPresenter.model.roomConfig.maxPlayers || 7 == this.pokerPresenter.model.roomConfig.maxPlayers || 8 == this.pokerPresenter.model.roomConfig.maxPlayers || 9 == this.pokerPresenter.model.roomConfig.maxPlayers;
      },
      addPlayerCards: function addPlayerCards(card, fromDisonnection) {
        if (null === card || 0 === card.length) return;
        this.cardHolder.children.forEach(function(e) {
          e.active = false;
        });
        K.PORTRAIT && this.cardHolderMy && this.cardHolderMy.children.forEach(function(e) {
          e.active = false;
        });
        this.cardHolderShow.children.forEach(function(e) {
          e.active = false;
        });
        K.PORTRAIT && this.cardHolderMyShow && this.cardHolderMyShow.children.forEach(function(e) {
          e.active = false;
        });
        card.forEach(function(element, i) {
          var instance = CardPool.generateCard(this.pokerPresenter.cardPrefab.name, function() {});
          var cardComponent = instance.getComponent("Card");
          cardComponent.init(element, this.pokerPresenter.model, true);
          cardComponent.reveal(true);
          this.playerData && "FOLD" == this.playerData.lastMove && cardComponent.gray();
          if (K.PORTRAIT) {
            instance.parent = this.cardHolderMy;
            var x = 0;
            var y = 0;
            if (2 == card.length) if (this.isSelf()) if (1 == i) {
              x = this.cardHolder2My.children[1].x;
              y = this.cardHolder2My.children[1].y;
              instance.setRotation(this.cardHolder2My.children[1].getRotation());
            } else {
              x = this.cardHolder2My.children[0].x;
              y = this.cardHolder2My.children[0].y;
              instance.setRotation(this.cardHolder2My.children[0].getRotation());
            } else if (1 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].x;
              y = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].getRotation());
            } else {
              x = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].x;
              y = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].getRotation());
            } else if (3 == card.length) if (this.isSelf()) if (0 == i) {
              x = this.cardHolder3My.children[0].x;
              y = this.cardHolder3My.children[0].y;
              instance.setRotation(this.cardHolder3My.children[0].getRotation());
            } else if (1 == i) {
              x = this.cardHolder3My.children[1].x;
              y = this.cardHolder3My.children[1].y;
              instance.setRotation(this.cardHolder3My.children[1].getRotation());
            } else {
              x = this.cardHolder3My.children[2].x;
              y = this.cardHolder3My.children[2].y;
              instance.setRotation(this.cardHolder3My.children[2].getRotation());
            } else if (0 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].x;
              y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].getRotation());
            } else if (1 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].x;
              y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].getRotation());
            } else {
              x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].x;
              y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].getRotation());
            } else if (4 == card.length) {
              if (this.isSelf()) {
                if (1 == i) {
                  x = this.cardHolder4My.children[1].x;
                  y = this.cardHolder4My.children[1].y;
                  instance.setRotation(this.cardHolder4My.children[1].getRotation());
                } else if (3 == i) {
                  x = this.cardHolder4My.children[3].x;
                  y = this.cardHolder4My.children[3].y;
                  instance.setRotation(this.cardHolder4My.children[3].getRotation());
                } else if (2 == i) {
                  x = this.cardHolder4My.children[2].x;
                  y = this.cardHolder4My.children[2].y;
                  instance.setRotation(this.cardHolder4My.children[2].getRotation());
                } else if (0 == i) {
                  x = this.cardHolder4My.children[0].x;
                  y = this.cardHolder4My.children[0].y;
                  instance.setRotation(this.cardHolder4My.children[0].getRotation());
                }
              } else if (1 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].x;
                y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].getRotation());
              } else if (3 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].x;
                y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].getRotation());
              } else if (2 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].x;
                y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].getRotation());
              } else if (0 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].x;
                y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].getRotation());
              }
            } else if (5 == card.length) {
              if (this.isSelf()) {
                if (1 == i) {
                  x = this.cardHolder5My.children[1].x;
                  y = this.cardHolder5My.children[1].y;
                  instance.setRotation(this.cardHolder5My.children[1].getRotation());
                } else if (3 == i) {
                  x = this.cardHolder5My.children[3].x;
                  y = this.cardHolder5My.children[3].y;
                  instance.setRotation(this.cardHolder5My.children[3].getRotation());
                } else if (2 == i) {
                  x = this.cardHolder5My.children[2].x;
                  y = this.cardHolder5My.children[2].y;
                  instance.setRotation(this.cardHolder5My.children[2].getRotation());
                } else if (0 == i) {
                  x = this.cardHolder5My.children[0].x;
                  y = this.cardHolder5My.children[0].y;
                  instance.setRotation(this.cardHolder5My.children[0].getRotation());
                } else if (4 == i) {
                  x = this.cardHolder5My.children[4].x;
                  y = this.cardHolder5My.children[4].y;
                  instance.setRotation(this.cardHolder5My.children[4].getRotation());
                }
              } else if (1 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].x;
                y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].getRotation());
              } else if (3 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].x;
                y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].getRotation());
              } else if (2 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].x;
                y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].getRotation());
              } else if (0 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].x;
                y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].getRotation());
              } else if (4 == i) {
                x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].x;
                y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].getRotation());
              }
            } else if (6 == card.length) if (this.isSelf()) {
              if (1 == i) {
                x = this.cardHolder6My.children[1].x;
                y = this.cardHolder6My.children[1].y;
                instance.setRotation(this.cardHolder6My.children[1].getRotation());
              } else if (3 == i) {
                x = this.cardHolder6My.children[3].x;
                y = this.cardHolder6My.children[3].y;
                instance.setRotation(this.cardHolder6My.children[3].getRotation());
              } else if (2 == i) {
                x = this.cardHolder6My.children[2].x;
                y = this.cardHolder6My.children[2].y;
                instance.setRotation(this.cardHolder6My.children[2].getRotation());
              } else if (0 == i) {
                x = this.cardHolder6My.children[0].x;
                y = this.cardHolder6My.children[0].y;
                instance.setRotation(this.cardHolder6My.children[0].getRotation());
              } else if (4 == i) {
                x = this.cardHolder6My.children[4].x;
                y = this.cardHolder6My.children[4].y;
                instance.setRotation(this.cardHolder6My.children[4].getRotation());
              } else if (5 == i) {
                x = this.cardHolder6My.children[5].x;
                y = this.cardHolder6My.children[5].y;
                instance.setRotation(this.cardHolder6My.children[5].getRotation());
              }
            } else if (1 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[1].x;
              y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[1].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[1].getRotation());
            } else if (3 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[3].x;
              y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[3].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[3].getRotation());
            } else if (2 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[2].x;
              y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[2].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[2].getRotation());
            } else if (0 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[0].x;
              y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[0].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[0].getRotation());
            } else if (4 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[4].x;
              y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[4].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[4].getRotation());
            } else if (5 == i) {
              x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[5].x;
              y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[5].y;
              instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[5].getRotation());
            }
            instance.setPosition(x, y);
          }
        }, this);
      },
      addWinningPlayerCards: function addWinningPlayerCards(card, everybodyPacked) {
        void 0 === everybodyPacked && (everybodyPacked = false);
        if (null === card || 0 === card.length) return;
        this.cardHolder.children.forEach(function(e) {
          e.active = false;
        });
        K.PORTRAIT && this.cardHolderMy && this.cardHolderMy.children.forEach(function(e) {
          e.active = false;
        });
        this.cardHolderShow.children.forEach(function(e) {
          e.active = false;
        });
        K.PORTRAIT && this.cardHolderMyShow && this.cardHolderMyShow.children.forEach(function(e) {
          e.active = false;
        });
        card.forEach(function(element, i) {
          var instance = CardPool.generateCard(this.pokerPresenter.cardPrefab.name, function() {});
          var cardComponent = instance.getComponent("Card");
          cardComponent.init(element, this.pokerPresenter.model, true);
          cardComponent.reveal(true);
          if (K.PORTRAIT) {
            instance.setPosition(0, 0);
            instance.parent = this.cardHolderMyShow;
            if (this.isSelf() || "Omaha" != this.pokerPresenter.model.roomConfig.channelVariation) {
              instance.scale = 1;
              this.cardHolderMyShow.getComponent(cc.Layout).spacingX = -50;
            } else {
              instance.scale = .82;
              this.cardHolderMyShow.getComponent(cc.Layout).spacingX = -55;
            }
          }
          this.playerData && "FOLD" == this.playerData.lastMove ? cardComponent.gray() : this.isSelf() || true == everybodyPacked && cardComponent.reveal(false);
        }, this);
      },
      isSelf: function isSelf() {
        return this.playerData && this.playerData.playerId && this.playerData.playerId == GameManager.user.playerId;
      },
      revealCards: function revealCards(fromDisonnection) {
        var cardType = [];
        if (void 0 !== this.playerData.cards && null !== this.playerData.cards && this.playerData.cards.length > 0) {
          this.playerData.cards.forEach(function(cardData) {
            var suit = this.pokerPresenter.model.getSuit(cardData.type);
            cardType.push(new card(cardData.rank, suit));
          }, this);
          this.addPlayerCards(cardType, fromDisonnection);
          this.playerData.cards = [];
        }
      },
      winningRevealCards: function winningRevealCards(everybodyPacked) {
        var _this3 = this;
        void 0 === everybodyPacked && (everybodyPacked = false);
        var cardType = [];
        if (void 0 !== this.playerData.cards && null !== this.playerData.cards && this.playerData.cards.length > 0) {
          this.playerData.cards.forEach(function(cardData) {
            var suit = this.pokerPresenter.model.getSuit(cardData.type);
            cardType.push(new card(cardData.rank, suit));
          }, this);
          this.addWinningPlayerCards(cardType, everybodyPacked);
          this.playerData.cards = [];
        } else {
          this.cardHolder.children.forEach(function(e) {
            e.active = false;
            var instance = CardPool.generateCard(_this3.pokerPresenter.cardPrefab.name, function() {});
            var cardComponent = instance.getComponent("Card");
            cardComponent.init(e.getComponent("Card").card, _this3.pokerPresenter.model, true);
            cardComponent.reveal(false);
            instance.setPosition(0, 0);
            instance.parent = _this3.cardHolderMyShow;
          });
          this.cardHolderMy && this.cardHolderMy.children.forEach(function(e) {
            e.active = false;
            var instance = CardPool.generateCard(_this3.pokerPresenter.cardPrefab.name, function() {});
            var cardComponent = instance.getComponent("Card");
            cardComponent.init(e.getComponent("Card").card, _this3.pokerPresenter.model, true);
            cardComponent.reveal(false);
            instance.setPosition(0, 0);
            instance.parent = _this3.cardHolderMyShow;
          });
        }
      },
      winningRevealCards2: function winningRevealCards2() {
        this.cardHolderShow.children.forEach(function(e) {
          e.getComponent("Card").reveal(true);
        });
        this.cardHolderMyShow.children.forEach(function(e) {
          e.getComponent("Card").reveal(true);
        });
      },
      resetCards: function resetCards(flag, fadeView) {
        var children = this.cardHolder.children;
        for (var index = 0; index < children.length; index++) {
          children[index].getComponent("Card").reveal(flag);
          this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && (children[index].children[0].getComponent(cc.Sprite).enabled = flag);
        }
        if (K.PORTRAIT && this.cardHolderMy) {
          children = this.cardHolderMy.children;
          for (var index = 0; index < children.length; index++) {
            children[index].getComponent("Card").reveal(flag);
            this.pokerPresenter.checkForSelfTurn(this.playerData.playerId) && (children[index].children[0].getComponent(cc.Sprite).enabled = flag);
          }
        }
      },
      displayDummyCards: function displayDummyCards(noOfCards, selfPlayerId) {
        if (this.seatState !== K.SeatState.Occupied) return;
        if (this.playerData && "REBUYING" == this.playerData.state) return;
        this.cardHolder.getComponent(cc.Layout).spacingX = 4 == noOfCards ? -37 : 20;
        2 == noOfCards || 4 == noOfCards;
        if (this.isSelf()) ; else {
          console.log("this.playerData", this.node.x);
          console.log("this.playerData", this.node.parent.x);
          console.log("this.playerData.seatIndex", this.playerData.seatIndex);
          console.log("this.playerData.getRotatedSeatIndex", this.pokerPresenter.getRotatedSeatIndex(this.playerData.seatIndex));
          var rIndex = this.pokerPresenter.getRotatedSeatIndex(this.playerData.seatIndex);
        }
        this.isSelf() || (this.node.parent.x < 0 ? this.cardHolder.x = 47 : this.cardHolder.x = -47);
        if (this.pokerPresenter.isTournament()) {
          if (!!selfPlayerId && selfPlayerId !== this.playerData.playerId || !selfPlayerId) {
            this.clearPlayerCards();
            for (var index = 0; index < noOfCards; index++) {
              var instance = CardPool.generateCard(this.pokerPresenter.cardPrefab.name, function() {});
              var cardComponent = instance.getComponent("Card");
              cardComponent.reveal(false);
              this.cardHolder.getComponent(cc.Layout).enabled = false;
              K.PORTRAIT ? instance.parent = this.isSelf() ? this.cardHolderMy : this.cardHolder : instance.parent = this.cardHolder;
              if (K.PORTRAIT) {
                var x = 0;
                var y = 0;
                if (2 == noOfCards) if (this.isSelf()) if (1 == index) {
                  x = this.cardHolder2My.children[1].x;
                  y = this.cardHolder2My.children[1].y;
                  instance.setRotation(this.cardHolder2My.children[1].getRotation());
                } else {
                  x = this.cardHolder2My.children[0].x;
                  y = this.cardHolder2My.children[0].y;
                  instance.setRotation(this.cardHolder2My.children[0].getRotation());
                } else if (1 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].getRotation());
                } else {
                  x = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].getRotation());
                } else if (3 == noOfCards) if (this.isSelf()) if (0 == index) {
                  x = this.cardHolder3My.children[0].x;
                  y = this.cardHolder3My.children[0].y;
                  instance.setRotation(this.cardHolder3My.children[0].getRotation());
                } else if (1 == index) {
                  x = this.cardHolder3My.children[1].x;
                  y = this.cardHolder3My.children[1].y;
                  instance.setRotation(this.cardHolder3My.children[1].getRotation());
                } else {
                  x = this.cardHolder3My.children[2].x;
                  y = this.cardHolder3My.children[2].y;
                  instance.setRotation(this.cardHolder3My.children[2].getRotation());
                } else if (0 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].getRotation());
                } else if (1 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].getRotation());
                } else {
                  x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].getRotation());
                } else if (4 == noOfCards) {
                  if (this.isSelf()) {
                    if (1 == index) {
                      x = this.cardHolder4My.children[1].x;
                      y = this.cardHolder4My.children[1].y;
                      instance.setRotation(this.cardHolder4My.children[1].getRotation());
                    } else if (3 == index) {
                      x = this.cardHolder4My.children[3].x;
                      y = this.cardHolder4My.children[3].y;
                      instance.setRotation(this.cardHolder4My.children[3].getRotation());
                    } else if (2 == index) {
                      x = this.cardHolder4My.children[2].x;
                      y = this.cardHolder4My.children[2].y;
                      instance.setRotation(this.cardHolder4My.children[2].getRotation());
                    } else if (0 == index) {
                      x = this.cardHolder4My.children[0].x;
                      y = this.cardHolder4My.children[0].y;
                      instance.setRotation(this.cardHolder4My.children[0].getRotation());
                    }
                  } else if (1 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].getRotation());
                  } else if (3 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].getRotation());
                  } else if (2 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].getRotation());
                  } else if (0 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].getRotation());
                  }
                } else if (5 == noOfCards) {
                  if (this.isSelf()) {
                    if (1 == index) {
                      x = this.cardHolder5My.children[1].x;
                      y = this.cardHolder5My.children[1].y;
                      instance.setRotation(this.cardHolder5My.children[1].getRotation());
                    } else if (3 == index) {
                      x = this.cardHolder5My.children[3].x;
                      y = this.cardHolder5My.children[3].y;
                      instance.setRotation(this.cardHolder5My.children[3].getRotation());
                    } else if (2 == index) {
                      x = this.cardHolder5My.children[2].x;
                      y = this.cardHolder5My.children[2].y;
                      instance.setRotation(this.cardHolder5My.children[2].getRotation());
                    } else if (0 == index) {
                      x = this.cardHolder5My.children[0].x;
                      y = this.cardHolder5My.children[0].y;
                      instance.setRotation(this.cardHolder5My.children[0].getRotation());
                    } else if (4 == index) {
                      x = this.cardHolder5My.children[4].x;
                      y = this.cardHolder5My.children[4].y;
                      instance.setRotation(this.cardHolder5My.children[4].getRotation());
                    }
                  } else if (1 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].getRotation());
                  } else if (3 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].getRotation());
                  } else if (2 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].getRotation());
                  } else if (0 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].getRotation());
                  } else if (4 == index) {
                    x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].x;
                    y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].y;
                    instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].getRotation());
                  }
                } else if (6 == noOfCards) if (this.isSelf()) {
                  if (1 == index) {
                    x = this.cardHolder6My.children[1].x;
                    y = this.cardHolder6My.children[1].y;
                    instance.setRotation(this.cardHolder6My.children[1].getRotation());
                  } else if (3 == index) {
                    x = this.cardHolder6My.children[3].x;
                    y = this.cardHolder6My.children[3].y;
                    instance.setRotation(this.cardHolder6My.children[3].getRotation());
                  } else if (2 == index) {
                    x = this.cardHolder6My.children[2].x;
                    y = this.cardHolder6My.children[2].y;
                    instance.setRotation(this.cardHolder6My.children[2].getRotation());
                  } else if (0 == index) {
                    x = this.cardHolder6My.children[0].x;
                    y = this.cardHolder6My.children[0].y;
                    instance.setRotation(this.cardHolder6My.children[0].getRotation());
                  } else if (4 == index) {
                    x = this.cardHolder6My.children[4].x;
                    y = this.cardHolder6My.children[4].y;
                    instance.setRotation(this.cardHolder6My.children[4].getRotation());
                  } else if (5 == index) {
                    x = this.cardHolder6My.children[5].x;
                    y = this.cardHolder6My.children[5].y;
                    instance.setRotation(this.cardHolder6My.children[5].getRotation());
                  }
                } else if (1 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[1].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[1].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[1].getRotation());
                } else if (3 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[3].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[3].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[3].getRotation());
                } else if (2 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[2].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[2].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[2].getRotation());
                } else if (0 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[0].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[0].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[0].getRotation());
                } else if (4 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[4].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[4].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[4].getRotation());
                } else if (5 == index) {
                  x = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[5].x;
                  y = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[5].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[5].getRotation());
                }
                instance.x = x;
                instance.y = y;
              }
            }
          }
        } else if ((!!selfPlayerId && selfPlayerId !== this.playerData.playerId || !selfPlayerId) && this.playerData.state === K.PlayerState.Playing) {
          this.clearPlayerCards();
          for (var index = 0; index < noOfCards; index++) {
            var instance = CardPool.generateCard(this.pokerPresenter.cardPrefab.name, function() {});
            var cardComponent = instance.getComponent("Card");
            cardComponent.reveal(false);
            this.cardHolder.getComponent(cc.Layout).enabled = false;
            K.PORTRAIT ? instance.parent = this.isSelf() ? this.cardHolderMy : this.cardHolder : instance.parent = this.cardHolder;
            if (K.PORTRAIT) {
              var _x = 0;
              var _y = 0;
              if (2 == noOfCards) if (this.isSelf()) if (1 == index) {
                _x = this.cardHolder2My.children[1].x;
                _y = this.cardHolder2My.children[1].y;
                instance.setRotation(this.cardHolder2My.children[1].getRotation());
              } else {
                _x = this.cardHolder2My.children[0].x;
                _y = this.cardHolder2My.children[0].y;
                instance.setRotation(this.cardHolder2My.children[0].getRotation());
              } else if (1 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[1].getRotation());
              } else {
                _x = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder2 : this.cardHolder2R).children[0].getRotation());
              } else if (3 == noOfCards) if (this.isSelf()) if (0 == index) {
                _x = this.cardHolder3My.children[0].x;
                _y = this.cardHolder3My.children[0].y;
                instance.setRotation(this.cardHolder3My.children[0].getRotation());
              } else if (1 == index) {
                _x = this.cardHolder3My.children[1].x;
                _y = this.cardHolder3My.children[1].y;
                instance.setRotation(this.cardHolder3My.children[1].getRotation());
              } else {
                _x = this.cardHolder3My.children[2].x;
                _y = this.cardHolder3My.children[2].y;
                instance.setRotation(this.cardHolder3My.children[2].getRotation());
              } else if (0 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[0].getRotation());
              } else if (1 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[1].getRotation());
              } else {
                _x = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder3 : this.cardHolder3R).children[2].getRotation());
              } else if (4 == noOfCards) {
                if (this.isSelf()) {
                  if (1 == index) {
                    _x = this.cardHolder4My.children[1].x;
                    _y = this.cardHolder4My.children[1].y;
                    instance.setRotation(this.cardHolder4My.children[1].getRotation());
                  } else if (3 == index) {
                    _x = this.cardHolder4My.children[3].x;
                    _y = this.cardHolder4My.children[3].y;
                    instance.setRotation(this.cardHolder4My.children[3].getRotation());
                  } else if (2 == index) {
                    _x = this.cardHolder4My.children[2].x;
                    _y = this.cardHolder4My.children[2].y;
                    instance.setRotation(this.cardHolder4My.children[2].getRotation());
                  } else if (0 == index) {
                    _x = this.cardHolder4My.children[0].x;
                    _y = this.cardHolder4My.children[0].y;
                    instance.setRotation(this.cardHolder4My.children[0].getRotation());
                  }
                } else if (1 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[1].getRotation());
                } else if (3 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[3].getRotation());
                } else if (2 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[2].getRotation());
                } else if (0 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder4 : this.cardHolder4R).children[0].getRotation());
                }
              } else if (5 == noOfCards) {
                if (this.isSelf()) {
                  if (1 == index) {
                    _x = this.cardHolder5My.children[1].x;
                    _y = this.cardHolder5My.children[1].y;
                    instance.setRotation(this.cardHolder5My.children[1].getRotation());
                  } else if (3 == index) {
                    _x = this.cardHolder5My.children[3].x;
                    _y = this.cardHolder5My.children[3].y;
                    instance.setRotation(this.cardHolder5My.children[3].getRotation());
                  } else if (2 == index) {
                    _x = this.cardHolder5My.children[2].x;
                    _y = this.cardHolder5My.children[2].y;
                    instance.setRotation(this.cardHolder5My.children[2].getRotation());
                  } else if (0 == index) {
                    _x = this.cardHolder5My.children[0].x;
                    _y = this.cardHolder5My.children[0].y;
                    instance.setRotation(this.cardHolder5My.children[0].getRotation());
                  } else if (4 == index) {
                    _x = this.cardHolder5My.children[4].x;
                    _y = this.cardHolder5My.children[4].y;
                    instance.setRotation(this.cardHolder5My.children[4].getRotation());
                  }
                } else if (1 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[1].getRotation());
                } else if (3 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[3].getRotation());
                } else if (2 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[2].getRotation());
                } else if (0 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[0].getRotation());
                } else if (4 == index) {
                  _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].x;
                  _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].y;
                  instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder5R).children[4].getRotation());
                }
              } else if (6 == noOfCards) if (this.isSelf()) {
                if (1 == index) {
                  _x = this.cardHolder6My.children[1].x;
                  _y = this.cardHolder6My.children[1].y;
                  instance.setRotation(this.cardHolder6My.children[1].getRotation());
                } else if (3 == index) {
                  _x = this.cardHolder6My.children[3].x;
                  _y = this.cardHolder6My.children[3].y;
                  instance.setRotation(this.cardHolder6My.children[3].getRotation());
                } else if (2 == index) {
                  _x = this.cardHolder6My.children[2].x;
                  _y = this.cardHolder6My.children[2].y;
                  instance.setRotation(this.cardHolder6My.children[2].getRotation());
                } else if (0 == index) {
                  _x = this.cardHolder6My.children[0].x;
                  _y = this.cardHolder6My.children[0].y;
                  instance.setRotation(this.cardHolder6My.children[0].getRotation());
                } else if (4 == index) {
                  _x = this.cardHolder6My.children[4].x;
                  _y = this.cardHolder6My.children[4].y;
                  instance.setRotation(this.cardHolder6My.children[4].getRotation());
                } else if (5 == index) {
                  _x = this.cardHolder6My.children[5].x;
                  _y = this.cardHolder6My.children[5].y;
                  instance.setRotation(this.cardHolder6My.children[5].getRotation());
                }
              } else if (1 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[1].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[1].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[1].getRotation());
              } else if (3 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[3].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[3].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[3].getRotation());
              } else if (2 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[2].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[2].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[2].getRotation());
              } else if (0 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[0].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[0].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[0].getRotation());
              } else if (4 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[4].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[4].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder5 : this.cardHolder6R).children[4].getRotation());
              } else if (5 == index) {
                _x = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[5].x;
                _y = (this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[5].y;
                instance.setRotation((this.node.parent.x < 0 ? this.cardHolder6 : this.cardHolder6R).children[5].getRotation());
              }
              instance.x = _x;
              instance.y = _y;
            }
          }
        }
        if (this.playerData && "FOLD" == this.playerData.lastMove) {
          this.cardHolderMy.children.forEach(function(element) {
            element.getComponent("Card").gray();
          }, this);
          this.cardHolder.children.forEach(function(element) {
            element.getComponent("Card").gray();
          }, this);
        }
      },
      clearPlayerCards: function clearPlayerCards() {
        var children = this.cardHolder.children;
        while (children.length > 0) CardPool.destroyCard(children[0], function() {});
        children = this.cardHolderShow.children;
        while (children.length > 0) CardPool.destroyCard(children[0], function() {});
        if (K.PORTRAIT && this.cardHolderMy) {
          children = this.cardHolderMy.children;
          while (children.length > 0) CardPool.destroyCard(children[0], function() {});
        }
        if (K.PORTRAIT && this.cardHolderMyShow) {
          children = this.cardHolderMyShow.children;
          while (children.length > 0) CardPool.destroyCard(children[0], function() {});
        }
        this.bestHandNode.active = false;
      },
      updateCoins: function updateCoins() {
        this.amountLabel.string = GameManager.convertChips(this.playerData.chips);
        this.updateBB();
      },
      onDestroy: function onDestroy() {
        GameScreen.node.off("grid-refreshed", this.gridRefreshedRef);
        GameManager.off("image-loaded", this.imageLoadedRef);
      },
      showChatOldie: function showChatOldie(message) {
        this.chatHead.active = true;
        var posY = this.chatLbl.node.position.y;
        var tempMsg = message;
        tempMsg.length > 12 && (message = message.substring(0, 9) + "...");
        this.chatLbl.string = message;
        this.scheduleOnce(function() {
          this.chatHead.active = false;
        }.bind(this), 1);
      },
      showChat: function showChat(message) {
        message = message.trim();
        this.chatHead.active = true;
        var showChatTime = 5;
        if (-1 == message.indexOf("<img src")) {
          this.chatLbl.string = message.substring(0, 17);
          message.length >= 17 && (this.chatLbl.string += "...");
        } else {
          var string = this.determineString(message);
          message.length > 320 ? this.chatLbl.string = string + "..." : this.chatLbl.string = string;
        }
        this.scheduleOnce(function() {
          this.chatLbl.string = "";
          this.chatHead.active = false;
        }.bind(this), showChatTime);
        5 == this.pokerPresenter.getRotatedSeatIndex(this.playerData.seatIndex) && 0 != this.cardHolder.children.length;
        1 == this.pokerPresenter.getRotatedSeatIndex(this.playerData.seatIndex);
        9 == this.pokerPresenter.getRotatedSeatIndex(this.playerData.seatIndex);
      },
      determineWidth: function determineWidth(message) {
        var numEmojis = 0;
        var tmpMsg = message;
        var ind = tmpMsg.indexOf("/>");
        while (-1 != ind) {
          numEmojis++;
          tmpMsg = tmpMsg.substring(ind + 2);
          ind = tmpMsg.indexOf("/>");
        }
        tmpMsg = message;
        var myarr = [];
        var myarr2 = [];
        for (var i = 0; i < tmpMsg.length; i++) {
          var index = tmpMsg.indexOf("<img src =");
          if (index > -1 && index < 18) {
            var start = tmpMsg.indexOf("<img");
            var end = tmpMsg.indexOf("/>") + 1;
            myarr.push(end - start + 1);
            myarr2.push(start);
            tmpMsg = tmpMsg.substring(0, start) + tmpMsg.substring(end + 1, tmpMsg.length);
          }
        }
        var count = 0;
        var limit = tmpMsg.length > 18 ? 18 : tmpMsg.length;
        for (var _i = 0; _i < limit; _i++) "t" != tmpMsg[_i] && "i" != tmpMsg[_i] && "j" != tmpMsg[_i] && "l" != tmpMsg[_i] && "j" != tmpMsg[_i] || count++;
        var width = 50 * numEmojis + 9 * count + 20 * (limit - count);
        return width;
      },
      determineString: function determineString(message) {
        var limit = message.length > 320 ? 320 : message.length;
        var finalstr = "";
        var inEmoji = false;
        var que = "";
        var start = -1;
        for (var i = 0; i < limit; i++) {
          if ("<" == message[i]) {
            inEmoji = true;
            start = i;
          }
          if (">" == message[i]) {
            inEmoji = false;
            finalstr += que;
            start = -1;
          }
          if (inEmoji) que += message[i]; else {
            que = "";
            finalstr += message[i];
          }
        }
        que && (this.isEmoji(start, message) || (finalstr += que));
        return finalstr;
      },
      isEmoji: function isEmoji(index, message) {
        var temp = message.substring(index);
        return -1 != temp.indexOf("<img") && -1 != temp.indexOf("/>");
      },
      showWinnerBanner: function showWinnerBanner() {
        this.winningNode.active = true;
        this.winningNode.children[1].active = true;
        this.winningNode.children[1].getComponent(cc.Animation).play();
      },
      hideWinningAnim: function hideWinningAnim() {
        this.winningNode.active = false;
        this.winningNode.children[1].active = this.winningNode.children[2].active = this.winningNode.children[3].active = this.winningNode.children[4].active = false;
        this.winningNode.children[3].setScale(0, 0);
        this.winningNode.children[4].opacity = 0;
        this.winningNode.children[1].getComponent(cc.Animation).stop();
        this.winningNode.children[2].getComponent(cc.Animation).stop();
        this.winningNode.children[3].getComponent(cc.Animation).stop();
        this.winningNode.children[4].getComponent(cc.Animation).stop();
      },
      showSelf: function showSelf() {
        console.log("%c[Flow/showSelf]", "Orange: Tomato;");
        if (this.playerData && this.playerData.playerId && this.playerData.playerId == GameManager.user.playerId) {
          if (this.selfPlayerHand) {
            this.selfPlayerHand.active = true;
            this.selfTimerBox.active = true;
            this.timerSprite2.node.active = true;
          }
          this.occupiedPanel.getChildByName("Player").active = false;
          this.occupiedPanel.getChildByName("Timer").active = false;
          this.cardHolder.children.forEach(function(element) {
            cc.find("FrontFace/Gray", element).active = true;
          }, this);
          this.playerBetLabel.parent.setPosition(this.playerBetHolder.position);
        }
      },
      hideSelf: function hideSelf() {
        console.log("%c[Flow/hideSelf]", "Orange: Tomato;");
        if (this.playerData && this.playerData.playerId && this.playerData.playerId == GameManager.user.playerId) {
          if (this.selfPlayerHand) {
            this.selfPlayerHand.active = false;
            this.selfTimerBox.active = false;
            this.timerSprite2.node.active = false;
          }
          this.occupiedPanel.getChildByName("Player").active = true;
          this.occupiedPanel.getChildByName("Timer").active = true;
          this.playerBetLabel.parent.setPosition(this.oldPlayerBetLabelPosition);
          this.cardHolder.children.forEach(function(element) {
            cc.find("FrontFace/Gray", element).active = false;
          }, this);
        }
      },
      graySelf: function graySelf() {
        this.playerData && this.playerData.playerId && this.playerData.playerId == GameManager.user.playerId && this.selfPlayerHand && this.selfPlayerHand.active && this.cardHolder.children.forEach(function(element) {
          element.opacity = 150;
        }, this);
      },
      graySelf2: function graySelf2() {
        if (this.playerData && this.playerData.playerId && this.playerData.playerId == GameManager.user.playerId && this.selfPlayerHand && this.selfPlayerHand.active) {
          cc.find("Timer/PFPAvatar", this.selfPlayerHand).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
          cc.find("Timer/PlayerImageMask/PlayerImage", this.selfPlayerHand).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
          this.cardHolder.children.forEach(function(element) {
            element.opacity = 150;
          }, this);
        }
      },
      ungraySelf: function ungraySelf() {
        if (this.playerData && this.playerData.playerId && this.playerData.playerId == GameManager.user.playerId && this.selfPlayerHand) {
          cc.find("Timer/PFPAvatar", this.selfPlayerHand).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
          cc.find("Timer/PlayerImageMask/PlayerImage", this.selfPlayerHand).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
          this.cardHolder.children.forEach(function(element) {
            element.opacity = 255;
          }, this);
        }
      },
      onDisconnectTime: function onDisconnectTime(turnDisplayTime) {
        this.pokerPresenter.model.off(K.PokerEvents.onTimerTick);
        if (!this.playerData) {
          cc.error("!this.playerData");
          return;
        }
        this.extra.active = false;
        this.normalTimerLbl.node.active = true;
        if (K.PORTRAIT) {
          this.normalTimerLbl.node.parent.active = true;
          this.normalTimerLbl.node.parent.children[0].active = true;
        }
        this.timerPSprite.node.active = this.timerSprite.node.parent.getChildByName("Base").active = true;
        this.imgHider.active = true;
        this.pokerPresenter.model.on(K.PokerEvents.onTimerTick, function(time, elapsed) {
          this.timerSprite.fillRange = time;
          this.normalTimerLbl.node.parent.children[0].active = true;
          this.timerSprite.fillRange < 0 && (this.timerSprite.fillRange = 0);
          this.timerSprite.fillRange > 1 && (this.timerSprite.fillRange = 1);
          this.timerSprite.node.getChildByName("Dot").x = 150 * this.timerSprite.fillRange - 75;
          0 == this.timerSprite.fillRange && (this.timerSprite.node.parent.active = false);
          this.normalTimerLbl.string = Math.abs(parseInt(elapsed));
        }.bind(this));
      },
      showPlayerInfo: function showPlayerInfo() {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getPlayerStats", {
          playerId: GameManager.user.playerId,
          range: 1
        }, function(response) {
          if (response.success) {
            console.log(response);
            inst.pokerPresenter.playerInfoPopup.active = true;
            inst.pokerPresenter.playerInfoPopup.opacity = 0;
            var anim = inst.pokerPresenter.playerInfoPopup.getComponent("AnimBase");
            null !== anim && anim.play("showPopUp", function() {});
            inst.inviteNode.active = false;
            inst.pokerPresenter.playerInfoPopup.getComponent("NewPlayerInfoPopup").onShow(inst.playerData, inst.pokerPresenter.model.gameData, response.data);
            var flag = !!inst.playerData.noteColor;
            inst.pokerPresenter.playerInfoPopup.getComponent("MobileNotePopup").init(flag, inst.playerData.noteColor, inst.playerData.noteText, inst.playerData.playerId, inst.pokerPresenter);
            inst.pokerPresenter.playerInfoPopup.getComponent("StickersPopup").init(inst.playerData.playerId, inst.pokerPresenter);
            GameManager.emit("hideJoinSimlar");
          }
        }, null, 5e3, false);
      },
      switchBB: function switchBB() {
        GameManager.isBB ? GameManager.isBB = false : GameManager.isBB = true;
        GameManager.emit("switchBB");
      },
      updateBB: function updateBB() {
        this.playerData && (this.amountLabel.node.parent.getChildByName("bb").getComponent(cc.Label).string = (Number(this.playerData.chips) / this.pokerPresenter.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB");
        this.playerBetLabel.parent.getChildByName("bb").getComponent(cc.Label).string = (Number(this.playerBetLabel.getComponent(cc.Label).__string) / this.pokerPresenter.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        if (GameManager.isBB && GameManager.user.settings.stackInBB) {
          this.playerBetLabel.active = false;
          this.playerBetLabel.parent.getChildByName("bb").active = true;
          this.amountLabel.node.opacity = 0;
          this.amountLabel.node.parent.getChildByName("bb").opacity = 255;
        } else {
          this.playerBetLabel.active = true;
          this.playerBetLabel.parent.getChildByName("bb").active = false;
          this.amountLabel.node.opacity = 255;
          this.amountLabel.node.parent.getChildByName("bb").opacity = 0;
        }
      },
      switchBBNow: function switchBBNow() {
        this.updateBB();
      },
      updateTimeBank: function updateTimeBank() {
        if (this.isSelf() && this.playerData.state != K.PlayerState.Waiting) {
          var elapsed = this.pokerPresenter.model.gameData.timeBankLeft;
          this.timeBank.children[1].getComponent(cc.Label).string = Math.abs(parseInt(elapsed));
          1 == this.timeBank.children[1].getComponent(cc.Label).string.length && (this.timeBank.children[1].getComponent(cc.Label).string = "0" + this.timeBank.children[1].getComponent(cc.Label).string);
        }
      },
      updateTimeBank2: function updateTimeBank2(val) {
        if (this.isSelf() && this.playerData.state != K.PlayerState.Waiting) {
          var elapsed = val;
          this.timeBank.children[1].getComponent(cc.Label).string = Math.abs(parseInt(elapsed));
          1 == this.timeBank.children[1].getComponent(cc.Label).string.length && (this.timeBank.children[1].getComponent(cc.Label).string = "0" + this.timeBank.children[1].getComponent(cc.Label).string);
        }
      },
      showInvite: function showInvite() {
        return;
      },
      showInviteList: function showInviteList() {
        this.playerData && this.playerData.playerId != GameManager.user.playerId && (this.inviteListNode.active = true);
      },
      hideShowInvite: function hideShowInvite() {
        this.inviteNode.active = false;
      },
      hideInviteList: function hideInviteList() {
        this.inviteListNode.active = false;
      },
      addFriend: function addFriend() {
        var _this4 = this;
        var opponent = this.playerData;
        GameManager.friendSendRequst(opponent.playerName, function(data) {
          _this4.inviteNode.active = false;
        });
      },
      onMute: function onMute() {
        var opponent = this.playerData;
        GameManager.changePlayerMute(opponent.playerId, function(data) {});
      },
      updatePlayerImageInTable: function updatePlayerImageInTable(data) {
        if (null != this.playerData && this.playerData.playerId == data.playerId) {
          this.playerData.imageAvtar = Number(data.imageAvtar) - 1;
          this.playerData.urlImg = GameManager.avatarImages[this.playerData.imageAvtar];
          this.imageLoaded(this.playerData);
        }
      },
      onBestHandsGameOver: function onBestHandsGameOver(bestHand, isWinner) {
        this.bestHandNode.active = true;
        this.bestHandNode.getChildByName("bg").getChildByName("info").getComponent(cc.Label).string = bestHand;
        this.bestHandNode.getChildByName("bg").getComponent(cc.Sprite).spriteFrame = isWinner ? this.bestHands1 : this.bestHands2;
      },
      onBestHand: function onBestHand(bestHand) {
        console.log(">>>>>>>>>> onBestHand", this.pokerPresenter.model.gameData.tableDetails.roundName);
        if (this.pokerPresenter.model.gameData.tableDetails.roundName == K.Round.Preflop) return;
        if (!this.isSelf()) return;
        this.bestHandNode.active = true;
        function extractMiddle(str) {
          var afterColon = str.includes(":") ? str.split(":")[1] : str;
          var lastCommaIndex = afterColon.lastIndexOf(",");
          var result = -1 === lastCommaIndex ? afterColon : afterColon.slice(0, lastCommaIndex).trim();
          return result;
        }
        this.bestHandNode.getChildByName("bg").getComponent(cc.Sprite).spriteFrame = this.bestHands2;
        this.bestHandNode.getChildByName("bg").getChildByName("info").getComponent(cc.Label).string = bestHand;
      },
      setNormalScale: function setNormalScale(normalScale) {
        this.normalScale = normalScale;
      },
      setGrayScale: function setGrayScale(grayScale) {
        this.grayScale = grayScale;
      }
    });
    cc._RF.pop();
  }, {
    CardTypes: "CardTypes",
    SliderTouch: "SliderTouch",
    StickerController: "StickerController"
  } ],
  PokerChipsView: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1f1b3VnRKxIR6ohPrSdiabk", "PokerChipsView");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        chipsPrefab: {
          default: [],
          type: [ cc.Prefab ]
        },
        chips: {
          default: [],
          visible: false
        },
        centerOffset: false,
        leftOffset: false,
        gridRefreshedRef: null,
        poolSize: 10,
        chipsTimer: null
      },
      onLoad: function onLoad() {
        this.gridRefreshedRef = this.gridRefreshed.bind(this);
        GameScreen.node.on("grid-refreshed", this.gridRefreshedRef);
        this.chipsPrefab.reverse();
      },
      createPool: function createPool(i) {
        this.chipsPool[this.chipsPrefab[i].name] = [];
        for (var j = 0; j < this.poolSize; j++) {
          var chip = cc.instantiate(this.chipsPrefab[i]);
          chip.active = false;
          this.chipsPool[this.chipsPrefab[i].name].push(chip);
        }
      },
      getFromPool: function getFromPool(prefabName) {
        var chip = this.chipsPool[prefabName].pop();
        chip.active = true;
        chip.name = prefabName;
        return chip;
      },
      returnToPool: function returnToPool(chip) {
        if (!!chip) {
          chip.active = false;
          chip.parent = null;
          this.chipsPool[chip.name].push(chip);
        }
      },
      onDestroy: function onDestroy() {
        GameScreen.node.off("grid-refreshed", this.gridRefreshedRef);
      },
      gridRefreshed: function gridRefreshed() {
        this.activateChips(1 == GameManager.activeTableCount || 2 == GameScreen.viewType);
      },
      generateChips: function generateChips(amount) {
        this.destroyChips();
        var con = [ 5e4, 25e3, 1e4, 5e3, 2500, 1e3, 500, 250, 100, 50, 25, 10, 5, 1 ];
        var modulus = amount % 5e4;
        var counts = [ parseInt(amount / 5e4), 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 ];
        var index = 0;
        while (modulus >= 0 && index < 13) {
          index++;
          counts[index] = parseInt(modulus / con[index]);
          modulus %= con[index];
        }
        counts.reverse();
        this.showChips(counts);
        this.activateChips(1 == GameManager.activeTableCount || 2 == GameScreen.viewType);
      },
      destroyChips: function destroyChips() {
        this.chips.forEach(function(element) {
          element && element.destroy();
        }, this);
        this.chips = [];
      },
      activateChips: function activateChips(activate) {
        this.scheduleOnce(function() {}, .05);
        this.chips.forEach(function(element) {
          element.active = activate;
        }, this);
      },
      showChips: function showChips(counts) {
        var offset = new cc.v2(40, 10);
        GameScreen.isMobile && (offset = new cc.v2(55, 10));
        var index = 0;
        var xIndex = 0;
        var yIndex = 0;
        var count = 0;
        var tempCount = [];
        counts.forEach(function(element) {
          if (element > 0) {
            count++;
            tempCount.push(0);
          }
        }, this);
        counts.forEach(function(element) {
          var x = 0;
          count > 3 && (count = 3);
          x = offset.x * (xIndex - parseInt(count / 2));
          element > 0 && (yIndex = tempCount[xIndex]);
          for (var i = 0; i < element; i++) {
            if (!this.chipsPrefab[index]) continue;
            var chip = cc.instantiate(this.chipsPrefab[index]);
            this.chips.push(chip);
            this.node.addChild(chip);
            chip.setPosition(x, offset.y * yIndex + 30);
            GameScreen.isMobile ? chip.setScale(1.5, 1.5) : chip.setScale(1.1, 1.1);
            tempCount[xIndex]++;
            yIndex++;
          }
          element > 0 && (xIndex < 2 ? xIndex++ : xIndex = 0);
          index++;
        }, this);
      }
    });
    cc._RF.pop();
  }, {} ],
  PokerModel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "327dd3OhMFE7qbHXJnSXTDe", "PokerModel");
    "use strict";
    var login = require("PostTypes").Login;
    var leaveData = require("PostTypes").LeaveData;
    var addChipsData = require("PostTypes").AddChipsData;
    var connectAckData = require("PostTypes").ConnectAckData;
    var sitOutData = require("PostTypes").SitOutData;
    var ResetSitoutData = require("PostTypes").ResetSitout;
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    var GetNote = require("PostTypes").GetNote;
    var ReplayData = require("PostTypes").ReplayData;
    var emitter = require("EventEmitter");
    var changeAvatar = require("ResponseTypes").changeAvatar;
    var card = require("CardTypes").Card;
    var suit = require("CardTypes").Suit;
    var Queue = require("Queue.src");
    var PopUpType = require("PopUpManager").PopUpType;
    var SitOutMode = cc.Enum({
      SitOutNextHand: 1,
      SitOueNextBB: 2,
      None: -1
    });
    var PokerModel = cc.Class({
      extends: emitter,
      properties: {
        gameModel: null,
        gameData: null,
        tourData: null,
        roomConfig: null,
        handTabs: [],
        timer: null,
        timeOut: null,
        chatQueue: null,
        chat: "",
        sitOutValue: null,
        dummyCardsCount: 2,
        forceBlind: [],
        gameChatInfo: [],
        chatLimit: 1,
        chatCount: 0,
        myCards: [],
        K: null,
        moveData: null,
        sitData: null,
        player: null,
        popUpManager: null,
        antiBankingTimer: null,
        number0: 0,
        number1: null
      },
      onLoad: function onLoad() {
        this.postBigBlindUserFlake = true;
        this.chatLimit = 20;
        this.K = K;
        this.moveData = require("PostTypes").MoveData;
        this.sitData = require("PostTypes").SitData;
        this.player = require("ResponseTypes").Player;
        this.valueChange = true;
        var child = this.node.children[0];
        this.presenter = child.getComponent("PokerPresenter") || child.getComponent("OFCPresenter");
      },
      onDestroy: function onDestroy() {
        this.kickPlayerOutOfTheGame(this);
        cc.director.getActionManager().removeAllActions();
        this.gameModel.removeBroadcastCallbacks(this.gameData.channelId);
      },
      initiliazePoker: function initiliazePoker(data) {
        this.chatQueue = new Queue();
        this.gameData = data.gameData;
        data.tourData && (this.tourData = data.tourData);
        this.isPrivateTable = data.tableDetails.isPrivate;
        this.roomConfig = data.roomConfig;
        this.roomConfig.tournamentType = data.roomConfig.tournamentType;
        this.roomConfig.originalMinBuyIn = this.roomConfig.minBuyIn;
        this.roomConfig.originalMaxBuyIn = this.roomConfig.maxBuyIn;
        this.roomConfig.extraAntiBankCase = false;
        this.postBigBlindUserFlake = data.isForceBlindEnable;
        this.alreadyKickingOut = false;
        if (data.roomConfig.channelVariation != this.K.Variation.OpenFaceChinesePoker && this.gameData.antibanking.isAntiBanking && this.roomConfig.minBuyIn < this.gameData.antibanking.amount) {
          this.antiBankingTimer = setTimeout(function() {
            if (this.gameData && this.roomConfig) {
              this.gameData.antibanking.isAntiBanking = false;
              this.roomConfig.extraAntiBankCase = false;
              this.roomConfig.minBuyIn = this.roomConfig.originalMinBuyIn;
              this.roomConfig.maxBuyIn = this.roomConfig.originalMaxBuyIn;
            }
          }.bind(this), 1e3 * this.gameData.antibanking.timeRemains);
          this.roomConfig.minBuyIn = this.gameData.antibanking.amount;
          if (this.roomConfig.minBuyIn >= this.roomConfig.maxBuyIn) {
            this.roomConfig.extraAntiBankCase = true;
            this.roomConfig.maxBuyIn = this.roomConfig.minBuyIn;
          }
        }
        this.sitOutValue = SitOutMode.None;
        GameManager.user && (GameManager.user.autoBuyIn = false);
        this.registerBroadcasts();
        this.onInitializePoker();
        this.generateHoleCards(this.gameData.tableDetails.boardCard, false);
        this.onGameStateChange();
        if (-1 != this.getPlayerById(this.gameData.playerId)) {
          this.myCards = this.getMyPlayer().cards;
          if (this.getMyPlayer().isTournamentSitout) {
            this.getMyPlayer().state = K.PlayerState.OnBreak;
            this.sitOutValue = SitOutMode.SitOutNextHand;
          }
          this.getMyPlayer().state === K.PlayerState.Reserved && this.emit("ReservedState", {
            extraAntiBankCase: this.roomConfig.extraAntiBankCase
          });
        }
        this.gameData.tableDetails.players.length > 0 && this.getPlayerNotes();
        this.emit(K.PokerEvents.OnJoin, this.gameData);
        if (this.gameData.tableDetails.state === K.GameState.Running) {
          if (-1 !== this.gameData.tableDetails.currentMoveIndex) if (this.gameData.tableDetails.isTimeBankUsed) {
            var totalTime = this.gameData.tableDetails.totalTimeBank;
            this.startTimerTick(totalTime, totalTime - this.gameData.tableDetails.timeBankLeft);
            this.emit(K.PokerEvents.onTimeBank);
          } else {
            var totalTime = this.gameData.tableDetails.additionalTurnTime;
            this.startTimerTick(totalTime, totalTime - this.gameData.tableDetails.remainingMoveTime);
          }
          this.emit(K.PokerEvents.onBestHand);
        }
        GameManager.playerRequestedToLeaveTable[this.gameData.channelId] = false;
        this.gameData.tableDetails.isForceRit && (this.presenter.runItTwiceCB.node.parent.active = false);
      },
      onAntiBankingUpdate: function onAntiBankingUpdate(data) {
        if (null != this.antiBankingTimer) {
          clearTimeout(this.antiBankingTimer);
          this.antiBankingTimer = null;
        }
        if (data.isAntiBanking) {
          this.roomConfig.minBuyIn = data.amount;
          this.antiBankingTimer = setTimeout(function() {
            this.gameData.antibanking.isAntiBanking = false;
            this.roomConfig.extraAntiBankCase = false;
            this.roomConfig.minBuyIn = this.roomConfig.originalMinBuyIn;
            this.roomConfig.maxBuyIn = this.roomConfig.originalMaxBuyIn;
          }.bind(this), 1e3 * data.timeRemains);
        } else {
          this.gameData.antibanking.isAntiBanking = false;
          this.roomConfig.extraAntiBankCase = false;
          this.roomConfig.minBuyIn = this.roomConfig.originalMinBuyIn;
          this.roomConfig.maxBuyIn = this.roomConfig.originalMaxBuyIn;
        }
        if (this.roomConfig.minBuyIn >= this.roomConfig.maxBuyIn) {
          this.roomConfig.extraAntiBankCase = true;
          this.roomConfig.maxBuyIn = this.roomConfig.minBuyIn;
        } else this.roomConfig.extraAntiBankCase = false;
      },
      getMyPlayer: function getMyPlayer() {
        return -1 != this.getPlayerById(this.gameData.playerId) ? this.gameData.tableDetails.players[this.getPlayerById(this.gameData.playerId)] : null;
      },
      isPlayerStandUp: function isPlayerStandUp() {
        return -1 == this.getPlayerById(this.gameData.playerId);
      },
      isMe: function isMe(playerId) {
        return playerId == this.gameData.playerId;
      },
      isSeatEmpty: function isSeatEmpty() {
        return this.roomConfig.maxPlayers > this.gameData.tableDetails.players.length;
      },
      onInitializePoker: function onInitializePoker() {
        this.isOptionalPlayerInputActive = false;
        this.optionalPlayerInput = this.node.getParent().children[0].getChildByName("OptionalPlayerInput");
        this.optionalPlayerInput.children.forEach(function(element) {
          element.children.forEach(function(childs) {
            true == childs.active && (this.isOptionalPlayerInputActive = true);
          }, this);
        }, this);
        GameManager.gameModel.activePokerModels.length >= 2 && !GameManager.isMobile && !GameManager.isWindows && 1 == GameScreen.viewType;
      },
      getPlayerBySeat: function getPlayerBySeat(seatIndex) {
        var playerIndex = -1;
        for (var index = 0; index < this.gameData.tableDetails.players.length; index++) if (this.gameData.tableDetails.players[index].seatIndex === seatIndex) {
          playerIndex = index;
          break;
        }
        return playerIndex;
      },
      getPlayerNotes: function getPlayerNotes() {
        for (var i = 0; i < this.gameData.tableDetails.players.length; i++) this.getNote(this.gameData.tableDetails.players[i].playerId);
      },
      getPlayerById: function getPlayerById(playerId) {
        var playerIndex = -1;
        for (var index = 0; index < this.gameData.tableDetails.players.length; index++) if (this.gameData.tableDetails.players[index].playerId === playerId) {
          playerIndex = index;
          break;
        }
        return playerIndex;
      },
      sitHere: function sitHere(index, buyIn, callback) {
        var data = new this.sitData(this.gameData.channelId, this.gameData.playerId, buyIn, index, this.gameData.playerName, GameManager.user.profileImage, GameManager.user.autoBuyIn);
        ServerCom.pomeloRequest(this.K.PomeloAPI.sitHere, data, function(response) {
          if (response.success) {
            null !== callback && void 0 !== callback && callback();
            this.sitOutValue = SitOutMode.None;
          } else GameManager.popUpManager.show(PopUpType.NotificationPopup, response.info, function() {});
        }.bind(this), null, 5e3, false);
      },
      leaveNextHand: function leaveNextHand(callback) {
        ServerCom.pomeloRequest("room.channelHandler.leaveNextHand", {
          channelId: this.gameData.channelId,
          playerId: this.gameData.playerId,
          isRequested: true
        }, function(response) {
          console.log("leaveNextHand", response);
          response.success && null !== callback && void 0 !== callback && callback();
        }.bind(this), null, 5e3, false);
      },
      rebuy: function rebuy(newTableId, playerId, tournamentId, callback, error) {
        ServerCom.socketIORequest("tournamentGameEvent|reBuy", {
          channelId: newTableId,
          playerId: playerId,
          tournamentId: tournamentId
        }, callback, error, null, false);
      },
      addon: function addon(newTableId, playerId, tournamentId, callback, error) {
        ServerCom.socketIORequest("tournamentGameEvent|addOn", {
          channelId: newTableId,
          playerId: playerId,
          tournamentId: tournamentId
        }, callback, error, null, false);
      },
      sitOutNextHand: function sitOutNextHand(callback) {
        var data = new sitOutData(this.gameData.channelId, this.gameData.playerId);
        ServerCom.pomeloRequest(this.K.PomeloAPI.sitOutNextHand, data, function(response) {
          response.success ? this.sitOutValue = SitOutMode.SitOutNextHand : this.sitOutValue = SitOutMode.None;
          null !== callback && void 0 !== callback && callback(response);
        }.bind(this), null, 5e3, false);
      },
      sitOutNextBB: function sitOutNextBB(callback) {
        var data = new sitOutData(this.gameData.channelId, this.gameData.playerId);
        ServerCom.pomeloRequest(this.K.PomeloAPI.sitOutNextBigBlind, data, function(response) {
          response.success && (this.sitOutValue = SitOutMode.SitOueNextBB);
          null !== callback && void 0 !== callback && callback(response);
        }.bind(this), null, 5e3, false);
      },
      resetSitout: function resetSitout(callback) {
        var data = new ResetSitoutData(this.gameData.channelId, this.gameData.playerId);
        ServerCom.pomeloRequest(this.K.PomeloAPI.resetSitout, data, function(response) {
          response.success && (this.sitOutValue = SitOutMode.None);
          null !== callback && void 0 !== callback && callback(response);
        }.bind(this), null, 5e3, false);
      },
      addChips: function addChips(chips, callback) {
        var data = new addChipsData(this.gameData.channelId, this.gameData.playerId, chips);
        ServerCom.pomeloRequest(this.K.PomeloAPI.addChips, data, function(response) {
          response.success && null !== callback && void 0 !== callback && callback();
        }, null, 5e3, false);
      },
      resume: function resume(callback) {
        var data = new sitOutData(this.gameData.channelId, this.gameData.playerId);
        ServerCom.pomeloRequest(this.K.PomeloAPI.resume, data, function(response) {
          if (response.success) {
            this.sitOutValue = SitOutMode.None;
            var playerData = this.gameData.tableDetails.players[this.getPlayerById(this.gameData.playerId)];
            playerData.state = response.state;
            if (playerData.isTournamentSitout) {
              playerData.isTournamentSitout = false;
              playerData.state = K.PlayerState.Playing;
            }
            null !== callback && void 0 !== callback && callback();
          }
        }.bind(this), null, 5e3, false);
      },
      makeMove: function makeMove(amount, action) {
        var data = new this.moveData(this.gameData.channelId, this.gameData.playerId, this.gameData.playerName, amount, action);
        data.access_token = K.Token.access_token;
        console.log("makeMove", data);
        cc.audioEngine.stopAllEffects();
        ServerCom.pomeloRequest(this.K.PomeloAPI.makeMove, data, function(response) {}, null, 5e3, false);
      },
      leave: function leave(_leave) {
        clearInterval(this.timerRef);
        var inst = this;
        var data = new leaveData(this.gameData.playerId, this.gameData.channelId, _leave);
        data.playerName = this.gameData.playerName;
        ServerCom.pomeloRequest(this.K.PomeloAPI.leaveTable, data, function(response) {
          if (response.success || inst.gameData.channelType == K.ChannelType.Tournament) {
            inst.emit(K.PokerEvents.onPlayerStandUp);
            inst.sitOutValue = SitOutMode.None;
            if (!_leave) {
              ServerCom.loading.active = true;
              ServerCom.loading.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
              inst.alreadyKickingOut = true;
              inst.kickPlayerOutOfTheGame(inst);
            }
          } else GameManager.playerRequestedToLeaveTable[inst.gameData.channelId] = false;
          !response.success && response.info && inst.leaveNextHand(function() {
            GameManager.popUpManager.show(PopUpType.NotificationPopup, "You will leave the game after this hand.", function() {});
            inst.emit("leaveNextHand");
          });
        }, null, 5e3, false, inst.gameData.channelType != K.ChannelType.Tournament);
      },
      leaveClosedTable: function leaveClosedTable() {
        clearInterval(this.timerRef);
        var inst = this;
        inst.emit(K.PokerEvents.onPlayerStandUp);
        inst.sitOutValue = SitOutMode.None;
        inst.alreadyKickingOut = true;
        inst.kickPlayerOutOfTheGame(inst);
      },
      kickPlayerOutOfTheGame: function kickPlayerOutOfTheGame(inst) {
        clearTimeout(inst.antiBankingTimer);
        this.emit("clearTimers", null);
        inst.gameModel && inst.gameModel.onLeave(inst);
      },
      postConnectedAck: function postConnectedAck() {
        var data = new connectAckData(this.gameData.channelId, this.gameData.playerId);
        ServerCom.pomeloRequest(this.K.PomeloAPI.connectionAck, data, function(response) {
          response.success;
        }, null, 5e3, false);
      },
      setStraddleSelection: function setStraddleSelection(selection) {
        var data = new SetPlayerValData(this.gameData.channelId, this.gameData.playerId, "isStraddleOpted", selection);
        ServerCom.pomeloRequest(this.K.PomeloAPI.setPlayerValOnTable, data, function(response) {
          response.success;
        }, null, 5e3, false);
      },
      setPostBigBlind: function setPostBigBlind(selection) {
        var data = new SetPlayerValData(this.gameData.channelId, this.gameData.playerId, "isForceBlindEnable", selection);
        this.postBigBlindUserFlake = selection;
        ServerCom.pomeloRequest(this.K.PomeloAPI.setPlayerValOnTable, data, function(response) {
          response.success;
        }, null, 5e3, false);
      },
      setRunItTwice: function setRunItTwice(selection, callback) {
        var data = new SetPlayerValData(this.gameData.channelId, this.gameData.playerId, "isRunItTwice", selection);
        ServerCom.pomeloRequest(this.K.PomeloAPI.setPlayerValOnTable, data, function(response) {
          !callback || callback(response);
          response.success;
        }, null, 5e3, false);
      },
      getNote: function getNote(playerId) {
        var data = new GetNote(GameManager.user.playerId, playerId);
      },
      updateNotes: function updateNotes(playerId, color, notes) {
        this.gameData.tableDetails.players[this.getPlayerById(playerId)].noteColor = color;
        this.gameData.tableDetails.players[this.getPlayerById(playerId)].noteText = notes;
        this.emit(K.PokerEvents.onPlayerNotes, playerId);
      },
      getHandTab: function getHandTab() {
        var data = {};
        data.channelId = this.gameData.channelId;
        this.handTabs = [];
        ServerCom.pomeloRequest(this.K.PomeloAPI.getHandTab, data, function(response) {
          if (response.success) {
            response.handHistory.forEach(function(element) {
              this.handTabs.push(element);
            }, this);
            this.emit(K.PokerEvents.onHandTab, this);
          }
        }.bind(this), null, 5e3, false, false);
      },
      getHandHistory: function getHandHistory(handHistoryId, callback, newJohnnyDetail) {
        void 0 === newJohnnyDetail && (newJohnnyDetail = false);
        var data = {};
        data.channelId = this.gameData.channelId;
        data.handHistoryId = handHistoryId;
        ServerCom.pomeloRequest(this.K.PomeloAPI.getHandHistory, data, function(response) {
          if (response.success) {
            var newData = {
              heading: "Hand History",
              info: response.handHistory.historyLog
            };
            newJohnnyDetail || (GameScreen.isMobile && false ? GameManager.popUpManager.show(PopUpType.HandHistoryPopup, newData, function() {}) : this.popUpManager.show(PopUpType.HandHistoryPopup, newData, function() {}));
            !callback || callback(newData);
          }
        }.bind(this), null, 5e3, false, true);
      },
      showHandHistoryDetail: function showHandHistoryDetail() {
        this.popUpManager.show(PopUpType.HandHistoryDetailPopup, {}, function() {});
      },
      setAutoRebuyCheckbox: function setAutoRebuyCheckbox() {
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.channelId = this.gameData.channelId;
        ServerCom.pomeloRequest(this.K.PomeloAPI.setAutoRebuy, data, function(response) {
          response.success && callback && callback(response);
        }.bind(this), null, 5e3, false, false);
      },
      setDoubleRebuy: function setDoubleRebuy() {
        var data = {};
        data.playerId = "";
        data.channelId = "";
        ServerCom.pomeloRequest(this.K.PomeloAPI.setDoubleRebuy, data, function(response) {
          response.success && callback && callback(response);
        }.bind(this), null, 5e3, false, false);
      },
      saveReplay: function saveReplay() {
        var replayData = new ReplayData(this.gameData.channelId, this.gameData.tableDetails.roundId, JSON.parse(cc.sys.localStorage.getItem(this.gameData.channelId)));
        ServerCom.pomeloRequest(this.K.PomeloAPI.saveVideo, replayData, function(response) {
          response.success;
        }.bind(this), null, 5e3, false, true);
      },
      getVideo: function getVideo(videoLogId, callback) {
        var data = {};
        data.videoLogId = videoLogId;
        ServerCom.pomeloRequest(this.K.PomeloAPI.getVideo, data, function(response) {
          response.success && (!callback || callback(response));
        }.bind(this), null, 5e3, false, true);
      },
      fireMuckHandEvent: function fireMuckHandEvent() {
        var input = {};
        input.channelId = this.gameData.channelId;
        input.data = {
          seatIdx: this.getMyPlayer().seatIndex
        };
        input.route = this.K.BroadcastRoute.onFireEvent;
        ServerCom.pomeloRequest(this.K.PomeloAPI.fireChannelEvent, input, function(response) {
          response.success;
        }.bind(this), null, 5e3, false, true);
      },
      registerBroadcasts: function registerBroadcasts() {
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.sit, this.onSit.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.blindDeduction, this.onBlindDeducted.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.bankrupt, this.onBankrupt.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.gamePlayers, this.onGamePlayers.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.dealerrChat, this.onDealerChat.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.startGame, this.onGameStart.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.turn, this.onMoveMade.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.roundOver, this.onRoundOver.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.gameOver, this.onGameOver.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.leave, this.onLeft.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.chat, this.onChat.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.playerCards, this.onPlayerCards.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.playerState, this.onPlayerStateChange.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.connectionAck, this.onConnectionAck.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.preCheck, this.onPreCheck.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.playerCoins, this.onPlayerCoins.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.avatarChange, this.onAvatarChange.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.handTab, this.onHandTab.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.bestHands, this.onBestHands.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.onTimeBank, this.onTimeBank.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.onFireEvent, this.onFireEvent.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.antiBankingUpdatedData, this.onAntiBankingUpdate.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BroadcastRoute.sendSticker, this.onSendSticker.bind(this));
        this.gameModel.registerBroadcastCallbacks(this.gameData.channelId, this.K.BuddyBroadcast.friendRequestReceived, this.onFriendRequestReceived.bind(this));
      },
      onFriendRequestReceived: function onFriendRequestReceived(response) {
        console.log("onFriendRequestReceived Broadcast ", response);
      },
      onFireEvent: function onFireEvent(response) {
        void 0 != response.seatIdx && null != response.seatIdx || (response.seatIdx = response.seatIndex);
        this.getMyPlayer() && response.seatIdx == this.getMyPlayer().seatIndex || this.emit(K.PokerEvents.onChannelEvent, response.seatIdx);
      },
      onTimeBank: function onTimeBank(data) {
        var playerIndex = this.getPlayerById(data.playerId);
        if (-1 === playerIndex) return;
        var playerData = this.gameData.tableDetails.players[playerIndex];
        this.gameData.tableDetails.currentMoveIndex == playerData.seatIndex && this.startTimerTick(data.totalTimeBank);
        this.emit(K.PokerEvents.onTimeBank, data);
      },
      onGameOver: function onGameOver(data) {
        var temp = {};
        for (var i = 0; i < data.cardsToShow.length; i++) temp[data.cardsToShow[i].playerId] = data.cardsToShow[i].cards;
        data.cardsToShow = temp;
        var cardsToShowPlayers = [];
        data.winners.forEach(function(element) {
          if (!this.gameData.tableDetails.players[this.getPlayerById(element.playerId)]) return;
          this.isVideo || (this.gameData.tableDetails.players[this.getPlayerById(element.playerId)].chips = element.chips);
          this.gameData.tableDetails.players[this.getPlayerById(element.playerId)].__isMuckHand = element.isMuckHand;
        }, this);
        var id = null;
        if (data.endingType != K.GameEndType.OnePlayerLeft) for (id in data.cardsToShow) {
          var player = null;
          if (this.gameData.tableDetails.players[this.getPlayerById(id)]) {
            player = this.gameData.tableDetails.players[this.getPlayerById(id)];
            cardsToShowPlayers.push(player.seatIndex);
            player.cards = data.cardsToShow[id];
          }
        }
        data.gameOverBestHands && this.onBestHandsGameOver(data.gameOverBestHands, data.winners);
        this.clearTotalRoundBet();
        this.gameData.tableDetails.roundMaxBet = 0;
        this.gameData.tableDetails.state = K.GameState.GameOver;
        this.onGameStateChange();
        this.clearTimerTick();
        this.emit(K.PokerEvents.onTurnInOtherRoom, this, false);
        this.emit(K.PokerEvents.OnGameOver, data, cardsToShowPlayers);
      },
      onSit: function onSit(data) {
        if (-1 == this.getPlayerById(data.playerId)) {
          var newPlayer = new this.player(data);
          var index = this.gameData.tableDetails.players.push(newPlayer);
          this.getNote(data.playerId);
          this.emit(K.PokerEvents.OnSit, newPlayer, index - 1);
        }
      },
      updateTotalPot: function updateTotalPot() {
        this.gameData.tableDetails.totalPot = 0;
        for (var index = 0; index < this.gameData.tableDetails.pot.length; index++) this.gameData.tableDetails.totalPot += this.gameData.tableDetails.pot[index];
      },
      onBlindDeducted: function onBlindDeducted(data) {
        var temp = {};
        for (var i = 0; i < data.forceBlind.length; i++) temp[data.forceBlind[i].playerId] = data.forceBlind[i].chips;
        data.forceBlind = temp;
        var id = "";
        for (id in data.forceBlind) {
          var player = this.gameData.tableDetails.players[this.getPlayerById(id)];
          if (player.seatIndex != data.smallBlindIndex && player.seatIndex != data.bigBlindIndex && player.seatIndex != data.straddleIndex) {
            this.gameData.tableDetails.players[this.getPlayerById(id)].totalRoundBet = data.forceBlind[id];
            this.gameData.tableDetails.players[this.getPlayerById(id)].chips = this.gameData.tableDetails.players[this.getPlayerById(id)].chips - data.forceBlind[id];
          }
        }
        this.roomConfig.smallBlind = data.tableSmallBlind;
        this.roomConfig.bigBlind = data.tableBigBlind;
        this.gameData.tableDetails.pot = data.pot;
        this.gameData.tableDetails.totalPot = data.totalPot;
        this.gameData.tableDetails.players.forEach(function(player) {
          if (data.ante) {
            player.ante = data.ante[player.playerId] || 0;
            player.chips -= data.ante[player.playerId] || 0;
          }
          if (player.seatIndex === data.smallBlindIndex) {
            player.totalRoundBet = data.smallBlind;
            player.chips = data.smallBlindChips;
          } else if (player.seatIndex === data.bigBlindIndex) {
            player.totalRoundBet = data.bigBlind;
            player.chips = data.bigBlindChips;
          } else if (player.seatIndex === data.straddleIndex) {
            if (-1 === data.straddleChips) return;
            player.totalRoundBet = player.chips - data.straddleChips;
            player.chips = data.straddleChips;
          }
        }, this);
        this.emit(K.PokerEvents.OnBlindDeduction, data);
      },
      onBankrupt: function onBankrupt(data) {
        data.playerId === this.gameData.playerId && this.emit(K.PokerEvents.OnBankrupt, {});
      },
      onMoveMade: function onMoveMade(data) {
        "" != data.playerId && this.gameData.tableDetails.players[this.getPlayerById(data.playerId)] && (this.gameData.tableDetails.players[this.getPlayerById(data.playerId)].totalRoundLastBet = data.lastPlayerBet + this.gameData.tableDetails.players[this.getPlayerById(data.playerId)].totalRoundBet);
        data.isRoundOver && this.clearTotalRoundBet();
        this.gameData.tableDetails.currentMoveIndex = "" === data.currentMoveIndex ? -1 : data.currentMoveIndex;
        this.gameData.tableDetails.roundMaxBet = data.roundMaxBet;
        this.gameData.tableDetails.pot = data.pot;
        this.gameData.tableDetails.totalPot = data.totalPot;
        this.gameData.tableDetails.minRaiseAmount = data.minRaiseAmount;
        this.gameData.tableDetails.maxRaiseAmount = data.maxRaiseAmount;
        var index;
        if ("" != data.playerId && this.gameData.tableDetails.players[this.getPlayerById(data.playerId)]) {
          index = this.getPlayerById(data.playerId);
          this.gameData.tableDetails.players[index].chips = data.chips;
          this.gameData.tableDetails.players[index].lastMove = data.action;
          this.gameData.tableDetails.players[index].lastBet = data.amount;
          this.gameData.tableDetails.players[index].moves = data.moves;
          this.gameData.tableDetails.players[index].totalRoundBet = data.totalRoundBet;
        } else index = null;
        this.gameData.tableDetails.roundName = data.roundName;
        if (-1 != this.gameData.tableDetails.currentMoveIndex) if (data.isRoundOver) {
          this.clearTimerTick();
          setTimeout(function() {
            cc.isValid(this.node) && this.startTimerTick(this.gameData.tableDetails.turnTime);
          }.bind(this), 1400);
        } else this.startTimerTick(this.gameData.tableDetails.turnTime); else this.clearTimerTick();
        this.emit(K.PokerEvents.OnTurn, data, index);
      },
      clearTotalRoundBet: function clearTotalRoundBet() {
        for (var index = 0; index < this.gameData.tableDetails.players.length; index++) this.gameData.tableDetails.players[index].totalRoundBet = 0;
      },
      onGameStateChange: function onGameStateChange() {
        null !== this.timeOut && clearTimeout(this.timeOut);
        this.emit(K.PokerEvents.onGameStateChange, this.gameData.tableDetails.state);
      },
      onGamePlayers: function onGamePlayers(data) {
        if (this.isVideo) return;
        this.gameData.tableDetails.boardCard = [ [], [] ];
        for (var index = 0; index < data.players.length; index++) {
          var playerIndex = this.getPlayerById(data.players[index].playerId);
          var playerData = this.gameData.tableDetails.players[playerIndex];
          playerData.reset(data.players[index]);
          this.emit(K.PokerEvents.OnPlayerStateChange, playerData);
        }
        this.gameData.tableDetails.state = K.GameState.Idle;
        this.onGameStateChange();
        for (var playerIndex = this.gameData.tableDetails.players.length - 1; playerIndex >= 0; playerIndex--) {
          console.log("1this.gameData.tableDetails.players", playerIndex);
          console.log("1this.gameData.tableDetails.players", this.gameData.tableDetails.players[playerIndex].playerId);
          var isContinuing = false;
          for (var index = 0; index < data.players.length; index++) this.gameData.tableDetails.players[playerIndex].playerId === data.players[index].playerId && (isContinuing = true);
          if (!isContinuing) {
            var params = {};
            params.playerId = this.gameData.tableDetails.players[playerIndex].playerId;
            console.log("!isContinuing", params.playerId);
            this.onLeft(params);
          }
        }
        this.clearTotalRoundBet();
        this.emit(K.PokerEvents.OnClearHoleCards);
        this.gameData.tableDetails.roundMaxBet = 0;
        for (var index = 0; index < data.removed.length; index++) if (!!data.removed[index]) {
          var params = {};
          params.playerId = data.removed[index];
          this.onLeft(params);
        }
        if (!!this.getMyPlayer()) {
          var playerData = this.getMyPlayer();
          if (playerData.state === K.PlayerState.Playing) {
            var params = {};
            params.seatIndex = playerData.seatIndex;
            this.emit(K.PokerEvents.onRotateView, params);
          } else if (playerData.state === K.PlayerState.OutOfMoney) {
            this.roomConfig.minBuyIn = this.roomConfig.originalMinBuyIn;
            this.roomConfig.maxBuyIn = this.roomConfig.originalMaxBuyIn;
            this.emit(K.PokerEvents.OnBankrupt, {});
          }
          if (playerData.isTournamentSitout) {
            playerData.state = K.PlayerState.OnBreak;
            this.sitOutValue = SitOutMode.SitOutNextHand;
          }
          playerData.state === K.PlayerState.OnBreak && (this.sitOutValue = SitOutMode.SitOutNextHand);
          this.emit(K.PokerEvents.onBestHand);
        }
        this.emit(K.PokerEvents.OnGamePlayers);
      },
      startTimerTick: function startTimerTick(duration, startTime) {
        this.clearTimerTick();
        var currentTime = new Date();
        var offset = 0;
        if (arguments.length > 1) var offset = 1e3 * startTime;
        var endTime = currentTime.getTime() + 1e3 * duration;
        var time;
        this.timer = setInterval(function() {
          currentTime = new Date();
          var elapsed = (endTime - currentTime - offset) / 1e3;
          time = elapsed / duration;
          if (time <= 0) {
            this.emit(K.PokerEvents.onTimerTick, time, elapsed);
            this.clearTimerTick();
            return;
          }
          elapsed = Math.floor(elapsed);
          this.emit(K.PokerEvents.onTimerTick, time, elapsed);
        }.bind(this), 100);
      },
      clearTimerTick: function clearTimerTick() {
        if (null !== this.timer && void 0 !== this.timer) {
          clearInterval(this.timer);
          this.timer = null;
        }
      },
      onPlayerStateChange: function onPlayerStateChange(data) {
        var playerIndex = this.getPlayerById(data.playerId);
        if (-1 === playerIndex) return;
        var playerData = this.gameData.tableDetails.players[playerIndex];
        playerData.state = data.state;
        data.playerId == this.gameData.playerId && playerData.state == K.PlayerState.OnBreak && (this.sitOutValue = SitOutMode.SitOutNextHand);
        playerData.state == K.PlayerState.Disconnected && this.gameData.tableDetails.currentMoveIndex == this.gameData.tableDetails.players[playerIndex].seatIndex && data.resetTimer && this.startTimerTick(this.gameData.tableDetails.extraTurnTime);
        this.emit(K.PokerEvents.OnPlayerStateChange, playerData);
        this.emit(K.PokerEvents.onBestHand);
      },
      onLeft: function onLeft(data) {
        console.log("onLeft1");
        if (this.alreadyKickingOut) return;
        console.log("onLeft2");
        var player = null;
        var index = this.getPlayerById(data.playerId);
        console.log("onLeft3");
        if (-1 !== index) {
          console.log("onLeft4");
          player = this.gameData.tableDetails.players.splice(index, 1);
        } else {
          console.log("onLeft5");
          if (this.isMe(data.playerId)) {
            console.log("onLeft6");
            this.kickPlayerOutOfTheGame(this);
          }
        }
        console.log("onLeft7");
        this.emit(K.PokerEvents.OnLeave, player);
      },
      onGameStart: function onGameStart(data) {
        this.gameData.tableDetails.dealerIndex = data.dealerIndex;
        this.gameData.tableDetails.smallBlindIndex = data.smallBlindIndex;
        this.gameData.tableDetails.bigBlindIndex = data.bigBlindIndex;
        this.gameData.tableDetails.straddleIndex = data.straddleIndex;
        this.gameData.tableDetails.currentMoveIndex = void 0 == data.currentMoveIndex ? -1 : data.currentMoveIndex;
        this.gameData.tableDetails.bigBlind = data.bigBlind;
        this.gameData.tableDetails.smallBlind = data.smallBlind;
        this.gameData.tableDetails.roundMaxBet = data.roundMaxBet;
        this.gameData.tableDetails.state = data.state;
        this.gameData.tableDetails.roundName = data.roundName;
        this.gameData.tableDetails.minRaiseAmount = data.minRaiseAmount;
        this.gameData.tableDetails.maxRaiseAmount = data.maxRaiseAmount;
        this.gameData.tableDetails.roundId = data.roundId;
        this.gameData.tableDetails.roundNumber = data.roundNumber;
        this.onGameStateChange();
        this.emit(K.PokerEvents.OnStartGame, data);
      },
      handleDefaultRunItTwice: function handleDefaultRunItTwice() {
        if (this.gameData.tableDetails.isForceRit && !this.isPlayerStandUp() && this.getMyPlayer().state != K.PlayerState.OnBreak) {
          this.presenter.runItTwiceCB.node.parent.active = false;
          this.setRunItTwice(true, function(response) {}.bind(this));
        }
      },
      handlePlayerCards: function handlePlayerCards(playerCards) {
        this.gameData.tableDetails.players.forEach(function(element) {
          var card = playerCards[element.playerId];
          var array = card;
          element.cards = array;
        }, this);
      },
      getSuit: function getSuit(suit) {
        if ("spade" === suit) return K.Suit.Spade;
        if ("heart" === suit) return K.Suit.Heart;
        if ("club" === suit) return K.Suit.Club;
        if ("diamond" === suit) return K.Suit.Diamond;
      },
      generateHoleCards: function generateHoleCards(boardCards, ifAnimateHoleCards) {
        void 0 === ifAnimateHoleCards && (ifAnimateHoleCards = true);
        var array = [ [], [] ];
        var i = 0;
        boardCards.forEach(function(element) {
          element.forEach(function(element1) {
            if (!element1) array[i].push(null); else {
              var suit = this.getSuit(element1.type);
              var cardType = new card(element1.rank, suit);
              array[i].push(cardType);
            }
          }, this);
          i++;
        }, this);
        this.emit(K.PokerEvents.OnHoleCard, array, ifAnimateHoleCards);
      },
      onRoundOver: function onRoundOver(data) {
        var _this = this;
        var t = 1;
        this.number0 = data.boardCard[0].length;
        this.number1 = data.boardCard[1].length;
        this.gameData.tableDetails.roundName = data.roundName;
        this.emit(K.PokerEvents.OnRoundOver, data);
        data.roundName == K.Round.Showdown && 0 != data.boardCard[1].length && this.gameData.tableDetails.boardCard[0].forEach(function(element) {
          _this.gameData.tableDetails.boardCard[1].push(null);
        });
        var i = 0;
        data.boardCard.forEach(function(element) {
          element.forEach(function(card) {
            this.gameData.tableDetails.boardCard[i].push(card);
          }, this);
          i++;
        }, this);
        var tmpArray = this.gameData.tableDetails.boardCard[0].filter(function(item, index, arr) {
          return !item || index === arr.findIndex(function(secondItem) {
            return !!secondItem && secondItem.rank == item.rank && secondItem.type == item.type;
          });
        });
        this.gameData.tableDetails.boardCard[0].length = 0;
        tmpArray.forEach(function(element) {
          this.gameData.tableDetails.boardCard[0].push(element);
        }, this);
        var tmpArray2 = this.gameData.tableDetails.boardCard[1].filter(function(item, index, arr) {
          return !item || index === arr.findIndex(function(secondItem) {
            return !!secondItem && secondItem.rank == item.rank && secondItem.type == item.type;
          });
        });
        this.gameData.tableDetails.boardCard[1].length = 0;
        tmpArray2.forEach(function(element) {
          this.gameData.tableDetails.boardCard[1].push(element);
        }, this);
        5 == this.number0 && 5 == this.number1 ? t = 3e3 : 5 == this.number0 && 0 == this.number1 && (t = 2e3);
        setTimeout(function() {
          cc.isValid(this.node) && (!this.gameData || this.generateHoleCards(this.gameData.tableDetails.boardCard));
        }.bind(this), t);
      },
      gameChat: function gameChat(event, richTextCode1, richTextCode2, chatterName, data) {
        event == K.PokerEvents.OnChat && (this.chat = data.message + "||" + (Number(data.profileImage) - 1));
        data.orgMsg = data.message;
        data.message = richTextCode1 + chatterName + ": " + richTextCode2 + data.message + "</c>";
        this.emit(event, data);
      },
      onDealerChat: function onDealerChat(data) {
        this.gameData.settings.dealerChat && this.emit(K.PokerEvents.OnDealerChat, data);
      },
      onChat: function onChat(data) {
        if (data.playerId && GameManager.isPlayerMute(data.playerId)) return;
        this.gameData.settings.playerChat && !this.isPlayerStandUp() && this.emit(K.PokerEvents.OnChat, data);
      },
      onPlayerCards: function onPlayerCards(data) {
        var index = this.getPlayerById(data.playerId);
        var array = data.cards;
        this.gameData.tableDetails.players[index].cards = array;
        var cardType = [];
        array.forEach(function(cardData) {
          var suit = this.getSuit(cardData.type);
          cardType.push(new card(cardData.rank, suit));
        }, this);
        data.playerId == this.gameData.playerId && (this.myCards = array);
        this.emit(K.PokerEvents.OnPlayerCard, cardType, this.gameData.tableDetails.players[index].seatIndex);
      },
      onConnectionAck: function onConnectionAck(data) {
        this.postConnectedAck();
      },
      onPreCheck: function onPreCheck(data) {
        this.emit(K.PokerEvents.onPreCheck, data);
      },
      onPlayerCoins: function onPlayerCoins(data) {
        var index = this.getPlayerById(data.playerId);
        this.gameData.tableDetails.players[index].chips = data.amount;
        this.emit(K.PokerEvents.onPlayerCoins, this.gameData.tableDetails.players[index]);
      },
      onAvatarChange: function onAvatarChange(data) {
        var player = this.gameData.tableDetails.players[this.getPlayerById(data.playerId)];
        player && changeAvatar(data.avtarImage, player);
      },
      onSendSticker: function onSendSticker(data) {
        GameManager.emit(K.PokerEvents.onSendSticker, data);
      },
      onHandTab: function onHandTab(data) {
        this.handTabs || (this.handTabs = []);
        this.handTabs.length > 10 && this.handTabs.shift();
        data.handTab.myCards = this.myCards;
        this.myCards = [];
        this.handTabs.push(data.handTab);
        this.emit(K.PokerEvents.onHandTab, this);
      },
      onBestHands: function onBestHands(data) {
        if (!this.gameData.showHandStrength) return;
        if (!!this.getMyPlayer()) {
          this.getMyPlayer().bestHand = data.bestHand;
          var playerIndex = this.getPlayerById(data.playerId);
          this.presenter.getPlayerByIdx(playerIndex).onBestHand(data.bestHand);
          this.emit(K.PokerEvents.onBestHand);
        }
      },
      onBestHandsGameOver: function onBestHandsGameOver(data, winners) {
        for (var i = 0; i < data.length; i++) {
          var playerIndex = this.getPlayerById(data[i].playerId);
          if (-1 != playerIndex) {
            var player = this.presenter.getPlayerByIdx(playerIndex);
            if (player) {
              var isWinner = false;
              for (var j = 0; j < winners.length; j++) if (winners[j].playerId == data[i].playerId) {
                isWinner = true;
                break;
              }
              player.onBestHandsGameOver(data[i].bestHand, isWinner);
            }
          }
        }
      },
      onRebuyActivated: function onRebuyActivated(data) {
        this.emit("rebuyActivated", data);
      },
      onRebuyDeactivated: function onRebuyDeactivated(data) {
        this.emit("rebuyDeactivated", data);
      },
      onResRebuy: function onResRebuy(data) {
        this.emit("resRebuy", data);
      },
      onResAddon: function onResAddon(data) {
        this.emit("resAddon", data);
      },
      onInactiveKicked: function onInactiveKicked(data) {
        this.emit("inactiveKicked", data);
      },
      onTournamentCancelled: function onTournamentCancelled(data) {
        this.emit("TournamentCancelled", data);
      },
      getCardByData: function getCardByData(cardData) {
        var suit = this.getSuit(cardData.type);
        return new card(cardData.rank, suit);
      },
      onPlayerRankChange: function onPlayerRankChange(response) {
        this.emit(K.PokerEvents.onPlayerRankChange, response);
      },
      setMuckHand: function setMuckHand(selection, callback) {
        var data = new SetPlayerValData(this.gameData.channelId, this.gameData.playerId, "isMuckHand", selection);
        ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
          response.success && (this.gameData.settings.isMuckHand = !this.gameData.settings.isMuckHand);
          !callback || callback(response);
        }.bind(this), null, 5e3, false);
      }
    });
    module.exports = {
      SitOutMode: SitOutMode,
      PokerModel: PokerModel
    };
    cc._RF.pop();
  }, {
    CardTypes: "CardTypes",
    EventEmitter: "EventEmitter",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    "Queue.src": "Queue.src",
    ResponseTypes: "ResponseTypes"
  } ],
  PokerPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "36209yBeoRPuq+HLaSgpMyD", "PokerPresenter");
    "use strict";
    var PokerModelType = require("PokerModel").PokerModel;
    var BetBtnUtilType = require("BetBtnUtil");
    var PlayerPresenterType = require("PlayerPresenter");
    var PopupManagerType = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var card = require("CardTypes").Card;
    var suit = require("CardTypes").Suit;
    var OptionalPlayerInputManager = require("OptionalPlayerInput");
    var PotSplitterType = require("PotSplitter");
    var CardDistributerType = require("CardDistributer");
    var Checkbox = require("Checkbox");
    var SitOutMode = require("PokerModel").SitOutMode;
    var wasPaused = false;
    var isPaused = false;
    var prevDelay = 0;
    var StickerController = require("StickerController");
    var Toggle = require("Toggle");
    var LoginData = require("PostTypes").Login;
    cc.Class({
      extends: cc.Component,
      properties: {
        addChipsButton: {
          default: null,
          type: cc.Node
        },
        BBToggle: {
          default: null,
          type: Toggle
        },
        inviteFirendsList: {
          default: null,
          type: cc.Node
        },
        breakInfoNode: {
          default: null,
          type: cc.Node
        },
        breakInfoPopupNode: {
          default: null,
          type: cc.Node
        },
        tourStartNode: {
          default: null,
          type: cc.Node
        },
        tourStartLabel: {
          default: null,
          type: cc.Label
        },
        realBetBtn: {
          default: null,
          type: cc.Node
        },
        realRaiseBtn: {
          default: null,
          type: cc.Node
        },
        playerChatBtn: {
          default: null,
          type: cc.Node
        },
        tableTheme: {
          default: null,
          type: cc.Node
        },
        settingAvatar: {
          default: null,
          type: cc.Node
        },
        dealerChatToggle: {
          default: null,
          type: Toggle
        },
        ChatToggle: {
          default: null,
          type: Toggle
        },
        dealerChatBtn: {
          default: null,
          type: cc.Node
        },
        playreChatBtn: {
          default: null,
          type: cc.Node
        },
        reportBug: {
          default: null,
          type: cc.Node
        },
        tableClosed: {
          default: null,
          type: cc.Node
        },
        playerInfoPopup: {
          default: null,
          type: cc.Node
        },
        gameOptionButton: {
          default: null,
          type: cc.Node
        },
        gameResultButton: {
          default: null,
          type: cc.Node
        },
        gameLeaveButton: {
          default: null,
          type: cc.Node
        },
        gameResult: {
          default: null,
          type: cc.Node
        },
        model: {
          default: null,
          type: PokerModelType
        },
        playerName: {
          default: null,
          type: cc.Label
        },
        playerTribeName: {
          default: null,
          type: cc.Label
        },
        tournamentTableName: {
          default: null,
          type: cc.Label
        },
        image: {
          default: null,
          type: cc.Sprite
        },
        stickerCtrl: {
          default: null,
          type: StickerController
        },
        popUpManager: {
          default: null,
          type: PopupManagerType
        },
        ninePlayerView: {
          default: null,
          type: cc.Prefab
        },
        eightPlayerView: {
          default: null,
          type: cc.Prefab
        },
        sevenPlayerView: {
          default: null,
          type: cc.Prefab
        },
        sixPlayerView: {
          default: null,
          type: cc.Prefab
        },
        fivePlayerView: {
          default: null,
          type: cc.Prefab
        },
        fourPlayerView: {
          default: null,
          type: cc.Prefab
        },
        threePlayerView: {
          default: null,
          type: cc.Prefab
        },
        twoPlayerView: {
          default: null,
          type: cc.Prefab
        },
        rightSeatPrefab: {
          default: null,
          type: cc.Prefab
        },
        leftSeatPrefab: {
          default: null,
          type: cc.Prefab
        },
        placeholderParent: {
          default: null,
          type: cc.Node
        },
        placeHolder: {
          default: null,
          type: cc.Node
        },
        tiledToggle: {
          default: null,
          type: cc.Node
        },
        untiledToggle: {
          default: null,
          type: cc.Node
        },
        callAmountLabel: {
          default: null,
          type: cc.Label
        },
        mobileCallAmountLabel: {
          default: null,
          type: cc.Label
        },
        playerInputNode: {
          default: null,
          type: cc.Node
        },
        raisePanelNode: {
          default: null,
          type: cc.Node
        },
        playerInput: {
          default: [],
          type: cc.Node
        },
        mobilePlayerInput: {
          default: [],
          type: cc.Node
        },
        isMobile: false,
        optionalPlayerInput: {
          default: null,
          type: OptionalPlayerInputManager
        },
        betBtnSlider: {
          default: null,
          type: BetBtnUtilType
        },
        tileBetBtnSlider: {
          default: null,
          type: BetBtnUtilType
        },
        cardPrefab: {
          default: null,
          type: cc.Prefab
        },
        holeCardHolder: {
          default: null,
          type: cc.Node
        },
        runItTwiceHolder: {
          default: null,
          type: cc.Node
        },
        holeCardsWithTwiceHolder: {
          default: null,
          type: cc.Node
        },
        playerHand: {
          default: [],
          type: [ PlayerPresenterType ]
        },
        potAmount: {
          default: [],
          type: cc.Node
        },
        gameOverLabel: {
          default: null,
          type: cc.Label
        },
        resetTimer: {
          default: null
        },
        potAnimator: {
          default: null,
          type: PotSplitterType
        },
        cardDistributer: {
          default: null,
          type: CardDistributerType
        },
        indexOffset: {
          default: 0
        },
        maxSeatIndex: {
          default: 9
        },
        selfSeatIndex: {
          default: 5
        },
        roomNameLbl: {
          default: null,
          type: cc.Label
        },
        roomNameLbl2: {
          default: null,
          type: cc.Label
        },
        table: {
          default: null,
          type: cc.Sprite
        },
        tableColors: {
          default: [],
          type: cc.SpriteFrame
        },
        tableHighlightColors: {
          default: [],
          type: cc.SpriteFrame
        },
        colorChangeCb: {
          default: null
        },
        highlightBg: {
          default: null,
          type: cc.Sprite
        },
        highLightCheckbox: {
          default: null,
          type: Checkbox
        },
        sitOutNextHandCheckBox: {
          default: null,
          type: Checkbox
        },
        leaveNextHandCheckBox: {
          default: null,
          type: Checkbox
        },
        leaveNextHandTag: {
          default: null,
          type: cc.Node
        },
        straddleCheckBox: {
          default: null,
          type: Checkbox
        },
        autoBuyInCheckBox: {
          default: null,
          type: Checkbox
        },
        autoAddOnCheckBox: {
          default: null,
          type: Checkbox
        },
        tiledView: {
          default: null,
          type: cc.Node
        },
        unTiledView: {
          default: null,
          type: cc.Node
        },
        resumeBtn: {
          default: null,
          type: cc.Node
        },
        sitOutBtns: {
          default: null,
          type: cc.Node
        },
        totalPotLbl: {
          default: null,
          type: cc.Label
        },
        postBigBlindCheckBox: {
          default: null,
          type: Checkbox
        },
        cardTimers: null,
        K: null,
        rebuyBtn: {
          default: null,
          type: cc.Node
        },
        tournamentInfo: {
          default: null,
          type: cc.Node
        },
        tournamentDetailInfo: {
          default: null,
          type: cc.Node
        },
        tournamentResultPlacement: {
          default: null,
          type: cc.Node
        },
        tournamentResultWinner: {
          default: null,
          type: cc.Node
        },
        tournamentBreakTime: {
          default: null,
          type: cc.Node
        },
        tournamentBreakTimeAddon: {
          default: null,
          type: cc.Node
        },
        tournamentKickInfo: {
          default: null,
          type: cc.Node
        },
        tournamentPopupInfo: {
          default: null,
          type: cc.Node
        },
        bestHand: {
          default: null,
          type: cc.Label
        },
        joinBtn: {
          default: null,
          type: cc.Label
        },
        showFoldBtn: {
          default: null,
          type: cc.Label
        },
        chatPanel: {
          default: null,
          type: cc.Node
        },
        timerSchedule: null,
        timerOffSchedule: null,
        chatSubmitBtn: {
          default: null,
          type: cc.Button
        },
        runItTwiceCB: {
          default: null,
          type: Checkbox
        },
        replayBtn: {
          default: null,
          type: cc.Node
        },
        chatEditBox: {
          default: null,
          type: cc.EditBox
        },
        chatBtn: {
          type: cc.Node,
          default: null
        },
        preferencesPopUp: {
          default: null,
          type: cc.Node
        },
        mobGameOptions: {
          default: null,
          type: cc.Node
        },
        muckHandNode: {
          default: null,
          type: cc.Node
        },
        notificationBox: {
          default: null,
          type: cc.Node
        },
        doubleRebuyBtn: {
          default: null,
          type: cc.Button
        },
        addonBtn: {
          default: null,
          type: cc.Button
        },
        leaveBtn: {
          default: null,
          type: cc.Button
        },
        lobbyBtn: {
          default: null,
          type: cc.Button
        },
        leaveTournamentButton: {
          default: null,
          type: cc.Button
        },
        fontFileName: {
          default: null,
          type: cc.Font
        },
        sureToFoldNode: {
          default: null,
          type: cc.Node
        },
        sureToLeaveNode: {
          default: null,
          type: cc.Node
        },
        winnerBannerBase: {
          default: null,
          type: cc.SpriteFrame
        },
        muckHandCheckbox: {
          default: null,
          type: Checkbox
        },
        dealerNode: {
          default: null,
          type: cc.Node
        },
        closeBtn: {
          default: null,
          type: cc.Node
        },
        chatCloseBtn: {
          default: null,
          type: cc.Node
        },
        mobileSliderChatSection: {
          default: null,
          type: cc.Node
        },
        leaderboardSection: {
          default: null,
          type: cc.Node
        },
        leaderboardDummySection: {
          default: null,
          type: cc.Node
        },
        playerChatNode: {
          default: null,
          type: cc.Node
        },
        dummyStickerPop: {
          default: null,
          type: cc.Node
        },
        nameLabel: {
          default: null,
          type: cc.Label
        },
        containerTabBtnUtil: {
          default: null,
          type: cc.Node
        },
        HandOther_Left: {
          default: null,
          type: cc.Node
        },
        showRaisePanel: {
          default: null,
          type: cc.Node
        },
        hideRaisePanel: {
          default: null,
          type: cc.Node
        },
        isTournament2: false
      },
      onEnable: function onEnable() {
        this.model && this.model.roomConfig && this.isTournament() && "SIT N GO" != this.model.gameData.raw.tourData.raw.tournamentType && (this.model.gameData.raw.tourData.raw.isInBreak || (this.tournamentBreakTime.active = false));
      },
      setTiledView: function setTiledView(flag) {
        this.setChatPanel(flag);
        var isTournament = this.model.gameData.channelType == K.ChannelType.Tournament || this.model.isPlayerStandUp();
        isTournament = this.isTournament() || this.model.isPlayerStandUp();
        this.checkSitoutStatus();
        this.unTiledView.active = !flag;
        this.tiledView.active = flag;
        this.sureToFoldNode.parent.getChildByName("BuddiesPopup").getComponent("BuddiesPopup").hideIfShowing();
        this.addChipsButton.active = !isTournament;
        GameManager.isMobile || GameManager.isWindows || this.isTournament() || (this.addChipsButton.active = !isTournament);
        this.model.gameData.channelType == K.ChannelType.Tournament && (this.rebuyBtn.active = this.model.roomConfig.isRebuyOpened);
        this.onValueChange();
        this.setTableColor();
        this.preferencesPopUp && (this.preferencesPopUp.getComponent(cc.Widget).top = flag ? 0 : 91);
        this.onSettingsBtnClose();
        this.chatBtn && (this.chatBtn.active = flag);
        if (flag) {
          this.tournamentResultPlacement.parent.scale = .5;
          this.tournamentResultPlacement.parent.x = this.tiledView.x;
          this.tournamentResultPlacement.parent.y = this.tiledView.y;
        } else {
          this.tournamentResultPlacement.parent.scale = 1;
          this.tournamentResultPlacement.parent.x = 0;
          this.tournamentResultPlacement.parent.y = 0;
        }
      },
      getNumPlayerInTable: function getNumPlayerInTable() {
        var count = 0;
        this.model.gameData.tableDetails.players.forEach(function(element) {
          element.state == K.PlayerState.Playing && count++;
        }, this);
        return count;
      },
      manageBtns: function manageBtns(val) {
        this.sitOutNextHandCheckBox.node.parent.active = val;
        var playerPresenter = this.getMyPlayer();
        playerPresenter && playerPresenter.sitoutNextHand && this.getMyPlayer().state == K.PlayerState.Playing && (this.sitOutNextHandCheckBox.node.parent.active = true);
        if (this.isTournament() || this.model.roomConfig.isAllInAndFold) {
          this.straddleCheckBox.node.parent.active = false;
          this.addChipsButton.active = false;
        }
        this.unTiledView.getChildByName("ReplayButton").active = val;
        GameScreen.isMobile ? this.unTiledView.getChildByName("ReplayButton").active = false : this.tiledView.getChildByName("ReplayButton").active = val;
        this.isStraddleAllowed();
        this.checkInBetweenBlinds();
        if (!this.isTournament() && !this.model.roomConfig.isAllInAndFold) {
          console.log("this.model.gameData.tableDetails.players.length", this.model.gameData.tableDetails.players);
          this.addChipsButton.active = val && this.model.gameData.tableDetails.players.length > 1;
        }
        this.getMyPlayer() && this.getMyPlayer().state != K.PlayerState.Playing && (this.addChipsButton.active = false);
        GameManager.isMobile || GameManager.isWindows || this.tiledView.getChildByName("TopLeft") && (this.isTournament() || this.model.roomConfig.isAllInAndFold || (this.addChipsButton.active = val));
        this.isTournament() ? this.gameResultButton.active = false : this.gameResultButton.active = true;
        this.disableShowFoldBtn();
      },
      loadSeats: function loadSeats() {
        2 == this.model.roomConfig.maxPlayers ? this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.twoPlayerView), this.twoPlayerView, "PlayerPresenter") : 3 == this.model.roomConfig.maxPlayers ? this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.threePlayerView), this.threePlayerView, "PlayerPresenter") : 4 == this.model.roomConfig.maxPlayers ? this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.fourPlayerView), this.fourPlayerView, "PlayerPresenter") : 5 == this.model.roomConfig.maxPlayers ? this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.fivePlayerView), this.fivePlayerView, "PlayerPresenter") : 6 == this.model.roomConfig.maxPlayers ? this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.sixPlayerView), this.sixPlayerView, "PlayerPresenter") : 7 == this.model.roomConfig.maxPlayers ? this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.sevenPlayerView), this.sevenPlayerView, "PlayerPresenter") : 8 == this.model.roomConfig.maxPlayers ? this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.eightPlayerView), this.eightPlayerView, "PlayerPresenter") : 9 == this.model.roomConfig.maxPlayers && this.instantiateSeats(5, this.model.roomConfig.maxPlayers, cc.instantiate(this.ninePlayerView), this.ninePlayerView, "PlayerPresenter");
      },
      isSeatAllowed: function isSeatAllowed(seatIdx, maxSeats, maxSeatsInView) {
        if (seatIdx > 0 && 10 == maxSeatsInView) {
          var allowedSeats = [];
          switch (maxSeats) {
           case 2:
            allowedSeats = [ 3, 7 ];
            break;

           case 3:
            allowedSeats = [ 2, 5, 8 ];
            break;

           case 4:
            allowedSeats = [ 1, 4, 6, 9 ];
            break;

           case 5:
            allowedSeats = [ 1, 4, 5, 6, 9 ];
            break;

           case 6:
            allowedSeats = [ 1, 3, 4, 6, 7, 9 ];
            break;

           case 7:
            allowedSeats = [ 1, 2, 3, 5, 7, 8, 9 ];
            break;

           case 8:
            allowedSeats = [ 1, 2, 3, 4, 6, 7, 8, 9 ];
            break;

           default:
            return true;
          }
          return -1 != allowedSeats.indexOf(seatIdx);
        }
        return true;
      },
      getSelfSeatIdx: function getSelfSeatIdx(maxSeats) {
        switch (maxSeats) {
         case 2:
          return 1;

         case 3:
         case 4:
          return 2;

         case 5:
          return 3;

         case 6:
          return 2;

         case 7:
          return 4;

         case 8:
          return 3;

         case 9:
          return 5;
        }
      },
      instantiateSeats: function instantiateSeats(selfSeatIndex, maxSeatIndex, placeHolder, prefab, presenter) {
        this.placeHolder = placeHolder;
        this.selfSeatIndex = this.getSelfSeatIdx(maxSeatIndex);
        this.maxSeatIndex = maxSeatIndex;
        this.placeholderParent.addChild(placeHolder);
        var children = placeHolder.children;
        var seatCounter = 0;
        for (var i = 0; i < children.length; i++) if (this.isSeatAllowed(i, maxSeatIndex, children.length)) {
          var seat = null;
          var betPos = null;
          var dealerPos = null;
          if (i < children.length / 2) {
            seat = cc.instantiate(this.rightSeatPrefab);
            prefab = this.rightSeatPrefab;
          } else {
            seat = cc.instantiate(this.leftSeatPrefab);
            prefab = this.leftSeatPrefab;
          }
          seat.setPosition(0, 0);
          betPos = children[i].children[0];
          dealerPos = children[i].children[1];
          var playerPresenter = seat.getComponent(presenter);
          playerPresenter.seatIndex = seatCounter;
          playerPresenter.sitHerePanel.active = !this.isTournament();
          playerPresenter.occupiedPanel.active = !playerPresenter.sitHerePanel.active;
          if (!!betPos) {
            if (K.PORTRAIT) ; else {
              7 == maxSeatIndex && (7 == i ? betPos.setPosition(betPos.x - 190, betPos.y + 150) : 3 == i && betPos.setPosition(betPos.x + 190, betPos.y + 150));
              GameManager.isMobile && maxSeatIndex > 3 && (4 == i ? betPos.setPosition(betPos.x, betPos.y + 20) : 6 == i && betPos.setPosition(betPos.x, betPos.y + 20));
              3 == i && maxSeatIndex > 8 && betPos.setPosition(betPos.x, betPos.y + 25);
              5 == i && maxSeatIndex > 4 && betPos.setPosition(betPos.x + 150, betPos.y - 40);
            }
            playerPresenter.setBetPosition(betPos.getPosition());
          }
          !dealerPos || playerPresenter.setDealerPosition(dealerPos.getPosition());
          K.PORTRAIT;
          if (this.selfSeatIndex == playerPresenter.seatIndex) {
            seat.scale = 1.1;
            playerPresenter.setNormalScale(1.1);
            playerPresenter.setGrayScale(.9);
            cc.find("HandSitHere", seat).scale = .85;
            cc.find("HandReserve", seat).scale = .85;
            cc.find("HandEmpty", seat).scale = .85;
          } else if (cc.sys.os == cc.sys.OS_IOS) {
            if (GameManager.isShorter()) {
              seat.scale = 1.15;
              playerPresenter.setNormalScale(1.15);
              playerPresenter.setGrayScale(.95);
            }
            cc.find("HandSitHere", seat).scale = .85;
            cc.find("HandReserve", seat).scale = .85;
            cc.find("HandEmpty", seat).scale = .85;
            GameManager.isShorter();
          } else {
            seat.scale = .85;
            playerPresenter.setNormalScale(.85);
            playerPresenter.setGrayScale(.65);
            cc.find("HandSitHere", seat).scale = 1.2;
            cc.find("HandReserve", seat).scale = 1.2;
            cc.find("HandEmpty", seat).scale = 1.2;
          }
          if (8 == maxSeatIndex && 8 == i || 6 == maxSeatIndex && 7 == i || 4 == maxSeatIndex && 9 == i) {
            cc.find("HandSitHere", seat).y += 100;
            cc.find("HandReserve", seat).y += 100;
            cc.find("HandEmpty", seat).y += 100;
          }
          children[i].addChild(seat);
          seatCounter++;
        } else !this.isMobile;
        this.playerHand = placeHolder.getComponentsInChildren(PlayerPresenterType);
        this.playerHand.forEach(function(element) {
          element.pokerPresenter = this;
        }, this);
        !this.betBtnSlider || (this.betBtnSlider.pokerPresenter = this);
        !this.tileBetBtnSlider || (this.tileBetBtnSlider.pokerPresenter = this);
        this.setDealer();
        var roomWiseSeatPositions = [];
        var twoPos = [ new cc.Vec2(268, 384), new cc.Vec2(699, 2), new cc.Vec2(-680, 13.2) ];
        var threePos = [ new cc.Vec2(268, 384), new cc.Vec2(699, 2), new cc.Vec2(4.4, -282), new cc.Vec2(-680, 13.2) ];
        var fourPos = [ new cc.Vec2(268, 384), new cc.Vec2(450, 302), new cc.Vec2(406, -283), new cc.Vec2(-361.2, -281.3), new cc.Vec2(-413.9, 309.1) ];
        var fivePos = [ new cc.Vec2(268, 384), new cc.Vec2(450, 302), new cc.Vec2(406, -283), new cc.Vec2(4.4, -282), new cc.Vec2(-361.2, -281.3), new cc.Vec2(-413.9, 309.1) ];
        var sixPos = [ new cc.Vec2(268, 384), new cc.Vec2(460.9, 294.1), new cc.Vec2(699, 2), new cc.Vec2(406, -283), new cc.Vec2(-361.2, -281.3), new cc.Vec2(-680, 13.2), new cc.Vec2(-440.9, 309.1) ];
        var sevenPos = [ new cc.Vec2(268, 384), new cc.Vec2(460.9, 294.1), new cc.Vec2(699, 2), new cc.Vec2(406, -283), new cc.Vec2(4.4, -282), new cc.Vec2(-361.2, -281.3), new cc.Vec2(-680, 13.2), new cc.Vec2(-440.9, 309.1) ];
        var eightPos = [ new cc.Vec2(268, 384), new cc.Vec2(460.9, 294.1), new cc.Vec2(700, 129.9), new cc.Vec2(706.3, -86.4), new cc.Vec2(406, -283), new cc.Vec2(-361.2, -274.3), new cc.Vec2(-679.5, -76.1), new cc.Vec2(-674.4, 140.3), new cc.Vec2(-440.9, 309.1) ];
        var ninePos = [ new cc.Vec2(268, 384), new cc.Vec2(460.9, 294.1), new cc.Vec2(700, 129.9), new cc.Vec2(706.3, -86.4), new cc.Vec2(406, -283), new cc.Vec2(4.4, -287), new cc.Vec2(-361.2, -274.3), new cc.Vec2(-679.5, -76.1), new cc.Vec2(-674.4, 140.3), new cc.Vec2(-440.9, 309.1) ];
        roomWiseSeatPositions.push(null, null, twoPos, threePos, fourPos, fivePos, sixPos, sevenPos, eightPos, ninePos);
        K.PORTRAIT || this.playerHand.forEach(function(element, i) {
          element.node.parent.setPosition(roomWiseSeatPositions[maxSeatIndex][i]);
        }, this);
      },
      tournamentAlreadyOver: function tournamentAlreadyOver() {
        var isTour = this.model.gameData.channelType == K.ChannelType.Tournament;
        if (isTour && 0 == this.model.gameData.tableDetails.players.length) {
          this.tournamentInfo.parent.active = true;
          var label = this.tournamentInfo.getComponent(cc.Label);
          label.string = "This table has been closed.";
        } else this.tournamentInfo.parent.active = false;
      },
      resetGame: function resetGame() {
        this.node.getChildByName("winnerBannerBg") && (this.node.getChildByName("winnerBannerBg").active = false);
        this.clearBreakTimer();
        this.popUpManager.hide(2, function() {});
        this.checkInBetweenBlinds();
        this.tournamentAlreadyOver();
        this.hideMoves();
        this.muckHandNode.active = false;
        this.playerHand.forEach(function(element, i) {
          element.hideWinningAnim();
        }, this);
        this.manageBtns(!this.model.isPlayerStandUp() && this.getMyPlayer().state == K.PlayerState.Playing);
        this.isTournament() && this.model.gameData.tableDetails.players.length > 1 && this.timersToKill.push(setTimeout(function() {
          var ante = this.model.gameData.raw.tourData.raw.currentBlindLevel.ante;
          var totalAnte = ante * this.model.gameData.tableDetails.players.length;
          var players = this.model.gameData.tableDetails.players;
          for (var index = 0; index < players.length; index++) {
            var presenter = this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)];
            if (ante > 0) {
              presenter.displayBlind(ante);
              presenter.activatePlayerBet(false, true);
            }
          }
          totalAnte > 0 && this.timersToKill.push(setTimeout(function() {
            if (!this.totalPotLbl) return;
            this.totalPotLbl.node.parent.active = true;
            this.totalPotLbl.string = GameManager.convertChips(totalAnte);
            this.totalPotLbl.__string = totalAnte;
            this.potAmount[0].getComponent(cc.Label).string = GameManager.convertChips(totalAnte);
            this.potAmount[0].getComponent(cc.Label).__string = totalAnte;
            this.potAmount[0].parent.active = true;
            this.potAmount[0].children[0].getComponent("PokerChipsView").generateChips(totalAnte);
          }.bind(this), 600));
        }.bind(this), 1));
        this.model.isPlayerStandUp() || this.getMyPlayer().state != K.PlayerState.Playing || (this.resumeBtn.active = false);
      },
      resetGameForReshuffle: function resetGameForReshuffle(isRejoin) {
        void 0 === isRejoin && (isRejoin = false);
        if (isRejoin) {
          cc.director.getActionManager().removeAllActions();
          this.model.gameModel.removeBroadcastCallbacks(this.model.gameData.channelId);
          this.cardDistributer.clearTimers();
          this.killTimers();
        }
        console.log("%c[Flow/resetGameForReshuffle]", "Orange: Tomato;");
        this.node.getChildByName("winnerBannerBg") && (this.node.getChildByName("winnerBannerBg").active = false);
        this.clearBreakTimer();
        this.popUpManager.hide(2, function() {});
        this.checkInBetweenBlinds();
        this.tournamentAlreadyOver();
        this.hideMoves();
        this.clearHoleCards();
        this.handleSitOutBtns(true);
        this.resetView();
        this.muckHandNode.active = false;
        console.log("this.playerHand", this.playerHand);
        if (this.placeHolder) {
          this.placeHolder.removeFromParent(true);
          this.placeHolder = null;
        }
      },
      setPostBigBlind: function setPostBigBlind(override, flag) {
        void 0 === override && (override = false);
        void 0 === flag && (flag = true);
      },
      setChatPanel: function setChatPanel(val) {
        !GameScreen.isMobile;
      },
      getParent: function getParent(box) {
        return this.box.node.parent;
      },
      onLoad: function onLoad() {
        var _this = this;
        this.checkForWindowScene = false;
        cc.sys.os !== cc.sys.OS_WINDOWS || cc.sys.isBrowser || (this.checkForWindowScene = true);
        this.timersToKill = [];
        this.preCheckCounter = 0;
        this.CardStartingPositionOnTable = 226;
        this.CardsPositionOffset = 108;
        this.winnerBannerDeactivateTimerDelay = 1.3;
        this.potDistributionTimerDelay = 1;
        this.potSplitterMoveActionDelay = .6;
        this.runItTwiceLowerCardDelay = .5;
        this.runItTwiceSlideToOpenDelay = .3;
        this.K = K;
        this.isMobile = GameScreen.isMobile;
        this.playerInput[0].active = false;
        GameManager.isWindows || GameManager.isMobile || 1 != GameScreen.viewType || (this.mobilePlayerInput[0].active = false);
        this.setChatPanel(1 == GameScreen.viewType);
        this.cardTimers = [];
        GameManager.on("updateTableImage", this.onUpdateTableImage.bind(this));
        GameManager.on("switchBB", this.switchBBNow.bind(this));
        GameManager.on("removeTable", this.onRemoveTable.bind(this));
        this.model.on("leaveNextHand", this.onleaveNextHand.bind(this));
        this.model.on(K.PokerEvents.OnJoin, this.onJoinSuccess.bind(this));
        this.model.on(K.PokerEvents.OnHoleCard, this.addHoleCard.bind(this));
        this.model.on(K.PokerEvents.OnSit, this.sitSuccess.bind(this));
        this.model.on(K.PokerEvents.OnBlindDeduction, this.deductBlind.bind(this));
        this.model.on(K.PokerEvents.OnPlayerStateChange, this.playerStateChange.bind(this));
        this.model.on(K.PokerEvents.OnGamePlayers, this.resetGame.bind(this));
        this.model.on(K.PokerEvents.OnDealerChat, this.dealerChat.bind(this));
        this.model.on(K.PokerEvents.OnStartGame, this.startGame.bind(this));
        this.model.on(K.PokerEvents.OnTurn, this.nextTurn.bind(this));
        this.model.on(K.PokerEvents.OnRoundOver, this.roundOver.bind(this));
        this.model.on(K.PokerEvents.OnGameOver, this.gameOver.bind(this));
        this.model.on(K.PokerEvents.OnLeave, this.playerLeft.bind(this));
        this.model.on(K.PokerEvents.OnChat, this.chat.bind(this));
        this.model.on(K.PokerEvents.OnPlayerCard, this.playerCards.bind(this));
        this.model.on(K.PokerEvents.onPlayerStandUp, this.onStandUp.bind(this));
        this.model.on(K.PokerEvents.onRotateView, this.rotateView.bind(this));
        this.model.on(K.PokerEvents.OnClearHoleCards, this.clearTable.bind(this));
        this.model.on(K.PokerEvents.onPreCheck, this.onPreCheck.bind(this));
        this.model.on(K.PokerEvents.onPlayerNotes, this.onPlayerNotes.bind(this));
        this.model.on(K.PokerEvents.onPlayerCoins, this.onPlayerCoins.bind(this));
        this.model.on(K.PokerEvents.onBestHand, this.onBestHand.bind(this));
        this.model.on(K.PokerEvents.onTimeBank, this.onTimeBank.bind(this));
        this.model.on("rebuyActivated", this.onRebuyActivated.bind(this));
        this.model.on("rebuyDeactivated", this.onRebuyDeactivated.bind(this));
        this.model.on(K.PokerEvents.onChannelEvent, this.showWinnerCards.bind(this));
        this.model.on(K.PokerEvents.OnBankrupt, function(data) {
          this.onAddChips(this.model.roomConfig.minBuyIn);
        }.bind(this));
        this.model.on("ReservedState", function(data) {
          var arg = data.extraAntiBankCase ? "extraAntiBankCase" : this.model.roomConfig.minBuyIn;
          this.onAddChips(arg, void 0, data.extraAntiBankCase);
        }.bind(this));
        this.model.on("clearTimers", function(data) {
          this.killTimers();
        }.bind(this));
        this.colorChangeCb = this.changeTableColor.bind(this);
        this.tempOnLoad();
        GameManager.on(K.GameEvents.OnTableColorChange, this.colorChangeCb);
        if (this.tournamentDetailInfo) {
          this.tournamentDetailInfo.active = false;
          this.tournamentDetailInfo.y = 0;
        }
        GameManager.on("openBuyInPopup", function(data) {
          if (!!this.model && data == this.model.gameData.channelId) {
            var arg = this.model.roomConfig.extraAntiBankCase ? "extraAntiBankCase" : this.model.roomConfig.minBuyIn;
            this.onAddChips(arg, true);
          }
        }.bind(this));
        GameManager.on("waiting_List_Event", function(channelId, flag) {
          if (!!this.model && this.model.gameData.channelId == channelId) {
            this.model.gameData.isJoinWaiting = flag;
            this.enableJoinBtn();
          }
        }.bind(this));
        this.sitOutNextHandCheckBox.registerCallback(this.onSitOutNextHand.bind(this));
        this.straddleCheckBox.registerCallback(this.onStraddle.bind(this));
        this.postBigBlindCheckBox.registerCallback(this.onPostBigBlind.bind(this));
        this.runItTwiceCB.registerCallback(this.onRunItTwice.bind(this));
        this.muckHandCheckbox.registerCallback(this.onMuckHand.bind(this));
        GameScreen.node.on("grid-refreshed", this.checkNotification.bind(this));
        this.imageLoadedRef = this.imageLoaded.bind(this);
        GameManager.on("image-loaded", this.imageLoadedRef);
        this.playerName.string = GameManager.user.userName;
        cc.game.pause = function() {
          isPaused = true;
          wasPaused = true;
        };
        cc.game.resume = function() {
          isPaused = false;
        };
        GameManager.on(K.GameEvents.onReset, function() {
          if (this.playerHand) for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].clearPlayerCards();
          this.clearPots();
          this.clearHoleCards();
        }.bind(this));
        this.singleTime = false;
        GameManager.on("connectionAcknowledged", function(data) {
          !this.model || data != this.model.gameData.channelId || this.hideMoves();
        }.bind(this));
        this.mobileGamePlayOptionsVisible = false;
        this.node.parent.getChildByName("GameplayOptions").on("position-changed", function(e) {});
        GameManager.on(K.PokerEvents.onSendSticker, this.displayStickers.bind(this));
        GameManager.isMobile || this.setTileUntileToggle();
        this.changeTableInit();
        this.scheduleOnce(function() {
          _this.isTournament() ? _this.gameResultButton.active = false : _this.gameResultButton.active = true;
          if (_this.isTournament()) {
            if ("SIT N GO" != _this.model.gameData.raw.tourData.raw.tournamentType && _this.model.gameData.raw.tourData.raw.isInBreak) {
              _this.tournamentBreakTime.active = true;
              _this.tournamentBreakTime.getComponent("TournamentBreakTime").setData(_this.model.gameData.raw.tourData.raw);
            } else if (_this.model.gameData.raw.tourData.raw.isInRebuy) _this.onRebuyActivated({
              rebuyTimer: parseInt((_this.model.gameData.raw.tourData.raw.currentRebuy.rebuyEndTime - Date.now()) / 1e3)
            }); else if (_this.model.gameData.raw.tourData.raw.isInAddonBreak) {
              _this.tournamentBreakTimeAddon.active = true;
              _this.tournamentBreakTimeAddon.getComponent("TournamentBreakTimeAddon").setData({
                breakTime: _this.model.gameData.raw.tourData.raw.currentAddonBreak.addonBreakEndTime - Date.now()
              });
            }
            GameManager.emit("showJoinSimlar");
            _this.tourStartNode.active = false;
            if (0 != GameManager.tableStartTime && _this.model.gameData.tableDetails.players.length > 1) {
              var now = new Date().getTime();
              if (GameManager.tableStartTime > now) {
                _this.tourStartNode.active = true;
                _this.updateTourStartTimer();
              }
            }
          }
          ServerCom.forceKeepLoading = false;
        }, 1.5);
        this.onUpdateTableImage();
        this.settingAvatar.getComponent(cc.Sprite).spriteFrame = GameManager.user.urlImg;
        this.totalPotLbl && "GOLD" == GameManager.user.category;
        this.potAmount && this.potAmount.forEach(function(element) {
          "GOLD" == GameManager.user.category;
        }, this);
      },
      updateTourStartTimer: function updateTourStartTimer() {
        console.log("tourStartTimer");
        this.unschedule(this.tourStartTimer);
        this.tourStartTimer();
        this.schedule(this.tourStartTimer, 1);
      },
      tourStartTimer: function tourStartTimer() {
        console.log("tourStartTimer");
        var now = new Date().getTime();
        console.log("tourStartTimer", GameManager.tableStartTime, now, GameManager.tableStartTime - now);
        if (GameManager.tableStartTime - now < 0) {
          console.log("tourStartTimer2");
          this.unschedule(this.tourStartTimer);
          this.tourStartLabel.node.parent.parent.active = false;
          return;
        }
        console.log("tourStartTimer3");
        var timeRemaining = GameManager.getMTimeDurationEx(GameManager.tableStartTime);
        this.tourStartLabel.string = timeRemaining;
      },
      updateBlindTimer: function updateBlindTimer() {},
      blindTimer: function blindTimer() {},
      imageLoaded: function imageLoaded(user) {
        this.model.gameData.playerId == user.playerId;
      },
      updateBlind: function updateBlind() {},
      getWorldPos: function getWorldPos(node) {
        return node.convertToWorldSpaceAR(cc.v2(0, 0));
      },
      setWorldPos: function setWorldPos(node, posWS) {
        node.setPosition(node.parent.convertToNodeSpaceAR(posWS));
      },
      displayStickers: function displayStickers(event) {
        console.log("@@@@ displayStickers ", event);
        if (!this.model || this.mode && !this.model.gameData) return;
        if (this.isTournament()) {
          var receiverId = event && event.toPlayerId || "";
          var senderId = event && event.playerId || "";
          var stickerId = event && event.emoji || "";
          var isCurrentChannel = (event && event.channelId || "") === this.model.gameData.channelId;
          if (!!receiverId && !!stickerId && !!senderId) {
            var receiverIdx = this.model.getPlayerById(receiverId);
            var senderIdx = this.model.getPlayerById(senderId);
            if (-1 == receiverIdx || -1 == senderIdx) return;
            var receiver = this.getPlayerByIdx(receiverIdx);
            var sender = this.getPlayerByIdx(senderIdx);
            var receiverWPos = this.getWorldPos(receiver.stickerNode);
            var senderWPos = this.getWorldPos(sender.stickerNode);
            if (receiverId == senderId) {
              receiverWPos = this.getWorldPos(receiver.stickerNodeSelf);
              this.stickerCtrl && this.stickerCtrl.showSticker(this.stickerCtrl.node, stickerId, senderWPos, receiverWPos, .15);
            } else {
              receiverWPos = this.getWorldPos(receiver.stickerNode);
              this.stickerCtrl && this.stickerCtrl.showSticker(this.stickerCtrl.node, stickerId, senderWPos, receiverWPos);
            }
          }
        } else {
          var aaa = event.receiverId;
          var bbb = event.senderId;
          var ccc = event.stickerId;
          var ddd = event.channelId === this.model.gameData.channelId;
          console.log("displayStickers receiverId ", aaa);
          console.log("displayStickers stickerId ", ccc);
          console.log("displayStickers senderId ", bbb);
          console.log("displayStickers isCurrentChannel ", ddd);
          if (!!aaa && !!ccc && !!bbb && ddd) {
            var _receiverIdx = this.model.getPlayerById(aaa);
            var _senderIdx = this.model.getPlayerById(bbb);
            if (-1 == _receiverIdx || -1 == _senderIdx) return;
            var _receiver = this.getPlayerByIdx(_receiverIdx);
            var _sender = this.getPlayerByIdx(_senderIdx);
            var _receiverWPos = this.getWorldPos(_receiver.stickerNode);
            aaa == bbb && (_receiverWPos = this.getWorldPos(_receiver.stickerNodeSelf));
            this.stickerCtrl && this.stickerCtrl.showSticker(this.stickerCtrl.node, ccc, null, _receiverWPos);
          }
        }
      },
      setTileUntileToggle: function setTileUntileToggle() {
        GameScreen.viewType == LayoutType.UnTiled;
      },
      changeToTiled: function changeToTiled() {
        GameScreen.setTiledView();
        for (var model in GameScreen.activePokerModels) model.presenter.setTileUntileToggle();
      },
      changeToUntiled: function changeToUntiled() {
        GameScreen.setUnTiledView();
        for (var model in GameScreen.activePokerModels) model.presenter.setTileUntileToggle();
      },
      start: function start() {
        var _this2 = this;
        this.mobileGamePlayOptionsInitPosition = this.node.parent.getChildByName("GameplayOptions").getPosition();
        if (GameManager.isMobile) {
          this.mobileChatOptionsInitPosition = this.mobileSliderChatSection.getPosition();
          this.scheduleOnce(function() {
            _this2.mobileSliderChatSection.active = false;
            _this2.mobileGamePlayOptionsInitPosition = _this2.node.parent.getChildByName("GameplayOptions").getPosition();
          }, .1);
        }
        K.PORTRAIT;
      },
      checkNotification: function checkNotification() {
        !!this.playerInput && this.unTiledView.active && this.playerInput[0].active && GameManager.activeTableCount >= 1 && this.model.emit(K.PokerEvents.onTurnInOtherRoom, this.model, true);
        1 == GameScreen.viewType && !!this.playerInput && this.unTiledView.active && (this.playerInput[0].active || this.mobilePlayerInput[0].active) && GameManager.activeTableCount >= 1 && this.model.emit(K.PokerEvents.onTurnInOtherRoom, this.model, true);
      },
      onTimeBank: function onTimeBank(data) {
        var playerPresenter = this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.currentMoveIndex)];
        !data || !this.selfLastMoveData || data.playerId !== this.model.gameData.playerId || this.enableSelfTurn(playerPresenter, this.selfLastMoveData);
        playerPresenter.enableTimeBank();
      },
      setTableColor: function setTableColor() {
        this.model.emit(K.GameEvents.OnTableColorChange);
        var col = this.model.gameData.settings.tableColor + "";
        void 0 === col && null === col || (this.tiledView.active ? this.table.spriteFrame = this.highLightCheckbox && this.highLightCheckbox.getSelection() ? this.tableHighlightColors[col] : this.tableColors[col] : this.table.spriteFrame = this.tableColors[col]);
      },
      tempOnLoad: function tempOnLoad() {},
      onDestroy: function onDestroy() {
        this.cardTimers.forEach(function(element) {
          clearTimeout(element);
        }, this);
        this.cardTimers = [];
        this.model.removeAllListeners();
        this.clearBreakTimer();
        this.killTimers();
        this.isTournament() && this.tournamentDetailInfo && this.tournamentDetailInfo.getComponent("TournamentInGameInfo").reset();
        GameManager.off(K.GameEvents.OnTableColorChange, this.colorChangeCb);
        GameManager.off(K.PokerEvents.onSendSticker, this.displayStickers.bind(this));
        GameManager.off("image-loaded", this.imageLoadedRef);
      },
      setIndexOffset: function setIndexOffset(desiredIndex) {
        this.indexOffset = desiredIndex - this.selfSeatIndex;
      },
      getRotatedSeatIndex: function getRotatedSeatIndex(seatIndex) {
        var index = 0;
        index = seatIndex - this.indexOffset;
        index < 1 && (index += this.maxSeatIndex);
        index > this.maxSeatIndex && (index -= this.maxSeatIndex);
        console.log("getRotatedSeatIndex", seatIndex, index);
        return index;
      },
      enableCurrentPlayerTurn: function enableCurrentPlayerTurn() {
        if (-1 !== this.model.gameData.tableDetails.currentMoveIndex) {
          this.displayPots();
          var playerPresenter = this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.currentMoveIndex)];
          playerPresenter.onTurn(this.model.gameData.tableDetails.turnTime);
          if (this.checkForSelfTurn(playerPresenter.playerData.playerId)) {
            this.selfLastMoveData = playerPresenter.playerData.moves;
            this.enableSelfTurn(playerPresenter, playerPresenter.playerData.moves);
          } else this.model.emit(K.PokerEvents.onTurnInOtherRoom, this.model, false);
        }
      },
      setDealer: function setDealer() {
        console.log("setDealer1");
        this.playerHand.forEach(function(element) {
          console.log("setDealer2");
          element.setDealer(false);
        }, this);
        console.log("this.model.gameData.tableDetails.dealerIndex", this.model.gameData.tableDetails.dealerIndex);
        this.model.gameData.tableDetails.dealerIndex >= 0 && this.getPlayerBySeat(this.model.gameData.tableDetails.dealerIndex).setDealer(true);
      },
      placeDummyCards: function placeDummyCards(id) {
        void 0 === id && (id = null);
        for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].displayDummyCards(this.model.dummyCardsCount, id);
      },
      allocateSeat: function allocateSeat() {
        for (var index = 0; index < this.model.gameData.tableDetails.players.length; index++) {
          this.getPlayerByIdx(index).playerData = this.model.gameData.tableDetails.players[index];
          this.getPlayerByIdx(index).enablePlayerView(this.model.gameData.playerId);
        }
        if (this.model.gameData.tableDetails.state === K.GameState.Running) {
          this.enableCurrentPlayerTurn();
          this.placeDummyCards(this.model.gameData.playerId);
          this.setDealer();
          this.enablePrecheckAfterRetry();
        }
      },
      enablePrecheckAfterRetry: function enablePrecheckAfterRetry() {
        if (-1 !== this.model.gameData.tableDetails.currentMoveIndex) {
          var playerPresenter = this.getMyPlayer();
          if (!!playerPresenter) if (playerPresenter.seatIndex == this.model.gameData.tableDetails.currentMoveIndex) ; else {
            var state = playerPresenter.state;
            if (playerPresenter.chips < 0 || state == K.PlayerState.Waiting || state == K.PlayerState.OutOfMoney || state == K.PlayerState.OnBreak || state == K.PlayerState.Reserved || playerPresenter.lastMove == K.PlayerState.AllIn || playerPresenter.lastMove == K.PlayerState.Fold) ; else {
              var data = {
                channelId: playerPresenter.channelId,
                playerId: playerPresenter.playerId,
                set: playerPresenter.preCheck,
                precheckValue: playerPresenter.precheckValue,
                route: "preCheck"
              };
              this.onPreCheck(data);
            }
          }
        }
      },
      getPlayerByIdx: function getPlayerByIdx(idx) {
        return this.getPlayerBySeat(this.model.gameData.tableDetails.players[idx].seatIndex);
      },
      getPlayerBySeat: function getPlayerBySeat(seatIdx) {
        console.log("getPlayerBySeat", seatIdx);
        for (var index = 0; index < this.playerHand.length; index++) {
          console.log("index", index);
          console.log(this.playerHand[index]);
        }
        return this.playerHand[this.getRotatedSeatIndex(seatIdx)];
      },
      isObserver: function isObserver() {
        if (!this.isTournament()) return false;
        for (var index = 0; index < this.model.gameData.tableDetails.players.length; index++) if (this.model.gameData.tableDetails.players[index].playerId === GameManager.user.playerId) return false;
        return true;
      },
      isObserver2: function isObserver2() {
        for (var index = 0; index < this.model.gameData.tableDetails.players.length; index++) if (this.model.gameData.tableDetails.players[index].playerId === GameManager.user.playerId) return false;
        return true;
      },
      onJoinSuccess: function onJoinSuccess(data) {
        this.preCheckCounter = 0;
        this.muckHandNode && (this.muckHandNode.active = false);
        this.model.popUpManager = this.popUpManager;
        this.loadSeats();
        this.clearPots();
        var selfIndex = this.model.getPlayerById(this.model.gameData.playerId);
        this.onJoinExtras();
        this.tempOnJoinSuccess();
        this.enableJoinBtn();
        if (-1 !== selfIndex) {
          this.model.gameData.isJoinWaiting = false;
          for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].seatState === K.SeatState.Free && this.playerHand[index].disableView();
          this.manageBtns(!this.model.isPlayerStandUp() && this.getMyPlayer().state == K.PlayerState.Playing);
          this.getMyPlayer().state == K.PlayerState.Playing || this.getMyPlayer().state == K.PlayerState.OnBreak ? this.rotateView({
            seatIndex: this.model.gameData.tableDetails.players[selfIndex].seatIndex
          }) : this.allocateSeat();
          this.model.gameData.tableDetails.players[selfIndex].state === K.PlayerState.OnBreak && this.handleSitOutBtns(false);
          this.getMyPlayer().state == K.PlayerState.Playing && this.getMyPlayer().lastMove == K.PlayerState.Fold ? this.enableShowFoldBtn() : this.disableShowFoldBtn();
        } else {
          this.allocateSeat();
          this.manageBtns(false);
        }
        this.handleRunItTwice(true, true, this.model.gameData.isRunItTwice);
        "" !== this.model.gameData.bestHands && null !== this.getMyPlayer() && (this.getMyPlayer().bestHand = this.model.gameData.bestHands);
        this.showMuckHand();
        this.muckHandCheckbox.setSelection(this.model.gameData.settings.isMuckHand);
        this.model.isVideo && (this.unTiledView.getChildByName("HandInfoButton").active = false);
        if (GameManager.isP && GameManager.isMobile) {
          this.unTiledView.getChildByName("HandInfoButton").active = false;
          this.unTiledView.getChildByName("HandHistoryButton").active = false;
        }
        GameManager.isSD;
        !this.dealerNode || this.dealerNode.getComponent("JohnyChat").onLoad();
        !this.playerChatNode || this.playerChatNode.getComponent("ChatInfoPanel").onLoad();
        if (this.isTournament()) if (this.isObserver()) {
          for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].seatState === K.SeatState.Free && this.playerHand[index].disableView();
          this.leaveBtn.node.active = true;
          this.lobbyBtn.node.active = false;
        } else {
          this.leaveBtn.node.active = false;
          this.lobbyBtn.node.active = true;
        } else {
          this.leaveBtn.node.active = true;
          this.lobbyBtn.node.active = true;
        }
        this.isTournament() || K.PORTRAIT ? cc.find("TableName", this.node).active = true : cc.find("TableName", this.node).active = false;
      },
      tempOnJoinSuccess: function tempOnJoinSuccess() {},
      enableJoinBtn: function enableJoinBtn() {
        var isTour = this.isTournament();
        this.joinBtn.node.parent.parent.active = !isTour && null == this.getMyPlayer() && this.model.gameData.tableDetails.players.length == this.model.roomConfig.maxPlayers;
        this.model.gameData.isJoinWaiting ? this.joinBtn.node.parent.getChildByName("tick").active = true : this.joinBtn.node.parent.getChildByName("tick").active = false;
        this.joinBtn.node.parent.parent.active ? this.model.gameData.isJoinWaiting ? this.joinBtn.node.parent.parent.parent.getChildByName("FindGame").active = false : this.joinBtn.node.parent.parent.parent.getChildByName("FindGame").active = true : this.joinBtn.node.parent.parent.parent.getChildByName("FindGame").active = false;
      },
      onJoinWaitingListBtnClick: function onJoinWaitingListBtnClick() {
        this.playAudio(K.Sounds.click);
        var flag = this.joinBtn.node.parent.getChildByName("tick").active;
        TableHandler.joinWaitingList(!flag, this.model.gameData.channelId, function(response) {
          response.success && GameManager.emit("waiting_List_Event", response.channelId, !flag);
        }.bind(this), function(error) {});
      },
      onJoinExtras: function onJoinExtras() {
        if (this.roomNameLbl) {
          this.roomNameLbl.string = this.model.roomConfig.channelName;
          var stakes = GameManager.convertChips(this.model.gameData.tableDetails.smallBlind) + "/" + GameManager.convertChips(this.model.gameData.tableDetails.bigBlind);
          this.roomNameLbl2.string = "Blinds: " + stakes;
        }
        this.playerInput[0].active = false;
        GameManager.isWindows || GameManager.isMobile || 1 != GameScreen.viewType || (this.mobilePlayerInput[0].active = false);
        this.straddleCheckBox.setSelection(false);
        this.checkInBetweenBlinds(true);
      },
      onSitHere: function onSitHere(index) {
        var data = {};
        data.minValue = this.model.roomConfig.minBuyIn;
        data.maxValue = this.model.roomConfig.maxBuyIn;
        var text_chips = LocalizedManager.t("TXT_AVAILABLE_CHIPS") + ":";
        if ("DIAMOND" == GameManager.user.category) {
          data.totalChips = GameManager.user.realChips;
          data.dialogHeadingText = text_chips;
        } else {
          data.totalChips = GameManager.user.freeChips;
          data.dialogHeadingText = text_chips;
        }
        GameManager.isMobile && (data.dialogHeadingText = text_chips);
        data.autoBuyIn = GameManager.user.autoBuyIn;
        data.index = index;
        data.confirm = this.onBuyInConfirm.bind(this);
        data.onSitHere = true;
        data.channelId = this.model.gameData.channelId;
        data.playerStandUp = this.model.isPlayerStandUp();
        data.isRealMoney = this.model.roomConfig.isRealMoney;
        data.isAllInAndFold = this.model.roomConfig.isAllInAndFold;
        data.config = this.model.roomConfig;
        this.isTournament() ? data.autoConfirm = true : data.autoConfirm = this.model.roomConfig.extraAntiBankCase;
        data.topHeading = LocalizedManager.t("TXT_BUY_IN");
        data.playSound = this.playAudio.bind(this);
        data.autoConfirm ? this.onBuyInConfirm(data.index, data.minValue.toString()) : this.popUpManager.show(PopUpType.BuyInPopup, data, function() {});
      },
      onBuyInConfirm: function onBuyInConfirm(index, amount) {
        this.model.sitHere(index, amount, function() {}.bind(this));
      },
      onLeaveNextHand: function onLeaveNextHand() {
        this.model.leaveNextHand(function(response) {
          console.log("onLeaveNextHand", response);
        }.bind(this));
      },
      onSitOutNextHand: function onSitOutNextHand() {
        this.model.sitOutValue == SitOutMode.None ? this.model.sitOutNextHand(function(response) {
          this.handleSitoutResponse(response);
        }.bind(this)) : this.model.sitOutValue == SitOutMode.SitOueNextBB ? this.onResetSitout(function(callback) {
          callback && this.model.sitOutNextHand(function(response) {
            this.handleSitoutResponse(response);
          }.bind(this));
        }.bind(this)) : this.model.sitOutValue == SitOutMode.SitOutNextHand && (null != this.getMyPlayer() && this.getMyPlayer().state == K.PlayerState.OnBreak ? this.onResume() : this.onResetSitout(function() {}.bind(this)));
        this.handleRunItTwice();
      },
      handleSitoutResponse: function handleSitoutResponse(response) {
        response.success ? this.sitOutNextHandCheckBox.setSelection(true) : this.sitOutNextHandCheckBox.setSelection(false);
      },
      onSitOutNextBB: function onSitOutNextBB() {
        this.model.sitOutValue == SitOutMode.None ? this.model.sitOutNextBB(function(response) {
          this.handleSitoutBBResponse(response);
        }.bind(this)) : this.model.sitOutValue == SitOutMode.SitOueNextBB && (null != this.getMyPlayer() && this.getMyPlayer().state == K.PlayerState.OnBreak ? this.onResume() : this.onResetSitout(function() {}.bind(this)));
        this.handleRunItTwice();
      },
      checkSitoutStatus: function checkSitoutStatus() {
        if (this.model.gameData.channelType == K.ChannelType.Tournament || this.model.isPlayerStandUp()) {
          if (this.model.sitOutValue == SitOutMode.SitOutNextHand && !this.model.isPlayerStandUp()) {
            this.sitOutNextHandCheckBox.node.parent.active = true;
            this.sitOutNextHandCheckBox.setSelection(true);
          }
        } else switch (this.model.sitOutValue) {
         case SitOutMode.SitOutNextHand:
          this.sitOutNextHandCheckBox.setSelection(true);
          break;

         case SitOutMode.SitOueNextBB:
          this.sitOutNextHandCheckBox.setSelection(false);
          break;

         case SitOutMode.None:
        }
      },
      onResetSitout: function onResetSitout(callback) {
        this.model.resetSitout(function(response) {
          if (null != callback) {
            callback(response.success);
            response.success && this.handleSitOutBtns(true);
          }
        }.bind(this));
      },
      onAddChipsConfirm: function onAddChipsConfirm(index, amount) {
        this.model.addChips(amount, function() {});
      },
      onResume: function onResume() {
        this.playAudio(K.Sounds.click);
        this.resumeBtn.active = false;
        this.model.resume(function() {
          this.handleSitOutBtns(true);
          var playerPresenter = this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.currentMoveIndex)];
          playerPresenter.playerData && this.model.gameData.tableDetails.state === K.GameState.Running && -1 !== this.model.gameData.tableDetails.currentMoveIndex && (this.checkForSelfTurn(playerPresenter.playerData.playerId) ? this.enableSelfTurn(playerPresenter, playerPresenter.playerData.moves) : this.model.emit(K.PokerEvents.onTurnInOtherRoom, this.model, false));
        }.bind(this));
      },
      onResumeAll: function onResumeAll() {
        this.playAudio(K.Sounds.click);
        GameScreen.resumeAll();
      },
      onDisable: function onDisable() {},
      onStraddle: function onStraddle() {
        var selection = this.straddleCheckBox.getSelection();
        this.model.setStraddleSelection(selection);
      },
      onPostBigBlind: function onPostBigBlind() {
        var selection = this.postBigBlindCheckBox.getSelection();
        this.model.setPostBigBlind(selection);
        this.postBigBlindCheckBox.node.parent.getChildByName("message").active = !selection;
      },
      onRunItTwice: function onRunItTwice() {
        var selection = this.runItTwiceCB.getSelection();
        this.model.setRunItTwice(selection, function(response) {
          response.success || this.runItTwiceCB.setSelection(!selection);
        }.bind(this));
      },
      handleRunItTwice: function handleRunItTwice(forceVal, forceSelection, showSelection) {
        void 0 === forceVal && (forceVal = true);
        void 0 === forceSelection && (forceSelection = false);
        void 0 === showSelection && (showSelection = false);
        if (this.isTournament()) {
          this.runItTwiceCB.node.parent.active = false;
          return;
        }
        var val = !!this.getMyPlayer() && this.getMyPlayer().state == K.PlayerState.Playing && this.getMyPlayer().lastMove !== K.PlayerMove.AllIn;
        val = val && !(this.model.gameData.channelType == K.ChannelType.Tournament);
        this.model.gameData.tableDetails.isForceRit || (this.runItTwiceCB.node.parent.active = val && forceVal);
        forceSelection && this.runItTwiceCB.setSelection(showSelection);
      },
      onAddChips: function onAddChips(minVal, joinWaitingCase, extraAntiBankCase) {
        void 0 === joinWaitingCase && (joinWaitingCase = false);
        if (!this.model.isPlayerStandUp() || joinWaitingCase) {
          var data = {};
          var playerChips = 0;
          joinWaitingCase || (playerChips = "Open Face Chinese Poker" === this.model.roomConfig.channelVariation ? this.model.getMyPlayer().points : this.model.getMyPlayer().chips);
          data.minValue = this.model.roomConfig.originalMinBuyIn - playerChips;
          data.maxValue = this.model.roomConfig.originalMaxBuyIn - playerChips;
          data.minValue < 1 && (data.minValue = 1);
          if (false == extraAntiBankCase) {
            data.minValue = this.model.roomConfig.minBuyIn - playerChips;
            data.maxValue = this.model.roomConfig.maxBuyIn - playerChips;
          }
          this.model.gameData.antibanking.isAntiBanking && this.model.roomConfig.minBuyIn < this.model.gameData.antibanking.amount;
          if (joinWaitingCase) {
            data.minValue = this.model.roomConfig.minBuyIn - playerChips;
            data.maxValue = this.model.roomConfig.maxBuyIn - playerChips;
          }
          if (this.model.roomConfig.originalMaxBuyIn < playerChips) {
            data.maxValue = 0;
            data.minVal = 0;
          }
          var text_chips = LocalizedManager.t("TXT_AVAILABLE_CHIPS") + ":";
          if ("DIAMOND" == GameManager.user.category) {
            data.totalChips = GameManager.user.realChips;
            data.dialogHeadingText = text_chips;
          } else {
            data.totalChips = GameManager.user.freeChips;
            data.dialogHeadingText = text_chips;
          }
          GameManager.isMobile && (data.dialogHeadingText = text_chips);
          data.autoBuyIn = GameManager.user.autoBuyIn;
          data.index = this.model.getPlayerById(this.model.gameData.playerId);
          data.confirm = this.onAddChipsConfirm.bind(this);
          data.onSitHere = false;
          data.cancelCallback = this.onCancelBuyIn.bind(this);
          data.playerStandUp = this.model.isPlayerStandUp();
          data.channelId = this.model.gameData.channelId;
          data.isAddChips = true;
          data.isRealMoney = this.model.roomConfig.isRealMoney;
          data.topHeading = LocalizedManager.t("TXT_ADD_CHIPS");
          data.playSound = this.playAudio.bind(this);
          data.config = this.model.roomConfig;
          joinWaitingCase && (data.topHeading = LocalizedManager.t("TXT_BUY_IN"));
          "extraAntiBankCase" === minVal ? this.onAddChipsConfirm(data.index, (this.model.roomConfig.minBuyIn - playerChips).toString()) : this.popUpManager.show(PopUpType.BuyInPopup, data, function() {});
        }
        this.playAudio(K.Sounds.click);
      },
      onCancelBuyIn: function onCancelBuyIn() {
        if (!!this.model.getMyPlayer() && this.model.getMyPlayer().state == K.PlayerState.Reserved) {
          GameManager.playerRequestedToLeaveTable[this.model.gameData.channelId] = false;
          this.standUp();
        }
        if (("Open Face Chinese Poker" === this.model.roomConfig.channelVariation ? this.model.getMyPlayer().points : this.model.getMyPlayer().chips) <= 0 && this.model.getMyPlayer().state != K.PlayerState.Playing) {
          this.resumeBtn.active = true;
          this.sitOutNextHandCheckBox.node.parent.active = false;
        }
      },
      onAllIn: function onAllIn() {
        this.hideAllSBBB();
        this.model.makeMove("0", K.PlayerMove.AllIn);
        this.hideMoves();
        this.playAudio(K.Sounds.click);
      },
      onCheck: function onCheck(data, custom) {
        this.hideAllSBBB();
        this.model.makeMove("0", K.PlayerMove.Check);
        this.hideMoves();
        if ("checkAction" == custom) {
          this.onCloseSureToFold();
          this.playAudio(K.Sounds.click);
        }
      },
      onBet: function onBet(amount, action) {
        this.hideAllSBBB();
        this.model.makeMove(amount, action);
        this.hideMoves();
      },
      onFold: function onFold(data, custom) {
        if (this.sureToFold && "confirmAction" != custom) {
          this.sureToFoldNode.active = true;
          return;
        }
        this.hideAllSBBB();
        this.model.makeMove("0", K.PlayerMove.Fold);
        this.hideMoves();
        if ("confirmAction" == custom) {
          this.onCloseSureToFold();
          this.playAudio(K.Sounds.click);
        }
      },
      onCloseSureToFold: function onCloseSureToFold() {
        this.sureToFoldNode.active = false;
      },
      onCall: function onCall() {
        this.hideAllSBBB();
        this.model.makeMove("0", K.PlayerMove.Call);
        this.hideMoves();
      },
      leaveTable: function leaveTable(data, c) {
        this.playAudio(K.Sounds.click);
        this.sureToLeaveNode && this.sureToLeaveNode.active && (this.sureToLeaveNode.active = false);
        false === GameManager.playerRequestedToLeaveTable[this.model.gameData.channelId] && (GameManager.playerRequestedToLeaveTable[this.model.gameData.channelId] = true);
        var cb = function cb() {
          for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].clearPlayerCards();
          this.clearHoleCards();
          this.clearPots();
        };
        this.model.leave(this.isObserver());
      },
      onLeaveTableClicked: function onLeaveTableClicked(data) {
        if (this.leaveNextHandTag.active) {
          GameManager.popUpManager.show(PopUpType.NotificationPopup, "You will leave the game after this hand.", function() {});
          return;
        }
        this.sureToLeaveNode.active = true;
      },
      onLeaveTableCancel: function onLeaveTableCancel(data) {
        this.playAudio(K.Sounds.click);
        this.sureToLeaveNode && this.sureToLeaveNode.active && (this.sureToLeaveNode.active = false);
      },
      leaveTournament: function leaveTournament() {},
      standUp: function standUp() {
        this.model.leave(true);
      },
      onSettingsBtn: function onSettingsBtn() {
        var inst = this.popUpManager.show(1, this.model, function() {});
        if (!!inst) {
          this.model.valueChange = false;
          if (2 != GameScreen.viewType || GameManager.isMobile || GameManager.isWindows) {
            if (1 == GameScreen.viewType && !GameManager.isMobile && !GameManager.isWindows) {
              inst.unTileViewSelection.isChecked = false;
              inst.tileViewSelection.isChecked = true;
            }
          } else {
            inst.unTileViewSelection.isChecked = true;
            inst.tileViewSelection.isChecked = false;
          }
          this.model.valueChange = true;
        }
        this.playAudio(K.Sounds.click);
        this.mobileGamePlayOptions();
      },
      onInfoBtn: function onInfoBtn() {
        this.mobileGamePlayOptions();
        if (this.isTournament()) this.tournamentDetailInfo.active = true; else {
          var data = {};
          data.playSound = this.playAudio.bind(this);
          data.info = this.model.roomConfig.info;
          this.popUpManager.show(PopUpType.GameInfoPopup, data, function() {});
          this.playAudio(K.Sounds.click);
        }
      },
      onSettingsBtnClose: function onSettingsBtnClose() {
        this.popUpManager.hide(1, null, function() {});
      },
      addHoleCard: function addHoleCard(cardType, ifAnimateHoleCards) {
        if (this.model.gameData.tableDetails.roundName == K.Round.Showdown && 5 == this.holeCardHolder.getComponentsInChildren("Card").length) return;
        prevDelay = 0;
        var a = this.holeCardHolder.getComponentsInChildren("Card").length;
        var b = this.holeCardsWithTwiceHolder.getComponentsInChildren("Card").length;
        var startIndex = a > b ? a : b;
        var endIndex = cardType[0].length;
        this.runItTwiceCaseRunning = !!(cardType[1].length > 0 && cardType[1].some(function(el) {
          return null !== el;
        }));
        if (this.runItTwiceCaseRunning && this.node.getChildByName("winnerBannerBg")) {
          var tmp = this.node.getChildByName("winnerBannerBg");
          tmp.active = true;
          tmp.width = 400;
          tmp.getChildByName("Rectangle 3289").getChildByName("layout1").active = false;
          tmp.getChildByName("Rectangle 3289").getChildByName("layout2").active = false;
          tmp.getChildByName("Rectangle 3289").getChildByName("winningText").getComponent(cc.Label).string = "Running it Twice...";
        }
        this.cardTimers.forEach(function(element) {
          clearTimeout(element);
        }, this);
        this.cardTimers = [];
        this.cardsFinalPosArray = [];
        this.runItTwiceUpperCardsFinalPosArray = [];
        this.runItTwiceLowerCardsFinalPosArray = [];
        var i = 0;
        var runItTwiceIdx = 0;
        while (null == cardType[1][runItTwiceIdx] && runItTwiceIdx < cardType[1].length) runItTwiceIdx++;
        cardType[1].length == runItTwiceIdx && (runItTwiceIdx = -1);
        var delay = 200;
        for (var i = 0; i < cardType.length; i++) for (var j = startIndex; j < endIndex; j++) {
          var x = endIndex - startIndex;
          !cardType[i][j] || this.generateCard(i, j, runItTwiceIdx, delay, cardType[i][j], cardType, ifAnimateHoleCards, x);
        }
        x > 0 && ifAnimateHoleCards && this.playAudio(K.Sounds.cardOpening);
      },
      generateCard: function generateCard(i, j, runItTwiceIdx, delay, card, cardData, ifAnimateHoleCards, numberOfTimesItWillCalled) {
        var _this3 = this;
        delay = 0;
        var inst = this;
        var instance = CardPool.generateCard(inst.cardPrefab.name, function() {});
        instance.opacity = 255;
        var cardComponent = instance.getComponent("Card");
        cardComponent.init(card, inst.model);
        cardComponent.isCommunityCard = true;
        cardComponent.reveal(true);
        if (-1 == runItTwiceIdx) {
          instance.parent = inst.holeCardHolder;
          if (!ifAnimateHoleCards) {
            var posX = -this.CardStartingPositionOnTable + j * this.CardsPositionOffset;
            instance.setPosition(cc.v2(posX, 0));
          }
          instance.active = !ifAnimateHoleCards;
          inst.cardsFinalPosArray.push(instance);
        } else {
          var k = 0;
          while (inst.holeCardHolder.getComponentsInChildren("Card").length > 0) {
            var n = inst.holeCardHolder.children[0];
            n.parent = inst.holeCardsWithTwiceHolder.children[k];
            n.setPosition(0, 0);
            k++;
          }
          if (j < runItTwiceIdx) instance.parent = inst.holeCardsWithTwiceHolder.children[j]; else if (0 == i) {
            instance.parent = inst.runItTwiceHolder.children[j];
            inst.runItTwiceUpperCardsFinalPosArray.push(instance);
          } else {
            instance.parent = inst.runItTwiceHolder.children[j + 5];
            inst.runItTwiceLowerCardsFinalPosArray.push(instance);
          }
          instance.setPosition(0, 0);
          instance.active = !ifAnimateHoleCards;
        }
        if (ifAnimateHoleCards) if (3 == cardData[0].length && 3 == this.cardsFinalPosArray.length || 5 == cardData[0].length && 5 == this.cardsFinalPosArray.length && 0 == cardData[1].length) this.animateHoleCards(this.cardsFinalPosArray, "SLIDE_TO_OPEN", cc.v2(-this.CardStartingPositionOnTable, 0), this.CardsPositionOffset); else if (cardData[0].length > 3 && this.cardsFinalPosArray.length < 3 && this.holeCardHolder.childrenCount > 2) {
          if (1 == this.cardsFinalPosArray.length && 1 == numberOfTimesItWillCalled) {
            var posX = -this.CardStartingPositionOnTable + (cardData[0].length - 1) * this.CardsPositionOffset;
            this.animateHoleCards(this.cardsFinalPosArray, "FLIP_TO_OPEN", cc.v2(0, 250), this.CardsPositionOffset, cc.v2(posX, 0));
          } else if (2 == this.cardsFinalPosArray.length) {
            var initialPosition = cc.v2(-this.CardStartingPositionOnTable, 0);
            var positionOffset = this.CardsPositionOffset;
            this.cardsFinalPosArray.forEach(function(element, i) {
              var posX = initialPosition.x + (i + 3) * positionOffset;
              element.setPosition(initialPosition);
              if (0 == i) {
                setTimeout(function() {
                  var moveAction = cc.moveTo(.85, cc.v2(posX, 0)).easing(cc.easeCubicActionOut());
                  element.active = true;
                  element.runAction(moveAction);
                }.bind(_this3), 500);
                _this3.timersToKill.push(setTimeout(function() {
                  if (cc.isValid(this.node) && element.getNumberOfRunningActions() > 0) {
                    element.stopAllActions();
                    element.setPosition(cc.v2(posX, 0));
                  }
                }.bind(_this3), 1350));
              } else if (1 == i) {
                _this3.timersToKill.push(setTimeout(function() {
                  var moveAction = cc.moveTo(.95, cc.v2(posX, 0)).easing(cc.easeCubicActionOut());
                  element.active = true;
                  element.runAction(moveAction);
                }.bind(_this3), 1e3));
                _this3.timersToKill.push(setTimeout(function() {
                  if (cc.isValid(this.node) && element.getNumberOfRunningActions() > 0) {
                    element.stopAllActions();
                    element.setPosition(cc.v2(posX, 0));
                  }
                }.bind(_this3), 2200));
              }
            }, this);
          }
        } else if (5 != cardData[0].length || 5 != cardData[1].length || 5 != this.runItTwiceUpperCardsFinalPosArray.length || 0 != this.runItTwiceLowerCardsFinalPosArray.length && 5 != this.runItTwiceLowerCardsFinalPosArray.length) {
          if (5 == cardData[0].length && 5 == cardData[1].length && 2 == this.runItTwiceUpperCardsFinalPosArray.length && 2 == this.runItTwiceLowerCardsFinalPosArray.length || 1 == this.runItTwiceUpperCardsFinalPosArray.length && 1 == this.runItTwiceLowerCardsFinalPosArray.length) {
            var times = 2 == this.runItTwiceUpperCardsFinalPosArray.length ? 4 : 2;
            var _loop = function _loop() {
              var crd = [];
              _k < times / 2 ? crd.push(_this3.runItTwiceUpperCardsFinalPosArray[_k]) : crd.push(_this3.runItTwiceLowerCardsFinalPosArray[_k - times / 2]);
              WPcord = _this3.runItTwiceHolder.convertToWorldSpaceAR(cc.v2(0, 250));
              var init = crd[0].parent.convertToNodeSpaceAR(WPcord);
              _this3.timersToKill.push(setTimeout(function() {
                this.animateHoleCards(crd, "FLIP_TO_OPEN", init, this.CardsPositionOffset, cc.v2(0, 0));
              }.bind(_this3), _this3.runItTwiceLowerCardDelay * _k * 1e3));
            };
            for (var _k = 0; _k < times; _k++) {
              var WPcord;
              _loop();
            }
          }
        } else {
          var convertedPosArr = [];
          if (5 == this.runItTwiceLowerCardsFinalPosArray.length) {
            this.runItTwiceLowerCardsFinalPosArray.forEach(function(element) {
              var WPcord = this.runItTwiceHolder.convertToWorldSpaceAR(cc.v2(this.runItTwiceHolder.children[5].getPosition()));
              convertedPosArr.push(element.parent.convertToNodeSpaceAR(WPcord));
            }, this);
            this.timersToKill.push(setTimeout(function() {
              this.animateHoleCards(this.runItTwiceLowerCardsFinalPosArray, "SLIDE_TO_OPEN", this.runItTwiceHolder.children[5].getPosition(), 102, null, convertedPosArr);
            }.bind(this), 1e3 * (5 * this.runItTwiceSlideToOpenDelay + .1)));
            return;
          }
          this.runItTwiceUpperCardsFinalPosArray.forEach(function(element) {
            var WPcord = this.runItTwiceHolder.convertToWorldSpaceAR(cc.v2(this.runItTwiceHolder.children[0].getPosition()));
            convertedPosArr.push(element.parent.convertToNodeSpaceAR(WPcord));
          }, this);
          this.animateHoleCards(this.runItTwiceUpperCardsFinalPosArray, "SLIDE_TO_OPEN", this.runItTwiceHolder.children[0].getPosition(), 102, null, convertedPosArr);
        }
      },
      animateHoleCards: function animateHoleCards(nodesToAnimate, animationType, initialPosition, positionOffset, finalNodeDestination, runTwiceInitPosArr) {
        var _this4 = this;
        void 0 === positionOffset && (positionOffset = this.CardsPositionOffset);
        if ("SLIDE_TO_OPEN" == animationType) 5 == nodesToAnimate.length ? nodesToAnimate.forEach(function(element, i) {
          var posX = initialPosition.x + i * positionOffset;
          if (!!runTwiceInitPosArr) {
            initialPosition = runTwiceInitPosArr[i];
            posX = 0;
          }
          element.setPosition(initialPosition);
          if (0 == i || 1 == i || 2 == i) {
            var moveAction = cc.moveTo(.15 * i, cc.v2(posX, 0)).easing(cc.easeCubicActionOut());
            element.active = true;
            element.runAction(moveAction);
            _this4.timersToKill.push(setTimeout(function() {
              if (cc.isValid(this.node) && element.getNumberOfRunningActions() > 0) {
                element.stopAllActions();
                element.setPosition(cc.v2(posX, 0));
              }
            }.bind(_this4), 180 * i));
          } else if (3 == i) {
            _this4.timersToKill.push(setTimeout(function() {
              var moveAction = cc.moveTo(.55, cc.v2(posX, 0)).easing(cc.easeCubicActionOut());
              element.active = true;
              element.runAction(moveAction);
            }.bind(_this4), 1e3));
            _this4.timersToKill.push(setTimeout(function() {
              if (cc.isValid(this.node) && element.getNumberOfRunningActions() > 0) {
                element.stopAllActions();
                element.setPosition(cc.v2(posX, 0));
              }
            }.bind(_this4), 80));
          } else if (4 == i) {
            _this4.timersToKill.push(setTimeout(function() {
              var moveAction = cc.moveTo(.55, cc.v2(posX, 0)).easing(cc.easeCubicActionOut());
              element.active = true;
              element.runAction(moveAction);
            }.bind(_this4), 1500));
            _this4.timersToKill.push(setTimeout(function() {
              if (cc.isValid(this.node) && element.getNumberOfRunningActions() > 0) {
                element.stopAllActions();
                element.setPosition(cc.v2(posX, 0));
              }
            }.bind(_this4), 2500));
          }
        }, this) : nodesToAnimate.forEach(function(element, i) {
          var posX = initialPosition.x + i * positionOffset;
          if (!!runTwiceInitPosArr) {
            initialPosition = runTwiceInitPosArr[i];
            posX = 0;
          }
          element.setPosition(initialPosition);
          var moveAction = cc.moveTo(.18 * i, cc.v2(posX, 0)).easing(cc.easeCubicActionOut());
          element.active = true;
          element.runAction(moveAction);
          _this4.timersToKill.push(setTimeout(function() {
            if (cc.isValid(this.node) && element.getNumberOfRunningActions() > 0) {
              element.stopAllActions();
              element.setPosition(cc.v2(posX, 0));
            }
          }.bind(_this4), 200 * i));
        }, this); else if ("FLIP_TO_OPEN" == animationType) {
          var moveAction = cc.moveTo(.18, finalNodeDestination).easing(cc.easeCubicActionOut());
          nodesToAnimate[0].setPosition(initialPosition);
          nodesToAnimate[0].active = true;
          nodesToAnimate[0].getComponent("Card").frontFace.node.active = false;
          nodesToAnimate[0].getComponent("Card").backFace.node.active = true;
          nodesToAnimate[0].runAction(moveAction);
          nodesToAnimate[0].runAction(cc.sequence(cc.delayTime(.15), cc.callFunc(function() {
            nodesToAnimate[0].getComponent("Card").frontFace.node.active = true;
            nodesToAnimate[0].getComponent("Card").backFace.node.active = false;
          })));
          this.timersToKill.push(setTimeout(function() {
            if (cc.isValid(this.node)) {
              nodesToAnimate[0].stopAllActions();
              nodesToAnimate[0].setPosition(finalNodeDestination);
              nodesToAnimate[0].getComponent("Card").frontFace.node.active = true;
              nodesToAnimate[0].getComponent("Card").backFace.node.active = false;
            }
          }.bind(this), 200));
        }
      },
      clearHoleCards: function clearHoleCards() {
        if (null === this.holeCardHolder) return;
        var children = this.holeCardHolder.children;
        while (children.length > 0) CardPool.destroyCard(children[0], function() {});
        var children = this.runItTwiceHolder.children;
        for (var index = 0; index < children.length; index++) while (children[index].children.length > 0) CardPool.destroyCard(children[index].children[0], function() {});
        var children = this.holeCardsWithTwiceHolder.children;
        for (var index = 0; index < children.length; index++) while (children[index].children.length > 0) CardPool.destroyCard(children[index].children[0], function() {});
      },
      clearTable: function clearTable() {
        this.node.stopAllActions();
        this.unscheduleAllCallbacks();
        this.tourStartLabel.node.parent.parent.active = false;
        this.clearHoleCards();
        this.clearPots();
        this.killTimers();
        this.forceAddPlayercardsData = null;
        this.forceAddPlayercardsSeatIndex = null;
      },
      sitSuccess: function sitSuccess(data, playerIndex) {
        if (data.playerId === this.model.gameData.playerId) {
          for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].seatState === K.SeatState.Free && this.playerHand[index].disableView();
          this.handleSitOutBtns(true);
          this.manageBtns(true);
          this.model.gameData.isJoinWaiting = false;
          this.showMuckHand();
        }
        var index = this.model.getPlayerById(data.playerId);
        this.playerHand[this.getRotatedSeatIndex(data.seatIndex)].playerData = this.model.gameData.tableDetails.players[index];
        this.playerHand[this.getRotatedSeatIndex(data.seatIndex)].enablePlayerView(this.model.gameData.playerId);
        if (this.model.gameData.tableDetails.state === K.GameState.Running) {
          this.setDealer();
          data.playerId === this.model.gameData.playerId && this.checkInBetweenBlinds(true);
        }
        this.isStraddleAllowed();
        this.enableJoinBtn();
      },
      checkInBetweenBlinds: function checkInBetweenBlinds() {
        console.log("checkInBetweenBlinds 1");
        if (this.isTournament()) {
          this.postBigBlindCheckBox.node.parent.active = false;
          return;
        }
        var data = this.getMyPlayer();
        if (this.model.gameData.tableDetails.state === K.GameState.Running && null != data && data.state == K.PlayerState.Waiting) {
          console.log("checkInBetweenBlinds 2", this.model.gameData.tableDetails.state, data.state);
          var sb = this.model.gameData.tableDetails.smallBlindIndex;
          var bb = this.model.gameData.tableDetails.bigBlindIndex - sb;
          bb < 0 && (bb += this.maxSeatIndex);
          var p = data.seatIndex - sb;
          p < 0 && (p += this.maxSeatIndex);
          console.log("checkInBetweenBlinds 3", sb, bb, p);
          sb = 0;
          var data;
          false;
          console.log("checkInBetweenBlinds 5", true);
          if (!this.postBigBlindCheckBox.node.parent.active) {
            this.postBigBlindCheckBox.node.parent.active = true;
            this.postBigBlindCheckBox.setSelection(this.model.postBigBlindUserFlake);
          }
        } else {
          console.log("checkInBetweenBlinds 6");
          if (!!data && data.state !== K.PlayerState.Waiting) {
            console.log("checkInBetweenBlinds 7");
            this.postBigBlindCheckBox.node.parent.active = false;
          }
          this.popUpManager.hide(2, function() {});
        }
        if (this.model.gameData.tableDetails.state != K.GameState.Running && null != data && data.state == K.PlayerState.Waiting) {
          console.log("checkInBetweenBlinds 8");
          this.postBigBlindCheckBox.node.parent.active = false;
          this.postBigBlindCheckBox.setSelection(false);
        }
      },
      deductBlind: function deductBlind(data) {
        this.node.getChildByName("winnerBannerBg") && (this.node.getChildByName("winnerBannerBg").active = false);
        this.timersToKill.push(setTimeout(function() {
          this.displayPots();
        }.bind(this), 1800));
        if (null !== this.resetTimer) {
          clearTimeout(this.resetTimer);
          this.resetTimer = null;
        }
        var players = this.model.gameData.tableDetails.players;
        for (var index = 0; index < players.length; index++) {
          var presenter = this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)];
          presenter.node.getChildByName("BB").active = false;
          presenter.node.getChildByName("SB").active = false;
          players[index].seatIndex == data.bigBlindIndex ? presenter.node.getChildByName("BB").active = true : players[index].seatIndex == data.smallBlindIndex && (presenter.node.getChildByName("SB").active = true);
        }
      },
      rotateView: function rotateView(data) {
        this.setIndexOffset(data.seatIndex);
        for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].resetSeat();
        this.allocateSeat();
        this.playerHand.forEach(function(element) {
          element.seatState === K.SeatState.Free && element.disableView();
        }, this);
      },
      hideAllSBBB: function hideAllSBBB() {
        var players = this.model.gameData.tableDetails.players;
        for (var index = 0; index < players.length; index++) {
          var presenter = this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)];
          presenter.node.getChildByName("BB").active = false;
          presenter.node.getChildByName("SB").active = false;
        }
      },
      resetView: function resetView() {
        this.indexOffset = 0;
        for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].resetSeat();
        this.allocateSeat();
        this.playerHand.forEach(function(element) {
          element.seatState !== K.SeatState.Occupied && element.disablePlayerView();
        }, this);
      },
      playerStateChange: function playerStateChange(data) {
        null !== this.gameOverLabel && (this.gameOverLabel.string = "");
        if (null != this.getMyPlayer() && this.getMyPlayer().seatIndex == data.seatIndex) {
          if (data.state === K.PlayerState.OnBreak) {
            this.handleSitOutBtns(false);
            this.isTournament() || (this.postBigBlindCheckBox.node.parent.active = false);
            this.singleTime = false;
          } else this.model.sitOutValue == SitOutMode.None && this.handleSitOutBtns(true);
          data.state === K.PlayerState.Waiting && (this.resumeBtn.active = false);
          this.showMuckHand();
          console.log("this.getMyPlayer()", this.getMyPlayer());
          this.getPlayerByIdx(this.model.getPlayerById(this.getMyPlayer().playerId)).updateTimeBank2(data.timeBankSec);
        }
        this.playerHand[this.getRotatedSeatIndex(data.seatIndex)].onStateChange();
        !this.optionalPlayerInput || (this.optionalPlayerInput.selectedValue = null);
        this.checkInBetweenBlinds();
        this.isStraddleAllowed();
        this.handleRunItTwice();
      },
      handleSitOutBtns: function handleSitOutBtns(val) {
        this.resumeBtn.active = !val;
        this.handleSitAllBtn();
        this.sitOutNextHandCheckBox.node.parent.active = val;
        this.sitOutNextHandCheckBox.setSelection(!val);
      },
      handleSitAllBtn: function handleSitAllBtn() {
        var count = 0;
        for (var index = 0; index < GameScreen.gameModel.activePokerModels.length; index++) {
          var presenter = GameScreen.gameModel.activePokerModels[index].node.children[0].getComponent("PokerPresenter");
          if (presenter.resumeBtn.active) {
            count++;
            if (count > 1) break;
          }
        }
        for (var index = 0; index < GameScreen.gameModel.activePokerModels.length; index++) GameScreen.gameModel.activePokerModels[index].node.children[0].getComponent("PokerPresenter").resumeBtn.children[1].active = count > 1;
      },
      dealerChat: function dealerChat(data) {},
      chat: function chat(data) {
        var index = this.model.getPlayerById(data.playerId);
        this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.players[index].seatIndex)].showChat(data.message);
      },
      onBestHand: function onBestHand() {
        return;
        var str;
      },
      onReBuyInConfirm: function onReBuyInConfirm() {
        this.model.rebuy(this.model.gameData.channelId, GameManager.user.playerId, this.model.gameData.raw.tournamentId, function(res) {
          console.log("onReBuyInConfirm", res);
        }, function(error) {
          console.log("onReBuyInConfirm error", error);
        });
      },
      onRebuyDeactivated: function onRebuyDeactivated(data) {
        this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
      },
      onRebuyActivated: function onRebuyActivated(data) {
        console.log("onRebuyActivated", data);
        var text_chips = LocalizedManager.t("TXT_AVAILABLE_CHIPS") + ":";
        "DIAMOND" == GameManager.user.category ? data.totalChips = GameManager.user.realChips : data.totalChips = GameManager.user.freeChips;
        data.isRebuy = true;
        data.rebuyChips = this.model.gameData.raw.tourData.raw.rebuyChips;
        data.rebuyAmount = this.model.gameData.raw.tourData.raw.rebuy.rebuyPrice.rebuyAmount;
        data.rebuyHoursFee = this.model.gameData.raw.tourData.raw.rebuy.rebuyPrice.rebuyHouseFee;
        data.rebuyTotalChips = this.model.gameData.raw.tourData.raw.rebuy.rebuyPrice.totalRebuyChip;
        data.rebuyTimer || (data.rebuyTimer = this.model.gameData.raw.tourData.raw.timeToRebuy);
        data.confirm = this.onReBuyInConfirm.bind(this);
        data.channelId = this.model.gameData.channelId;
        data.playSound = this.playAudio.bind(this);
        this.popUpManager.show(PopUpType.BuyInPopup, data, function() {});
      },
      checkForSelfTurn: function checkForSelfTurn(playerId) {
        return !(!this.model || this.model.gameData.playerId !== playerId);
      },
      getMyPlayer: function getMyPlayer() {
        var index = this.model.getPlayerById(this.model.gameData.playerId);
        var myPlayer = this.model.gameData.tableDetails.players[index];
        return !myPlayer ? null : myPlayer;
      },
      clearPots: function clearPots() {
        this.totalPotLbl && (this.totalPotLbl.node.parent.active = false);
        this.potAmount && this.potAmount.forEach(function(element) {
          element.children[0].getComponent("PokerChipsView").destroyChips();
          element.parent.active = false;
        }, this);
      },
      displayPots: function displayPots() {
        if (!this.totalPotLbl) return;
        this.totalPotLbl.node.parent.active = true;
        this.totalPotLbl.string = GameManager.convertChips(this.model.gameData.tableDetails.totalPot);
        this.totalPotLbl.__string = this.model.gameData.tableDetails.totalPot;
        this.updateBB();
        if (this.model.gameData.tableDetails.roundName !== K.Round.Preflop) for (var index = 0; index < this.model.gameData.tableDetails.pot.length; index++) {
          this.potAmount[index].getComponent(cc.Label).string = GameManager.convertChips(this.model.gameData.tableDetails.pot[index]);
          this.potAmount[index].getComponent(cc.Label).__string = this.model.gameData.tableDetails.pot[index];
          this.potAmount[index].parent.active = true;
          this.updateBB();
        } else if (this.isTournament() && this.model.gameData.tableDetails.players.length > 1) {
          var ante = this.model.gameData.raw.tourData.raw.currentBlindLevel.ante;
          var totalAnte = ante * this.model.gameData.tableDetails.players.length;
          if (totalAnte > 0) {
            if (!this.totalPotLbl) return;
            this.totalPotLbl.node.parent.active = true;
            this.totalPotLbl.string = GameManager.convertChips(totalAnte);
            this.totalPotLbl.__string = totalAnte;
            this.potAmount[0].getComponent(cc.Label).string = GameManager.convertChips(totalAnte);
            this.potAmount[0].getComponent(cc.Label).__string = totalAnte;
            this.potAmount[0].parent.active = true;
            this.potAmount[0].children[0].getComponent("PokerChipsView").generateChips(totalAnte);
          }
        }
      },
      startGame: function startGame(data) {
        this.popUpManager.hide(PopUpType.SitNGoResultPopup, function() {});
        var moves = data.moves;
        this.playerInput[0].active = false;
        GameManager.isWindows || GameManager.isMobile || 1 != GameScreen.viewType || (this.mobilePlayerInput[0].active = false);
        var players = this.model.gameData.tableDetails.players;
        for (var index = 0; index < players.length; index++) {
          var presenter = this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)];
          presenter.enablePlayerView(this.model.gameData.playerId, false);
        }
        this.timersToKill.push(setTimeout(function() {
          var players = this.model.gameData.tableDetails.players;
          for (var index = 0; index < players.length; index++) {
            var presenter = this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)];
            presenter.playerData.totalRoundBet > 0 && presenter.displayBlind(presenter.playerData.totalRoundBet);
          }
        }.bind(this), 1500));
        this.clearHoleCards();
        this.setDealer();
        this.placeDummyCards();
        this.cardAnimation(this.model.gameData.tableDetails.players);
        this.handleRunItTwice();
        this.checkInBetweenBlinds();
        this.displayRoundNumber();
      },
      cardAnimation: function cardAnimation(players) {
        var params = [];
        for (var index = 0; index < players.length; index++) if (players[index].state === K.PlayerState.Playing || this.isTournament()) {
          if ("REBUYING" == players[index].state) continue;
          var cardData = {};
          cardData.targetNode = this.playerHand[this.getRotatedSeatIndex(players[index].seatIndex)].node;
          params.push(cardData);
        }
        this.cardDistributer.distributeCards(this.model.dummyCardsCount, params, this);
      },
      onStandUp: function onStandUp() {
        this.hideMoves();
        this.enableTempPlayerInput(false);
        this.handleSitOutBtns(true);
        this.manageBtns(false);
        this.enableJoinBtn();
      },
      nextTurn: function nextTurn(data, previousIndex) {
        this.onHideRaisePanel();
        var moves = data.moves;
        "RAISE" == data.action.toUpperCase() && null != this.optionalPlayerInput.selectedValue && "CALL" == this.optionalPlayerInput.selectedValue.toUpperCase() && (this.optionalPlayerInput.selectedValue = null);
        "RAISE" != data.action.toUpperCase() && "BET" != data.action.toUpperCase() && "ALLIN" != data.action.toUpperCase() || null == this.optionalPlayerInput.selectedValue || "CHECK" != this.optionalPlayerInput.selectedValue.toUpperCase() && "CALL" != this.optionalPlayerInput.selectedValue.toUpperCase() || (this.optionalPlayerInput.selectedValue = null);
        "ALLIN" == data.action.toUpperCase() && GameManager.user.playerId == data.playerId && this.handleRunItTwice(false);
        "FOLD" == data.action.toUpperCase() && GameManager.user.playerId != data.playerId && this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.players[previousIndex].seatIndex)].fadeOutFoldedCards();
        "FOLD" == data.action.toUpperCase() && GameManager.user.playerId == data.playerId && this.getNumPlayerInTable() > 2 && this.enableShowFoldBtn();
        this.playerInput[0].active = false;
        GameManager.isWindows || GameManager.isMobile || 1 != GameScreen.viewType || (this.mobilePlayerInput[0].active = false);
        null != previousIndex && this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.players[previousIndex].seatIndex)].displayMove(data.action);
        if (-1 == data.currentMoveIndex) {
          this.hideMoves();
          this.enableTempPlayerInput(false);
          return;
        }
        if ("" === data.currentMoveIndex) return;
        if (data.isRoundOver) {
          console.log("On TURN CURRENT MOVE INDEX ", data.currentMoveIndex);
          console.log(this.playerHand);
          console.log(this.getRotatedSeatIndex(data.currentMoveIndex));
          if (!this.playerHand[this.getRotatedSeatIndex(data.currentMoveIndex)]) return;
          this.playerHand[this.getRotatedSeatIndex(data.currentMoveIndex)].onTurn(this.model.gameData.tableDetails.turnTime);
          var playerPresenter = this.playerHand[this.getRotatedSeatIndex(data.currentMoveIndex)];
          if (this.checkForSelfTurn(this.playerHand[this.getRotatedSeatIndex(data.currentMoveIndex)].playerData.playerId)) {
            this.enableTempPlayerInput(false);
            this.timersToKill.push(setTimeout(function() {
              this.selfLastMoveData = moves;
              if (data.currentMoveIndex == this.model.gameData.tableDetails.currentMoveIndex) {
                this.optionalPlayerInput.selectedValue = null;
                this.enableSelfTurn(playerPresenter, moves);
              }
            }.bind(this), 1400));
          } else {
            this.onCloseSureToFold();
            this.model.emit(K.PokerEvents.onTurnInOtherRoom, this.model, false);
            var selfRef = this.getMyPlayer();
            null !== selfRef && void 0 !== selfRef && selfRef.state == K.PlayerState.Playing;
          }
        } else {
          this.playerHand[this.getRotatedSeatIndex(data.currentMoveIndex)].onTurn(this.model.gameData.tableDetails.turnTime);
          var playerPresenter = this.playerHand[this.getRotatedSeatIndex(data.currentMoveIndex)];
          if (playerPresenter.playerData) {
            playerPresenter.onTurn(this.model.gameData.tableDetails.turnTime);
            if (this.checkForSelfTurn(playerPresenter.playerData.playerId)) {
              this.selfLastMoveData = moves;
              this.enableTempPlayerInput(false);
              this.enableSelfTurn(playerPresenter, moves);
            } else {
              this.onCloseSureToFold();
              this.model.emit(K.PokerEvents.onTurnInOtherRoom, this.model, false);
              var selfRef = this.getMyPlayer();
              null !== selfRef && void 0 !== selfRef && selfRef.state == K.PlayerState.Playing;
            }
          } else cc.error("!playerPresenter", playerPresenter);
        }
        "precheck" == data.runBy && data.currentMoveIndex == this.model.gameData.tableDetails.currentMoveIndex && (this.optionalPlayerInput.selectedValue = null);
      },
      playAudio: function playAudio(sound) {
        if (ScreenManager.currentScreen != K.ScreenEnum.GamePlayScreen) return;
        this.model.gameData.settings.muteGameSound || GameManager.playSound(sound);
      },
      onSecondEventClickSoud: function onSecondEventClickSoud() {
        this.playAudio(K.Sounds.click);
      },
      enableSelfTurn: function enableSelfTurn(playerPresenter, moves) {
        if (playerPresenter.playerData.state == K.PlayerState.Playing || playerPresenter.playerData.state == K.PlayerState.Disconnected) {
          this.playAudio(K.Sounds.userTurn);
          GameManager.popUpManager.hide(PopUpType.GamePreferencesPopup, function() {});
          this.model.emit(K.PokerEvents.onTurnInOtherRoom, this.model, true);
          if (GameManager.isMobile || !this.playerInput[0]) this.playerInput[0].active = true; else if (GameManager.gameModel.activePokerModels.length >= 2 && !GameManager.isWindows && 1 == GameScreen.viewType) {
            GameManager.isWindows || (this.mobilePlayerInput[0].active = true);
            if (this.playerInput[0].active) {
              this.playerInput[0].active = false;
              this.mobilePlayerInput[0].active = true;
            }
          } else !this.playerInput[0] || (this.playerInput[0].active = true);
          this.hideMoves();
          var sliderData = {};
          var currentPlayerId = playerPresenter.playerData.playerId;
          var playerIndex = this.model.getPlayerById(currentPlayerId);
          sliderData.maxAmount = this.model.gameData.tableDetails.maxRaiseAmount.roundOff(2);
          sliderData.minAmount = this.model.gameData.tableDetails.minRaiseAmount.roundOff(2);
          sliderData.playerChips = this.getMyPlayer().chips;
          sliderData.roundBet = this.getMyPlayer().totalRoundBet || 0;
          sliderData.potAmount = this.model.gameData.tableDetails.totalPot;
          sliderData.roundName = this.model.gameData.tableDetails.roundName;
          sliderData.bb = this.model.gameData.tableDetails.bigBlind;
          sliderData.roundMaxBet = this.model.gameData.tableDetails.roundMaxBet;
          var flag = "Omaha" === this.model.roomConfig.channelVariation || "Omaha Hi-Lo" === this.model.roomConfig.channelVariation || "Omaha 5" === this.model.roomConfig.channelVariation || "Omaha 6" === this.model.roomConfig.channelVariation;
          var flag2 = !this.model.roomConfig.isPotLimit && this.model.roomConfig.channelVariation === K.Variation.TexasHoldem && this.model.gameData.tableDetails.roundName === K.Round.Preflop;
          this.betBtnSlider.updateData(sliderData, flag, flag2);
          !this.tileBetBtnSlider || this.tileBetBtnSlider.updateData(sliderData, flag, flag2);
          this.enableTempPlayerInput(false);
          this.sureToFold = moves.includes(1) && moves.includes(6);
          this.displayMoves(moves, playerIndex);
          if (GameManager.isMobile || GameManager.isWindows || 1 != GameScreen.viewType) this.playerInput[0].active = true; else if (GameManager.gameModel.activePokerModels.length >= 2) {
            !this.mobilePlayerInput[0] || (this.mobilePlayerInput[0].active = true);
            if (this.playerInput[0].active) {
              this.playerInput[0].active = false;
              this.mobilePlayerInput[0].active = true;
            }
          } else !this.playerInput[0] || (this.playerInput[0].active = true);
        }
      },
      displayMoves: function displayMoves(moves, playerIndex) {
        var selectedValue;
        selectedValue = this.optionalPlayerInput.selectedValue;
        if (null != selectedValue) ; else {
          this.enableInputs(moves, playerIndex);
          if (GameManager.gameModel.activePokerModels.length >= 2 && !GameManager.isMobile && !GameManager.isWindows && 1 == GameScreen.viewType) {
            console.log("display moves Tiled");
            this.enableInputsForTileAndUntiled(moves, playerIndex);
          } else console.log("display moves UnTiled");
        }
        GameScreen.gameModel.activePokerModels[GameScreen.prevSelection] && GameScreen.gameModel.activePokerModels[GameScreen.prevSelection] && GameScreen.gameModel.activePokerModels[GameScreen.prevSelection].gameData.channelId == this.model.gameData.channelId && GameManager.emit("disablePageView");
      },
      enableInputs: function enableInputs(moves, playerIndex, input) {
        void 0 === input && (input = this.playerInput);
        var sceneName = cc.director.getScene().name;
        if ("Login" == sceneName || "Mac" == sceneName || "Windows" == sceneName) {
          this.enableInputsForTileAndUntiled(moves, playerIndex);
          return;
        }
        K.PORTRAIT;
        this.realBetBtn.active = false;
        this.realRaiseBtn.active = false;
        moves.forEach(function(element) {
          input[element].active = true;
          if (3 === element || 4 === element) {
            K.PORTRAIT;
            3 === element ? this.realBetBtn.active = true : 4 === element && (this.realRaiseBtn.active = true);
          }
          if (2 === element) {
            this.callAmountLabel.string = (this.model.gameData.tableDetails.roundMaxBet - this.model.gameData.tableDetails.players[playerIndex].totalRoundBet).roundOff(2);
            this.updateBB();
          }
          K.PORTRAIT && 5 === element && (input[3].active || input[4].active) && (input[element].active = false);
        }, this);
      },
      enableInputsForTileAndUntiled: function enableInputsForTileAndUntiled(moves, playerIndex) {
        var input1 = this.mobilePlayerInput;
        var input2 = this.playerInput;
        moves.forEach(function(element) {
          input1[element].active = true;
          input2[element].active = true;
          3 === element || 4 === element;
          if (2 === element) {
            var value = (this.model.gameData.tableDetails.roundMaxBet - this.model.gameData.tableDetails.players[playerIndex].totalRoundBet).roundOff(2);
            this.callAmountLabel.string = value;
            this.mobileCallAmountLabel.string = value;
            this.updateBB();
          }
        }, this);
      },
      makePredefinedMove: function makePredefinedMove(move, movesAllowed, playerIndex) {
        setTimeout(function() {
          if (cc.isValid(this.node)) {
            switch (move) {
             case "Call":
              movesAllowed.indexOf(2) >= 0 || this.enableInputs(movesAllowed, playerIndex);
              break;

             case "CallAny":
              movesAllowed.indexOf(2) >= 0;
              break;

             case "Fold":
              this.sureToFold = false;
              break;

             case "Check":
              movesAllowed.indexOf(1) >= 0 || this.enableInputs(movesAllowed, playerIndex);
              break;

             case "CallAny_Check":
              movesAllowed.indexOf(1) >= 0 || movesAllowed.indexOf(2) >= 0;
              break;

             case "AllIn":
              break;

             case "Check_Fold":
              movesAllowed.indexOf(1) >= 0 || (this.sureToFold = false);
            }
            this.optionalPlayerInput.selectedValue = null;
          }
        }.bind(this), 500);
      },
      hideMoves: function hideMoves() {
        this.mobilePlayerInput.forEach(function(element) {
          element.active = false;
        }, this);
        this.playerInput.forEach(function(element) {
          element.active = false;
        }, this);
        GameScreen.gameModel.activePokerModels[GameScreen.prevSelection] && GameScreen.gameModel.activePokerModels[GameScreen.prevSelection] && GameScreen.gameModel.activePokerModels[GameScreen.prevSelection].gameData.channelId == this.model.gameData.channelId && GameManager.emit("enablePageView");
      },
      roundOver: function roundOver(data) {
        for (var index = 0; index < this.playerHand.length; index++) {
          this.playerHand[index].activatePlayerBet(false, true);
          this.playerHand[index].playerData && "FOLD" != this.playerHand[index].playerData.lastMove && "ALLIN" != this.playerHand[index].playerData.lastMove && (this.playerHand[index].moveShower.scale = 0);
        }
        this.timersToKill.push(setTimeout(function() {
          this.displayPots();
        }.bind(this), 700));
      },
      gameOver: function gameOver(data, playerIndex) {
        var _this5 = this;
        console.log("GAME OVER", data);
        this.disableShowFoldBtn();
        playerIndex.forEach(function(element) {
          this.playerHand[this.getRotatedSeatIndex(element)].winningRevealCards(data.endingType == K.GameEndType.EverybodyPacked);
        }, this);
        this.model.gameData.tableDetails.players.forEach(function(element) {
          !playerIndex.includes(element.seatIndex) && this.playerHand[this.getRotatedSeatIndex(element.seatIndex)] && this.playerHand[this.getRotatedSeatIndex(element.seatIndex)].winningRevealCards(data.endingType == K.GameEndType.EverybodyPacked);
        }, this);
        var time = 0;
        var zero = this.node.parent.getComponent("PokerModel").number0;
        var one = this.node.parent.getComponent("PokerModel").number1;
        5 != zero || 0 != one && 5 != one || (time = 2200);
        setTimeout(function() {
          if (cc.isValid(_this5.node)) {
            _this5.preCheckCounter = 0;
            _this5.optionalPlayerInput.requestMappings = {};
            _this5.runItTwiceCaseRunning = false;
            _this5.handleRunItTwice(false);
            _this5.enableTempPlayerInput(false);
            _this5.optionalPlayerInput.selectedValue = null;
            var myObj = {};
            var refundPot = {};
            for (var i = 0; i < data.winners.length; i++) {
              var index = _this5.model.getPlayerById(data.winners[i].playerId);
              if (data.winners[i].playerId == GameManager.user.playerId) {
                var xxx = _this5.model.gameData.settings.isMuckHand;
                console.log("this.model.gameData.settings.isMuckHand", xxx);
                xxx || data.endingType != K.GameEndType.EverybodyPacked || (_this5.muckHandNode.active = true);
              }
              var splitData = {};
              splitData.amount = data.winners[i].amount;
              splitData.totalChips = data.winners[i].chips;
              splitData.potIndex = data.winners[i].potIndex;
              splitData.internalPotSplitIndex = data.winners[i].internalPotSplitIndex;
              if (!_this5.model.gameData.tableDetails.players[index]) continue;
              splitData.targetNode = _this5.playerHand[_this5.getRotatedSeatIndex(_this5.model.gameData.tableDetails.players[index].seatIndex)].node;
              splitData.set = data.winners[i].set;
              splitData.handCard = data.winners[i].handCard;
              splitData.boardCard = data.winners[i].boardCard;
              splitData.playerId = data.winners[i].playerId;
              splitData.winningAmount = data.winners[i].winningAmount;
              splitData.type = data.winners[i].type ? data.winners[i].type : "LOW CASE ";
              if (data.winners[i].isRefund) if (refundPot.playerId) refundPot.winningAmount += data.winners[i].winningAmount; else {
                refundPot = splitData;
                refundPot.set = [];
                refundPot.handCard = [];
                refundPot.boardCard = [];
                refundPot.type = "REFUND";
              } else {
                myObj[data.winners[i].internalPotSplitIndex] || (myObj[data.winners[i].internalPotSplitIndex] = []);
                myObj[data.winners[i].internalPotSplitIndex].push(splitData);
              }
            }
            var tempArray = [];
            if (!!refundPot.playerId) {
              var v = [];
              v.push(refundPot);
              tempArray.push(v);
            }
            for (var property in myObj) myObj.hasOwnProperty(property) && tempArray.push(myObj[property]);
            myObj = tempArray;
            var count = new Array(9);
            count.fill(0);
            for (var t = 0; t < myObj.length; t++) count[myObj[t][0].potIndex] = count[myObj[t][0].potIndex] + 1;
            var tmpPlayerCardRef = null;
            for (var m = 0; m < myObj.length; m++) (function(o, inst) {
              inst.timersToKill.push(setTimeout(function() {
                var potInstance = null;
                count[myObj[o][0].potIndex] > 1 ? count[myObj[o][0].potIndex] = count[myObj[o][0].potIndex] - 1 : potInstance = inst.potAmount[myObj[o][0].potIndex];
                inst.timersToKill.push(setTimeout(function() {
                  if (!potInstance) {
                    var sumAmount = 0;
                    for (var n = 0; n < myObj[o].length; n++) sumAmount += myObj[o][n].winningAmount;
                    sumAmount = sumAmount.roundOff(2);
                    sumAmount = inst.potAmount[myObj[o][0].potIndex].getComponent(cc.Label).__string - sumAmount;
                    inst.potAmount[myObj[o][0].potIndex].getComponent(cc.Label).string = GameManager.convertChips(sumAmount);
                    inst.potAmount[myObj[o][0].potIndex].getComponent(cc.Label).__string = sumAmount;
                    inst.updateBB();
                  }
                  inst.playAudio(K.Sounds.chipDistribution);
                  inst.potAnimator.runPotSplitter(myObj[o], potInstance, function() {});
                }.bind(inst), 1e3 * inst.potSplitterMoveActionDelay));
                if ("Every Body Else Folded" != myObj[o][0].type && "REFUND" != myObj[o][0].type && inst.node.getChildByName("winnerBannerBg")) {
                  var tmp = inst.node.getChildByName("winnerBannerBg");
                  tmp.active = true;
                  tmp.width = 400;
                  tmp.getChildByName("Rectangle 3289").getChildByName("layout1").active = false;
                  tmp.getChildByName("Rectangle 3289").getChildByName("layout2").active = false;
                  tmp.getChildByName("Rectangle 3289").getChildByName("winningText").getComponent(cc.Label).string = myObj[o][0].type;
                  tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children.forEach(function(element) {
                    element.active = false;
                  }, this);
                  tmp.getChildByName("Rectangle 3289").getChildByName("layout1").active = true;
                  for (var zzz = 0; zzz < myObj[o][0].set.length; zzz++) {
                    tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].active = true;
                    tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("rank").getComponent(cc.Label).string = myObj[o][0].set[zzz].name;
                    tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("1").active = false;
                    tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("2").active = false;
                    tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("3").active = false;
                    tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("4").active = false;
                    "spade" === myObj[o][0].set[zzz].type ? tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("1").active = true : "heart" === myObj[o][0].set[zzz].type ? tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("2").active = true : "club" === myObj[o][0].set[zzz].type ? tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("3").active = true : "diamond" === myObj[o][0].set[zzz].type && (tmp.getChildByName("Rectangle 3289").getChildByName("layout1").children[zzz].getChildByName("4").active = true);
                  }
                  inst.timersToKill.push(setTimeout(function() {
                    tmp.active = false;
                  }, 3e3));
                }
                for (var j = 0; j < myObj[o].length; j++) {
                  null != tmpPlayerCardRef && inst.dullAllCards(tmpPlayerCardRef, true);
                  var playerHandCards = myObj[o][j].targetNode.getChildByName("HandPlayer").getChildByName("MyCardsShow").getComponentsInChildren("Card");
                  tmpPlayerCardRef = playerHandCards;
                  var visibleHoleCards = inst.holeCardHolder.getComponentsInChildren("Card");
                  var runItTwiceCards = inst.holeCardsWithTwiceHolder.getComponentsInChildren("Card");
                  var runItTwiceholder = inst.runItTwiceHolder.getComponentsInChildren("Card");
                  var _tmp = runItTwiceCards.concat(runItTwiceholder);
                  0 != myObj[o][j].set.length && inst.highlightWinningCards(myObj[o][j].set, myObj[o][j].handCard, myObj[o][j].boardCard, visibleHoleCards.concat(_tmp), playerHandCards);
                }
              }.bind(inst), o * inst.potDistributionTimerDelay * 1e3));
            })(m, _this5);
            _this5.model.gameData.tableDetails.players.forEach(function(element) {
              this.playerHand[this.getRotatedSeatIndex(element.seatIndex)].gameOver();
            }, _this5);
            _this5.hideMoves();
          }
        }, time);
      },
      highlightWinningCards: function highlightWinningCards(winnerSet, handCard, boardCard, cardsOnTable, playerHandCards) {
        this.dullAllCards(playerHandCards);
        for (var i = 0; i < handCard.length; i++) {
          var c = 0;
          switch (handCard[i].type) {
           case "spade":
            c = 1;
            break;

           case "heart":
            c = 2;
            break;

           case "club":
            c = 3;
            break;

           case "diamond":
            c = 4;
          }
          playerHandCards.forEach(function(element) {
            if (element.cardRank == handCard[i].rank && element.suit == c) {
              element.node.getChildByName("CardGlow").active = true;
              element.node.y = 10;
              element.node.getChildByName("FrontFace").color = cc.Color.WHITE;
            }
          }, this);
        }
        this.dullAllCards(cardsOnTable);
        for (var i = 0; i < boardCard.length; i++) {
          var c = 0;
          switch (boardCard[i].type) {
           case "spade":
            c = 1;
            break;

           case "heart":
            c = 2;
            break;

           case "club":
            c = 3;
            break;

           case "diamond":
            c = 4;
          }
          cardsOnTable.forEach(function(element) {
            if (element.cardRank == boardCard[i].rank && element.suit == c) {
              element.node.getChildByName("CardGlow").active = true;
              element.node.y = 10;
              element.node.getChildByName("FrontFace").color = cc.Color.WHITE;
            }
          }, this);
        }
      },
      dullAllCards: function dullAllCards(cardsToReset, unDull) {
        cardsToReset.forEach(function(e) {
          var element = e.node;
          element.y = 0;
          element.getChildByName("FrontFace").color = new cc.Color(170, 161, 161);
          element.getChildByName("CardGlow").active = false;
          unDull && (element.getChildByName("FrontFace").color = cc.Color.WHITE);
        });
      },
      showWinnerCards: function showWinnerCards(seatIndex) {
        this.getRotatedSeatIndex(seatIndex) && this.playerHand[this.getRotatedSeatIndex(seatIndex)] && this.playerHand[this.getRotatedSeatIndex(seatIndex)].winningRevealCards2();
      },
      playerLeft: function playerLeft(data) {
        console.log("playerLeft ", data);
        if (null === data) return;
        if (data[0].playerId === this.model.gameData.playerId) if (true === GameManager.playerRequestedToLeaveTable[this.model.gameData.channelId]) GameManager.playerRequestedToLeaveTable[this.model.gameData.channelId] = false; else {
          this.handleSitOutBtns(true);
          this.resetView();
          this.manageBtns(false);
          this.popUpManager.hide(2, function() {});
          this.popUpManager.hide(PopUpType.BuyInPopup, function() {});
          this.showMuckHand();
          this.handleRunItTwice(true, true);
          this.singleTime = false;
        }
        var playerIndex = this.model.getPlayerById(this.model.gameData.playerId);
        -1 !== playerIndex ? this.playerHand[this.getRotatedSeatIndex(data[0].seatIndex)].disableView() : this.playerHand[this.getRotatedSeatIndex(data[0].seatIndex)].disablePlayerView();
        this.playerHand[this.getRotatedSeatIndex(data[0].seatIndex)].clearTimers();
        this.isStraddleAllowed();
        this.enableJoinBtn();
        data[0].playerId == GameManager.user.playerId && this.onTableCloseLeave();
      },
      isAutoAddOnAllowed: function isAutoAddOnAllowed() {
        var val = this.model.gameData.channelType == K.ChannelType.Tournament;
        val = val && !!!this.getMyPlayer() && !this.model.roomConfig.isAutoAddOnEnable && this.getMyPlayer().state == K.PlayerState.Playing;
        return val;
      },
      isAutoRebuyAllowed: function isAutoRebuyAllowed() {
        var val = this.model.gameData.channelType == K.ChannelType.Tournament;
        return val;
      },
      isStraddleAllowed: function isStraddleAllowed() {
        if (this.isTournament()) return false;
        var val = !(this.model.gameData.channelType == K.ChannelType.Tournament);
        val = val && !!this.getMyPlayer() && !this.model.roomConfig.isStraddleEnable && this.getMyPlayer().state == K.PlayerState.Playing && this.getNumPlayerInTable() > 3;
        this.straddleCheckBox.node.parent.active = val;
        return val;
      },
      playerCards: function playerCards(data, seatIndex) {
        this.forceAddPlayercardsData = data;
        this.forceAddPlayercardsSeatIndex = seatIndex;
      },
      forceAddPlayerCards: function forceAddPlayerCards() {
        cc.isValid(this.node) && (!this.forceAddPlayercardsData || this.playerHand[this.getRotatedSeatIndex(this.forceAddPlayercardsSeatIndex)].addPlayerCards(this.forceAddPlayercardsData));
      },
      onPreCheck: function onPreCheck(data) {
        this.preCheckCounter++;
        var value = (this.model.gameData.tableDetails.roundMaxBet - this.model.gameData.tableDetails.players[this.model.getPlayerById(GameManager.user.playerId)].totalRoundBet).roundOff(2);
        this.optionalPlayerInput.selectedValue = "NONE" == data.precheckValue ? null : data.precheckValue;
        this.enableTempPlayerInput(true, data.set, value, data.precheckValue);
        this.scheduleOnce(function() {
          var value = (this.model.gameData.tableDetails.roundMaxBet - this.model.gameData.tableDetails.players[this.model.getPlayerById(GameManager.user.playerId)].totalRoundBet).roundOff(2);
          this.optionalPlayerInput.tempTestFunction(value);
        }.bind(this), 1);
      },
      onPlayerCoins: function onPlayerCoins(player) {
        this.playerHand[this.getRotatedSeatIndex(player.seatIndex)].updateCoins();
      },
      enableTempPlayerInput: function enableTempPlayerInput(enable, set, val, selectedPreCheckValue) {
        void 0 === selectedPreCheckValue && (selectedPreCheckValue = "NONE");
        this.optionalPlayerInput.enableTempPlayerInput(enable, set, val, selectedPreCheckValue);
      },
      changeTableColor: function changeTableColor(spriteFrame) {
        this.node.parent.active && (this.table.spriteFrame = spriteFrame);
      },
      onPlayerNotes: function onPlayerNotes(playerId) {
        var index = this.model.getPlayerById(playerId);
        this.playerHand[this.getRotatedSeatIndex(this.model.gameData.tableDetails.players[index].seatIndex)].displayNote();
      },
      onValueChange: function onValueChange() {
        var val = false;
        this.highLightCheckbox && this.highLightCheckbox.getSelection();
        var ind = -1;
        if (val && this.tiledView.active) {
          for (var i = 0; i < this.tableColors.length; i++) if (this.table.spriteFrame == this.tableColors[i]) {
            ind = i;
            break;
          }
          ind >= 0 && (this.table.spriteFrame = this.tableHighlightColors[ind]);
        } else {
          for (var i = 0; i < this.tableHighlightColors.length; i++) if (this.table.spriteFrame == this.tableHighlightColors[i]) {
            ind = i;
            break;
          }
          ind >= 0 && (this.table.spriteFrame = this.tableColors[ind]);
        }
      },
      toLobby: function toLobby() {
        K.PORTRAIT && this.mobileGamePlayOptionsVisible && this.mobileGamePlayOptions();
        GameManager.isMobile ? GameScreen.onShowLobby() : window.versions.ping();
        this.playAudio(K.Sounds.click);
      },
      onRebuyTournament: function onRebuyTournament(amount) {
        var popUp = PopUpType.PlayerInfoPopup;
        amount && (popUp = Pop);
        var data = {
          playerId: GameManager.user.playerId,
          tournamentId: this.model.roomConfig.tableId
        };
        TournamentHandler.rebuyInTournament(data, function(response) {
          if (response.success) ; else {
            var data = {};
            data.info = response.info;
            this.popUpManager.show(PopUpType.PlayerInfoPopup, data, function() {});
          }
        }.bind(this), null);
        this.playAudio(K.Sounds.click);
      },
      clearBreakTimer: function clearBreakTimer() {
        clearTimeout(this.timerOffSchedule);
        clearInterval(this.timerSchedule);
      },
      onReplay: function onReplay(evntData, custom) {
        this.playAudio(K.Sounds.click);
        if (this.model.handTabs.length <= 0) return;
        var data = {};
        data.currentId = this.model.handTabs[this.model.handTabs.length - 1].videoId;
        data.refModel = this.model;
        data.id = this.model.handTabs.length - 1;
        data.playSound = this.playAudio.bind(this);
        GameScreen.isMobile && this.model.handTabs && false ? this.model.getHandHistory(this.model.handTabs[this.model.handTabs.length - 1].handHistoryId) : GameManager.popUpManager.show(PopUpType.VideoPlayerPopup, data, function() {});
      },
      onMobGameOptions: function onMobGameOptions() {
        this.mobGameOptions.active = !this.mobGameOptions.active;
      },
      showMuchHand: function showMuchHand(eventData, flag) {
        this.playAudio(K.Sounds.click);
        this.muckHandNode.active = false;
        "true" == flag && this.model.fireMuckHandEvent();
      },
      addOnBtnCallBack: function addOnBtnCallBack() {},
      activeDeactiveReBuyInBtn: function activeDeactiveReBuyInBtn(value) {
        this.reBuyBtn2.active = value;
      },
      onReBuyBtn2: function onReBuyBtn2() {
        this.model.onReBuyCall();
      },
      reBuyBtnCallBack: function reBuyBtnCallBack() {},
      showMuckHand: function showMuckHand() {
        this.muckHandCheckbox.node.parent.active = !!this.getMyPlayer() && this.getMyPlayer().state == K.PlayerState.Playing;
      },
      onMuckHand: function onMuckHand() {
        var selection = this.muckHandCheckbox.getSelection();
        this.model.setMuckHand(selection, function(response) {
          response.success ? this.muckHandCheckbox.setSelection(selection) : this.muckHandCheckbox.setSelection(!selection);
        }.bind(this));
      },
      killTimers: function killTimers() {
        this.timersToKill.forEach(function(element) {
          clearTimeout(element);
        }, this);
        this.timersToKill = [];
        this.playerHand.forEach(function(element) {
          element.clearTimers();
        }, this);
      },
      displayRoundNumber: function displayRoundNumber() {
        this.roomNameLbl.string = this.model.roomConfig.channelName;
        var stakes = GameManager.convertChips(this.model.gameData.tableDetails.smallBlind) + "/" + GameManager.convertChips(this.model.gameData.tableDetails.bigBlind);
        this.roomNameLbl2.string = "Blinds: " + stakes;
      },
      onLobby: function onLobby() {
        K.PORTRAIT && this.mobileGamePlayOptionsVisible && this.mobileGamePlayOptions();
        GameManager.isMobile ? GameScreen.onShowLobby() : window.versions.ping();
        this.playAudio(K.Sounds.click);
      },
      OnLeaveJohny: function OnLeaveJohny() {
        K.PORTRAIT && this.mobileGamePlayOptionsVisible && this.mobileGamePlayOptions();
        GameScreen.leaveCurrent();
        this.playAudio(K.Sounds.click);
      },
      mobileGamePlayOptions: function mobileGamePlayOptions() {
        var _this6 = this;
        var pos = this.node.parent.getChildByName("DummGameplayOpt").getPosition();
        if (this.mobileGamePlayOptionsVisible) {
          var _seq = cc.sequence(cc.moveTo(0, this.mobileGamePlayOptionsInitPosition.x, this.mobileGamePlayOptionsInitPosition.y).easing(cc.easeCircleActionIn()), cc.callFunc(function() {
            _this6.node.parent.getChildByName("GameplayOptions").children[1].active = false;
            GameManager.emit("showJoinSimlar");
          }, this));
          this.node.parent.getChildByName("GameplayOptions").runAction(_seq);
        } else {
          var seq = cc.sequence(cc.callFunc(function() {
            _this6.node.parent.getChildByName("GameplayOptions").children[1].active = true;
          }, this), cc.moveTo(.1, pos.x, pos.y).easing(cc.easeCircleActionInOut()));
          this.node.parent.getChildByName("GameplayOptions").runAction(seq);
          GameManager.emit("hideJoinSimlar");
        }
        this.mobileGamePlayOptionsVisible = !this.mobileGamePlayOptionsVisible;
      },
      mobileChatOptions: function mobileChatOptions() {
        if (!this.mobileSliderChatSection.active) {
          GameManager.emit("hideJoinSimlar");
          this.mobileChatOptionsInitPosition = this.mobileSliderChatSection.getPosition();
          var pos = this.mobileSliderChatSection.parent.getChildByName("DummyChatOpt").getPosition();
          this.chatCloseBtn.active = true;
          this.mobileSliderChatSection.active = true;
          this.dealerChatToggle.state !== this.model.gameData.settings.dealerChat && this.dealerChatToggle.onToggle();
          this.model.gameData.settings.playerChat !== this.ChatToggle.state && this.ChatToggle.onToggle();
          this.mobileSliderChatSection.runAction(cc.moveTo(.3, 393, 0).easing(cc.easeCircleActionInOut()));
        }
      },
      onClose: function onClose() {
        var _this7 = this;
        var seq = cc.sequence(cc.moveTo(.001, this.mobileChatOptionsInitPosition.x, this.mobileChatOptionsInitPosition.y).easing(cc.easeCircleActionIn()), cc.callFunc(function() {
          _this7.mobileSliderChatSection.active = false;
          GameManager.emit("showJoinSimlar");
        }, this));
        this.mobileSliderChatSection.runAction(seq);
        this.tournamentDetailInfo.active = false;
      },
      onLeaderboard: function onLeaderboard() {
        this.leaderboardInitPosition = this.leaderboardSection.getPosition();
        this.leaderboardSection.x = this.leaderboardDummySection.x;
        GameManager.emit("hideJoinSimlar");
      },
      onCloseLeaderboard: function onCloseLeaderboard() {
        this.leaderboardSection.x = this.leaderboardInitPosition.x;
        GameManager.emit("showJoinSimlar");
      },
      onMobilDealerClick: function onMobilDealerClick() {
        this.dealerNode.active = true;
        this.playAudio(K.Sounds.click);
      },
      onMobileHistoryClick: function onMobileHistoryClick() {
        GameManager.emit("hideJoinSimlar");
        this.model.showHandHistoryDetail();
        this.playAudio(K.Sounds.click);
      },
      onViewChangedToTiled: function onViewChangedToTiled() {
        if (this.playerInput[0].active) {
          this.mobilePlayerInput[0].active = true;
          this.playerInput[0].active = false;
          for (var i = 1; i < this.playerInput.length; i++) this.mobilePlayerInput[i].active = this.playerInput[i].active;
        }
      },
      onViewChangedToUnTiled: function onViewChangedToUnTiled() {
        if (this.mobilePlayerInput[0].active) {
          this.mobilePlayerInput[0].active = false;
          this.playerInput[0].active = true;
          for (var i = 1; i < this.mobilePlayerInput.length; i++) this.playerInput[i].active = this.mobilePlayerInput[i].active;
        }
      },
      onTournamentResultWinner: function onTournamentResultWinner() {
        this.playAudio(K.Sounds.click);
        this.tournamentResultWinner.active = true;
      },
      onTournamentResultPlacement: function onTournamentResultPlacement() {
        this.playAudio(K.Sounds.click);
        this.tournamentResultPlacement.active = true;
      },
      onHideTournamentDetail: function onHideTournamentDetail() {
        this.tournamentDetailInfo.active = false;
      },
      isTournament: function isTournament() {
        return "NORMAL" != this.model.roomConfig.channelType;
      },
      changeTableFinal: function changeTableFinal() {},
      changeTableInit: function changeTableInit() {},
      onShowRaisePanel: function onShowRaisePanel() {
        if (K.PORTRAIT) {
          this.playerInputNode.active = false;
          this.raisePanelNode.active = true;
          this.playerChatBtn.active = false;
        }
      },
      onHideRaisePanel: function onHideRaisePanel() {
        if (K.PORTRAIT) {
          this.playerInputNode.active = true;
          this.raisePanelNode.active = false;
          this.playerChatBtn.active = true;
        }
      },
      onGameResult: function onGameResult() {
        var inst = this;
        ServerCom.pomeloRequest("room.channelHandler.getCurrentGameResult", {
          channelId: this.model.gameData.channelId,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("getCurrentGameResult", response);
          inst.gameResult.active = true;
          inst.gameResult.getComponent("GameResult").onShow(response.data);
          GameManager.emit("hideJoinSimlar");
        }, null, 5e3, false);
      },
      onClosePlayerInfoPopup: function onClosePlayerInfoPopup() {
        this.playerInfoPopup.active = false;
        GameManager.emit("showJoinSimlar");
      },
      updateBB: function updateBB() {
        this.potAmount.forEach(function(element) {
          element.parent.getChildByName("bb").getComponent(cc.Label).string = (Number(element.getComponent(cc.Label).__string) / this.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        }, this);
        this.totalPotLbl.node.parent.getChildByName("bb").getComponent(cc.Label).string = (Number(this.totalPotLbl.__string) / this.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        this.callAmountLabel.node.parent.getChildByName("bb").getComponent(cc.Label).string = (Number(this.callAmountLabel.string) / this.model.gameData.tableDetails.bigBlind).toFixed(1) + "BB";
        if (GameManager.isBB && GameManager.user.settings.stackInBB) {
          this.potAmount.forEach(function(element) {
            element.opacity = 0;
            element.parent.getChildByName("bb").opacity = 255;
          }, this);
          this.totalPotLbl.node.scale = 0;
          this.totalPotLbl.node.parent.getChildByName("bb").scale = .5;
          this.callAmountLabel.node.scale = 0;
          this.callAmountLabel.node.parent.getChildByName("bb").scale = .5;
        } else {
          this.potAmount.forEach(function(element) {
            element.opacity = 255;
            element.parent.getChildByName("bb").opacity = 0;
          }, this);
          this.totalPotLbl.node.scale = .5;
          this.totalPotLbl.node.parent.getChildByName("bb").scale = 0;
          this.callAmountLabel.node.scale = .5;
          this.callAmountLabel.node.parent.getChildByName("bb").scale = 0;
        }
        this.betBtnSlider.updateBB();
      },
      switchBBUI: function switchBBUI() {
        console.log("switchBBUI");
        GameManager.user.settings.stackInBB !== this.BBToggle.state && this.BBToggle.onToggle();
      },
      switchBBNow: function switchBBNow() {
        console.log("switchBBNow");
        this.updateBB();
      },
      onToggleBB: function onToggleBB() {
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.stackInBB = this.BBToggle.state;
        data.access_token = K.Token.access_token;
        data.isLoggedIn = true;
        ServerCom.pomeloRequest("connector.entryHandler.changeStackInBB", data, function(response) {
          if (response.success) {
            GameManager.user.settings.stackInBB = !GameManager.user.settings.stackInBB;
            GameManager.isBB = GameManager.user.settings.stackInBB;
            GameManager.emit("switchBB");
          } else this.BBToggle.onToggle();
        }.bind(this), null, 5e3, false);
      },
      onleaveNextHand: function onleaveNextHand() {
        this.leaveNextHandTag.active = true;
      },
      onRemoveTable: function onRemoveTable(data) {
        console.log("onRemoveTable", data);
        this.model && this.model.gameData && (data.channelId == this.model.gameData.channelId || data._id == this.model.gameData.channelId) && (this.tableClosed.active = true);
      },
      onTableCloseLeave: function onTableCloseLeave() {
        false === GameManager.playerRequestedToLeaveTable[this.model.gameData.channelId] && (GameManager.playerRequestedToLeaveTable[this.model.gameData.channelId] = true);
        var cb = function cb() {
          for (var index = 0; index < this.playerHand.length; index++) this.playerHand[index].clearPlayerCards();
          this.clearHoleCards();
          this.clearPots();
        };
        this.model.leaveClosedTable();
      },
      onTogglePlayerChat: function onTogglePlayerChat() {
        if (this.isTournament()) {
          ServerCom.socketIORequest("tournamentGameEvent|updateTableSettings", {
            channelId: this.model.gameData.channelId,
            playerId: GameManager.user.playerId,
            key: "playerChat",
            value: this.ChatToggle.state
          }, null, function(response) {}.bind(this), 5e3, false);
          this.model.gameData.settings.playerChat = !this.model.gameData.settings.playerChat;
        } else {
          var data = {};
          data.channelId = this.model.gameData.channelId;
          data.playerId = GameManager.user.playerId;
          data.key = "playerChat";
          data.value = this.ChatToggle.state;
          ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
            response.success ? this.model.gameData.settings.playerChat = !this.model.gameData.settings.playerChat : this.ChatToggle.onToggle();
          }.bind(this), null, 5e3, false);
        }
      },
      onToggleDealerChat: function onToggleDealerChat() {
        if (this.isTournament()) {
          ServerCom.socketIORequest("tournamentGameEvent|updateTableSettings", {
            channelId: this.model.gameData.channelId,
            playerId: GameManager.user.playerId,
            key: "dealerChat",
            value: this.dealerChatToggle.state
          }, null, function(response) {}.bind(this), 5e3, false);
          this.model.gameData.settings.dealerChat = !this.model.gameData.settings.dealerChat;
        } else {
          var data = {};
          data.channelId = this.model.gameData.channelId;
          data.playerId = GameManager.user.playerId;
          data.key = "dealerChat";
          data.value = this.dealerChatToggle.state;
          ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
            response.success ? this.model.gameData.settings.dealerChat = !this.model.gameData.settings.dealerChat : this.dealerChatToggle.onToggle();
          }.bind(this), null, 5e3, false);
        }
      },
      onUpdateTableImage: function onUpdateTableImage() {
        if (this.isTournament2) for (var i = 0; i < GameManager.tableImagesTour.length; i++) {
          var stickerImages = GameManager.tableImagesTour[i];
          if ("" != GameManager.user.defaultTourTheme && GameManager.user.defaultTourTheme._id && stickerImages.___data._id == GameManager.user.defaultTourTheme._id) {
            this.node.getChildByName("TableBg").getComponent(cc.Sprite).spriteFrame = GameManager.tableImagesTour[i];
            GameScreen.updateTabImage(this.isTournament2, GameManager.tabActImages[i], GameManager.tabDeactImages[i]);
          }
        } else for (var i = 0; i < GameManager.tableImages.length; i++) {
          var _stickerImages = GameManager.tableImages[i];
          if ("" != GameManager.user.defaultTheme && GameManager.user.defaultTheme._id && _stickerImages.___data._id == GameManager.user.defaultTheme._id) {
            this.node.getChildByName("TableBg").getComponent(cc.Sprite).spriteFrame = GameManager.tableImagesTour[i];
            GameScreen.updateTabImage(this.isTournament2, GameManager.tabActImages[i], GameManager.tabDeactImages[i]);
          }
        }
      },
      onReport: function onReport() {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getReportIssues", {}, function(response) {
          console.log("getReportIssues", response);
          inst.mobileGamePlayOptions();
          inst.reportBug.active = true;
          inst.reportBug.getComponent("ReportBug").onShow(response.data);
          inst.reportBug.opacity = 0;
          var anim = inst.reportBug.getComponent("AnimBase");
          null !== anim && anim.play("showPopUp", function() {});
        }, null, 5e3, false);
      },
      updateRebuyChips: function updateRebuyChips(data) {
        console.log("updateRebuyChips", data);
        var playerIndex = this.model.getPlayerById(data.playerId);
        if (-1 !== playerIndex) {
          var receiver = this.getPlayerByIdx(playerIndex);
          receiver.playerData.chips = data.data.chips;
          receiver.amountLabel.string = Number(data.data.chips.toFixed(2));
        }
      },
      onDebug: function onDebug() {
        console.log("onDebugxxx");
      },
      onChangeTheme: function onChangeTheme() {
        this.tableTheme.active = true;
        GameManager.emit("enablePageView");
        this.popUpManager.hide(1, function() {});
        this.mobileGamePlayOptions();
        GameManager.emit("showJoinSimlar");
      },
      onDashboardAddCash: function onDashboardAddCash(event, msg) {
        GameManager.onDashboardAddCash();
      },
      onBuyInConfirmQuick: function onBuyInConfirmQuick(index, amount) {
        var self = this;
        ServerCom.pomeloRequest("room.channelHandler.quickSeat", {
          roomId: this.model.gameData.raw.tableDetails.roomId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          imageAvtar: "",
          chips: Number(amount),
          playerId: GameManager.user.playerId,
          playerName: GameManager.user.userName,
          isRequested: true
        }, function(response, data) {
          if (!response) {
            GameManager.popUpManager.show(PopUpType.NotificationPopup, data.err.info, function() {});
            return;
          }
          console.log(response);
          var route = K.PomeloAPI.joinChannel;
          GameManager.join2(response.data.channelId, route, {
            channelId: response.data.channelId,
            isRequested: true,
            channelType: response.data.channelType,
            tableId: "",
            playerId: GameManager.user.playerId,
            playerName: GameManager.user.userName,
            networkIp: LoginData.ipV4Address,
            maxPlayers: 5,
            isPrivateTable: false
          });
        }, null, 5e3, false);
      },
      quickSeat: function quickSeat() {
        GameManager.isMobile ? GameManager.activeTableCount = GameScreen.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = GameScreen.gridParent.children.length;
        if (GameManager.activeTableCount >= GameManager.maxTableCounts) {
          GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
          return;
        }
        var data = {};
        data.minValue = this.model.roomConfig.minBuyIn;
        data.maxValue = this.model.roomConfig.maxBuyIn;
        var text_chips = LocalizedManager.t("TXT_AVAILABLE_CHIPS") + ":";
        "DIAMOND" == GameManager.user.category ? data.totalChips = GameManager.user.realChips : data.totalChips = GameManager.user.freeChips;
        data.dialogHeadingText = text_chips;
        data.autoBuyIn = GameManager.user.autoBuyIn;
        data.confirm = this.onBuyInConfirmQuick.bind(this);
        data.channelId = this.model.gameData.raw.tableDetails.roomId;
        data.isRealMoney = true;
        data.autoConfirm = true;
        data.config = this.model.roomConfig;
        data.isAllInAndFold = this.model.roomConfig.isAllInAndFold;
        data.topHeading = LocalizedManager.t("TXT_BUY_IN");
        GameManager.popUpManager.show(PopUpType.BuyInPopup, data, function() {});
      },
      onBreakInfo: function onBreakInfo() {
        this.breakInfoNode.active = true;
      },
      onBreakInfoClose: function onBreakInfoClose() {
        this.breakInfoNode.active = false;
      },
      onBreakInfoPopupNode: function onBreakInfoPopupNode() {
        this.breakInfoPopupNode.active = true;
        this.breakInfoPopupNode.opacity = 0;
        var anim = this.breakInfoPopupNode.getComponent("AnimBase");
        null !== anim && anim.play("showPopUp", function() {});
      },
      onBreakInfoPopupNodeClose: function onBreakInfoPopupNodeClose() {
        this.breakInfoPopupNode.active = false;
      },
      onDealerChatBtn: function onDealerChatBtn() {
        this.dealerChatBtn.getChildByName("pressed").active = true;
        this.playreChatBtn.getChildByName("pressed").active = false;
        this.dealerNode.active = true;
        this.playerChatNode.active = false;
      },
      onChatBtn: function onChatBtn() {
        this.dealerChatBtn.getChildByName("pressed").active = false;
        this.playreChatBtn.getChildByName("pressed").active = true;
        this.dealerNode.active = false;
        this.playerChatNode.active = true;
      },
      onShowInviteFriendList: function onShowInviteFriendList() {
        this.inviteFirendsList.active = true;
        this.inviteFirendsList.getComponent("InvliteFriendsList").onShow(this);
      },
      playAudioClick: function playAudioClick() {
        navigator.vibrate && navigator.vibrate(200);
        this.playAudio(K.Sounds.click);
      },
      enableShowFoldBtn: function enableShowFoldBtn() {
        this.showFoldBtn.node.parent.parent.active = true;
        this.showFoldBtn.node.parent.getChildByName("tick").active = this.model.gameData.settings.isShowCard;
      },
      disableShowFoldBtn: function disableShowFoldBtn() {
        console.trace("disableShowFoldBtn");
        this.showFoldBtn.node.parent.parent.active = false;
        this.showFoldBtn.node.parent.getChildByName("tick").active = false;
      },
      onShowFoldCardsBtnClick: function onShowFoldCardsBtnClick() {
        this.playAudio(K.Sounds.click);
        var flag = this.showFoldBtn.node.parent.getChildByName("tick").active;
        var data = {};
        data.channelId = this.model.gameData.channelId;
        data.playerId = GameManager.user.playerId;
        data.key = "isShowCard";
        data.value = !flag;
        ServerCom.pomeloRequest(K.PomeloAPI.updateTableSettings, data, function(response) {
          if (response.success) {
            this.showFoldBtn.node.parent.getChildByName("tick").active = data.value;
            this.model.gameData.settings.isShowCard = !this.model.gameData.settings.isShowCard;
          }
        }.bind(this), null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {
    BetBtnUtil: "BetBtnUtil",
    CardDistributer: "CardDistributer",
    CardTypes: "CardTypes",
    Checkbox: "Checkbox",
    OptionalPlayerInput: "OptionalPlayerInput",
    PlayerPresenter: "PlayerPresenter",
    PokerModel: "PokerModel",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    PotSplitter: "PotSplitter",
    StickerController: "StickerController",
    Toggle: "Toggle"
  } ],
  PomeloTest: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "65502nnpC5DGIPOnTyTBO7z", "PomeloTest");
    "use strict";
    var pomelo = window.pomelo;
    var route = "database.dbHandler.verifyLoginDetail";
    var instance;
    var PomeloTest = cc.Class({
      extends: cc.Component,
      properties: {
        lbl: {
          default: null,
          type: cc.Label
        },
        broadcastRegister: {
          default: false
        }
      },
      onLoad: function onLoad() {
        instance = this;
      },
      initializePomelo: function initializePomelo() {
        pomelo.init({
          host: "192.168.2.7",
          port: 3014,
          log: true
        }, function() {
          instance.lbl.string = "pomelo.init 1";
        });
      },
      queryEntry: function queryEntry() {
        var route = "gate.gateHandler.queryEntry";
        pomelo.init({
          host: "192.168.45.19",
          port: 3014,
          encrypt: true,
          log: true
        }, function() {
          pomelo.request(route, {
            uid: "sasas"
          }, function(data) {
            pomelo.disconnect();
            if (500 === data.code) return;
          });
        });
      },
      onClick: function onClick() {
        this.queryEntry();
      }
    });
    cc._RF.pop();
  }, {} ],
  PopUpBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a3b45pRi6pD+KRWu4FM2w8t", "PopUpBase");
    "use strict";
    var emitter = require("EventEmitter");
    cc.Class({
      extends: emitter,
      properties: {
        data: {
          default: null,
          visible: false
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.data = data;
      },
      onHide: function onHide() {},
      onButtonClickEvent: function onButtonClickEvent() {},
      onDestroy: function onDestroy() {},
      onClickEnter: function onClickEnter() {}
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  PopUpManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7df3bT5AH5AYIB463t/OXck", "PopUpManager");
    "use strict";
    var PopUpBase = require("PopUpBase");
    var PopUpType = new cc.Enum({
      DisconnectDialog: 0,
      TableColorPreferenceDialog: 1,
      SeatPreferenceDialog: 2,
      AvatarDialog: 3,
      BuyInPopup: 4,
      LobbySettingsPopup: 5,
      CashierPopup: 6,
      PlayerAccountPopup: 7,
      InsufficientPopup: 8,
      TournamentLobbyInfoPopup: 9,
      GamePreferencesPopup: 10,
      MaxTablesJoinedPopup: 11,
      SitNGoResultPopup: 12,
      QuickSeatPopUp: 13,
      ResultPopup: 14,
      BlindChangedPopup: 15,
      PlayerInfoPopup: 16,
      ConfirmDialogQuickSeatSitNGo: 17,
      HandHistoryPopup: 18,
      VideoPlayerPopup: 19,
      InstructionPopup: 20,
      MultiLoginPopup: 21,
      JoinGamePopup: 22,
      NotificationPopup: 23,
      MaintenancePopup: 24,
      UpdatePopup: 25,
      InGamePreferencesPopup: 26,
      OnLogOutPopup: 27,
      CashoutPopup: 28,
      ForgotPasswordPopUp: 29,
      EnterPasswordPopup: 30,
      GameInfoPopup: 31,
      HandHistoryDetailPopup: 32,
      GameVariation: 33,
      InviteToPlayPopup: 34,
      ProfilePopup: 35,
      RegDialog: 36,
      CommonDialog: 37,
      FreeBuyin: 38,
      UpdateCategory: 39,
      RemoveDataDialog: 40,
      NewVersionPopup: 41,
      AdminNoticePopup: 42,
      None: 100
    });
    var PopUpManager = cc.Class({
      extends: cc.Component,
      properties: {
        popUps: {
          default: [],
          type: PopUpBase
        },
        currentPopUp: {
          default: PopUpType.None,
          type: PopUpType
        },
        currentOverLayedPopUps: {
          default: [],
          type: PopUpType
        },
        enterListener: {
          default: null,
          visible: false
        },
        PopupType: {
          visible: false,
          get: function get() {
            return PopUpType;
          }
        }
      },
      onLoad: function onLoad() {
        window.PopupManager = this;
      },
      onEnable: function onEnable() {
        this.registerEnterKey();
      },
      onDisable: function onDisable() {
        this.unregisterEnterKey();
      },
      show: function show(popUp, data, callback) {
        var self = null;
        var isOpen = -1 !== this.currentOverLayedPopUps.indexOf(popUp);
        if (null !== popUp && popUp !== PopUpType.None && !isOpen) {
          this.currentOverLayedPopUps.push(popUp);
          self = this.popUps[popUp];
          self.node.active = true;
          var anim = this.popUps[popUp].getComponent("AnimBase");
          var inst = this;
          if (null !== anim) {
            anim.node.opacity = 0;
            anim.play("showPopUp", function() {
              inst.popUps[popUp].onShow(data);
              callback && callback();
            });
          } else {
            this.popUps[popUp].onShow(data);
            callback && callback();
          }
          this.currentPopUp = popUp;
          GameManager.emit("hideJoinSimlar");
        }
        return self;
      },
      hide: function hide(popUp, callBack) {
        var isOpen = -1 != this.currentOverLayedPopUps.indexOf(popUp);
        if (null !== popUp && popUp !== PopUpType.None && isOpen) {
          this.currentOverLayedPopUps.splice(this.currentOverLayedPopUps.indexOf(popUp), 1);
          this.popUps[popUp].onHide();
          callBack && callBack();
          this.popUps[popUp].node.active = false;
          this.currentPopUp = this.currentOverLayedPopUps[this.currentOverLayedPopUps.length - 1] || null;
        }
        GameManager.emit("showJoinSimlar");
      },
      hideCurrentPopUp: function hideCurrentPopUp() {
        this.hide(this.currentPopUp);
      },
      hideAllPopUps: function hideAllPopUps() {
        0 !== this.currentOverLayedPopUps.length && this.hide(this.currentOverLayedPopUps[this.currentOverLayedPopUps.length - 1], this.hideAllPopUps.bind(this));
      },
      checkIfPopupActive: function checkIfPopupActive() {
        return !!(this.currentPopUp || this.currentOverLayedPopUps.length > 0);
      },
      checkIfPopupTypeActive: function checkIfPopupTypeActive(popup) {
        return !(!this.currentPopUp || this.currentPopUp !== popup);
      },
      registerEnterKey: function registerEnterKey() {
        return;
        var enterKeyRef;
      },
      unregisterEnterKey: function unregisterEnterKey() {}
    });
    module.exports = {
      PopUpManager: PopUpManager,
      PopUpType: PopUpType
    };
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase"
  } ],
  PostTypes: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a9064d7dKNMh5Z7OAduXCbS", "PostTypes");
    "use strict";
    var login = {
      loginType: "registration",
      deviceType: "browser",
      loginMode: "normal",
      userName: "kumarsushil",
      emailId: "sushil@creatiosoft.com",
      password: "abcd",
      ipV4Address: "324324",
      ipV6Address: "123123",
      regotp: "",
      mobileNumber: "",
      appVersion: "",
      access_token: "",
      refresh_token: "",
      client: "",
      os: "",
      userAgent: "",
      deviceId: ""
    };
    var loginData = null;
    var forgotPassword = {
      userName: "sdfdsfsdfdsf",
      emailId: "sushil@creatiosoft.com"
    };
    var tableFilter = {
      isRealMoney: true
    };
    var resetPassword = {
      passwordResetToken: "dhjsahdd",
      password: "fjdshfjd"
    };
    var userID = {
      playerId: "fdsfdsfdsf"
    };
    var OTP = {
      playerId: "fdsfdsfdsf",
      otp: 324234
    };
    var transactionHistory = {
      playerId: "dshfkdhf",
      lowerLimit: 10,
      upperLimit: 20
    };
    function tournament(tournamentId, playerId, gameVersionCount) {
      this.playerId = playerId;
      this.tournamentId = tournamentId;
      this.gameVersionCount = gameVersionCount;
    }
    function joinChannel(data) {
      this.playerId = data.playerId || "";
      this.channelId = data.channelId || data._id || "";
      this.channelType = data.channelType;
      this.tableId = data.tableId || "";
      this.maxPlayers = data.maxPlayers;
      this.isRequested = true;
      this.isPrivateTable = data.isPrivateTabel;
    }
    function openTable(data) {
      this.playerId = data.playerId || "";
      this.channelId = data._id || "";
      this.channelType = data.channelType;
      this.tableId = data.tableId || "";
      this.isRequested = true;
      this.playerName = data.playerName || "";
      this.networkIp = login.ipV4Address;
    }
    function sitData(channelId, playerId, chips, seatIndex, playerName, imageAvtar, isAutoReBuy) {
      this.channelId = channelId;
      this.playerId = playerId;
      this.chips = chips;
      this.seatIndex = seatIndex;
      this.playerName = playerName;
      this.imageAvtar = "";
      this.isRequested = true;
      this.isAutoReBuy = isAutoReBuy;
      this.networkIp = login.ipV4Address;
    }
    function sitOutData(channelId, playerId) {
      this.channelId = channelId;
      this.playerId = playerId;
      this.isRequested = true;
    }
    function resetSitout(channelId, playerId) {
      this.channelId = channelId;
      this.playerId = playerId;
      this.isRequested = true;
    }
    function addChipsData(channelId, playerId, amount) {
      this.channelId = channelId;
      this.playerId = playerId;
      this.amount = amount;
      this.isRequested = true;
    }
    function moveData(channelId, playerId, playerName, amount, action) {
      this.channelId = channelId;
      this.playerId = playerId;
      this.playerName = playerName;
      this.amount = amount;
      this.action = action;
      this.isRequested = true;
    }
    function leaveData(playerId, channelId, isStandup, playerName) {
      this.playerId = playerId;
      this.channelId = channelId;
      this.isStandup = isStandup;
      this.playerName = playerName;
      this.isRequested = true;
    }
    function connectAckData(channelId, playerId) {
      this.playerId = playerId;
      this.channelId = channelId;
    }
    function reportIssue(playerId, issue) {
      this.playerId = playerId;
      this.issue = issue;
    }
    function chatData(playerId, playerName, channelId, msg) {
      this.playerId = playerId;
      this.channelId = channelId;
      this.message = msg;
      this.playerName = playerName;
      this.isRequested = true;
    }
    function getRegisteredUsersData(playerId, tournmanentId, gameVersionCount) {
      this.playerId = playerId;
      this.tournamentId = tournmanentId;
      this.gameVersionCount = gameVersionCount;
    }
    function getTableStructure(tournamentId, gameVersionCount) {
      this.tournamentId = tournamentId;
      this.gameVersionCount = gameVersionCount;
    }
    function blindAndPrize(blindRule, gameVersionCount, prizeRule) {
      this.blindRule = blindRule;
      this.gameVersionCount = gameVersionCount;
      this.prizeRule = prizeRule;
    }
    function blindAndPrizeTournament(tournamentId, noOfPlayers) {
      this.tournamentId = tournamentId;
      this.noOfPlayers = noOfPlayers;
    }
    function blindAndPrizeSatellite(tournamentId, gameVersionCount) {
      this.tournamentId = tournamentId;
      this.gameVersionCount = gameVersionCount;
    }
    function favTableData(playerId, channelId, gameType) {
      this.playerId = playerId;
      this.favourateTable = {
        channelId: channelId,
        type: gameType
      };
    }
    function removeFavTableData(playerId, channelId) {
      this.playerId = playerId;
      this.channelId = channelId;
    }
    function JoinSimilar(isRealMoney, gameType, smallBlind, bigBlind, maxPlayers, speed, playerId) {
      this.searchParams = {};
      this.searchParams.isRealMoney = isRealMoney;
      this.searchParams.channelVariation = gameType;
      this.searchParams.smallBlind = smallBlind;
      this.searchParams.bigBlind = bigBlind;
      this.searchParams.maxPlayers = maxPlayers;
      this.searchParams.turnTime = speed;
      this.playerId = playerId;
      this.isRequested = true;
    }
    function getPrizeData(playerId) {
      this.playerId = playerId;
    }
    function createNote(playerId, forPlayerId, notes, color) {
      this.playerId = playerId;
      this.forPlayerId = forPlayerId;
      this.notes = notes;
      this.color = color;
    }
    function getNote(playerId, forPlayerId) {
      this.playerId = playerId;
      this.forPlayerId = forPlayerId;
    }
    function QuickSeatSitNGo(isRealMoney, gameType, buyIn, maxPlayers, speed) {
      this.isRealMoney = isRealMoney;
      this.gameVariation = gameType;
      this.buyIn = buyIn;
      this.maxPlayersForTournament = maxPlayers;
      this.turnTime = speed;
    }
    function QuickSeatTourn(isRealMoney, gameType, buyIn, type, starting) {
      this.isRealMoney = isRealMoney;
      this.gameVariation = gameType;
      this.buyIn = buyIn;
      this.tournamentType = type;
      this.timeSpan = starting;
    }
    function setPlayerValData(channelId, playerId, key, value) {
      this.isRequested = true;
      this.channelId = channelId;
      this.playerId = playerId;
      this.key = key;
      this.value = value;
    }
    function ReplayData(channelId, roundId, logData) {
      this.channelId = channelId;
      this.roundId = roundId;
      this.logData = logData;
    }
    function FreeRollTableData(data) {
      this.raceId = data.raceId || "abcd";
      this.configId = data._id || "";
      this.channelVariation = data.variation || "";
      this.isRequested = true;
      this.playerId = data.playerId || "";
      this.channelType = data.channelType || "";
      this.tableId = data.tableId || "";
    }
    module.exports = {
      Login: login,
      ForgotPassword: forgotPassword,
      ResetPassword: resetPassword,
      UserID: userID,
      OTP: OTP,
      TransactionHistory: transactionHistory,
      TableFilter: tableFilter,
      JoinChannel: joinChannel,
      SitData: sitData,
      MoveData: moveData,
      LeaveData: leaveData,
      ConnectAckData: connectAckData,
      Tournament: tournament,
      reportIssue: reportIssue,
      ChatData: chatData,
      SitOutData: sitOutData,
      ResetSitout: resetSitout,
      AddChipsData: addChipsData,
      GetRegisteredUsersData: getRegisteredUsersData,
      GetTournamentLobbyInfo: getTableStructure,
      BlindAndPrize: blindAndPrize,
      FavTableData: favTableData,
      RemoveFavTableData: removeFavTableData,
      JoinSimilar: JoinSimilar,
      GetPrizeData: getPrizeData,
      CreateNote: createNote,
      GetNote: getNote,
      OpenTable: openTable,
      QuickSeatSitNGo: QuickSeatSitNGo,
      QuickSeatTourn: QuickSeatTourn,
      BlindAndPrizeTournament: blindAndPrizeTournament,
      SetPlayerValData: setPlayerValData,
      ReplayData: ReplayData,
      BlindAndPrizeSatellite: blindAndPrizeSatellite,
      FreeRoll: FreeRollTableData
    };
    cc._RF.pop();
  }, {} ],
  PotSplitter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b1e1fUVOBhBVYJBgK1Zw6GW", "PotSplitter");
    "use strict";
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: cc.Component,
      properties: {
        centralPot: {
          default: null,
          type: cc.Node
        },
        potPosRef: {
          default: [],
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      runPotSplitter: function runPotSplitter(data, potInstance, callback) {
        var counter = data.length;
        data.forEach(function(element) {
          "REFUND" != element.type && element.targetNode.getComponent("PlayerPresenter").showWinnerBanner();
          var playerAmountUpdated = false;
          var instance = cc.instantiate(this.centralPot);
          instance.active = true;
          var pos = this.potPosRef[element.potIndex || 0].getPosition();
          pos = new cc.Vec2(pos.x + 2 * Math.random(), pos.y - 50);
          instance.parent = element.targetNode.parent.parent.parent;
          instance.setPosition(pos);
          var amountLabel = instance.getChildByName("PotAmount");
          amountLabel.getComponent(cc.Label).string = Math.roundOff(element.winningAmount, 2) + "";
          pos = element.targetNode.parent.getPosition();
          var speed = .45;
          var moveAction = cc.moveTo(speed, cc.v2(pos.x, pos.y));
          var funcAction = cc.callFunc(function() {
            if (!playerAmountUpdated) {
              playerAmountUpdated = true;
              var prevAmount = Math.roundOff(element.targetNode.getComponent("PlayerPresenter").amountLabel.string, 2);
              (prevAmount + element.winningAmount).roundOff(2) <= element.totalChips && (element.targetNode.getComponent("PlayerPresenter").amountLabel.string = (element.winningAmount + Number(element.targetNode.getComponent("PlayerPresenter").amountLabel.string)).roundOff(2));
            }
            potInstance ? potInstance.children[0].getComponent("PokerChipsView").destroyChips() : "";
            instance.destroy();
            0 == counter && null != callback && callback();
          }, this);
          var splitSequence = cc.sequence(cc.callFunc(function() {
            potInstance ? potInstance.parent.active = false : "";
          }), moveAction, funcAction);
          instance.runAction(splitSequence);
          counter--;
          setTimeout(function() {
            if (cc.isValid(instance)) {
              potInstance ? potInstance.parent.active = false : "";
              if (!playerAmountUpdated) {
                var prevAmount = Math.roundOff(element.targetNode.getComponent("PlayerPresenter").amountLabel.string, 2);
                (prevAmount + element.winningAmount).roundOff(2) <= element.totalChips && (element.targetNode.getComponent("PlayerPresenter").amountLabel.string = (element.winningAmount + Number(element.targetNode.getComponent("PlayerPresenter").amountLabel.string)).roundOff(2));
              }
              instance.stopAllActions();
              instance.destroy();
              0 == counter && null != callback && callback();
            }
          }.bind(this), 600);
        }, this);
      }
    });
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager"
  } ],
  PrivateTableContent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e885f+zpiNBf6ReSUVaBi5C", "PrivateTableContent");
    "use strict";
    var JoinData = require("PostTypes").JoinChannel;
    var PopupManagerType = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var LoginData = require("PostTypes").Login;
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableUpdate, this.onTableUpdated.bind(this));
      },
      onTableUpdated: function onTableUpdated(eventData) {
        if (eventData._id == this.table._id) for (var key in eventData.updated) if ("playingPlayers" == key) {
          if (eventData.updated.playingPlayers > 0) {
            cc.find("expire", this.node).active = false;
            cc.find("remove/scaler/New Node", this.node).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
            cc.find("remove", this.node).getComponent(cc.Button).enabled = false;
          } else {
            cc.find("expire", this.node).active = true;
            cc.find("remove/scaler/New Node", this.node).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
            cc.find("remove", this.node).getComponent(cc.Button).enabled = true;
            if (eventData.updated.expiredAt) {
              this.table.expiredAt = eventData.updated.expiredAt;
              var timeRemaining = GameManager.getMTimeDuration(Number(this.table.expiredAt));
              cc.find("expire", this.node).getComponent(cc.Label).string = "Expire in: " + timeRemaining;
            }
          }
          break;
        }
      },
      init: function init(table) {
        var _this = this;
        var self = this;
        this.table = table;
        var timeRemaining = GameManager.getMTimeDuration(Number(table.expiredAt));
        cc.find("expire", this.node).getComponent(cc.Label).string = "Expire in: " + timeRemaining;
        cc.find("TableName", this.node).getComponent(cc.Label).string = table.channelName;
        cc.find("sta/Stakes", this.node).getComponent(cc.Label).string = "Blinds: " + table.smallBlind + "/" + table.bigBlind;
        cc.find("vari/vari", this.node).getComponent(cc.Label).string = table.channelVariation;
        if (table.playingPlayers > 0) {
          cc.find("expire", this.node).active = false;
          cc.find("remove/scaler/New Node", this.node).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
          cc.find("remove", this.node).getComponent(cc.Button).enabled = false;
        } else {
          cc.find("expire", this.node).active = true;
          cc.find("remove/scaler/New Node", this.node).getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
          cc.find("remove", this.node).getComponent(cc.Button).enabled = true;
        }
        this.schedule(function() {
          var date = new Date();
          var milli = parseInt(_this.table.expiredAt);
          if (date.getTime() < _this.table.expiredAt) {
            var _timeRemaining = GameManager.getMTimeDuration(Number(_this.table.expiredAt));
            cc.find("expire", _this.node).getComponent(cc.Label).string = "Expire in: " + _timeRemaining;
          } else {
            var _timeRemaining2 = GameManager.getMTimeDuration(Number(_this.table.expiredAt));
            cc.find("expire", _this.node).getComponent(cc.Label).string = "Expired";
          }
        }, 1);
        if ("Texas Hold\u2019em" == table.channelVariation) {
          cc.find("vari/vari", this.node).getComponent(cc.Label).string = "Hold\u2019em";
          cc.loader.loadRes("tags/holdem", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("vari", self.node).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Omaha" == table.channelVariation) {
          cc.find("vari/vari", this.node).getComponent(cc.Label).string = "PLO";
          cc.loader.loadRes("tags/plo", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("vari", self.node).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Omaha 5" == table.channelVariation) {
          cc.find("vari/vari", this.node).getComponent(cc.Label).string = "PLO5";
          cc.loader.loadRes("tags/plo5", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("vari", self.node).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Omaha 6" == table.channelVariation) {
          cc.find("vari/vari", this.node).getComponent(cc.Label).string = "PLO6";
          cc.loader.loadRes("tags/plo6", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("vari", self.node).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else if ("Mega Hold\u2019em" == table.channelVariation) {
          cc.find("vari/vari", this.node).getComponent(cc.Label).string = "Mega Hold\u2019em";
          cc.loader.loadRes("tags/mega", cc.SpriteFrame, function(err, tex) {
            err || (cc.find("vari", self.node).getComponent(cc.Sprite).spriteFrame = tex);
          });
        } else cc.loader.loadRes("tags/holdem", cc.SpriteFrame, function(err, tex) {
          err || (cc.find("vari", self.node).getComponent(cc.Sprite).spriteFrame = tex);
        });
        cc.find("buy/Background/MinMax", this.node).getComponent(cc.Label).string = table.minBuyIn + "/" + table.maxBuyIn;
        cc.find("avgPot", this.node).getComponent(cc.Label).string = "Avrg. Pot: " + table.avgStack;
        cc.find("remove", this.node).getComponent(cc.Button).clickEvents[0].customEventData = table._id;
        this.node.__inviteCode = table.inviteCode;
      },
      onDestroy: function onDestroy() {},
      onJoin: function onJoin() {
        null != GameScreen ? GameManager.isMobile ? GameManager.activeTableCount = GameScreen.gridParent.getComponent(cc.PageView).getPages().length : GameManager.activeTableCount = GameScreen.gridParent.children.length : GameManager.activeTableCount = 0;
        if (GameManager.activeTableCount >= GameManager.maxTableCounts) {
          GameManager.popUpManager.show(PopUpType.MaxTablesJoinedPopup, null, function() {});
          return;
        }
        ServerCom.pomeloRequest("room.channelHandler.joinChannelByInvitecode", {
          inviteCode: this.table.inviteCode,
          playerId: GameManager.user.playerId,
          networkIp: LoginData.ipV4Address
        }, function(response) {
          console.log(response);
          GameManager.emit("joinChannelByInvitecode");
          GameManager.verifyTablePrivate(response.channelId) && GameManager.onJoinSuccess(response, response.data);
        }, null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes"
  } ],
  PrivateTablePopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "dc025XgTAtGPoRJWDiwU7LY", "PrivateTablePopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        sliderTouch: {
          default: null,
          type: SliderTouchType
        },
        s: {
          default: null,
          type: cc.Label
        },
        b: {
          default: null,
          type: cc.Label
        },
        errorLbl: {
          default: null,
          type: cc.Label
        },
        tableName: {
          default: null,
          type: cc.EditBox
        },
        smallBlind: {
          default: null,
          type: cc.EditBox
        },
        bigBlind: {
          default: null,
          type: cc.EditBox
        },
        minBuyIn: {
          default: null,
          type: cc.EditBox
        },
        maxBuyIn: {
          default: null,
          type: cc.EditBox
        },
        maxPlayers: {
          default: null,
          type: cc.EditBox
        },
        password: {
          default: null,
          type: cc.EditBox
        },
        isPotLimit: {
          default: null,
          type: cc.Toggle
        },
        holdem: {
          default: null,
          type: cc.Toggle
        },
        omaha: {
          default: null,
          type: cc.Toggle
        },
        omaha5: {
          default: null,
          type: cc.Toggle
        },
        omaha6: {
          default: null,
          type: cc.Toggle
        },
        p2: {
          default: null,
          type: cc.Toggle
        },
        p3: {
          default: null,
          type: cc.Toggle
        },
        p4: {
          default: null,
          type: cc.Toggle
        },
        p5: {
          default: null,
          type: cc.Toggle
        },
        p6: {
          default: null,
          type: cc.Toggle
        },
        minAmount: {
          default: .5,
          visible: false
        },
        maxAmount: {
          default: 500,
          visible: false
        },
        callback: null
      },
      onLoad: function onLoad() {
        this.sliderTouch.registerCallback(this.onSliderValueChange.bind(this));
      },
      onSliderValueChange: function onSliderValueChange(value) {
        this.minAmount = 1;
        this.maxAmount = 500;
        value = Number(value).toFixed(1);
        value = value < 0 ? 0 : value;
        value = value > 1 ? 1 : value;
        var amount = value * (this.maxAmount - this.minAmount + 1) + this.minAmount;
        amount = amount > this.maxAmount ? this.maxAmount : amount;
        0 == value ? amount = .5 : 1 == value ? amount = 500 : amount -= 1;
        this.s.string = amount;
        this.b.string = 2 * amount;
        this.minBuyIn.string = 10 * amount;
        this.maxBuyIn.string = 10 * amount * 2;
      },
      onShow: function onShow(data) {
        this.minAmount = 1;
        this.maxAmount = 500;
        this.onSliderValueChange(0);
      },
      onEditEndSmallBlind: function onEditEndSmallBlind() {
        var num = Number(this.smallBlind.string);
        if (num < 1) {
          num = 1;
          this.smallBlind.blur();
          this.blured = true;
          this.smallBlind.string = num;
          this.smallBlind.focus();
        }
        num >= 1e5 && (num = 99999);
        this.bigBlind.string = 2 * num + "";
      },
      onEditEndMinBuyIn: function onEditEndMinBuyIn() {
        var num = Number(this.minBuyIn.string);
        if (num < 10 * Number(this.s.string)) {
          num = this.s.string;
          this.minBuyIn.blur();
          this.blured = true;
          this.minBuyIn.string = num;
          this.minBuyIn.focus();
        }
        num >= 1e5 && (num = 99999);
      },
      onClick: function onClick() {
        GameManager.playSound(K.Sounds.click);
        this.errorLbl.string = "";
        var valid = new RegExp(/^(?=.*[a-zA-Z])(?=.*[0-9])[a-zA-Z0-9]+$/);
        if (!valid.test(this.tableName.string)) {
          this.errorLbl.string = "Table name should be alpha numeric";
          return;
        }
        if (Number(this.minBuyIn.string) < Number(this.s.string)) {
          this.errorLbl.string = "minBuyIn should not be lower than the stake amount";
          return;
        }
        if (Number(this.minBuyIn.string) >= Number(this.maxBuyIn.string)) {
          this.errorLbl.string = "Invalid maxBuyIn";
          return;
        }
        var vari = "";
        this.holdem.isChecked ? vari = "Texas Hold\u2019em" : this.omaha5.isChecked ? vari = "Omaha 5" : this.omaha6.isChecked ? vari = "Omaha 5" : this.omaha.isChecked && (vari = "Omaha");
        var maxPlayers = 2;
        this.p2.isChecked ? maxPlayers = 2 : this.p3.isChecked ? maxPlayers = 3 : this.p4.isChecked ? maxPlayers = 4 : this.p5.isChecked ? maxPlayers = 5 : this.p6.isChecked && (maxPlayers = 6);
        ServerCom.pomeloRequest("connector.entryHandler.createPrivateTable", {
          tableName: this.tableName.string,
          gameVariation: vari,
          isPotLimit: !this.holdem.isChecked,
          smallBlind: Number(this.s.string),
          bigBlind: Number(this.b.string),
          minBuyIn: Number(this.minBuyIn.string),
          maxBuyIn: Number(this.maxBuyIn.string),
          maxPlayers: maxPlayers,
          passwordForPrivate: "11111111",
          userName: GameManager.user.userName
        }, function(response) {
          console.log("response", response);
          if (response.success) {
            cc.sys.localStorage.setItem("PRIVATE_TABLE_" + this.tableName.string, response.passwordForPrivate);
            GameManager.popUpManager.show(PopUpType.NotificationPopup, response.info, function() {});
            GameManager.emit("refresh_private_table");
          } else GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Error!",
            content: response.info
          }, function() {});
          this.onClose();
        }.bind(this));
      },
      onTextChanged: function onTextChanged(text, editbox, customEventData) {
        console.log("text", text, editbox.string);
        var validNumber = new RegExp(/^\d*\.?\d*$/);
        console.log(validNumber.test(text));
        if (validNumber.test(text)) {
          this.last = text;
          editbox.blur();
          this.blured = true;
          this.smallBlind.string = text;
          this.last = text;
          editbox.focus();
        } else {
          editbox.blur();
          this.blured = true;
          this.smallBlind.string = this.last;
          editbox.focus();
        }
      },
      onTextBegan: function onTextBegan(text, editbox, customEventData) {
        this.blured = false;
        this.last = this.smallBlind.string;
      },
      onClose: function onClose() {
        this.tableName.string = "";
        this.smallBlind.string = "";
        this.bigBlind.string = "";
        this.minBuyIn.string = "";
        this.maxBuyIn.string = "";
        this.maxPlayers.string = "";
        this.password.string = "";
        this.isPotLimit.string = "";
        this.holdem.isChecked = true;
        this.omaha.isChecked = false;
        this.minAmount = 1;
        this.maxAmount = 500;
        this.sliderTouch.setSliderValue(0, false);
        this.onSliderValueChange(0);
        this.node.active = false;
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    SliderTouch: "SliderTouch"
  } ],
  ProfileHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "908c28ZXRtHfKtJhN88X1/U", "ProfileHandler");
    "use strict";
    var ServerCom = require("ServerCom");
    var transactionHistory = require("PostTypes").TransactionHistory;
    var UserId = require("PostTypes").UserID;
    cc.Class({
      extends: cc.Component,
      properties: {},
      start: function start() {},
      getTransactionHistory: function getTransactionHistory(lowerLimit, upperLimit, callback) {
        var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.transactionHistory;
        var data = transactionHistory;
        var loginToken = GameManager.user;
        if (null !== loginToken && void 0 !== loginToken) {
          data.userId = loginToken.userId;
          data.lowerLimit = lowerLimit;
          data.upperLimit = upperLimit;
        }
        ServerCom.httpPostRequest(address, data, callback);
      },
      getWalletInfo: function getWalletInfo(callback) {
        var address = K.ServerAddress.ipAddress + ":" + K.ServerAddress.port + K.ServerAPI.wallet;
        var data = UserId;
        var loginToken = GameManager.user;
        null !== loginToken && void 0 !== loginToken && (data.userId = loginToken.userId);
        ServerCom.httpPostRequest(address, data, callback);
      }
    });
    cc._RF.pop();
  }, {
    PostTypes: "PostTypes",
    ServerCom: "ServerCom"
  } ],
  ProfilePresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "562f2bI7lpMkJhPsi5QhMx+", "ProfilePresenter");
    "use strict";
    var ProfileHandler = require("ProfileHandler");
    cc.Class({
      extends: cc.Component,
      properties: {
        ipAddress: {
          default: "",
          visible: false
        },
        portID: {
          default: 0,
          visible: false
        },
        transaction: {
          default: null,
          type: ProfileHandler
        }
      },
      onLoad: function onLoad() {},
      onGetTransactionHistory: function onGetTransactionHistory() {
        this.transaction.getTransactionHistory(0, 20, function(response) {
          if (response.success) var result = response.result;
        });
      },
      onGetWalletInfo: function onGetWalletInfo() {
        this.transaction.getWalletInfo(function(response) {
          if (response.success) var result = response.result;
        });
      }
    });
    cc._RF.pop();
  }, {
    ProfileHandler: "ProfileHandler"
  } ],
  Profile: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1ab6a4XD1xN7auks1CJUs2e", "Profile");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      start: function start() {}
    });
    cc._RF.pop();
  }, {} ],
  QSTournamentDetail: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "13c4cy59xVDTKN0Y/MAfO8I", "QSTournamentDetail");
    "use strict";
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: cc.Component,
      properties: {
        tournamentTitleLbl: {
          default: null,
          type: cc.Label
        },
        startsInTimeLbl: {
          default: null,
          type: cc.Label
        },
        startsAtTimeLbl: {
          default: null,
          type: cc.Label
        },
        buyInLbl: {
          default: null,
          type: cc.Label
        },
        prizePoolLbl: {
          default: null,
          type: cc.Label
        },
        entriesLbl: {
          default: null,
          type: cc.Label
        },
        data: null
      },
      onLoad: function onLoad() {},
      setValues: function setValues(data) {
        this.data = data;
        this.tournamentTitleLbl.string = data.channelName || "";
        this.startsAtTimeLbl.string = GameManager.getTimeByMilli(data.tournamentStartTime);
        var date = new Date().getTime();
        data.tournamentStartTime > date ? this.startsInTimeLbl.string = GameManager.getTimeDuration(data.tournamentStartTime, false) || "" : this.startsInTimeLbl.string = "";
        this.buyInLbl.string = data.buyIn || "";
        this.prizePoolLbl.string = !!data.enrolledPlayers && data.entryfees ? data.enrolledPlayers * data.entryfees : "0";
        this.entriesLbl.string = data.enrolledPlayers || "0";
      },
      onRegister: function onRegister() {
        var data1 = {};
        data1._id = this.data._id;
        data1.gameVersionCount = this.data.gameVersionCount;
        TournamentHandler.registerTournament(data1, function(response) {}.bind(this), function(response) {}, 5e3, false);
      },
      onTournamentLobby: function onTournamentLobby() {
        var data = {};
        data._id = this.data._id;
        data.gameVersionCount = this.data.gameVersionCount;
        data.tournamentType = K.TournamentType.Normal;
        TournamentHandler.tournamentLobbyInfo(this.data, function(response) {
          !response.tableData || GameManager.popUpManager.show(PopUpType.TournamentLobbyInfoPopup, response, function() {});
        }.bind(this), function(response) {}.bind(this));
      }
    });
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager"
  } ],
  "Queue.src": [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "85b572KZ5pEToiKYBB641Z1", "Queue.src");
    "use strict";
    function Queue() {
      var queue = [];
      var offset = 0;
      this.getLength = function() {
        return queue.length - offset;
      };
      this.isEmpty = function() {
        return 0 == queue.length;
      };
      this.enqueue = function(item) {
        queue.push(item);
      };
      this.dequeue = function() {
        if (0 == queue.length) return;
        var item = queue[offset];
        if (2 * ++offset >= queue.length) {
          queue = queue.slice(offset);
          offset = 0;
        }
        return item;
      };
      this.peek = function() {
        return queue.length > 0 ? queue[offset] : void 0;
      };
    }
    module.exports = Queue;
    cc._RF.pop();
  }, {} ],
  QuickSeatPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6dc74hvqI1DN71B6iG/YCyJ", "QuickSeatPopup");
    "use strict";
    var DropDownType = require("DropDown");
    var PopUpBase = require("PopUpBase");
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var JoinSimilar = require("PostTypes").JoinSimilar;
    var QuickSeatSitNGo = require("PostTypes").QuickSeatSitNGo;
    var QuickSeatTourn = require("PostTypes").QuickSeatTourn;
    var TourneyStartTimes = {
      ThirtyMin: "30 Mins",
      TwoHr: "2 hrs",
      FourHr: "4 hrs",
      TwelveHr: "12 hrs",
      OneDay: "1 day",
      OneWeek: "1 week",
      Anytime: "Anytime"
    };
    var self = null;
    cc.Class({
      extends: PopUpBase,
      properties: {
        popupManager: {
          default: null,
          type: PopUpManager
        },
        tournGameDropDown: {
          default: null,
          type: DropDownType
        },
        tournBuyInDropDown: {
          default: null,
          type: DropDownType
        },
        tourntypeDropDown: {
          default: null,
          type: DropDownType
        },
        tournStartingDropDown: {
          default: null,
          type: DropDownType
        },
        tournGamesGrid: {
          default: null,
          type: cc.Node
        },
        tournPrefab: {
          default: null,
          type: cc.Prefab
        },
        cashGameDropDown: {
          default: null,
          type: DropDownType
        },
        cashSmallBlindDropDown: {
          default: null,
          type: DropDownType
        },
        cashBigBlindDropDown: {
          default: null,
          type: DropDownType
        },
        cashSpeedDropDown: {
          default: null,
          type: DropDownType
        },
        cashPlayersReqDropDown: {
          default: null,
          type: DropDownType
        },
        sitNGoGameDropDown: {
          default: null,
          type: DropDownType
        },
        sitNGoBuyInDropDown: {
          default: null,
          type: DropDownType
        },
        sitNGoSpeedDropDown: {
          default: null,
          type: DropDownType
        },
        sitNGoPlayersReqDropDown: {
          default: null,
          type: DropDownType
        }
      },
      onLoad: function onLoad() {
        self = this;
        this.sitNGoBuyInDropDown.registerCallback(this.onSitNGo.bind(this));
        this.sitNGoPlayersReqDropDown.registerCallback(this.onSitNGo.bind(this));
      },
      onShow: function onShow(data) {
        this.realMoney = data;
        ServerCom.pomeloRequest(K.PomeloAPI.getFilters, data, function(response) {
          self.initDropdowns(response);
        }, function(error) {});
      },
      initDropdowns: function initDropdowns(data) {
        this.cashGameDropDown.setContent(data.normal.game);
        this.cashSmallBlindDropDown.setContent(this.getStakesData(data.normal.smallBlind, data.normal.bigBlind));
        this.cashSpeedDropDown.setContent(this.getSpeedData(data.normal.speed));
        this.cashPlayersReqDropDown.setContent(data.normal.playersRequired);
        this.sitNGoGameDropDown.setContent(data.sitNGo.game);
        this.sitNGoBuyInDropDown.setContent(data.sitNGo.buyIn);
        this.sitNGoSpeedDropDown.setContent(this.getSpeedData(data.normal.speed));
        this.sitNGoPlayersReqDropDown.setContent(data.sitNGo.playersRequired);
        this.tournGameDropDown.setContent(data.tournament.game);
        this.tournBuyInDropDown.setContent(data.tournament.buyIn);
        this.tourntypeDropDown.setContent(data.tournament.type);
        var tourneyStartArr = [ TourneyStartTimes.ThirtyMin, TourneyStartTimes.TwoHr, TourneyStartTimes.FourHr, TourneyStartTimes.TwelveHr, TourneyStartTimes.OneDay, TourneyStartTimes.OneWeek, TourneyStartTimes.Anytime ];
        this.tournStartingDropDown.setContent(tourneyStartArr);
      },
      getStakesData: function getStakesData(smallBlinds, bigBlinds) {
        var stakes = [];
        for (var i = 0; i < smallBlinds.length; i++) -1 != bigBlinds.indexOf(2 * smallBlinds[i]) && stakes.push(smallBlinds[i] + "/" + 2 * smallBlinds[i]);
        return stakes;
      },
      getSpeedData: function getSpeedData(speeds) {
        var gameTypes = [];
        for (var i = speeds.length - 1; i >= 0; i--) gameTypes.push(GameManager.getGameTypeByValue(speeds[i]));
        return gameTypes;
      },
      updateGameTypeVal: function updateGameTypeVal(data) {},
      onCashTab: function onCashTab() {},
      onSitNGo: function onSitNGo() {
        var buyIn = this.sitNGoBuyInDropDown.getSelection();
        var playersReq = this.sitNGoPlayersReqDropDown.getSelection();
      },
      onTournnTab: function onTournnTab() {},
      onTournConfirm: function onTournConfirm() {
        var gameType = this.tournGameDropDown.getSelection();
        var buyIn = this.tournBuyInDropDown.getSelection();
        var type = this.tourntypeDropDown.getSelection();
        var starting = this.getTimeVal(this.tournStartingDropDown.getSelection());
        var data = new QuickSeatTourn(this.realMoney, gameType, buyIn, type, starting);
        ServerCom.pomeloRequest(K.PomeloAPI.quickSeatTournament, data, function(response) {
          if (response.success) {
            GameManager.removeAllChildren(this.tournGamesGrid);
            for (var i = 0; i < response.result.length; i++) {
              var dummy = cc.instantiate(this.tournPrefab);
              dummy.getComponent("QSTournamentDetail").setValues(response.result[i]);
              this.tournGamesGrid.addChild(dummy);
            }
          }
        }.bind(this), function(error) {});
      },
      onCashPlayNow: function onCashPlayNow() {
        this.joinRequest(true);
      },
      onCashObserve: function onCashObserve() {
        this.joinRequest(false);
      },
      joinRequest: function joinRequest(isAutosit) {
        var gameType = this.cashGameDropDown.getSelection();
        var smallBlind = parseInt(this.cashSmallBlindDropDown.getSelection().split("/")[0]);
        var bigBlind = parseInt(this.cashSmallBlindDropDown.getSelection().split("/")[1]);
        var playersReq = parseInt(this.cashPlayersReqDropDown.getSelection());
        var speed = parseInt(GameManager.getValueByGameType(this.cashSpeedDropDown.getSelection()));
        var data = new JoinSimilar(this.realMoney, gameType, smallBlind, bigBlind, playersReq, speed, GameManager.user.playerId);
        ServerCom.pomeloRequest(K.PomeloAPI.joinSimilar, data, function(response) {
          if (response.success) {
            var data = response;
            var route = null;
            var routeSource = K.PomeloAPI;
            route = isAutosit ? routeSource.autoSit : routeSource.joinChannel;
            var channel = {};
            channel.channelId = data.similarChannelId || "";
            channel.channelType = "NORMAL";
            channel.tableId = "";
            channel.isRequested = true;
            if (isAutosit) {
              channel.seatIndex = GameManager.getPreferredSeat(playersReq);
              channel.imageAvtar = "";
            }
            GameManager.join(channel.channelId, route, channel);
          }
        }, function(error) {});
      },
      onSitRegister: function onSitRegister() {
        var gameType = this.sitNGoGameDropDown.getSelection();
        var buyIn = parseInt(this.sitNGoBuyInDropDown.getSelection());
        var playersReq = parseInt(this.sitNGoPlayersReqDropDown.getSelection());
        var speed = GameManager.getValueByGameType(this.sitNGoSpeedDropDown.getSelection());
        var data = new QuickSeatSitNGo(this.realMoney, gameType, buyIn, playersReq, speed);
        ServerCom.pomeloRequest(K.PomeloAPI.quickSeatSitNGo, data, function(response) {
          if (response.success) {
            response.data = data;
            this.popupManager.show(PopUpType.ConfirmDialogQuickSeatSitNGo, response, function() {});
          }
        }.bind(this), function(error) {});
      },
      getTimeVal: function getTimeVal(val) {
        var returnVal = 0;
        switch (val) {
         case TourneyStartTimes.ThirtyMin:
          returnVal = 30;
          break;

         case TourneyStartTimes.TwoHr:
          returnVal = 120;
          break;

         case TourneyStartTimes.FourHr:
          returnVal = 240;
          break;

         case TourneyStartTimes.TwelveHr:
          returnVal = 720;
          break;

         case TourneyStartTimes.OneDay:
          returnVal = 1440;
          break;

         case TourneyStartTimes.OneWeek:
          returnVal = 604800;
          break;

         default:
          returnVal = 1e7;
        }
        return returnVal;
      },
      onCancel: function onCancel() {
        this.popupManager.hide(PopUpType.QuickSeatPopUp, function() {});
      }
    });
    cc._RF.pop();
  }, {
    DropDown: "DropDown",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes"
  } ],
  RegPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "e6fd55KPUlLzadR+AZlvoRU", "RegPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        regSuccessNode: {
          default: null,
          type: cc.Node
        },
        regFailNode: {
          default: null,
          type: cc.Node
        }
      },
      onShow: function onShow(data) {
        console.log("onShow", data);
        if (1 == data) {
          this.regSuccessNode.active = true;
          this.regFailNode.active = false;
        } else {
          this.regSuccessNode.active = false;
          this.regFailNode.active = true;
        }
      },
      onLoad: function onLoad() {},
      onClose: function onClose() {
        this.popUpManager.hide(PopUpType.RegDialog, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  RemoveDataPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9c7e1VkdehFoJNp0CMLF7Kb", "RemoveDataPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        }
      },
      onShow: function onShow(data) {
        this.data = data;
      },
      onLoad: function onLoad() {},
      onClickEnter: function onClickEnter() {},
      onYES: function onYES() {
        this.data.callback && this.data.callback();
        this.popUpManager.hide(PopUpType.RemoveDataDialog, function() {});
      },
      onNo: function onNo() {
        GameManager.playSound(K.Sounds.click);
        this.popUpManager.hide(PopUpType.RemoveDataDialog, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  ReportBug: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8c3d1fWWdVKkra/OWCgnLhe", "ReportBug");
    "use strict";
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerModel: {
          default: null,
          type: cc.Node
        },
        contentParent: {
          default: null,
          type: cc.Node
        },
        item: {
          default: null,
          type: cc.Node
        },
        scrollView: {
          default: null,
          type: cc.Node
        },
        tableId: {
          default: null,
          type: cc.Label
        },
        gameId: {
          default: null,
          type: cc.Label
        },
        gameType: {
          default: null,
          type: cc.Label
        },
        gameDate: {
          default: null,
          type: cc.Label
        },
        selected: {
          default: null,
          type: cc.Label
        },
        description: {
          default: null,
          type: cc.EditBox
        }
      },
      onLoad: function onLoad() {
        this.pokerGame = this.pokerModel.getComponent("PokerModel");
      },
      start: function start() {},
      onShow: function onShow(data) {
        this.scrollView.active = false;
        this.selected.string = "Select your Issue";
        this.description.string = "";
        GameManager.emit("disablePageView");
        this.tableId.string = "#" + this.pokerGame.gameData.tableId;
        this.gameId.string = "#" + this.pokerGame.gameData.channelId;
        this.gameType.string = this.pokerGame.roomConfig.channelVariation;
        var date = new Date();
        this.gameDate.string = date.toLocaleDateString("en-US", {
          day: "numeric",
          month: "short"
        }) + ", " + date.toLocaleTimeString("en-US").substr(0, (date.toLocaleTimeString("en-US") + " ").indexOf(" "));
        console.log("this.pokerGame.roomConfig", this.pokerGame.roomConfig);
        console.log("this.pokerGame.gameData", this.pokerGame.gameData);
        this.contentParent.removeAllChildren(true);
        for (var i = 0; i < data.length; i++) {
          var stickerImages = data[i];
          var poolObject = cc.instantiate(this.item);
          poolObject.active = true;
          poolObject.y = 0;
          poolObject.getComponent(cc.Label).string = stickerImages;
          poolObject.getComponent(cc.Button).clickEvents[0].customEventData = stickerImages;
          poolObject.parent = this.contentParent;
        }
      },
      onSelect: function onSelect(event, msg) {
        this.selected.string = msg;
        this.scrollView.active = false;
      },
      onShowScrollView: function onShowScrollView() {
        this.scrollView.active ? this.scrollView.active = false : this.scrollView.active = true;
      },
      onHideScrollView: function onHideScrollView() {
        this.scrollView.active = false;
      },
      onClose: function onClose() {
        GameManager.emit("enablePageView");
        this.node.active = false;
      },
      onReport: function onReport() {
        if ("Select your Issue" == this.selected.string) return;
        if ("" == this.description.string.trim()) return;
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.reportBug", {
          gameType: this.pokerGame.roomConfig.channelVariation,
          gameId: this.pokerGame.gameData.tableId,
          tableId: "tableId",
          issue: this.selected.string,
          note: this.description.string,
          playerId: GameManager.user.playerId
        }, function(response) {
          console.log("reportBug", response);
          if (response.success) {
            inst.description.string = "";
            inst.selected.string = "Select your Issue";
            inst.node.active = false;
            GameManager.popUpManager.show(PopUpType.CommonDialog, {
              title: "Thanks!",
              content: "Your report has been sent to the developer."
            }, function() {});
          }
        });
      }
    });
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager"
  } ],
  ResponseTypes: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5b113vuUidC57JDGxa/Cs96", "ResponseTypes");
    "use strict";
    function user(data) {
      this.category = "DIAMOND";
      this.isParentUserName = data.isParentUserName || "";
      this.claimedFreeChipsAt = data.claimedFreeChipsAt;
      this.nextClaimBonusTime = data.nextClaimBonusTime;
      this.defaultTheme = data.defaultTheme || "";
      this.defaultCard = data.defaultCard || "";
      this.defaultGameBackground = data.defaultGameBackground || "";
      this.defaultTourCard = data.defaultTourCard || "";
      this.defaultTourGameBackground = data.defaultTourGameBackground || "";
      this.defaultTourTheme = data.defaultTourTheme || "";
      this.tableCountAllowed = data.tableCountAllowed || {
        browser: 6,
        phone: 2,
        androidApp: 2,
        iosApp: 2,
        windows: 6,
        mac: 6
      };
      GameManager.emit("updateTableImage");
      GameManager.emit("updateTableBgImage");
      var device = "";
      if (cc.sys.isBrowser) {
        device = "browser";
        cc.sys.os === cc.sys.OS_ANDROID ? device = "androidApp" : cc.sys.os === cc.sys.OS_IOS ? device = "iosApp" : cc.sys.os === cc.sys.OS_OSX && (device = "mac");
      } else cc.sys.os === cc.sys.OS_ANDROID ? device = "androidApp" : cc.sys.os === cc.sys.OS_IOS ? device = "iosApp" : cc.sys.os === cc.sys.OS_WINDOWS ? device = "windows" : cc.sys.os === cc.sys.OS_OSX && (device = "mac");
      GameManager.maxTableCounts = 2;
      console.log(">>>GameManager.maxTableCounts", GameManager.maxTableCounts);
      this.mobileNumber = data.mobileNumber;
      this.firstName = data.firstName;
      this.lastName = data.lastName;
      this.emailId = data.emailId;
      this.playerId = data.playerId;
      this.userName = data.userName;
      this.tribeName = data.tribeName;
      this.settings = data.settings || {};
      this.profileImage = "" == data.profileImage || "undefined" == data.profileImage ? 1 : Number(data.profileImage) - 1;
      changeAvatar(this.profileImage, this);
      this.muteGameSound = data.settings.muteGameSound;
      GameManager.playMusic(!this.muteGameSound);
      this.runItTwice = void 0 !== data.settings.runItTwice && null != data.settings.runItTwice && data.settings.runItTwice;
      this.isMuckHand = void 0 !== data.isMuckHand && null != data.isMuckHand && data.isMuckHand;
      this.isShowCard = void 0 !== data.isShowCard && null != data.isShowCard && data.isShowCard;
      this.cardColor = void 0 === data.prefrences.cardColor || null === data.prefrences.cardColor || data.prefrences.cardColor;
      this.seatPreferances = void 0 !== data.settings.seatPrefrence && null != data.settings.seatPrefrence && "" != data.settings.seatPrefrence ? data.settings.seatPrefrence : 1;
      this.seatPreferancesTwo = void 0 !== data.settings.seatPrefrenceTwo && null != data.settings.seatPrefrenceTwo && "" != data.settings.seatPrefrenceTwo ? data.settings.seatPrefrenceTwo : 1;
      this.seatPreferancesSix = void 0 !== data.settings.seatPrefrenceSix && null != data.settings.seatPrefrenceSix && "" != data.settings.seatPrefrenceSix ? data.settings.seatPrefrenceSix : 1;
      this.dealerChat = void 0 === data.settings.dealerChat || null == data.settings.dealerChat || data.settings.dealerChat;
      this.playerChat = void 0 === data.settings.playerChat || null == data.settings.playerChat || data.settings.playerChat;
      this.tableColor = void 0 !== data.settings.tableColor && null !== data.settings.tableColor && "" !== data.settings.tableColor ? data.settings.tableColor : 3;
      this.tableLayout = data.tableLayout;
      this.autoBuyIn = data.autoBuyIn;
      this.autoBuyInAmountInPercent = data.autoBuyInAmountInPercent;
      this.isEmailVerified = data.isEmailVerified;
      this.isMobileNumberVerified = data.isMobileNumberVerified;
      this.dailyBonusCollectionTime = data.dailyBonusCollectionTime;
      this.freeChips = data.freeChips;
      this.realChips = data.realChips;
      this.loyalityRakeLevel = data.loyalityRakeLevel;
      this.host = data.host;
      this.port = data.port;
      this.megaPointDetail = {};
      this.megaPointDetail.megaPointLevel = data.statistics.megaPointLevel;
      this.megaPointDetail.megaPoints = data.statistics.megaPoints;
      this.megaPointDetail.megaPointsPercent = data.statistics.megaPointsPercent;
      this.affiliateId = data.isParentUserName ? data.isParentUserName : null;
      this.isCashout = data.cashoutGamePlay ? data.cashoutGamePlay : null;
      this.unclamedBonus = data.unclamedBonus || 0;
      this.password = "";
    }
    function gameData(data) {
      this.success = data.success;
      this.raw = data;
      this.channelId = data.channelId;
      this.playerId = data.playerId;
      this.tableId = data.tableId;
      this.showHandStrength = data.showHandStrength || false;
      this.playerName = data.playerName;
      this.isJoinWaiting = data.isJoinWaiting;
      this.bestHands = data.bestHands;
      this.isRunItTwice = !!data.isRunItTwice && data.isRunItTwice;
      this.antibanking = data.antibanking;
      this.settings = data.settings;
      this.timeBankLeft = data.timeBankLeft || 0;
      this.tableDetails = {};
      this.tableDetails.roundId = data.tableDetails.roundId;
      this.tableDetails.state = data.tableDetails.state;
      this.tableDetails.isStraddleEnable = data.tableDetails.isStraddleEnable;
      this.tableDetails.runItTwiceEnable = data.tableDetails.runItTwiceEnable;
      this.tableDetails.roundCount = data.tableDetails.roundCount;
      this.tableDetails.turnTime = data.tableDetails.turnTime;
      this.tableDetails.extraTurnTime = data.tableDetails.extraTurnTime || 10;
      this.tableDetails.additionalTurnTime = data.tableDetails.additionalTurnTime || 0;
      this.tableDetails.minRaiseAmount = data.tableDetails.minRaiseAmount;
      this.tableDetails.maxRaiseAmount = data.tableDetails.maxRaiseAmount;
      var array = [];
      data.tableDetails.players.forEach(function(element) {
        this.playerId == element.playerId && (element.cards = data.cards);
        array.push(new player(element));
      }, this);
      this.tableDetails.remainingMoveTime = data.tableDetails.remainingMoveTime;
      this.tableDetails.players = array;
      this.tableDetails.roundName = data.tableDetails.roundName;
      this.tableDetails.roundNumber = data.tableDetails.roundNumber;
      this.tableDetails.roundBets = data.tableDetails.roundBets;
      this.tableDetails.roundMaxBet = data.tableDetails.roundMaxBet;
      this.tableDetails.smallBlind = data.tableDetails.smallBlind;
      this.tableDetails.bigBlind = data.tableDetails.bigBlind;
      this.tableDetails.maxBetAllowed = data.tableDetails.maxBetAllowed;
      this.tableDetails.pot = data.tableDetails.pot || [];
      this.tableDetails.totalPot = data.tableDetails.totalPot || 0;
      this.tableDetails.boardCard = data.tableDetails.boardCard;
      this.tableDetails.dealerIndex = data.tableDetails.dealerIndex;
      this.tableDetails.smallBlindIndex = data.tableDetails.smallBlindIndex;
      this.tableDetails.bigBlindIndex = data.tableDetails.bigBlindIndex;
      this.tableDetails.straddleIndex = data.tableDetails.straddleIndex;
      this.tableDetails.currentMoveIndex = data.tableDetails.currentMoveIndex;
      this.tableDetails.actionName = data.tableDetails.actionName;
      this.tableDetails.isTimeBankUsed = data.tableDetails.isTimeBankUsed;
      this.tableDetails.isPrivateTable = data.tableDetails.isPrivateTable;
      this.tableDetails.totalTimeBank = data.tableDetails.totalTimeBank;
      this.tableDetails.timeBankLeft = data.tableDetails.timeBankLeft;
      this.tableDetails.breakTimeLeft = data.tableDetails.breakTimeRemaining;
      this.tableDetails.isOnBreak = void 0 !== data.tableDetails.isOnBreak && data.tableDetails.isOnBreak;
      this.tableDetails.breakEnds = data.tableDetails.breakEnds;
      this.tableDetails.rebuyTimeRemaining = data.tableDetails.rebuyTimeRemaining;
      this.tableDetails.addonTimeRemaining = data.tableDetails.addonTimeRemaining;
      this.tableDetails.blindTimeRemaining = data.tableDetails.blindTimeRemaining;
      this.tableDetails.isAddonEnabled = data.tableDetails.isAddonEnabled;
      this.tableDetails.isRebuy = data.tableDetails.isRebuy;
      this.tableDetails.isAutoRebuy = data.tableDetails.isAutoRebuy;
      this.tableDetails.isAutoAddOn = data.tableDetails.isAutoAddOn;
      this.tableDetails.isAddon = data.tableDetails.isAddon;
      this.tableDetails.isForceRit = !!data.tableDetails.isForceRit;
    }
    function player(data) {
      this.playerId = data.playerId;
      this.channelId = data.channelId;
      this.playerName = data.playerName;
      this.tribeName = data.tribeName;
      this.active = data.active || false;
      this.chips = data.chips || 0;
      this.seatIndex = data.seatIndex;
      this.imageAvtar = Number(data.imageAvtar) - 1;
      var profileData = {
        playerId: data.playerId,
        keys: [ "profileImage" ]
      };
      changeAvatar(this.imageAvtar, this);
      var Cards = data.cards || null;
      this.cards = Cards || [];
      this.moves = data.moves || {};
      this.state = data.state || K.PlayerState.Waiting;
      this.lastBet = data.lastBet || 0;
      this.lastMove = data.lastMove || "";
      this.totalRoundBet = data.totalRoundBet || 0;
      this.isMuckHand = data.isMuckHand || false;
      this.isRunItTwice = data.isRunItTwice || false;
      this.bigBlindMissed = data.bigBlindMissed || false;
      this.isAutoReBuy = data.isAutoReBuy || false;
      this.autoReBuyAmount = data.autoReBuyAmount || 0;
      this.isPlayed = data.isPlayed || false;
      this.sitoutNextHand = data.sitoutNextHand || false;
      this.sitoutNextBigBlind = data.sitoutNextBigBlind || false;
      this.isTournamentSitout = data.isTournamentSitout || false;
      this.precheckValue = data.precheckValue;
      this.preCheck = data.preCheck;
      this.timeBankSec = data.timeBankSec || 0;
      this.timeBankSec < 0 && (this.timeBankSec = 0);
    }
    player.prototype.reset = function(data) {
      this.chips = data.chips;
      this.state = data.state;
      this.lastMove = "";
      this.cards = [];
      this.bestHand = null;
      this.timeBankSec = data.timeBankSec || 0;
      this.timeBankSec < 0 && (this.timeBankSec = 0);
    };
    function changeAvatar(avatarUrl, user) {
      if (isNaN(avatarUrl) && isNaN(parseInt(avatarUrl)) && "" != avatarUrl) cc.loader.load(avatarUrl + "?w=125&h=125", function(err, tex) {
        if (!err) user.urlImg = new cc.SpriteFrame(tex); else {
          this.profileImage = Math.round(Math.random() * GameManager.avatarImages.length - 1);
          user.urlImg = GameManager.avatarImages[this.profileImage];
        }
        GameManager.emit("image-loaded", user);
      }); else {
        if (GameManager.avatarImages[avatarUrl]) user.urlImg = GameManager.avatarImages[avatarUrl]; else {
          var randomIndex = Math.round(Math.random() * GameManager.avatarImages.length - 1);
          user.urlImg = GameManager.avatarImages[randomIndex];
        }
        GameManager.emit("image-loaded", user);
      }
    }
    module.exports = {
      User: user,
      Player: player,
      GameData: gameData,
      changeAvatar: changeAvatar
    };
    cc._RF.pop();
  }, {} ],
  ResultPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bcf42p1AU9HxK9xPabUGrNu", "ResultPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var dataA = null;
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        infoLbl: {
          default: null,
          type: cc.Label
        },
        prizeInfo: null,
        messageLbl: {
          default: null,
          type: cc.Label
        },
        headingLbl: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        if (null != data) {
          this.prizeInfo = data;
          this.infoLbl.string = "Rank - " + data.rank + "\n Chips earned - " + data.chipsWon;
          this.headingLbl.string = (!data.channelName ? "" : data.channelName) + " Results";
          data.chipsWon < 1 ? this.messageLbl.string = "Better Luck Next Time" : this.messageLbl.string = "Congratulations!!!";
        }
      },
      onClickEnter: function onClickEnter() {
        this.onCollectPrize();
      },
      onCollectPrize: function onCollectPrize() {
        var data = {
          playerId: this.prizeInfo.playerId,
          gameVersionCount: this.prizeInfo.gameVersionCount,
          tournamentId: this.prizeInfo.tournamentId
        };
        ServerCom.pomeloRequest(K.PomeloAPI.collectPrize, data, function(response) {
          if (response.success) {
            null != this.prizeInfo.callback && this.prizeInfo.callback();
            this.onExit();
          }
        }.bind(this));
      },
      onExit: function onExit() {
        this.popUpManager.hide(PopUpType.ResultPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  RoundRectMask: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b94e83FDXNPhp5ctdQ9rv3l", "RoundRectMask");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.RoundRectMask = void 0;
    var property = cc._decorator.property;
    var ccclass = cc._decorator.ccclass;
    var executeInEditMode = cc._decorator.executeInEditMode;
    var disallowMultiple = cc._decorator.disallowMultiple;
    var requireComponent = cc._decorator.requireComponent;
    var menu = cc._decorator.menu;
    cc.macro.ENABLE_WEBGL_ANTIALIAS = true;
    var RoundRectMask = function(_super) {
      __extends(RoundRectMask, _super);
      function RoundRectMask() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this._radius = 50;
        _this.mask = null;
        return _this;
      }
      Object.defineProperty(RoundRectMask.prototype, "radius", {
        get: function() {
          return this._radius;
        },
        set: function(r) {
          this._radius = r;
          this.updateMask(r);
        },
        enumerable: false,
        configurable: true
      });
      RoundRectMask.prototype.onEnable = function() {
        this.mask = this.getComponent(cc.Mask);
        this.updateMask(this.radius);
      };
      RoundRectMask.prototype.updateMask = function(r) {
        var _radius = r >= 0 ? r : 0;
        _radius < 1 && (_radius = Math.min(this.node.width, this.node.height) * _radius);
        this.mask["radius"] = _radius;
        this.mask["onDraw"] = this.onDraw.bind(this.mask);
        this.mask["_updateGraphics"] = this._updateGraphics.bind(this.mask);
        this.mask.type = cc.Mask.Type.RECT;
      };
      RoundRectMask.prototype._updateGraphics = function() {
        var graphics = this._graphics;
        if (!graphics) return;
        this.onDraw(graphics);
      };
      RoundRectMask.prototype.onDraw = function(graphics) {
        graphics.clear(false);
        var node = this.node;
        var width = node.width;
        var height = node.height;
        var x = -width * node.anchorX;
        var y = -height * node.anchorY;
        graphics.roundRect(x, y, width, height, this.radius || 0);
        cc.game.renderType === cc.game.RENDER_TYPE_CANVAS ? graphics.stroke() : graphics.fill();
      };
      __decorate([ property() ], RoundRectMask.prototype, "_radius", void 0);
      __decorate([ property({
        tooltip: "\u5706\u89d2\u534a\u5f84:\n0-1\u4e4b\u95f4\u4e3a\u6700\u5c0f\u8fb9\u957f\u6bd4\u4f8b\u503c, \n>1\u4e3a\u5177\u4f53\u50cf\u7d20\u503c"
      }) ], RoundRectMask.prototype, "radius", null);
      RoundRectMask = __decorate([ ccclass(), executeInEditMode(true), disallowMultiple(true), requireComponent(cc.Mask), menu("\u6e32\u67d3\u7ec4\u4ef6/\u5706\u89d2\u906e\u7f69") ], RoundRectMask);
      return RoundRectMask;
    }(cc.Component);
    exports.RoundRectMask = RoundRectMask;
    cc._RF.pop();
  }, {} ],
  ScaleTween: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9b18c55SRRAy6U8Q50I06QT", "ScaleTween");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {
        this.act = cc.repeatForever(cc.sequence(cc.scaleTo(1, .36, .36), cc.delayTime(.1), cc.scaleTo(1, .46, .46)));
      },
      onEnable: function onEnable() {
        this.node.runAction(this.act);
      },
      onDisable: function onDisable() {
        this.node.stopAction(this.act);
        this.node.setScale(.46, .46);
      }
    });
    cc._RF.pop();
  }, {} ],
  ScreenData: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "123b54IzE1HBI4KpUd6nyie", "ScreenData");
    "use strict";
    cc._RF.pop();
  }, {} ],
  ScreenManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0dcbdJFxlhGHZDSBYhc80k7", "ScreenManager");
    "use strict";
    var AbstractScreen = require("AbstractScreen");
    var root = window;
    var ScreenEnum = new cc.Enum({
      SplashScreen: 0,
      SignupScreen: 1,
      LoginScreen: 2,
      LobbyScreen: 3,
      GamePlayScreen: 4,
      ForgotPasswordScreen: 5,
      None: 100
    });
    var ScreenState = new cc.Enum({
      SHOWN: 0,
      HIDDEN: 1
    });
    var ScreenManager = cc.Class({
      extends: cc.Component,
      properties: {
        screens: {
          default: [],
          type: AbstractScreen
        },
        currentScreen: {
          default: ScreenEnum.LoginScreen,
          type: ScreenEnum
        },
        screenState: {
          default: null,
          type: ScreenState,
          visible: false
        }
      },
      statics: {
        instance: null
      },
      onLoad: function onLoad() {
        root.ScreenManager = this;
        ScreenManager.instance = this;
      },
      showScreen: function showScreen(screen, optionalData, callBack) {
        this.enableNewScreen(screen, optionalData, callBack);
        K.PORTRAIT;
      },
      enableNewScreen: function enableNewScreen(screen, optionalData, callBack) {
        console.log("enableNewScreen", screen);
        this.currentScreen !== K.ScreenEnum.None ? this.hideCurrentScreen(screen, optionalData, callBack) : this.showNextScreen(screen, optionalData, callBack);
      },
      showNextScreen: function showNextScreen(screen, optionalData, callBack) {
        console.log("showNextScreen", screen);
        this.screens[screen].node.active = true;
        this.currentScreen = screen;
        this.screens[screen].onShow(optionalData);
        null !== callBack && callBack();
        this.screenState = ScreenState.SHOWN;
        return;
      },
      hideCurrentScreen: function hideCurrentScreen(nextScreen, nextOptionalData, nextCallBack) {
        console.log("hideCurrentScreen", nextScreen);
        var inst = this;
        inst.screens[inst.currentScreen].onHide();
        inst.screens[inst.currentScreen].node.active = false;
        inst.screenState = ScreenState.HIDDEN;
        inst.currentScreen = ScreenEnum.None;
        null !== nextScreen && void 0 !== nextScreen && inst.showNextScreen(nextScreen, nextOptionalData, nextCallBack);
        return;
      }
    });
    module.exports = {
      ScreenManager: ScreenManager,
      ScreenEnum: ScreenEnum
    };
    cc._RF.pop();
  }, {
    AbstractScreen: "AbstractScreen"
  } ],
  ScreenResPolicyUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9aa9b2GNCZEXLgEQa9uUP1K", "ScreenResPolicyUtil");
    "use strict";
    var resPolicy = cc.Enum({
      EXACT_FIT: 0,
      NO_BORDER: 1,
      SHOW_ALL: 2,
      FIXED_HEIGHT: 3,
      FIXED_WIDTH: 4,
      UNKNOWN: 5
    });
    cc.Class({
      extends: cc.Component,
      properties: {
        policy: {
          default: resPolicy.UNKNOWN,
          type: resPolicy
        }
      },
      onLoad: function onLoad() {
        this.setResPolicy();
      },
      setResPolicy: function setResPolicy() {
        cc.view.setResolutionPolicy(this.policy);
      }
    });
    cc._RF.pop();
  }, {} ],
  SeatPreferencesPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d33afk6i2FFqbyAQA3JThhk", "SeatPreferencesPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var CheckBoxType = require("Checkbox");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        checkBox: {
          default: [],
          type: CheckBoxType
        },
        selectedSeat: "1",
        maxPlayers: 0,
        twoSeatsView: {
          default: null,
          type: cc.Node
        },
        sixSeatsView: {
          default: null,
          type: cc.Node
        },
        nineSeatsView: {
          default: null,
          type: cc.Node
        },
        activeView: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.scheduleOnce(function() {
          this.showSelected();
        }.bind(this), .2);
      },
      onShow: function onShow(data) {
        this.maxPlayers = data;
        switch (data) {
         case 2:
          this.setView(true, false, false, this.twoSeatsView);
          break;

         case 6:
          this.setView(false, true, false, this.sixSeatsView);
          break;

         case 9:
          this.setView(false, false, true, this.nineSeatsView);
        }
        this.showSelected();
      },
      setView: function setView(two, six, nine, view) {
        this.twoSeatsView.active = two;
        this.sixSeatsView.active = six;
        this.nineSeatsView.active = nine;
        this.activeView = view;
      },
      showSelected: function showSelected() {
        var child;
        switch (this.maxPlayers) {
         case 2:
          child = this.activeView.getChildByName("Seat_" + GameManager.user.seatPreferancesTwo);
          break;

         case 6:
          child = this.activeView.getChildByName("Seat_" + GameManager.user.seatPreferancesSix);
          break;

         case 9:
          child = this.activeView.getChildByName("Seat_" + GameManager.user.seatPreferances);
        }
        if (void 0 !== child && null !== child) {
          child.getComponent(CheckBoxType).setSelection(true);
          child.getComponent(CheckBoxType).updateGroup(true);
        }
      },
      onButtonClick: function onButtonClick(data) {
        var j = data.currentTarget.parent;
        var c = j.name;
        c = c.slice(-1);
        this.selectedSeat = c;
      },
      onConfirm: function onConfirm() {
        var data = {};
        data.query = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys = {};
        switch (this.maxPlayers) {
         case 2:
          data.updateKeys["settings.seatPrefrenceTwo"] = this.selectedSeat;
          break;

         case 6:
          data.updateKeys["settings.seatPrefrenceSix"] = this.selectedSeat;
          break;

         case 9:
          data.updateKeys["settings.seatPrefrence"] = this.selectedSeat;
        }
        var inst = this;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(data) {
          if (data.success) switch (inst.maxPlayers) {
           case 2:
            GameManager.user.seatPreferancesTwo = inst.selectedSeat;
            break;

           case 6:
            GameManager.user.seatPreferancesSix = inst.selectedSeat;
            break;

           case 9:
            GameManager.user.seatPreferances = inst.selectedSeat;
          }
        }.bind(this));
        this.onCancel();
      },
      onCancel: function onCancel() {
        this.popUpManager.hide(PopUpType.SeatPreferenceDialog, function() {});
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  ServerCom: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "12387CWFjJMmJ9GzI59imIG", "ServerCom");
    "use strict";
    var root = window;
    var EventEmitter = require("EventEmitter");
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    cc.Class({
      extends: EventEmitter,
      properties: {
        tracker: {
          default: {}
        },
        launch: {
          default: null,
          type: cc.Node
        },
        loading: {
          default: null,
          type: cc.Node
        },
        reconnecting: {
          default: null,
          type: cc.Node
        },
        preLogin: {
          default: null,
          type: cc.Node
        },
        trackerCount: 0,
        cconnectCB: null,
        forceKeepLoading: false,
        inGame: false,
        sessionExpired: false,
        pomeloConnected: true,
        socketConnected: true,
        pomeloReconnecting: true,
        socketReconnecting: true,
        pomeloReconnectedCount: 0,
        socketReconnectedCount: 0,
        socketReconnected: false,
        pomeloReconnected: false,
        reconncetTimer: null,
        reconnectionDelay: 1e3,
        reconnectMaxAttempts: 3
      },
      onLoad: function onLoad() {
        root.ServerCom = this;
        !cc.sys.isNative;
      },
      httpPostRequest: function httpPostRequest(address, data, callback, error, timeout) {
        var inst = this;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 5e3;
        if (ServerCom.loading) {
          ServerCom.preLogin.active || (ServerCom.loading.active = true);
          ServerCom.loading.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        }
        xhr.onreadystatechange = function() {
          K.internetAvailable = true;
          ServerCom.loading && (ServerCom.loading.active = false);
          if (403 == xhr.status) {
            GameManager.popUpManager.hideAllPopUps();
            var param = {
              code: K.Error.SessionError,
              response: "Session error, please reload the game."
            };
            GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
            return;
          }
          if (400 == xhr.status || 401 == xhr.status || 429 == xhr.status) {
            null !== callback && void 0 !== callback && xhr.responseText && callback(JSON.parse(xhr.responseText));
            return;
          }
          if (4 == xhr.readyState && xhr.status >= 200 && xhr.status < 400) {
            var response = xhr.responseText;
            if (null !== callback && void 0 !== callback) {
              var data = JSON.parse(response);
              if (!data.success && (!data.status || "success" != data.status)) {
                var param = {
                  code: K.Error.SuccessFalseError,
                  response: data.info,
                  errorType: data.errorType || "",
                  isRetry: void 0 !== response.isRetry && null !== response.isRetry && response.isRetry
                };
                var isDisplay = void 0 === response.isDisplay || null === response.isDisplay || response.isDisplay;
                isDisplay && inst.emit("error", param);
                null !== error && void 0 !== error && error(param);
              }
              null !== callback && void 0 !== callback && callback(data);
            }
          }
        };
        xhr.onerror = function(err) {
          ServerCom.loading && (ServerCom.loading.active = false);
          ServerCom.preLogin.active = false;
          K.disconnectRequestedByPlayer = false;
          K.internetAvailable = false;
          inst.emit("error", {
            code: K.Error.ConnectionError,
            response: err
          });
          null !== error && void 0 !== error && error({
            code: K.Error.ConnectionError,
            response: err
          });
        };
        xhr.ontimeout = function(timeout) {
          ServerCom.loading && (ServerCom.loading.active = false);
          ServerCom.preLogin.active = false;
          K.disconnectRequestedByPlayer = false;
          K.internetAvailable = false;
          inst.emit("error", {
            code: K.Error.TimeOutError,
            response: "Timeout" + address
          });
          null !== error && void 0 !== error && error({
            code: K.Error.TimeOutError,
            response: "Timeout" + address
          });
        };
        xhr.open("POST", address, true);
        xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        if ("" != K.Token.access_token) {
          var token = K.Token.access_token;
          xhr.setRequestHeader("Authorization", "Bearer " + token);
        }
        xhr.send(JSON.stringify(data));
      },
      httpPatchRequest: function httpPatchRequest(address, data, callback, error, timeout) {
        var inst = this;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 5e3;
        if (ServerCom.loading) {
          ServerCom.preLogin.active || (ServerCom.loading.active = true);
          ServerCom.loading.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        }
        xhr.onreadystatechange = function() {
          K.internetAvailable = true;
          ServerCom.loading && (ServerCom.loading.active = false);
          if (403 == xhr.status) {
            GameManager.popUpManager.hideAllPopUps();
            var param = {
              code: K.Error.SessionError,
              response: "Session error, please reload the game."
            };
            GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
            return;
          }
          if (400 == xhr.status || 401 == xhr.status || 429 == xhr.status) {
            null !== callback && void 0 !== callback && xhr.responseText && callback(JSON.parse(xhr.responseText));
            return;
          }
          if (4 == xhr.readyState && xhr.status >= 200 && xhr.status < 400) {
            var response = xhr.responseText;
            if (null !== callback && void 0 !== callback) {
              var data = JSON.parse(response);
              if (!data.success && (!data.status || "success" != data.status)) {
                var param = {
                  code: K.Error.SuccessFalseError,
                  response: data.info,
                  errorType: data.errorType || "",
                  isRetry: void 0 !== response.isRetry && null !== response.isRetry && response.isRetry
                };
                var isDisplay = void 0 === response.isDisplay || null === response.isDisplay || response.isDisplay;
                isDisplay && inst.emit("error", param);
                null !== error && void 0 !== error && error(param);
              }
              null !== callback && void 0 !== callback && callback(data);
            }
          }
        };
        xhr.onerror = function(err) {
          ServerCom.loading && (ServerCom.loading.active = false);
          ServerCom.preLogin.active = false;
          K.disconnectRequestedByPlayer = false;
          K.internetAvailable = false;
          inst.emit("error", {
            code: K.Error.ConnectionError,
            response: err
          });
          null !== error && void 0 !== error && error({
            code: K.Error.ConnectionError,
            response: err
          });
        };
        xhr.ontimeout = function(timeout) {
          ServerCom.loading && (ServerCom.loading.active = false);
          ServerCom.preLogin.active = false;
          K.disconnectRequestedByPlayer = false;
          K.internetAvailable = false;
          inst.emit("error", {
            code: K.Error.TimeOutError,
            response: "Timeout" + address
          });
          null !== error && void 0 !== error && error({
            code: K.Error.TimeOutError,
            response: "Timeout" + address
          });
        };
        xhr.open("PATCH", address, true);
        xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        if ("" != K.Token.access_token) {
          var token = K.Token.access_token;
          xhr.setRequestHeader("Authorization", "Bearer " + token);
        }
        xhr.send(JSON.stringify(data));
      },
      httpGetRequest: function httpGetRequest(address, data, callback, error, timeout) {
        var inst = this;
        var xhr = new XMLHttpRequest();
        xhr.timeout = 5e3;
        if (ServerCom.loading) {
          ServerCom.preLogin.active || (ServerCom.loading.active = true);
          ServerCom.loading.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        }
        xhr.onreadystatechange = function() {
          K.internetAvailable = true;
          ServerCom.loading && (ServerCom.loading.active = false);
          if (403 == xhr.status) {
            GameManager.popUpManager.hideAllPopUps();
            var param = {
              code: K.Error.SessionError,
              response: "Session error, please reload the game."
            };
            GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
            return;
          }
          if (4 == xhr.readyState && xhr.status >= 200 && xhr.status < 400) {
            var response = xhr.responseText;
            if (null !== callback && void 0 !== callback) {
              var data = JSON.parse(response);
              if (!data.success && (!data.status || "success" != data.status)) {
                var param = {
                  code: K.Error.SuccessFalseError,
                  response: data.info,
                  errorType: data.errorType || "",
                  isRetry: void 0 !== response.isRetry && null !== response.isRetry && response.isRetry
                };
                var isDisplay = void 0 === response.isDisplay || null === response.isDisplay || response.isDisplay;
                isDisplay && inst.emit("error", param);
                null !== error && void 0 !== error && error(param);
              }
              null !== callback && void 0 !== callback && callback(data);
            }
          }
        };
        xhr.onerror = function(err) {
          ServerCom.loading && (ServerCom.loading.active = false);
          K.disconnectRequestedByPlayer = false;
          K.internetAvailable = false;
          ServerCom.preLogin.active = false;
          inst.emit("error", {
            code: K.Error.ConnectionError,
            response: err
          });
          null !== error && void 0 !== error && error({
            code: K.Error.ConnectionError,
            response: err
          });
        };
        xhr.ontimeout = function(timeout) {
          ServerCom.loading && (ServerCom.loading.active = false);
          ServerCom.preLogin.active = false;
          K.disconnectRequestedByPlayer = false;
          K.internetAvailable = false;
          inst.emit("error", {
            code: K.Error.TimeOutError,
            response: "Timeout" + address
          });
          null !== error && void 0 !== error && error({
            code: K.Error.TimeOutError,
            response: "Timeout" + address
          });
        };
        xhr.open("GET", address, true);
        xhr.setRequestHeader("Content-Type", "application/json;charset=UTF-8");
        if ("" != K.Token.access_token) {
          var token = K.Token.access_token;
          "-1" != address.indexOf("/api/auth/refresh") && (token = K.Token.refresh_token);
          xhr.setRequestHeader("Authorization", "Bearer " + token);
        }
        xhr.send();
      },
      pomeloRequest: function pomeloRequest(address, data, callback, error, timeout, showLoading, showError, callback2) {
        void 0 === showLoading && (showLoading = true);
        void 0 === showError && (showError = true);
        ServerCom.socketIORequest("common|" + address, data, callback, error, timeout, showLoading, showError, "", callback2);
        return;
        var inst;
        var dat;
        var timeoutFlag;
        var key;
        var timer;
      },
      pomeloBroadcast: function pomeloBroadcast(address, callback) {
        cc.systemEvent.on(address, function(data) {
          console.log("%c[broadcast] \n%o", "color: Green;", data);
          if (null !== callback && void 0 !== callback) {
            data.route || (data.route = address);
            callback(data);
          }
        });
      },
      updateTracker: function updateTracker(val, key, showLoading) {
        var incr = val ? 1 : -1;
        this.trackerCount = this.trackerCount + incr;
        ServerCom.loading && (this.loading.active = val && showLoading);
        if (ServerCom.forceKeepLoading) {
          ServerCom.preLogin.active || (this.loading.active = true);
          ServerCom.loading.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        }
        this.tracker[key] = val;
      },
      refreshConnectToServer: function refreshConnectToServer(serverURL, onSuccessCB, onFailCB) {
        console.log("socket.io refreshConnectToServer");
        socketIO.emit("RefreshToken", K.Token.access_token, function(response) {
          console.log(response);
        });
      },
      refreshConnectToPomelo: function refreshConnectToPomelo(onSuccessCB, onFailCB) {
        console.log("pomelo refreshConnectToServer");
        var data = {
          access_token: K.Token.access_token
        };
      },
      socketIOConnectTable: function socketIOConnectTable(host, accesstoken, channelid, cb) {
        !ServerCom.preLogin.active;
      },
      clearConnectCB: function clearConnectCB() {
        this.cconnectCB = null;
      },
      socketIOConnect: function socketIOConnect(host, cb) {
        var _this = this;
        ServerCom.preLogin.active || (this.loading.active = true);
        ServerCom.loading.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
        this.isLoading = true;
        this.cconnectCB = cb;
        var root = window;
        var socketIO = new window.SocketService();
        cc.sys.isNative ? socketIO.io(host, {
          reconnection: false,
          rejectUnauthorized: false,
          auth: {
            access_token: K.Token.access_token
          }
        }) : socketIO.io(host, {
          reconnection: false,
          pingTimeout: 500,
          pingInterval: 100,
          auth: {
            access_token: K.Token.access_token
          }
        });
        root.socketIO = socketIO;
        socketIO.socket.on("connect", function(arg) {
          console.log("connect");
          GameManager.isSocketIOConnected = true;
          ServerCom.socketConnected = true;
          clearTimeout(_this.reconncetTimer);
          ServerCom.reconnecting.active = false;
          _this.preLogin.active = false;
          _this.cconnectCB && _this.cconnectCB();
          _this.socketReconnectedCount > 0 && (_this.socketReconnected = true);
          _this.socketReconnectedCount = 0;
        });
        socketIO.socket.on("disconnect", function(reason) {
          console.log("disconnect", reason);
          GameManager.isSocketIOConnected = false;
          ServerCom.socketConnected = false;
          ServerCom.socketReconnected = false;
          K.disconnectRequestedByPlayer = false;
          if (K.disconnectMultiLogin) {
            K.disconnectMultiLogin = false;
            return;
          }
          if (GameManager.isConnected && _this.socketReconnectedCount < _this.reconnectMaxAttempts && !_this.sessionExpired) {
            _this.socketReconnectedCount += 1;
            ServerCom.reconnecting.active = true;
            ServerCom.reconnecting.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
            _this.reconncetTimer = setTimeout(function() {
              console.log("socket retry: ", this.socketReconnectedCount);
              socketIO.socket.disconnect();
              socketIO.socket.connect();
            }.bind(_this), _this.reconnectionDelay);
          } else {
            ServerCom.reconnecting.active = false;
            clearTimeout(_this.reconncetTimer);
            _this.socketReconnectedCount = 0;
            _this.preLogin.active = false;
            console.log("socket retry over");
          }
        });
        socketIO.socket.on("connect_error", function(error) {
          console.log("ios connect_error1");
          console.log("Connect error:", error);
          console.log(JSON.stringify(error));
          console.log(JSON.stringify(error, null));
          GameManager.isSocketIOConnected = false;
          ServerCom.socketConnected = false;
          _this.preLogin.active = false;
          ServerCom.loading.active = false;
          ServerCom.reconnecting.active = false;
          GameManager.isConnected = true;
          K.disconnectRequestedByPlayer = false;
          cc.sys.localStorage.setItem("auto_login_token", null);
          cc.sys.localStorage.setItem("auto_login_refresh_token", null);
          cc.sys.localStorage.setItem("auto_login_access_token_expire_at", null);
          cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", null);
          cc.sys.localStorage.setItem("auto_login_username", null);
          if ("jwt expired" == error.message || "Invalid Session" == error.message) console.log("ios connect_error2"); else {
            console.log("ios connect_error3");
            if (LoginHandler.isLoading) {
              console.log("ios connect_error4");
              GameManager.popUpManager.hide(PopUpType.NotificationPopup, function() {});
              if (K.disconnectRequestedByPlayer) K.disconnectRequestedByPlayer = false; else {
                GameManager.popUpManager.show(PopUpType.NotificationPopup, "Please check your\n Internet Connection.", function() {});
                LoginHandler.isLoading = false;
              }
            }
            console.log("ios connect_error5");
            console.log(_this.socketReconnectedCount, _this.reconnectMaxAttempts);
            ServerCom.loading.active = false;
            if (GameManager.isConnected && !GameManager.isSocketIOConnected && _this.socketReconnectedCount >= _this.reconnectMaxAttempts) {
              console.log("ios connect_error6");
              ServerCom.reconnecting.active = false;
              GameManager.isConnected = false;
              var param = {
                code: K.Error.ConnectionError,
                response: "Connection error"
              };
              GameManager.popUpManager.hideAllPopUps();
              if (K.disconnectRequestedByPlayer) {
                console.log("ios connect_error7");
                ServerCom.launch.active = false;
                K.disconnectRequestedByPlayer = false;
              } else {
                console.log("ios connect_error8");
                ServerCom.launch.active = false;
                if (ScreenManager.currentScreen === K.ScreenEnum.LoginScreen || ScreenManager.currentScreen === K.ScreenEnum.SignupScreen) console.log("ios connect_error9"); else {
                  console.log("ios connect_error10");
                  GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
                }
              }
            } else {
              console.log("ios connect_error11");
              console.log(_this.socketReconnectedCount, _this.reconnectMaxAttempts);
              console.log("GameManager.isConnected", GameManager.isConnected);
              console.log("this.sessionExpired", _this.sessionExpired);
              if (GameManager.isConnected && _this.socketReconnectedCount < _this.reconnectMaxAttempts && !_this.sessionExpired) {
                _this.socketReconnectedCount += 1;
                ServerCom.reconnecting.active = true;
                ServerCom.reconnecting.getChildByName("Label3").getComponent(cc.Label).string = GameManager.randomPick();
                console.log("ios connect_error12");
                _this.reconncetTimer = setTimeout(function() {
                  console.log("ios connect_error13");
                  console.log("socket retry: ", this.socketReconnectedCount);
                  socketIO.socket.disconnect();
                  socketIO.socket.connect();
                }.bind(_this), _this.reconnectionDelay);
              } else {
                console.log("ios connect_error14");
                ServerCom.reconnecting.active = false;
                clearTimeout(_this.reconncetTimer);
                _this.socketReconnectedCount = 0;
                _this.preLogin.active = false;
                console.log("socket retry over");
                var param = {
                  code: K.Error.ConnectionError,
                  response: "Connection error"
                };
                GameManager.popUpManager.hideAllPopUps();
                if (K.disconnectRequestedByPlayer) {
                  console.log("ios connect_error15");
                  K.disconnectRequestedByPlayer = false;
                } else {
                  console.log("ios connect_error16");
                  if (ScreenManager.currentScreen === K.ScreenEnum.LoginScreen || ScreenManager.currentScreen === K.ScreenEnum.SignupScreen) console.log("ios connect_error17"); else {
                    console.log("ios connect_error18");
                    GameManager.popUpManager.show(PopUpType.DisconnectDialog, param, function() {});
                  }
                }
              }
            }
            GameManager.isConnected || LoginHandler.isLoading || !K.disconnectRequestedByPlayer || (K.disconnectRequestedByPlayer = false);
          }
        });
        socketIO.onAny(function(event) {
          for (var _len = arguments.length, args = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) args[_key - 1] = arguments[_key];
          console.log("%c[socketIO/onAny] %s\n%o", "color: Tomato;", event, args);
          if ("commonEventResponse" == event && args[0].eventOrigin) cc.systemEvent.emit(args[0].eventOrigin, args[0].data); else if (args[0].channelId) args[0].channelId.length > 30 && -1 != args[0].channelId.indexOf("-") ? console.log("!!!!!!!! filter") : cc.systemEvent.emit(args[0].eventName, args[0].data); else if (args[0].data && args[0].data.channelId) cc.systemEvent.emit(args[0].route, args[0].data); else if (args[0].data || -1 == event.indexOf("Tournament")) if ("forcedisconnect" == event) {
            K.disconnectMultiLogin = true;
            cc.systemEvent.emit("forcedisconnect", args);
          } else "buddyResponseEvent" == event && cc.systemEvent.emit("buddyResponseEvent", args[0]); else cc.systemEvent.emit(args[0].eventName, args);
        });
      },
      socketIORequest: function socketIORequest(address, data, callback, error, timeout, showLoading, showError, showLabel, callback2) {
        void 0 === showLoading && (showLoading = true);
        void 0 === showError && (showError = true);
        void 0 === showLabel && (showLabel = "");
        var inst = this;
        console.log("socketIORequest1");
        if ("object" != typeof data) {
          var dat = {};
          dat.data = data;
          data = dat;
        }
        data || (data = {});
        if ("object" == typeof data) {
          null != data.isLoggedIn && void 0 != data.isLoggedIn || (data.isLoggedIn = true);
          if (data.isLoggedIn) {
            console.log("socketIORequest2");
            if (!GameManager.isConnected) {
              inst.emit("error", {
                code: K.Error.ConnectionError,
                response: "You are not logged in !!"
              });
              return;
            }
          }
        } else if (!GameManager.isConnected) {
          console.log("socketIORequest3");
          inst.emit("error", {
            code: K.Error.ConnectionError,
            response: "You are not logged in !!"
          });
          inst.preLogin.active = false;
          return;
        }
        if (!GameManager.isSocketIOConnected) {
          inst.emit("error", {
            code: K.Error.ConnectionError,
            response: "socket.io connection error"
          });
          console.log("socketIORequest4");
          ServerCom.loading.active = false;
          ServerCom.preLogin.active = false;
          ServerCom.launch.active = false;
          return;
        }
        var timeoutFlag = false;
        this.tracker = this.tracker || {};
        var key = data.channelId || "";
        "" == key && (key = data.tableId || "");
        key += address;
        console.log("%c[R]Request Key: %s", "color: Purple;", key);
        void 0 !== this.tracker[key] && this.tracker[key] ? console.log("false " + key) : this.updateTracker(true, key, showLoading, showLabel);
        var timer = setTimeout(function() {
          inst.tracker[key] = false;
          this.updateTracker(false, key, showLoading);
          ServerCom.loading.active = false;
          ServerCom.preLogin.active = false;
        }.bind(this), timeout || 5e3);
        delete data.isLoggedIn;
        console.log("%c[REQ] %s\n%o", "color: Purple;", address, data);
        socketIO.emit(address.split("|")[0], {
          eventName: address.split("|")[1],
          data: data
        }, function(response) {
          console.log("%c[RES] %s\n%o", "color: Purple;", address, response);
          var respKey = response.channelId || "";
          "" == respKey && (respKey = response.tableId || "");
          respKey += address;
          console.log("%c[R/CB] Key: %s", "color: Purple;", respKey);
          inst.updateTracker(false, respKey, showLoading, showLabel);
          var isDisplay = void 0 !== response.isDisplay && null !== response.isDisplay ? response.isDisplay : !response.success;
          var param = {
            code: K.Error.SuccessFalseError,
            response: response.info,
            errorType: response.errorType || "",
            channelId: response.channelId || "",
            isRetry: void 0 !== response.isRetry && null !== response.isRetry && response.isRetry
          };
          if (response.success) isDisplay && inst.emit("error", param); else {
            showError && isDisplay && inst.emit("error", param);
            null !== error && void 0 !== error && error(param);
          }
          null === callback || void 0 === callback || timeoutFlag || "resume" != response.action && "preCheck" != response.action && "sitOut" != response.action || !response.success || callback(response, data);
          null === callback2 || void 0 === callback2 || timeoutFlag || callback2(response, data);
        }).then(function(data) {
          console.log("then", data);
          clearTimeout(timer);
          null === callback || void 0 === callback || timeoutFlag || callback(data.data, data);
        });
      },
      socketIOBroadcast: function socketIOBroadcast(address, callback) {
        console.log("%c[B/ON] %s", "color: green;", address);
        socketIO.socket.on(address, function(data) {
          "Tournament:Refresh" != address && console.log("%c[B/REV] %s\n%o", "color: blue;", address, data);
          null !== callback && void 0 !== callback && callback(data);
        });
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter",
    PopUpManager: "PopUpManager"
  } ],
  SignupScreen: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "afd89nGfMhDCJ0NYtPMUInL", "SignupScreen");
    "use strict";
    var AbstractScreen = require("AbstractScreen");
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var LoginHandler = require("LoginHandler");
    var CustomEditBox = require("CustomEditBox");
    var UP = -220;
    var DOWN = -280;
    var inst;
    cc.Class({
      extends: AbstractScreen,
      properties: {
        vpRegister: {
          default: null,
          type: cc.Button
        },
        vpErrorMessage: {
          default: null,
          type: cc.Label
        },
        vpUserName: {
          default: null,
          type: cc.EditBox
        },
        vpEmailId: {
          default: null,
          type: cc.EditBox
        },
        vpPassword: {
          default: null,
          type: cc.EditBox
        },
        vpConfirmPassword: {
          default: null,
          type: cc.EditBox
        },
        vpMobileNumber: {
          default: null,
          type: cc.EditBox
        },
        vpIsAbove18: {
          default: null,
          type: cc.Toggle
        },
        countryCode: {
          default: null,
          type: cc.EditBox
        },
        flagScrollView: {
          default: null,
          type: cc.Node
        },
        flagScrollViewContent: {
          default: null,
          type: cc.Node
        },
        flagItem: {
          default: null,
          type: cc.Node
        },
        flagNode: {
          default: null,
          type: cc.Node
        },
        timerNode: {
          default: null,
          type: cc.Node
        },
        resendNode: {
          default: null,
          type: cc.Node
        },
        loginNode: {
          default: null,
          type: cc.Node
        },
        otpNode: {
          default: null,
          type: cc.Node
        },
        phone: {
          default: null,
          type: cc.EditBox
        },
        showInviteCode: {
          default: null,
          type: cc.Node
        },
        inviteCode: {
          default: null,
          type: cc.EditBox
        },
        loginHandler: {
          default: null,
          type: LoginHandler
        },
        userName: {
          default: null,
          type: cc.EditBox
        },
        email: {
          default: null,
          type: cc.EditBox
        },
        password: {
          default: null,
          type: cc.EditBox
        },
        signupDebug: {
          default: [],
          type: cc.Node
        },
        popupManager: {
          default: null,
          type: PopUpManager
        },
        lobby: {
          default: null,
          type: cc.Node
        },
        userNameEdit: {
          default: null,
          type: cc.Label
        },
        passwordEdit: {
          default: null,
          type: cc.Label
        },
        affiliateId: {
          default: null,
          type: cc.EditBox
        },
        isWindows: false,
        customEditBox: {
          default: null,
          type: CustomEditBox
        },
        sendOtpButton: {
          default: null,
          type: cc.Button
        },
        resendOtpButton: {
          default: null,
          type: cc.Button
        },
        buttonsNode: {
          default: null,
          type: cc.Node
        },
        otpBlock: {
          default: null,
          type: cc.Node
        },
        mobileNumber: {
          default: null,
          type: cc.EditBox
        },
        timer: {
          default: null,
          type: cc.Label
        },
        otp: {
          default: null,
          type: cc.EditBox
        },
        lobbySelectorNode: {
          default: null,
          type: cc.Node
        },
        lobbyScreen: {
          default: null,
          type: cc.Node
        },
        time: 0,
        timerSchedule: null,
        resendTimer: 60,
        verfyOtpClickable: true
      },
      showFlagScrollView: function showFlagScrollView() {
        this.flagScrollView.active = !this.flagScrollView.active;
        for (var i = 0; i < this.flagScrollViewContent.children.length; i++) {
          this.flagScrollViewContent.children[i].children[0].active = false;
          this.flagScrollViewContent.children[i].__data.dial_code == this.countryCode.string && (this.flagScrollViewContent.children[i].children[0].active = true);
        }
      },
      hideFlagScrollView: function hideFlagScrollView() {
        this.flagScrollView.active = false;
      },
      onEndEdit: function onEndEdit() {
        for (var i = 0; i < window.CountryCodes.length; i++) if (this.countryCode.string == window.CountryCodes[i].dial_code) {
          cc.sys.localStorage.setItem("country", window.CountryCodes[i].code);
          cc.sys.localStorage.setItem("countryCode", this.countryCode.string);
          cc.resources.load("flags/" + window.CountryCodes[i].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
            err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
          });
          return;
        }
        cc.resources.load("flags/" + window.CountryCodes[230].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
          err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
        });
        this.countryCode.string = window.CountryCodes[230].dial_code;
        cc.sys.localStorage.setItem("country", window.CountryCodes[230].code);
        cc.sys.localStorage.setItem("countryCode", window.CountryCodes[230].string);
        for (var i = 0; i < this.flagScrollViewContent.children.length; i++) {
          this.flagScrollViewContent.children[i].children[0].active = false;
          this.flagScrollViewContent.children[i].__data.dial_code == this.countryCode.string && (this.flagScrollViewContent.children[i].children[0].active = true);
        }
      },
      onSelectFlag: function onSelectFlag(event, customEventData) {
        for (var i = 0; i < this.flagScrollViewContent.children.length; i++) this.flagScrollViewContent.children[i].children[0].active = false;
        event.target.children[0].active = true;
        cc.sys.localStorage.setItem("country", customEventData.code);
        cc.resources.load("flags/" + customEventData.code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
          err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
        });
        this.countryCode.string = customEventData.dial_code;
        cc.sys.localStorage.setItem("countryCode", this.countryCode.string);
        this.hideFlagScrollView();
      },
      loadFlags: function loadFlags() {
        var _this = this;
        this.flagScrollViewContent.removeAllChildren();
        console.log(window.CountryCodes);
        if (cc.sys.localStorage.getItem("phone")) this.countryCode.string = cc.sys.localStorage.getItem("countryCode"); else {
          cc.sys.localStorage.setItem("country", window.CountryCodes[230].code);
          cc.resources.load("flags/" + window.CountryCodes[230].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
            err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
          });
          this.countryCode.string = window.CountryCodes[230].dial_code;
        }
        var _loop = function _loop() {
          var instance = cc.instantiate(_this.flagItem);
          instance.setPosition(0, 0);
          instance.active = true;
          instance.children[0].active = false;
          instance.children[2].getComponent(cc.Label).string = "+" + window.CountryCodes[i].dial_code;
          cc.resources.load("flags/" + window.CountryCodes[i].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
            err || (instance.children[1].getComponent(cc.Sprite).spriteFrame = tex);
          });
          instance.getComponent(cc.Button).clickEvents[0].customEventData = window.CountryCodes[i];
          instance.parent = _this.flagScrollViewContent;
          instance.__data = window.CountryCodes[i];
          if (cc.sys.localStorage.getItem("country") == window.CountryCodes[i].code) {
            instance.children[0].active = true;
            cc.resources.load("flags/" + window.CountryCodes[i].code.toLowerCase(), cc.SpriteFrame, function(err, tex) {
              err || (inst.flagNode.getComponent(cc.Sprite).spriteFrame = tex);
            });
          }
        };
        for (var i = 0; i < window.CountryCodes.length; i++) _loop();
      },
      onLoad: function onLoad() {
        inst = this;
        this.time = 3e5;
        this.submitEnter();
      },
      togglePassword: function togglePassword() {
        this.password.inputFlag == cc.EditBox.InputFlag.DEFAULT ? this.password.inputFlag = cc.EditBox.InputFlag.PASSWORD : this.password.inputFlag = cc.EditBox.InputFlag.DEFAULT;
      },
      onShow: function onShow() {
        this.verfyOtpClickable = true;
        this.hideInviteCodeButton();
        this.resetAll();
        GameManager.isP && (this.sendOtpButton.node.active = false);
      },
      validateOTPEditBoxInput: function validateOTPEditBoxInput() {
        this.validateNumericValue(this.otp);
      },
      NumericValue: function NumericValue(editBoxInstance) {
        if (isNaN(editBoxInstance.string)) {
          var pat = /\d+/g;
          var x = editBoxInstance.string.match(pat);
          var t = "";
          if (x) for (var count = 0; count < x.length; count++) t += x[count];
          editBoxInstance.string = t;
        } else {
          if (/\s/.test(editBoxInstance.string)) {
            var temp = editBoxInstance.string.toString().trim();
            editBoxInstance.string = temp;
          }
          var t = ".";
          if (-1 != editBoxInstance.string.indexOf(t)) {
            var x = editBoxInstance.string;
            x = x.replace(".", "");
            editBoxInstance.string = x;
          }
          var t = "e";
          if (-1 != editBoxInstance.string.indexOf(t)) {
            var x = editBoxInstance.string;
            x = x.replace("e", "");
            editBoxInstance.string = x;
          }
          var t = "-";
          if (-1 != editBoxInstance.string.indexOf(t)) {
            var x = editBoxInstance.string;
            x = x.replace("-", "");
            editBoxInstance.string = x;
          }
          var patt = editBoxInstance.string.length > 1 ? /[0-9]/ : /[1-9]/;
          if (patt.test(editBoxInstance.string)) ; else {
            var x = editBoxInstance.string;
            x = x.replace("0", "");
            editBoxInstance.string = x;
          }
        }
      },
      validateMobileEditBoXInput: function validateMobileEditBoXInput() {
        this.validateNumericValue(this.mobileNumber);
      },
      submitEnter: function submitEnter() {
        return;
        var enterKeyRef;
      },
      resetAll: function resetAll() {
        this.vpRegister.interactable = false;
        this.vpUserName.string = "";
        this.vpPassword.string = "";
        this.vpConfirmPassword.string = "";
        this.vpEmailId.string = "";
        this.vpMobileNumber.string = "";
        this.vpIsAbove18.isChecked = false;
      },
      onCheck: function onCheck() {
        this.vpRegister.interactable = false;
        if ("" === this.vpUserName.string) return;
        if ("" === this.vpPassword.string) return;
        if ("" === this.vpConfirmPassword.string) return;
        if ("" === this.vpEmailId.string) return;
        if ("" === this.vpMobileNumber.string) return;
        if (!this.vpIsAbove18.isChecked) return;
        this.vpRegister.interactable = true;
      },
      onHide: function onHide() {
        this.password.string = "";
        this.email.string = "";
        this.userName.string = "";
        (GameManager.isMobile || cc.sys.os === cc.sys.OS_WINDOWS && !cc.sys.isBrowser) && this.manageOtpView(false);
        this.hideInviteCodeButton();
      },
      onRegister: function onRegister() {
        this.vpErrorMessage.string = "";
        this.vpUserName.node.getChildByName("red").active = false;
        this.vpPassword.node.getChildByName("red").active = false;
        this.vpConfirmPassword.node.getChildByName("red").active = false;
        this.vpEmailId.node.getChildByName("red").active = false;
        this.vpMobileNumber.node.getChildByName("red").active = false;
        if (this.vpPassword.string != this.vpConfirmPassword.string) {
          this.vpErrorMessage.node.active = true;
          this.vpErrorMessage.string = "Password unmatched";
          this.vpPassword.node.getChildByName("red").active = true;
          this.vpConfirmPassword.node.getChildByName("red").active = true;
          return;
        }
        var regex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
        if (!regex.test(this.vpEmailId.string)) {
          this.vpErrorMessage.node.active = true;
          this.vpErrorMessage.string = "Invalid email address";
          this.vpEmailId.node.getChildByName("red").active = true;
          return;
        }
        inst.loginHandler.vpRegister(this.vpUserName.string, this.vpEmailId.string, this.vpPassword.string, this.vpConfirmPassword.string, "+976" + this.vpMobileNumber.string, this.vpIsAbove18.isChecked, function(data) {
          if (data.success && "fail" != data.status) {
            cc.sys.localStorage.setItem("vpUserName", inst.vpUserName.string);
            cc.sys.localStorage.setItem("vpPassword", inst.vpPassword.string);
            K.Token.access_token = data.access_token;
            K.Token.refresh_token = data.refresh_token;
            K.Token.access_token_expire_at = data.access_token_expire_at;
            K.Token.refresh_token_expire_at = data.refresh_token_expire_at;
            inst.vpErrorMessage.string = "";
            inst.node.active = false;
            ServerCom.socketIOConnect(K.ServerAddress.gameServer + ":" + K.ServerAddress.gamePort, function() {
              if (!ServerCom.socketConnected) return;
              GameManager.setUserData(data.user);
              setTimeout(function() {
                inst.loginNode.getComponent("LoginScreen").onSuccessfullLogin(inst.loginNode.getComponent("LoginScreen"));
              }, 100);
            });
          } else {
            inst.vpErrorMessage.node.active = true;
            data.message ? inst.vpErrorMessage.string = data.message : inst.vpErrorMessage.string = data.error[0].message;
            -1 != inst.vpErrorMessage.string.indexOf("email") && (inst.vpEmailId.node.getChildByName("red").active = true);
            -1 != inst.vpErrorMessage.string.indexOf("Username") && (inst.vpUserName.node.getChildByName("red").active = true);
            if (-1 != inst.vpErrorMessage.string.indexOf("Password")) {
              inst.vpPassword.node.getChildByName("red").active = true;
              inst.vpConfirmPassword.node.getChildByName("red").active = true;
            }
            -1 != inst.vpErrorMessage.string.indexOf("Mobile") && (inst.vpMobileNumber.node.getChildByName("red").active = true);
          }
        });
      },
      updateResend: function updateResend(dt) {
        this.resendTimer -= 1;
        if (0 == this.resendTimer) {
          this.unschedule(this.updateResend);
          this.timerNode.active = false;
          this.resendNode.active = true;
        } else {
          this.timerNode.active = true;
          this.timerNode.getChildByName("timer2").getComponent(cc.Label).string = this.resendTimer + "s";
        }
      },
      onResend: function onResend() {
        var inst = this;
        inst.loginHandler.sendOtp(this.phone.string, this.userName.string, this.inviteCode.string, function(data) {
          console.log("loginSTD", data);
          if (!data) return;
          cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).active = false;
          inst.preLogin.active = false;
          ServerCom.loading.active = false;
          if (data.success) {
            cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).active = true;
            cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).getComponent(cc.Label).string = "OTP sent successfully: " + data.data;
            inst.otpNode.active = true;
            inst.resendNode.active = false;
            inst.resendTimer = 61;
            inst.schedule(inst.updateResend, 1);
          } else {
            inst.signupDebug[2].getComponent(cc.Label).string = data.message;
            inst.signupDebug[2].active = true;
          }
        });
      },
      onCloseOtp: function onCloseOtp() {
        cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", this.otpNode).active = false;
        this.unschedule(this.updateResend);
        this.resendNode.active = false;
        this.otpNode.active = false;
        this.otp.string = "";
      },
      onVerfyOtp: function onVerfyOtp() {
        var _this2 = this;
        if (!this.verfyOtpClickable) return;
        this.verfyOtpClickable = false;
        setTimeout(function() {
          _this2.verfyOtpClickable = true;
        }, 2e3);
        var inst = this;
        cc.find("InvisibleWhenBuilt/Inputs/ErrorMessage1", inst.otpNode).active = false;
        this.loginHandler.verifyOtp(this.otp.string, function(response) {
          console.log("otp", response);
          if ("success" == response.status) {
            inst.otpNode.active = false;
            cc.sys.localStorage.setItem("countryCode", inst.countryCode.string);
            cc.sys.localStorage.setItem("phone", inst.phone.string);
            K.Token.access_token = response.access_token;
            K.Token.refresh_token = response.refresh_token;
            K.Token.access_token_expire_at = response.access_token_expire_at;
            K.Token.refresh_token_expire_at = response.refresh_token_expire_at;
            ServerCom.socketIOConnect(K.ServerAddress.gameServer + ":" + K.ServerAddress.gamePort, function() {
              if (!ServerCom.socketConnected) return;
              inst.otp.string = "";
              inst.unschedule(inst.updateResend);
              inst.timerNode.getChildByName("timer2").getComponent(cc.Label).string = "";
              GameManager.setUserData(response.user);
              setTimeout(function() {
                inst.loginNode.getComponent("LoginScreen").onSuccessfullLogin(inst.loginNode.getComponent("LoginScreen"));
              }, 100);
            });
          } else inst.verfyOtpClickable = true;
        });
      },
      ConnectToGameSever: function ConnectToGameSever(host, port, inst) {
        inst.loginHandler.startPomelo(host, port, function() {
          inst.onSuccessfullLogin(inst);
        });
      },
      onSuccessfullLogin: function onSuccessfullLogin(inst) {
        var _this3 = this;
        GameManager.isConnected = false;
        this.lobbySelectorNode.active = true;
        var mainLobbyComp = this.lobbySelectorNode.getComponent("MainLobby");
        cc.sys.localStorage.setItem("auto_login_token", K.Token.access_token);
        cc.sys.localStorage.setItem("auto_login_refresh_token", K.Token.refresh_token);
        cc.sys.localStorage.setItem("auto_login_access_token_expire_at", K.Token.access_token_expire_at);
        cc.sys.localStorage.setItem("auto_login_refresh_token_expire_at", K.Token.refresh_token_expire_at);
        cc.sys.localStorage.setItem("auto_login_username", GameManager.user.userName);
        mainLobbyComp.setOnClickCallback("POKER", function() {
          _this3.lobbySelectorNode.active = false;
          inst.loginHandler.checkForMultiClient(function(response) {
            console.log("MULTI CLIENT RESPONSE ", response);
            if (response.success) {
              GameManager.isConnected = true;
              GameManager.reset();
              !!response.joinChannels && response.joinChannels.length > 0 ? GameManager.scheduleOnce(function() {
                var joinCount = response.joinChannels.length;
                response.joinChannels.forEach(function(element, index) {
                  var newData = new JoinData(element);
                  if (!newData.channelId) GameManager.join(newData.tableId, K.PomeloAPI.joinChannel, newData, null, null, index + 1, joinCount); else {
                    TableHandler.joinTableList.push(newData.channelId);
                    newData.tableId = "";
                    GameManager.join(newData.channelId, K.PomeloAPI.joinChannel, newData, null, null, index + 1, joinCount);
                  }
                }, this);
              }, .1) : ScreenManager.showScreen(K.ScreenEnum.LobbyScreen, 10, function() {}, false);
            } else {
              inst.verfyOtpClickable = true;
              K.disconnectRequestedByPlayer = true;
              pomelo.disconnect();
              ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}, false);
            }
          });
        });
        mainLobbyComp.setOnClickCallback("BINGO", function() {
          _this3.lobbySelectorNode.active = false;
          console.log("Successfully login into BINGO!");
        });
      },
      onAlreadyRegistered: function onAlreadyRegistered() {
        this.resetAll();
        ScreenManager.showScreen(K.ScreenEnum.LoginScreen, 10, function() {}, false);
      },
      manageOtpView: function manageOtpView(flag) {
        this.sendOtpButton.node.active = !flag;
        this.otpBlock.active = flag;
      },
      sendOtp: function sendOtp() {
        if ("" == this.mobileNumber.string) {
          this.mobileNumber.string = "";
          this.mobileNumber.placeholder = "     Enter your mobile number";
          this.signupDebug[4].getComponent(cc.Label).string = LocalizedManager.t("TXT_ENTER_10_NUMBER");
          this.signupDebug[4].active = true;
        } else if (this.mobileNumber.string.length < 10) {
          this.signupDebug[4].getComponent(cc.Label).string = LocalizedManager.t("TXT_ENTER_10_NUMBER");
          this.signupDebug[4].active = true;
        } else this.loginHandler.sendOTP(function(response) {
          if (response.success) {
            this.otpStartTimer = new Date();
            this.manageOtpView(true);
          }
        }.bind(this), this.mobileNumber.string);
      },
      startOtpTimer: function startOtpTimer() {
        null == this.otpTimeRef || this.clearOtpTimer(this.otpTimeRef);
        this.otpTimeRef = setInterval(function() {
          var laps = new Date() - this.otpStartTimer;
          if (this.time - laps <= 0) {
            this.time = 0;
            this.clearOtpTimer(this.otpTimeRef);
            this.manageOtpView(false);
          }
        }.bind(this), 1e3);
      },
      clearOtpTimer: function clearOtpTimer(timeRef) {
        clearInterval(timeRef);
        timeRef = null;
        this.time = 3e5;
      },
      validateRegisterUserNamePattern: function validateRegisterUserNamePattern(nodeData, custom) {},
      validateRegisterPasswordPattern: function validateRegisterPasswordPattern() {},
      validateRegisterEmailID_Pattern: function validateRegisterEmailID_Pattern() {
        console.log("VALIDATING EMAIL", this.email.string);
        var data = this.email.string;
        if ("" == data) {
          this.signupDebug[2].getComponent(cc.Label).string = LocalizedManager.t("TXT_PLS_ENTER_EMAIL_ID");
          this.signupDebug[2].active = true;
          return;
        }
        if (!data.match(/[^A-Za-z0-9@_.]/) && (-1 === data.indexOf("@", 1) || -1 === data.indexOf(".", 2))) {
          this.signupDebug[2].getComponent(cc.Label).string = LocalizedManager.t("TXT_INVALID_EMAIL");
          this.signupDebug[2].active = true;
        }
      },
      validateRegisterMobile_Pattern: function validateRegisterMobile_Pattern() {},
      showInviteCodeButton: function showInviteCodeButton() {
        this.showInviteCode.active = false;
        this.inviteCode.node.parent.active = true;
      },
      hideInviteCodeButton: function hideInviteCodeButton() {
        this.showInviteCode.active = true;
        this.inviteCode.node.parent.active = false;
      }
    });
    cc._RF.pop();
  }, {
    AbstractScreen: "AbstractScreen",
    CustomEditBox: "CustomEditBox",
    LoginHandler: "LoginHandler",
    PopUpManager: "PopUpManager"
  } ],
  SitNGoModelHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2e62aG7nelLOLKPM3eVhO6U", "SitNGoModelHandler");
    "use strict";
    var PopUpType = require("PopUpManager").PopUpType;
    var GameData = require("ResponseTypes").GameData;
    function SitNGoModelHandler() {}
    SitNGoModelHandler.prototype.setSitNGoModel = function(pokerModel) {
      pokerModel.playerElimination = function(data) {
        pokerModel.emit(K.PokerEvents.onSitnGoElimination, data);
      };
      pokerModel.sitHere = function(index, buyIn, callback) {};
      pokerModel.playerNewChannel = function(data) {
        for (var index = 0; index < pokerModel.gameModel.activePokerModels.length; index++) if (pokerModel === pokerModel.gameModel.activePokerModels[index]) {
          pokerModel.gameModel.activePokerModels.splice(index, 1);
          break;
        }
        var tableId = pokerModel.roomConfig.tableId;
        pokerModel.node.destroy();
        GameManager.scheduleOnce(function() {
          GameManager.gameModel.emit(K.GameEvents.OnTableClosed);
          var channel = {};
          channel.channelId = data.newChannelId;
          channel.channelType = "TOURNAMENT";
          channel.tableId = "";
          channel.isRequested = true;
          GameManager.join(channel.channelId, K.PomeloAPI.joinChannel, channel);
        }.bind(this), .3);
      };
      pokerModel.onBreakTime = function(data) {
        pokerModel.emit(K.PokerEvents.onBreakTime, data);
      };
      pokerModel.onBreakTimeStart = function(data) {
        pokerModel.emit(K.PokerEvents.onBreakTimeStart, data);
      };
      pokerModel.onRebuyStatus = function(data) {
        pokerModel.emit(K.PokerEvents.onRebuyStatus, data);
      };
      pokerModel.onBlindsChanged = function(response) {
        pokerModel.gameData.tableDetails.blindTimeRemaining = response.blindTimeRemaining;
        pokerModel.roomConfig.nextSmallBlind = response.nextSmallBlind;
        pokerModel.roomConfig.nextBigBlind = response.nextBigBlind;
        pokerModel.roomConfig.nextAnte = response.nextAnte;
        pokerModel.emit(K.PokerEvents.onBlindsChanged);
      };
      pokerModel.startBlindChangeTimer = function() {
        pokerModel.timerRef = setInterval(function() {
          pokerModel.gameData.tableDetails.blindTimeRemaining -= 1e3;
          if (pokerModel.gameData.tableDetails && pokerModel.gameData.tableDetails.blindTimeRemaining <= 0) {
            pokerModel.gameData.tableDetails.blindTimeRemaining = 0;
            pokerModel.emit(K.PokerEvents.onBlindsChanged);
            clearInterval(pokerModel.timerRef);
          }
          pokerModel.emit(K.PokerEvents.onBlindsChanged);
        }.bind(pokerModel), 1e3);
      };
      pokerModel.stopBlindChangeTimer = function() {
        pokerModel.emit(K.PokerEvents.onBlindsChangeStopped);
      };
      pokerModel.onAddOnTimeStarts = function(response) {
        this.gameData.tableDetails.isAddon = true;
        pokerModel.emit(K.PokerEvents.onAddonChanged);
      };
      pokerModel.onAddOnTimeEnds = function(response) {
        this.gameData.tableDetails.isAddon = false;
        pokerModel.emit(K.PokerEvents.onAddonChanged);
      };
      pokerModel.onAddonClick = function() {
        if (!pokerPresenter.model.tableDetails.isAddon) return;
        var requestObject = {};
        requestObject.channelId = pokerModel.gameData.channelId;
        requestObject.playerId = pokerModel.gameData.playerId;
        requestObject.tournamentId = pokerModel.roomConfig.tableId;
        ServerCom.pomeloRequest(K.PomeloAPI.addon, requestObject, function(responseObject) {
          responseObject.success && pokerPresenter.onPlayerCoins(pokerModel.getPlayerById(pokerModel.gameData.playerId));
        }, null, false, false);
      };
      pokerModel.onDoubleRebuyClick = function() {
        var requestObject = {};
        requestObject.tournamentId = pokerModel.gameData.roomConfig.tableId;
        requestObject.playerId = pokerModel.gameData.playerId.requestObject.gameVersionCount;
        requestObject.channelId = pokerModel.gameData.channelId;
        ServerCom.pomeloRequest(K.PomeloAPI.doubleRebuy, requestObject, function(responseObject) {
          responseObject.success && pokerPresenter.onPlayerCoins(pokerModel.getPlayerById(pokerModel.gameData.playerId));
        }, null, false, false);
      };
      pokerModel.onRebuyClick = function() {
        var requestObject = {};
        requestObject.tournamentId = pokerModel.gameData.roomConfig.tableId;
        requestObject.playerId = pokerModel.gameData.playerId.requestObject.gameVersionCount;
        requestObject.channelId = pokerModel.gameData.channelId;
        ServerCom.pomeloRequest(K.PomeloAPI.rebuyInTournament, requestObject, function(responseObject) {
          responseObject.success && pokerPresenter.onPlayerCoins(pokerModel.getPlayerById(pokerModel.gameData.playerId));
        }, null, false, false);
      };
      pokerModel.onBankrupt = function(response) {};
      pokerModel.onLeaveTournament = function() {};
      pokerModel.onInitializePoker = function() {
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.playerNewChannel, pokerModel.playerNewChannel.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.playerElimination, pokerModel.playerElimination.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.breakTime, pokerModel.onBreakTime.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.breakTimerStart, pokerModel.onBreakTimeStart.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.rebuyStatus, pokerModel.onRebuyStatus.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.onBankrupt, pokerModel.onBankrupt.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.updateBlind, pokerModel.onBlindsChanged.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.addonTimeStarts, pokerModel.onAddOnTimeStarts.bind(pokerModel));
        pokerModel.gameModel.registerBroadcastCallbacks(pokerModel.gameData.channelId, K.BroadcastRoute.addonTimeEnds, pokerModel.onAddOnTimeEnds.bind(pokerModel));
        pokerModel.roomConfig.tournamentType == pokerModel.K.TournamentType.Normal && pokerModel.emit(K.PokerEvents.onBlindsChanged);
      };
      pokerModel.setAddOnCheckbox = function(selection, callback) {
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.channelId = pokerModel.gameData.channelId;
        data.isAutoAddOn = !selection;
        ServerCom.pomeloRequest(pokerModel.K.PomeloAPI.updateAutoAddon, data, function(response) {
          response.success && callback && callback(response);
        }.bind(this), null, 5e3, false, false);
      };
      pokerModel.setRebuyCheckBox = function(selection, callback) {
        var data = {};
        data.playerId = GameManager.user.playerId;
        data.channelId = pokerModel.gameData.channelId;
        data.isAutoRebuy = !selection;
        ServerCom.pomeloRequest(pokerModel.K.PomeloAPI.updateAutoRebuy, data, function(response) {
          callback && callback(response);
        }.bind(this), null, 5e3, false, false);
      };
    };
    SitNGoModelHandler.prototype.setSitNGoPresenter = function(pokerPresenter) {
      pokerPresenter.onSitnGoElimination = function(data) {
        if (data.playerId = GameManager.user.playerId) {
          data.pokerPresenter = pokerPresenter;
          setTimeout(function() {
            !pokerPresenter || pokerPresenter.popUpManager.show(PopUpType.SitNGoResultPopup, data, function() {});
          }, 2e3);
        }
      };
      pokerPresenter.tempOnLoad = function() {
        pokerPresenter.model.on(K.PokerEvents.onSitnGoElimination, pokerPresenter.onSitnGoElimination.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onBreakTime, pokerPresenter.onBreakTime.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onBreakTimeStart, pokerPresenter.onBreakTimeStart.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onRebuyStatus, pokerPresenter.onRebuyStatus.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onBlindsChanged, pokerPresenter.notifyBlindsChanged.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onBlindsChangeStopped, pokerPresenter.stopBlindsChangeNotification.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onAddonChanged, pokerPresenter.onAddonChanged.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onAddOnCheckBox, pokerPresenter.addOnCheckCB.bind(pokerPresenter));
        pokerPresenter.model.on(K.PokerEvents.onRebuyCheckBox, pokerPresenter.reBuyCheckCB.bind(pokerPresenter));
        this.autoAddOnCheckBox.registerCallback(this.onAddOnCheckBox.bind(this));
        this.autoBuyInCheckBox.registerCallback(this.onRebuyCheckBox.bind(this));
      };
      pokerPresenter.tempOnJoinSuccess = function() {
        if (this.model.roomConfig.tournamentType == this.model.K.TournamentType.Normal) {
          this.setCheckBoxValues();
          this.rebuyBtn.active = this.model.gameData.tableDetails.isRebuy && !this.model.gameData.tableDetails.isAutoAddOn;
        }
        this.tournamentAlreadyOver();
        if (!!this.model.gameData.tableDetails.isOnBreak) {
          var breakEnds = this.model.gameData.tableDetails.breakEnds;
          this.startBreakTimer(void 0 !== breakEnds && breakEnds);
        }
      };
      pokerPresenter.setCheckBoxValues = function() {
        this.sitOutNextBBCheckBox.node.parent.active = false;
        this.autoAddOnCheckBox.node.parent.active = true;
        this.autoBuyInCheckBox.node.parent.active = true;
        this.autoAddOnCheckBox.setSelection(this.model.gameData.tableDetails.isAutoAddOn);
        this.autoBuyInCheckBox.setSelection(this.model.gameData.tableDetails.isAutoRebuy);
      }, pokerPresenter.resetView = function() {
        pokerPresenter.indexOffset = 0;
        for (var index = 0; index < pokerPresenter.playerHand.length; index++) pokerPresenter.playerHand[index].resetSeat();
        pokerPresenter.allocateSeat();
        pokerPresenter.playerHand.forEach(function(element) {
          element.seatState === K.SeatState.Free && element.disableView();
        }, pokerPresenter);
      };
      pokerPresenter.onBreakTime = function(data) {
        var newData = {};
        newData.info = "Break Time Starts...";
        pokerPresenter.popUpManager.show(PopUpType.PlayerInfoPopup, newData, function() {});
      };
      pokerPresenter.onBreakTimeStart = function(data) {
        pokerPresenter.startBreakTimer(data.breakTime);
      };
      pokerPresenter.onRebuyStatus = function(data) {
        pokerPresenter.rebuyBtn.active = data.status;
      };
      pokerPresenter.startBreakTimer = function(timer) {
        this.tournamentInfo.parent.active = true;
        this.tournamentInfo.active = true;
        var label = this.tournamentInfo.getComponent(cc.Label);
        timer || (label.string = "This table is on Break");
        var timeLeft;
        timeLeft = timer > 1e3 ? parseInt(parseInt(timer) / 1e3) : 60 * parseInt(timer);
        this.timerSchedule = setInterval(function() {
          label.string = "Break Time Starts...\nTime Left : " + parseInt(timeLeft / 60) + ":" + timeLeft % 60;
          timeLeft--;
          if (timeLeft <= 0) {
            clearInterval(this.timerSchedule.bind(this));
            this.tournamentInfo.parent.active = false;
          }
        }.bind(this), 1e3);
      };
      pokerPresenter.playerLeft = function(data) {
        if (null === data) return;
        if (data[0].playerId === pokerPresenter.model.gameData.playerId) {
          this.handleSitOutBtns(true);
          pokerPresenter.resetView();
        }
        pokerPresenter.playerHand[pokerPresenter.getRotatedSeatIndex(data[0].seatIndex)].disableView();
        this.scheduleOnce(function() {
          if (0 == pokerPresenter.model.gameData.tableDetails.players.length) {
            var data = {};
            data.pokerPresenter = pokerPresenter;
            pokerPresenter.popUpManager.show(PopUpType.SitNGoResultPopup, data, function() {});
          }
        }, 5);
      };
      pokerPresenter.notifyBlindsChanged = function() {
        pokerPresenter.notificationBox.active = true;
        var str;
        if (pokerPresenter.model.gameData.tableDetails.nextSmallBlind <= 0) pokerPresenter.stopBlindsChangeNotification(); else {
          str = "";
          str += "Next Blinds " + pokerPresenter.model.roomConfig.nextSmallBlind + "/" + pokerPresenter.model.roomConfig.nextBigBlind + "Next Ante " + pokerPresenter.model.roomConfig.nextAnte;
        }
        pokerPresenter.notificationBox.getChildByName("Message").getComponent(cc.Label).string = str;
      };
      pokerPresenter.stopBlindsChangeNotification = function() {
        pokerPresenter.notificationBox.active = false;
      };
      pokerPresenter.onAddonChanged = function() {
        this.addonBtn.active = this.model.gameData.tableDetails.isAddon;
      };
      pokerPresenter.onAddOnCheckBox = function() {
        var selection = pokerPresenter.autoAddOnCheckBox.getSelection();
        this.model.gameData.isAutoRebuy = selection;
        this.model.setAddOnCheckbox(selection, function(response) {
          response.success || (this.model.gameData.isAutoRebuy = !selection);
          this.addOnCheckCB.bind(this);
        }.bind(this));
      };
      pokerPresenter.addOnCheckCB = function() {
        this.autoAddOnCheckBox.setSelection(this.model.gameData.isAutoRebuy);
      };
      pokerPresenter.onRebuyCheckBox = function() {
        var selection = pokerPresenter.autoBuyInCheckBox.getSelection();
        this.model.setRebuyCheckBox(selection, function(response) {
          response.success || (this.model.gameData.isAutoRebuy = !selection);
          this.reBuyCheckCB.bind(this);
        }.bind(this));
      };
      pokerPresenter.reBuyCheckCB = function(response) {
        pokerPresenter.autoBuyInCheckBox.setSelection(this.model.gameData.isAutoRebuy);
      };
    };
    module.exports = {
      SitNGoModelHandler: SitNGoModelHandler
    };
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager",
    ResponseTypes: "ResponseTypes"
  } ],
  SitNGoResultPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ac108oHszRFFq0/sDBN49HJ", "SitNGoResultPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        infoLbl: {
          default: null,
          type: cc.Label
        },
        prizeData: null,
        spectator: false,
        dataA: null,
        messageLbl: {
          default: null,
          type: cc.Label
        },
        headingLbl: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        if (null != data) {
          if (!data.rank) {
            this.spectator = true;
            this.infoLbl.string = "Game Over";
            this.messageLbl.string = "";
          } else {
            this.infoLbl.string = "Rank - " + data.rank + "\n Chips earned - " + data.chipsWon;
            data.chipsWon < 1 ? this.messageLbl.string = "Better Luck Next Time" : this.messageLbl.string = "Congratulations!!!";
          }
          this.dataA = data.pokerPresenter;
          this.prizeData = data;
          this.headingLbl.string = this.dataA.model.roomConfig.channelName + " Results";
        }
      },
      onClickEnter: function onClickEnter() {
        this.onExit();
      },
      onExit: function onExit() {
        var prizedata = {
          playerId: this.prizeData.playerId,
          gameVersionCount: this.prizeData.gameVersionCount,
          tournamentId: this.prizeData.tournamentId
        };
        var inst = this;
        this.spectator ? inst.exitGame(inst) : ServerCom.pomeloRequest(K.PomeloAPI.collectPrize, prizedata, function(response) {
          if (response.success) if (response.isGameRunning) {
            inst.dataA.leaveTable();
            inst.popUpManager.hide(PopUpType.SitNGoResultPopup, function() {});
          } else inst.exitGame(inst);
        });
      },
      exitGame: function exitGame(inst) {
        for (var index = 0; index < GameManager.gameModel.activePokerModels.length; index++) if (this.dataA.model === GameManager.gameModel.activePokerModels[index]) {
          GameManager.gameModel.activePokerModels.splice(index, 1);
          break;
        }
        this.dataA.model.node.destroy();
        GameManager.scheduleOnce(function() {
          GameManager.gameModel.emit(K.GameEvents.OnTableClosed);
        }, .3);
        inst.popUpManager.hide(PopUpType.SitNGoResultPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  SitTablePresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "eba16ewWmxPAYyckqbf4JcJ", "SitTablePresenter");
    "use strict";
    var JoinData = require("PostTypes").JoinChannel;
    var Table = require("Table");
    var TableContent = require("TableContent");
    var Checkbox = require("Checkbox");
    var DropDownType = require("DropDown");
    var PopUpType = require("PopUpManager").PopUpType;
    var timerID = null;
    cc.Class({
      extends: Table,
      properties: {
        registerBtn: {
          default: null,
          type: cc.Node
        },
        deregisterBtn: {
          default: null,
          type: cc.Node
        },
        joinBtn: {
          default: null,
          type: cc.Node
        },
        gameTypeDropdown: {
          default: null,
          type: DropDownType
        },
        stakesDropdown: {
          default: null,
          type: DropDownType
        },
        maxPlayersDropdown: {
          default: null,
          type: DropDownType
        },
        hideFullTablesCB: {
          default: null,
          type: Checkbox
        },
        sideTableInfoPrefab: {
          default: null,
          type: cc.Prefab
        },
        tournamentPlayersInfo: [],
        tableInfoHolder: {
          default: null,
          type: cc.Node
        },
        warningLbl: {
          default: null,
          type: cc.Label
        },
        channelNameLbl: {
          default: null,
          type: cc.Label
        },
        PrizePoolLbl: {
          default: null,
          type: cc.Label
        },
        favTableCB: {
          default: null,
          type: Checkbox
        },
        favPrimaryCB: {
          default: null,
          type: Checkbox
        },
        sideTableInfo: {
          default: null,
          type: cc.Node
        }
      },
      onEnable: function onEnable() {
        this._super();
        this.switchButtons(false);
        !GameManager.isMobile && this.DropDownData && this.initDropDowns(this.DropDownData.sitNGo);
      },
      addTable: function addTable(data) {
        data.updated.channelType == K.ChannelType.Tournament && data.updated.tournamentType == K.TournamentType.SitNGo && this._super(data);
      },
      filterByTournamentType: function filterByTournamentType(content, pass, checkSitNGo) {
        void 0 === pass && (pass = true);
        void 0 === checkSitNGo && (checkSitNGo = true);
        return this._super(content, false);
      },
      tableContentClick: function tableContentClick() {
        var inst = this;
        this.handler.checkRegistration(TableContent.prevSelection.channelData, function(response) {
          if (response.success) {
            inst.switchButtons(response.result.isRegistered, response.result.tournamentState, response.result.isEliminated);
            null !== TableContent.prevSelection && (inst.tempSelection = inst.contentPool.indexOf(TableContent.prevSelection.node));
          }
        }, function(response) {});
        this.refreshSideTable();
      },
      setSideTableData: function setSideTableData(response) {
        GameManager.removeAllChildren(this.tableInfoHolder);
        var data = TableContent.prevSelection.channelData;
        var buyIn = data.entryfees + data.housefees + data.bountyfees;
        var prizePool = data.maxPlayersForTournament * data.entryfees;
        TableContent.prevSelection.channelData.buyIn = buyIn;
        TableContent.prevSelection.channelData.prizePool = prizePool;
        this.PrizePoolLbl.string = prizePool;
        this.channelNameLbl.string = data.channelName;
        if (response.success && !!response.result.ranks) {
          this.currentSideTableData = response;
          null != TableContent.prevSelection && (TableContent.prevSelection.channelData.playersInfo = response.result.ranks);
          for (var i = 0; i < response.result.ranks.length; i++) {
            var obj = cc.instantiate(this.sideTableInfoPrefab);
            this.tableInfoHolder.addChild(obj);
            if (TableContent.prevSelection.channelData.state == K.SitNGoState.REGISTER) var playerInfo = [ response.result.ranks[i].userName, "", "" ]; else {
              var rank = !response.result.ranks[i].rank ? "" : response.result.ranks[i].rank;
              var playerInfo = [ response.result.ranks[i].userName, rank, response.result.ranks[i].chipsWon ];
            }
            obj.getComponent("TableContent").setContentText(playerInfo);
            response.result.ranks[i].eliminated && (obj.getChildByName("Bg").color = new cc.Color(182, 181, 163));
          }
        }
      },
      onSideTableUpdate: function onSideTableUpdate(data) {
        if (null == TableContent.prevSelection || 0 == this.contentPool.length) return;
        if (data.tournamentId && TableContent.prevSelection.channelData._id == data.tournamentId) {
          this.currentSideTableData = {};
          this.currentSideTableData.success = true;
          this.currentSideTableData.result = data.updated;
          this.refreshSideTable(false);
        }
      },
      OnRegisterTournament: function OnRegisterTournament() {
        if (null === TableContent.prevSelection) return;
        var inst = this;
        this.handler.registerTournament(TableContent.prevSelection.channelData, function(response) {
          if (response.success) {
            inst.switchButtons(true);
            return false;
          }
          return "user already registered in this tournament" === response.info;
        }, function(response) {});
      },
      OnDeRegisterTournament: function OnDeRegisterTournament() {
        if (null === TableContent.prevSelection) return;
        var inst = this;
        this.handler.deRegisterTournament(TableContent.prevSelection.channelData, function(response) {
          response.success && inst.switchButtons(false);
        }, function(response) {});
      },
      onTournamentLobbyInfo: function onTournamentLobbyInfo() {
        if (null === TableContent.prevSelection) return;
        var inst = this;
        this.handler.tournamentLobbyInfo(TableContent.prevSelection.channelData, function(response) {
          !response.tableData || this.popUpManager.show(PopUpType.TournamentLobbyInfoPopup, response, function() {});
        }.bind(this), function(response) {
          this.warningLbl.node.active = true;
          setTimeout(function() {
            this.warningLbl.node.active = false;
          }.bind(this), 2e3);
        }.bind(this));
      },
      onJoinTournament: function onJoinTournament() {
        if (null === TableContent.prevSelection) return;
        var data = new JoinData(TableContent.prevSelection.channelData);
        data.tableId = TableContent.prevSelection.channelData._id;
        data.channelId = "";
        GameManager.join(data.tableId, K.PomeloAPI.joinChannel, data);
      },
      onGetTableData: function onGetTableData() {
        this._super(K.ChannelType.Tournament);
      },
      makeContent: function makeContent(data) {
        if (this.variation == K.Variation.OpenFaceChinesePoker) var content = [ data.channelName, data.chipsPointRatio, data.channelVariation, GameManager.getGameTypeByValue(data.turnTime), data.minBuyIn, data.maxBuyIn, data.playingPlayers + "/" + data.maxPlayers ]; else var content = [ data.channelName, data.isPotLimit ? "L" : "NL", data.entryfees + data.housefees + data.bountyfees, GameManager.getGameTypeByValue(data.turnTime), data.channelVariation, this.capitalizeFirstLetter(data.state), (data.enrolledPlayers ? data.enrolledPlayers : 0) + "/" + data.maxPlayersForTournament, "0", "0" ];
        return content;
      },
      switchButtons: function switchButtons(isRegistered, state, isEliminated) {
        this.registerBtn.active = !isRegistered;
        this.deregisterBtn.active = isRegistered;
        if (!!state) switch (state) {
         case K.SitNGoState.RUNNING:
          this.registerBtn.active = this.deregisterBtn.active = false;
          this.joinBtn.active = isRegistered && !isEliminated;
          this.deregisterBtn.active = false;
          break;

         case K.SitNGoState.REGISTER:
          this.joinBtn.active = false;
          break;

         case K.SitNGoState.FINISHED:
         case K.SitNGoState.UPCOMING:
          this.joinBtn.active = this.registerBtn.active = this.registerBtn.active = false;
        }
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    DropDown: "DropDown",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    Table: "Table",
    TableContent: "TableContent"
  } ],
  SitTournComingSoon: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8df02OcK2VB/IJnXpOlnjUI", "SitTournComingSoon");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        comingSoon: {
          default: null,
          type: cc.Node
        }
      },
      start: function start() {},
      onEnable: function onEnable() {
        this.comingSoon.active = true;
      },
      onDisable: function onDisable() {
        this.comingSoon.active = false;
      }
    });
    cc._RF.pop();
  }, {} ],
  SliderTouchV: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "ca7e3ZTd4BDUpSrs5+HeDv8", "SliderTouchV");
    "use strict";
    cc.Class({
      extends: require("./SliderTouch"),
      properties: {
        id: {
          default: 0,
          visible: false
        },
        initValue: {
          default: 0
        },
        knob: {
          default: null,
          type: cc.Node
        },
        fillColor: {
          default: null,
          type: cc.Sprite
        },
        width: {
          default: 0,
          visible: false
        },
        value: {
          default: 0,
          visible: false
        },
        progressBar: {
          default: null,
          type: cc.ProgressBar
        },
        callback: {
          default: null,
          visible: false
        },
        offset: 0
      },
      onLoad: function onLoad() {
        this.height = this.node.height;
        this.bound = this.height / 2;
        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          event.stopPropagation();
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, function(event) {
          event.stopPropagation();
        }, this);
        this.setSliderValue(this.initValue);
      },
      onTouchStart: function onTouchStart(event) {
        var newVec2 = this.node.convertToNodeSpaceAR(event.getLocation());
        this.updateFill(newVec2.y);
        event.stopPropagation();
      },
      onTouchMove: function onTouchMove(event) {
        var newVec2 = this.node.convertToNodeSpaceAR(event.getLocation());
        this.updateFill(newVec2.y);
        event.stopPropagation();
      },
      updateFill: function updateFill(value) {
        this.bound = this.height / 2;
        null != this.knob && (value > this.bound - this.offset ? this.knob.y = this.bound - this.offset + this.node.height / 2 : value < -this.bound + this.offset ? this.knob.y = -this.bound + this.offset + this.node.height / 2 : this.knob.y = value + this.node.height / 2);
        value += this.bound;
        value /= this.height;
        this.progressBar.progress = value;
        this.value = value;
        null !== this.callback && void 0 !== this.callback && this.callback(value);
      },
      setSliderValue: function setSliderValue(value, callback, round) {
        void 0 === callback && (callback = true);
        void 0 === round && (round = false);
        this.bound = this.height / 2;
        if (value < 0) {
          this.progressBar.progress = 0;
          this.value = 0;
          value = 0;
        } else if (value > 1) {
          this.progressBar.progress = 1;
          this.value = 1;
          value = 1;
        } else {
          this.progressBar.progress = value;
          this.value = value;
        }
        callback && null !== this.callback && void 0 !== this.callback && this.callback(value, round);
        value *= this.height;
        value -= this.bound;
        if (null != this.knob) {
          value > this.bound - this.offset ? value = this.bound - this.offset : value < -this.bound + this.offset && (value = -this.bound + this.offset);
          this.knob.y = value + this.node.height / 2;
        }
      },
      setSliderValue2: function setSliderValue2(value, callback, round) {
        void 0 === callback && (callback = true);
        void 0 === round && (round = false);
        this.bound = this.height / 2;
        if (value < 0) {
          this.progressBar.progress = 0;
          this.value = 0;
          value = 0;
        } else if (value > 1) {
          this.progressBar.progress = 1;
          this.value = 1;
          value = 1;
        } else {
          this.progressBar.progress = value;
          this.value = value;
        }
        callback && null !== this.callback && void 0 !== this.callback && this.callback(value, round);
        value *= this.height;
        value -= this.bound;
        if (null != this.knob) {
          value > this.bound - this.offset ? value = this.bound - this.offset : value < -this.bound + this.offset && (value = -this.bound + this.offset);
          this.knob.y = value + this.node.height / 2;
        }
      },
      getSliderValue: function getSliderValue() {
        return this.value;
      },
      registerCallback: function registerCallback(func) {
        this.callback = func;
      },
      removeAllCallbacks: function removeAllCallbacks() {
        this.callback = null;
      }
    });
    cc._RF.pop();
  }, {
    "./SliderTouch": "SliderTouch"
  } ],
  SliderTouch: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "7940cuOb6ZJw7nY1FW3Uebv", "SliderTouch");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        id: {
          default: 0,
          visible: false
        },
        initValue: {
          default: 0
        },
        knob: {
          default: null,
          type: cc.Node
        },
        fillColor: {
          default: null,
          type: cc.Sprite
        },
        width: {
          default: 0,
          visible: false
        },
        value: {
          default: 0,
          visible: false
        },
        progressBar: {
          default: null,
          type: cc.ProgressBar
        },
        callback: {
          default: null,
          visible: false
        },
        offset: 15
      },
      onLoad: function onLoad() {
        this.width = this.node.width;
        this.bound = this.width / 2;
        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchMove, this);
        this.node.on(cc.Node.EventType.TOUCH_END, function(event) {
          event.stopPropagation();
        }, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, function(event) {
          event.stopPropagation();
        }, this);
        this.setSliderValue(this.initValue);
      },
      onTouchStart: function onTouchStart(event) {
        var newVec2 = this.node.convertToNodeSpaceAR(event.getLocation());
        this.updateFill(newVec2.x);
        event.stopPropagation();
      },
      onTouchMove: function onTouchMove(event) {
        var newVec2 = this.node.convertToNodeSpaceAR(event.getLocation());
        this.updateFill(newVec2.x);
        event.stopPropagation();
      },
      updateFill: function updateFill(value) {
        this.bound = this.width / 2;
        null != this.knob && (value > this.bound - this.offset ? this.knob.x = this.bound - this.offset : value < -this.bound + this.offset ? this.knob.x = -this.bound + this.offset : this.knob.x = value);
        value += this.bound;
        value /= this.width;
        this.progressBar.progress = value;
        this.value = value;
        null !== this.callback && void 0 !== this.callback && this.callback(value);
      },
      setSliderValue: function setSliderValue(value, callback) {
        void 0 === callback && (callback = true);
        this.bound = this.width / 2;
        if (value < 0) {
          this.progressBar.progress = 0;
          this.value = 0;
          value = 0;
        } else if (value > 1) {
          this.progressBar.progress = 1;
          this.value = 1;
          value = 1;
        } else {
          this.progressBar.progress = value;
          this.value = value;
        }
        callback && null !== this.callback && void 0 !== this.callback && this.callback(value);
        value *= this.width;
        value -= this.bound;
        if (null != this.knob) {
          value > this.bound - this.offset ? value = this.bound - this.offset : value < -this.bound + this.offset && (value = -this.bound + this.offset);
          this.knob.x = value;
        }
      },
      getSliderValue: function getSliderValue() {
        return this.value;
      },
      registerCallback: function registerCallback(func) {
        this.callback = func;
      },
      removeAllCallbacks: function removeAllCallbacks() {
        this.callback = null;
      }
    });
    cc._RF.pop();
  }, {} ],
  StateMachine: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "069bfKEc+tH26Zuvh5jibRC", "StateMachine");
    "use strict";
    var StateType = require("State");
    var TransitionType = require("Transition");
    var emitter = require("EventEmitter");
    var StateMachine = cc.Class({
      extends: emitter,
      properties: {
        states: {
          default: [],
          type: [ TransitionType ]
        },
        currentState: {
          default: null,
          type: StateType
        }
      },
      addState: function addState(stateName) {
        this.states.push(this.node.addComponent(stateName));
      },
      addTransition: function addTransition(fromStateName, transitionName, toStateName) {
        var s1 = this.node.getComponent(fromStateName);
        var t = this.node.addComponent(transitionName);
        t.fromState = s1;
        t.on("onTransition", this.onTransition.bind(this));
        t.toState = this.node.getComponent(toStateName);
        s1.transitions.push(t);
      },
      onTransition: function onTransition(sender) {
        this.currentState == sender.fromState && this.changeState(sender.toState);
      },
      initStateMachine: function initStateMachine(stateName) {
        var s = this.node.getComponent(stateName);
        this.states.forEach(function(state) {
          state.transitions.forEach(function(transition) {
            transition.enabled = false;
          }, this);
          state.enabled = false;
        }, this);
        this.changeState(s);
      },
      changeState: function changeState(newStateObj) {
        if (null == this.currentState) {
          this.currentState = newStateObj;
          this.currentState.onStateEnter();
        } else {
          this.currentState.onStateExit();
          this.currentState = newStateObj;
          this.currentState.onStateEnter();
        }
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter",
    State: "State",
    Transition: "Transition"
  } ],
  State: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "91d51v+n/pEdbGN2sHRjPLa", "State");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        transitions: {
          default: []
        }
      },
      onStateEnter: function onStateEnter() {
        this.enabled = true;
        this.transitions.forEach(function(transition) {
          transition.enabled = true;
        }, this);
      },
      onStateExit: function onStateExit() {
        this.transitions.forEach(function(transition) {
          transition.enabled = false;
        }, this);
        this.enabled = false;
      }
    });
    cc._RF.pop();
  }, {} ],
  StickerBase: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "75ecb49oW1O5bB5lpEQ83xU", "StickerBase");
    "use strict";
    var stickerPopup = require("StickersPopup");
    cc.Class({
      extends: cc.Component,
      properties: {
        stickerId: {
          default: "",
          visible: true
        }
      },
      onLoad: function onLoad() {},
      start: function start() {},
      registerHoverEvents: function registerHoverEvents() {
        this.node.on(cc.Node.EventType.TOUCH_START, function(event) {
          cc.isValid(this.node) && this.onMouse_Enter();
        }.bind(this), this);
      },
      onMouse_Enter: function onMouse_Enter() {
        console.log("stickerId ", this.stickerId);
      }
    });
    cc._RF.pop();
  }, {
    StickersPopup: "StickersPopup"
  } ],
  StickerController: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "382acKrbPVAVKoQrlH+tUys", "StickerController");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        stickerList: {
          default: [],
          type: cc.Prefab,
          visible: true
        },
        stickerSprite: {
          default: null,
          type: cc.Sprite,
          visible: true
        },
        stickerTemp: {
          default: null,
          type: cc.Prefab
        }
      },
      onLoad: function onLoad() {
        this.stickerList = [];
      },
      getWorldPos: function getWorldPos(node) {
        return node.convertToWorldSpaceAR(cc.v2(0, 0));
      },
      setWorldPos: function setWorldPos(node, posWS) {
        node.setPosition(node.parent.convertToNodeSpaceAR(posWS));
      },
      showSticker: function showSticker(parentNode, stickerId, posStart, posEnd, parentScale) {
        var _this = this;
        void 0 === parentScale && (parentScale = 1);
        console.log("@@@@@ showSticker   ", stickerId);
        var sticker = cc.instantiate(this.stickerTemp);
        sticker.active = true;
        sticker.getComponent(cc.Sprite).spriteFrame = GameManager.stickerImages[Number(stickerId) - 1];
        sticker.parent = this.node;
        this.setWorldPos(sticker, posEnd);
        sticker.active = true;
        sticker.scale = .25;
        setTimeout(function() {
          _this.hideSticker(sticker);
        }, 3e3);
      },
      hideSticker: function hideSticker(sticker) {
        sticker.active = false;
        sticker.destroy();
      },
      start: function start() {}
    });
    cc._RF.pop();
  }, {} ],
  StickersPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6cfaeS08v9BEZ5hElruFu9H", "StickersPopup");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {},
      start: function start() {
        this.defaultPos = this.node.getPosition();
      },
      init: function init(targetPlayerId, pokerPresenter) {
        this.targetPlayerId = targetPlayerId;
        this.pokerPresenter = pokerPresenter;
        this.show();
      },
      show: function show() {
        this.node.active = true;
      },
      hide: function hide() {
        var pos = this.defaultPos;
        var t = this;
        t.node.active = false;
      },
      onClickSticker: function onClickSticker(event, custom) {
        this.hide();
        this.clientSendStickerEvent(custom);
      },
      clientSendStickerEvent: function clientSendStickerEvent(stickerId) {
        var payload = {};
        payload.channelId = this.pokerPresenter.model.gameData.channelId;
        payload.senderId = this.pokerPresenter.model.gameData.playerId;
        payload.sendToAll = false;
        payload.stickerId = stickerId + "";
        payload.receiverId = this.targetPlayerId;
        this.pokerPresenter.isTournament() ? ServerCom.socketIORequest("tournamentGameEvent|emoji", {
          tournamentId: this.pokerPresenter.model.gameData.raw.tournamentId,
          tableId: this.pokerPresenter.model.gameData.channelId,
          emoji: stickerId,
          playerId: payload.senderId,
          toPlayerId: payload.receiverId
        }, function(response) {
          response.success;
        }, null, 5e3, false) : ServerCom.pomeloRequest(K.PomeloAPI.sendSticker, payload, function(response) {
          console.log("sendSticker reponse", response);
          response.success;
        }, null, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {} ],
  SuperCustomEditBox: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0b58coAHDVE9Zcvg0Pdjg7q", "SuperCustomEditBox");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var SuperCustomEditBox = function(_super) {
      __extends(SuperCustomEditBox, _super);
      function SuperCustomEditBox() {
        return null !== _super && _super.apply(this, arguments) || this;
      }
      SuperCustomEditBox.prototype.onLoad = function() {};
      SuperCustomEditBox.prototype.start = function() {};
      SuperCustomEditBox.prototype.onAndroidBegin = function(editbox) {};
      SuperCustomEditBox.prototype.onAndroidEnded = function(editbox) {};
      SuperCustomEditBox = __decorate([ ccclass ], SuperCustomEditBox);
      return SuperCustomEditBox;
    }(cc.Component);
    exports.default = SuperCustomEditBox;
    cc._RF.pop();
  }, {} ],
  TabBtnUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "271cfuTQMlA5amb/ZzbBOZI", "TabBtnUtil");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        tabs: {
          default: [],
          type: cc.Node
        },
        tabButtons: {
          default: [],
          type: cc.Sprite
        },
        currentTab: {
          default: 0
        },
        activeSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        inactiveSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        activeColor: {
          default: new cc.Color()
        },
        inactiveColor: {
          default: new cc.Color()
        },
        chatBtn: {
          default: null,
          type: cc.Node
        },
        tableVariation: {
          default: null,
          type: cc.Node
        },
        tournemantVariation: {
          default: null,
          type: cc.Node
        },
        buddiesVariaton: {
          default: null,
          type: cc.Node
        },
        gameTypeFilter: {
          default: null,
          type: cc.Node
        },
        ifSwitchOutline: false,
        inactiveOutline: new cc.Color(),
        activeOutline: new cc.Color()
      },
      onLoad: function onLoad() {
        this.onShowTab_01;
      },
      start: function start() {},
      updateCurrentTable: function updateCurrentTable() {
        this.tabs[this.currentTab].getComponent("Table") && this.tabs[this.currentTab].getComponent("Table").onEnable();
      },
      setActiveTab: function setActiveTab(currTab, prevTab) {
        null !== prevTab && (prevTab.active = false);
        currTab.active = true;
      },
      setActiveButton: function setActiveButton(currBtn, prevBtn) {
        if (null !== prevBtn) {
          prevBtn.getComponent(cc.Sprite).spriteFrame = this.inactiveSprite;
          prevBtn.node.getChildByName("Label").color = this.inactiveColor;
          this.ifSwitchOutline && (prevBtn.node.getChildByName("Label").getComponent(cc.LabelOutline).color = this.inactiveOutline);
          prevBtn.node.getChildByName("Label").enableUnderline = false;
        }
        currBtn.node.getChildByName("Label").color = this.activeColor;
        currBtn.node.getChildByName("Label").enableUnderline = true;
      },
      onShowTab_01: function onShowTab_01() {
        this.setActiveTab(this.tabs[0], this.tabs[this.currentTab]);
        this.setActiveButton(this.tabButtons[0], this.tabButtons[this.currentTab]);
        this.currentTab = 0;
        if (this.tableVariation) {
          this.tableVariation.active = true;
          this.buddiesVariaton && (this.buddiesVariaton.active = false);
          this.gameTypeFilter && (this.gameTypeFilter.active = true);
        }
        this.tournemantVariation && (this.tournemantVariation.active = false);
      },
      onShowTab_02: function onShowTab_02() {
        !!this.chatBtn && GameManager.isMobile;
        GameManager.gameModel.activePokerModels.length >= 2 && !!this.chatBtn;
        this.setActiveTab(this.tabs[1], this.tabs[this.currentTab]);
        this.setActiveButton(this.tabButtons[1], this.tabButtons[this.currentTab]);
        this.currentTab = 1;
        this.tableVariation && (this.tableVariation.active = false);
        this.tournemantVariation && (this.tournemantVariation.active = true);
      },
      onShowTab_03: function onShowTab_03() {
        this.setActiveTab(this.tabs[2], this.tabs[this.currentTab]);
        this.setActiveButton(this.tabButtons[2], this.tabButtons[this.currentTab]);
        this.currentTab = 2;
        this.tableVariation && (this.tableVariation.active = false);
        this.tournemantVariation && (this.tournemantVariation.active = true);
      },
      onShowTab_04: function onShowTab_04() {
        this.setActiveTab(this.tabs[3], this.tabs[this.currentTab]);
        this.setActiveButton(this.tabButtons[3], this.tabButtons[this.currentTab]);
        this.currentTab = 3;
        if (this.tableVariation) {
          this.tableVariation.active = false;
          this.buddiesVariaton.active = true;
        }
        this.gameTypeFilter && (this.gameTypeFilter.active = false);
        this.tournemantVariation && (this.tournemantVariation.active = false);
      },
      onShowTab_05: function onShowTab_05() {
        this.setActiveTab(this.tabs[4], this.tabs[this.currentTab]);
        this.setActiveButton(this.tabButtons[4], this.tabButtons[this.currentTab]);
        this.currentTab = 4;
      },
      onShowTab_06: function onShowTab_06() {
        if (this.tabs.length < 6) return;
        this.setActiveTab(this.tabs[5], this.tabs[this.currentTab]);
        this.setActiveButton(this.tabButtons[5], this.tabButtons[this.currentTab]);
        this.currentTab = 5;
      }
    });
    cc._RF.pop();
  }, {} ],
  TableColorSelectionPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "3ebdfjdG3VEDo9I3eycZR34", "TableColorSelectionPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var CheckBoxType = require("Checkbox");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        tables: {
          default: [],
          type: cc.Node
        },
        selection: {
          default: null,
          type: cc.Node
        },
        selectedID: 0
      },
      onLoad: function onLoad() {},
      onShow: function onShow(selected) {
        this.selectedID = GameManager.user.tableColor;
        this.selectTable();
      },
      onTable1Selection: function onTable1Selection() {
        this.selectedID = 0;
        this.selectTable();
      },
      onTable2Selection: function onTable2Selection() {
        this.selectedID = 1;
        this.selectTable();
      },
      onTable3Selection: function onTable3Selection() {
        this.selectedID = 2;
        this.selectTable();
      },
      onTable4Selection: function onTable4Selection() {
        this.selectedID = 3;
        this.selectTable();
      },
      selectTable: function selectTable() {
        this.selection.position = this.tables[this.selectedID].position;
      },
      onConfirm: function onConfirm() {
        var data = {};
        data.query = {};
        data.query.playerId = GameManager.user.playerId;
        data.updateKeys = {};
        data.updateKeys["settings.tableColor"] = this.selectedID;
        ServerCom.pomeloRequest(K.PomeloAPI.updateProfile, data, function(response) {
          if (response.success) {
            GameManager.user.tableColor = this.selectedID;
            GameManager.emit(K.GameEvents.OnTableColorChange, this.tables[this.selectedID].getChildByName("TableImg").getComponent(cc.Sprite).spriteFrame);
          }
        }.bind(this));
        this.onCancel();
      },
      onCancel: function onCancel() {
        this.popUpManager.hide(PopUpType.TableColorPreferenceDialog, function() {});
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  TableContent: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fc33bs9ZXxJSYXG3Jp0cYFE", "TableContent");
    "use strict";
    var JoinData = require("PostTypes").JoinChannel;
    var PopupManagerType = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var LoginData = require("PostTypes").Login;
    var TableContent = cc.Class({
      extends: cc.Component,
      properties: {
        textFields: {
          default: [],
          type: cc.Label
        },
        playerSprite: {
          default: null,
          type: cc.Sprite
        },
        normalColor: {
          default: cc.Color.WHITE
        },
        selectedColor: {
          default: cc.Color.WHITE
        },
        channelData: {
          default: {},
          visible: false
        },
        bg: {
          default: null,
          type: cc.Node
        },
        dblClk: false,
        popUpManager: {
          default: null,
          type: PopupManagerType
        },
        joinEffect: {
          default: null,
          type: cc.Node
        },
        lockedNode: {
          default: null,
          type: cc.Node
        },
        turbo: {
          default: null,
          type: cc.Node
        },
        rit: {
          default: null,
          type: cc.Node
        },
        plyrText: {
          default: null,
          type: cc.Label
        },
        runItTwiceIcon: {
          default: null,
          type: cc.Node
        }
      },
      statics: {
        prevSelection: null,
        callback: null,
        registered: false
      },
      onLoad: function onLoad() {
        var inst = this;
        if ("SideTable" != inst.node.parent.parent.parent.parent.parent.name) {
          this.tableListChange = this.onTableListChanged.bind(this);
          this.onTableUpdate = this.onTableUpdated.bind(this);
          ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableUpdate, this.onTableUpdate);
          ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.joinTableList, this.tableListChange);
        }
      },
      onDestroy: function onDestroy() {
        this.tableListChange;
      },
      onClick: function onClick() {
        if (null !== TableContent.prevSelection && void 0 !== TableContent.prevSelection && null !== TableContent.prevSelection.node && void 0 !== TableContent.prevSelection.node) {
          TableContent.prevSelection.joinEffect.active || TableContent.prevSelection.textFields.forEach(function(element) {}, this);
          null == TableContent.prevSelection.bg;
        }
        var bg = !this.bg ? this.node.getChildByName("Bg") : this.bg;
        this.normalColor = bg.color;
        TableContent.prevSelection = this;
        TableContent.prevSelection.textFields.forEach(function(element) {}, this);
        null !== TableContent.callback && TableContent.callback();
      },
      setContentText: function setContentText(data, textColor) {
        void 0 === textColor && (textColor = true);
        var count = 0;
        this.textFields.forEach(function(element) {
          element.string = data[count];
          count++;
          true == textColor;
        }, this);
        this.plyrText.string = data[5];
      },
      onTableListChanged: function onTableListChanged(eventData) {
        if (this.joinEffect && this.channelData && eventData.channelId == this.channelData._id) if ("PLAYERJOINTABLE" == eventData.event) {
          this.joinEffect.active = true;
          this.textFields.forEach(function(element) {}, this);
        } else if ("PLAYERLEAVETABLE" == eventData.event) {
          this.joinEffect.active = false;
          TableContent.prevSelection != this && this.textFields.forEach(function(element) {}, this);
        }
      },
      onTableUpdated: function onTableUpdated(eventData) {
        if (this.channelData && eventData._id == this.channelData._id) for (var key in eventData.updated) {
          this.channelData[key] = eventData.updated[key];
          var selected = TableContent.prevSelection && TableContent.prevSelection._id == this.channelData._id;
          this.setContentText(this.table.makeContent(this.channelData), !selected);
        }
      },
      onGo: function onGo() {
        var now = new Date().getTime();
        console.log("onGo", now - GameManager.lastClickTime);
        if (now - GameManager.lastClickTime < GameManager.clickInterval) {
          console.log("onGo1");
          return;
        }
        console.log("onGo2");
        GameManager.lastClickTime = now;
        GameManager.join(this.channelData._id, K.PomeloAPI.joinChannel, new JoinData(this.channelData));
      }
    });
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes"
  } ],
  TableHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b3ea4+aqnFIaYwbef9YbWO9", "TableHandler");
    "use strict";
    var Emitter = require("EventEmitter");
    var tableFilter = require("PostTypes").TableFilter;
    var GameData = require("ResponseTypes").GameData;
    var TableContent = require("TableContent");
    var FavTable = require("PostTypes").FavTableData;
    var OpenTable = require("PostTypes").OpenTable;
    var RemoveFavTable = require("PostTypes").RemoveFavTableData;
    cc.Class({
      extends: Emitter,
      properties: {
        joinTableList: []
      },
      onLoad: function onLoad() {
        window.TableHandler = this;
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.joinTableList, this.onJoinTableList.bind(this));
      },
      onJoinTableList: function onJoinTableList(data) {
        var roomIdx = this.joinTableList.indexOf(data.channelId);
        "PLAYERJOINTABLE" == data.event ? -1 == roomIdx && this.joinTableList.push(data.channelId) : "PLAYERLEAVETABLE" == data.event && -1 !== roomIdx && this.joinTableList.splice(roomIdx, 1);
      },
      getTableData: function getTableData(money, filter, blindsType, callback, channel) {
        var data = tableFilter;
        data.isRealMoney = true;
        data.channelVariation = filter;
        data.isLoggedIn = true;
        data.access_token = K.Token.access_token;
        data.isPracticeGame = true;
        data.blindsType = blindsType;
        data.playerId = GameManager.user.playerId;
        ServerCom.pomeloRequest(K.PomeloAPI.getTables, data, callback, null, 5e3, false);
      },
      getTableData2: function getTableData2(roomId, filter, callback) {
        ServerCom.pomeloRequest("connector.entryHandler.getTableByRoomId", {
          isRealMoney: true,
          channelVariation: "All",
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token,
          roomId: roomId
        }, callback, null, 5e3, false);
      },
      getFilter: function getFilter(variation) {
        return variation;
      },
      sort: function sort(field, reverse, primer) {
        var key = primer ? function(x) {
          return primer(x[field]);
        } : function(x) {
          return x[field];
        };
        reverse = reverse ? -1 : 1;
        return function(a, b) {
          return a = key(a), b = key(b), reverse * ((a > b) - (b > a));
        };
      },
      sortByString: function sortByString(contents, reverse, key) {
        var arr = [];
        arr = arr.concat(contents);
        return arr.sort(function(a, b) {
          var x = a[key];
          var y = b[key];
          return reverse ? y < x ? -1 : y > x ? 1 : 0 : x < y ? -1 : x > y ? 1 : 0;
        });
      },
      setFavTable: function setFavTable(playerId, channelId, gameType, callback) {
        var data = new FavTable(playerId, channelId, gameType);
        ServerCom.pomeloRequest(K.PomeloAPI.setFavTable, data, function(response) {
          callback(response);
        }, function(error) {}, 5e3, false);
      },
      removeFavTable: function removeFavTable(playerId, channelId, callback) {
        var data = new RemoveFavTable(playerId, channelId);
        ServerCom.pomeloRequest(K.PomeloAPI.removeFavTable, data, function(response) {
          callback(response);
        }, function(error) {}, 5e3, false);
      },
      refreshSideTable: function refreshSideTable(data, callback, error) {
        var tableInfo = {
          channelId: data._id,
          playerId: GameManager.user.playerId
        };
        ServerCom.pomeloRequest(K.PomeloAPI.getTableData, tableInfo, callback, error, 5e3, false);
      },
      sortByNumber: function sortByNumber(contents, reverse, key) {
        var arr = [];
        arr = arr.concat(contents);
        return arr.sort(this.sort(key, reverse, parseInt));
      },
      sortByJoined: function sortByJoined(contents) {
        if (this.joinTableList.length > 0) for (var i = 0; i < contents.length; i++) this.joinTableList.forEach(function(element) {
          if (contents[i]._id == element) {
            var temp = contents[i];
            contents.splice(i, 1);
            contents.unshift(temp);
          }
        });
        return contents;
      },
      joinWaitingList: function joinWaitingList(join, channelId, callback, error, password) {
        var data = {
          channelId: channelId,
          playerId: GameManager.user.playerId,
          isRequested: true,
          playerName: GameManager.user.userName
        };
        !password || (data.password = password);
        var route = K.PomeloAPI.joinWaitingList;
        join ? "Open Face Chinese Poker" == tableFilter.channelVariation && (route = require("OFCConfigs").PomeloAPI.joinWaitingList) : route = K.PomeloAPI.unJoinWaitingList;
        ServerCom.pomeloRequest(route, data, callback, error, 5e3, false);
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter",
    OFCConfigs: "OFCConfigs",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    TableContent: "TableContent"
  } ],
  TableInfoPanel: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bba12GsLXNIDaXN629mmsu5", "TableInfoPanel");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        infoLabel: {
          default: null,
          type: cc.Label
        },
        pokerModel: {
          default: null,
          type: cc.Node
        },
        tableInfoDataCell: {
          default: null,
          type: cc.Prefab
        },
        scrollViewContent: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {
        this.populateTableInfo(this.pokerModel.getComponent("PokerModel").roomConfig.info);
      },
      populateTableInfo: function populateTableInfo(infoString) {
        this.infoLabel.string = JSON.stringify(infoString);
        for (var key in infoString) {
          var dataCell = cc.instantiate(this.tableInfoDataCell);
          dataCell.getChildByName("Key").getComponent(cc.Label).string = key;
          dataCell.getChildByName("data").getComponent(cc.Label).string = infoString[key];
          this.scrollViewContent.addChild(dataCell);
        }
      },
      onEnable: function onEnable() {}
    });
    cc._RF.pop();
  }, {} ],
  TableOld: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6f4a7P/xTxNdouh8mppmEg5", "TableOld");
    "use strict";
    var TableContent = require("TableContent");
    var TableHandler = require("TableHandler");
    var Checkbox = require("Checkbox");
    var PopupManagerType = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var K = require("GameConfig").K;
    var Variation = cc.Enum({
      None: -1,
      TexasHoldem: 1,
      Omaha: 2,
      OmahaHiLo: 3,
      OpenFaceChinesePoker: 4
    });
    var tabType = cc.Enum({
      CashGames: 1,
      SitAndGo: 2,
      Tournaments: 3
    });
    cc.Class({
      extends: cc.Component,
      properties: {
        handler: {
          default: null,
          type: TableHandler
        },
        realMoney: {
          default: null,
          type: Checkbox
        },
        variation: Variation.TexasHoldem,
        contentHolder: {
          default: null,
          type: cc.Node
        },
        original: {
          default: null,
          type: cc.Node
        },
        originalOFC: {
          default: null,
          type: cc.Node
        },
        headContent: {
          default: null,
          type: cc.Node
        },
        headContentOFC: {
          default: null,
          type: cc.Node
        },
        stakeFilterLabel: {
          default: null,
          type: cc.Label
        },
        contentPool: {
          default: []
        },
        popUpManager: {
          default: null,
          type: PopupManagerType
        },
        darkColor: {
          default: new cc.Color()
        },
        lightColor: {
          default: new cc.Color()
        },
        isSortedByName: {
          default: false,
          visible: false
        },
        isSortedByVariation: {
          default: false,
          visible: false
        },
        isSortedByType: {
          default: false,
          visible: false
        },
        isSortedByMinBuy: {
          default: false,
          visible: false
        },
        isSortedByMaxBuy: {
          default: false,
          visible: false
        },
        isSortedByMinPlayers: {
          default: false,
          visible: false
        },
        isSortedByMaxPlayers: {
          default: false,
          visible: false
        },
        isSortedByStakes: {
          default: false,
          visible: false
        },
        isSortedByFlops: {
          default: false,
          visible: false
        },
        isSortedByWaiting: {
          default: false,
          visible: false
        },
        isSortedByPots: {
          default: false,
          visible: false
        },
        nameReverse: {
          default: false,
          visible: false
        },
        variationReverse: {
          default: false,
          visible: false
        },
        typeReverse: {
          default: false,
          visible: false
        },
        minBuyReverse: {
          default: false,
          visible: false
        },
        maxBuyReverse: {
          default: false,
          visible: false
        },
        minPlayersReverse: {
          default: false,
          visible: false
        },
        maxPlayersReverse: {
          default: false,
          visible: false
        },
        flopReverse: {
          default: false,
          visible: false
        },
        stakeReverse: {
          default: false,
          visible: false
        },
        waitingReverse: {
          default: false,
          visible: false
        },
        potReverse: {
          default: false,
          visible: false
        },
        noFavInfo: {
          default: null,
          type: cc.Node
        },
        createRowsCallBack: null,
        tempCallback: null,
        tempSelection: null,
        DropDownData: null
      },
      onLoad: function onLoad() {
        this.lobbyData = [];
        this.contentHolder.getComponent(cc.Widget).isAlignTop = false;
        this.createRowsCallBack = this.createRows.bind(this);
        GameManager.on(K.GameEvents.onReset, function() {
          this.tempSelection = null;
          this.lobbyData = [];
        }.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableUpdate, this.onTableUpdate.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableView, this.onSideTableUpdate.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.removeTable, this.removeTable.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.addTable, this.addTable.bind(this));
        ServerCom.pomeloRequest(K.PomeloAPI.getFilters, this.realMoney.getSelection(), function(response) {
          this.DropDownData = response;
          this.onEnable();
        }.bind(this), function(error) {});
        this.initGameTypeFilter();
        this.tableInfoHolder && (this.tableInfoHolder.getComponent(cc.Widget).isAlignTop = false);
        this.favTableCB.registerCallback(this.setFavTable.bind(this));
        this.resetAllBools();
        this.applyFilterCB = this.applyFilter.bind(this);
      },
      registerUPandDOWN: function registerUPandDOWN() {
        return;
        var enterKeyRef;
      },
      scroll: function scroll(val) {
        if (val == cc.KEY.enter) {
          TableContent.prevSelection.dblClk = true;
          TableContent.prevSelection.node.emit("touchstart");
          return;
        }
        var tempArray = this.contentHolder.children;
        var i;
        for (i = 0; i < tempArray.length; i++) if (TableContent.prevSelection == tempArray[i].getComponent("TableContent")) break;
        val = val == cc.KEY.up ? -1 : 1;
        var index = i + val;
        index > -1 && index < tempArray.length && tempArray[i + val].getComponent("TableContent").onClick();
      },
      initDropDowns: function initDropDowns(data) {
        "All" !== data.playersRequired[0] && data.playersRequired.splice(0, 0, "All");
        this.maxPlayersDropdown.setContent(data.playersRequired);
      },
      setFavTable: function setFavTable() {
        var selection = this.favTableCB.getSelection();
        var inst = this;
        TableContent.prevSelection ? selection ? this.handler.setFavTable(GameManager.user.playerId, TableContent.prevSelection.channelData._id, TableContent.prevSelection.channelData.channelType, function(response) {
          if (response.success) {
            TableContent.prevSelection.channelData.favourite = true;
            var ind = inst.handler.contents.indexOf(TableContent.prevSelection.channelData);
            inst.handler.contents[ind].favourite = true;
          } else this.favTableCB.setSelection(!selection);
        }) : this.handler.removeFavTable(GameManager.user.playerId, TableContent.prevSelection.channelData._id, function(response) {
          if (response.success) {
            TableContent.prevSelection.channelData.favourite = false;
            var ind = inst.handler.contents.indexOf(TableContent.prevSelection.channelData);
            inst.handler.contents[ind].favourite = false;
            inst.favPrimaryCB && inst.favPrimaryCB.getSelection() && inst.applyFilter();
          } else this.favTableCB.setSelection(!selection);
        }) : this.favTableCB.setSelection(!selection);
      },
      onTableUpdate: function onTableUpdate(eventData) {
        for (var key in this.lobbyData) for (var index = 0; index < this.lobbyData[key].length; index++) if (this.lobbyData[key][index]._id == eventData._id) {
          for (var keys in eventData.updated) this.lobbyData[key][index][keys] = eventData.updated[keys];
          break;
        }
        this.scheduleOnce(function() {
          this.applyFilter(true);
        }, .2);
      },
      onSideTableUpdate: function onSideTableUpdate(eventData) {},
      addTable: function addTable(data) {
        data.updated._id = data._id;
        var key = data.updated.isRealMoney + "" + data.updated.channelVariation;
        this.lobbyData[key] && this.lobbyData[key].push(data.updated);
        if (this.realMoney.getSelection() + this.variation == key) {
          this.createRow(data.updated, this.contentPool.length, null, null);
          this.applyFilter(true);
        }
      },
      removeTable: function removeTable(data) {
        for (var key in this.lobbyData) for (var index = 0; index < this.lobbyData[key].length; index++) if (this.lobbyData[key][index]._id == data._id) {
          this.lobbyData[key].splice(index, 1);
          break;
        }
        for (var index = 0; index < this.contentPool.length; index++) if (this.contentPool[index].getComponent("TableContent").channelData._id == data._id) {
          this.contentPool[index].destroy();
          this.contentPool.splice(index, 1);
          this.applyFilter(true);
          break;
        }
      },
      onDisable: function onDisable() {
        this.favPrimaryCB && this.favPrimaryCB.deregisterCallback(this.applyFilterCB);
      },
      onEnable: function onEnable() {
        this.registerUPandDOWN();
        if (this.favPrimaryCB) {
          this.favPrimaryCB.callbacks = [];
          this.favPrimaryCB.registerCallback(this.applyFilterCB);
        }
        TableContent.prevSelection = null;
        TableContent.callback = this.tableContentClick.bind(this);
        this.unschedule(this.tempCallback);
        if (this.variation == K.Variation.OpenFaceChinesePoker) {
          this.headContent.active = false;
          this.headContentOFC.active = true;
          this.stakeFilterLabel.string = "Point Cost:";
        } else {
          this.headContent.active = true;
          this.headContentOFC.active = false;
          LocalizedManager.setTextKey(this.stakeFilterLabel.node, "TXT_STAKES");
        }
        this.setPlayerFilters();
        this.scheduleOnce(function() {
          this.onGetTableData();
        }.bind(this), .2);
      },
      onGetTableData: function onGetTableData(channelType) {
        void 0 === channelType && (channelType = null);
        TableContent.prevSelection = null;
        var inst = this;
        var isReal = this.realMoney.getSelection();
        var key = isReal + "" + this.variation;
        if (this.lobbyData[key]) {
          inst.handler.contents = this.lobbyData[key];
          inst.applyFilter(true);
        } else {
          this.clearContents();
          this.handler.getTableData(isReal, this.variation, function(response) {
            if (response.success) {
              inst.handler.contents = inst.filterByTournamentType(response.result);
              inst.lobbyData[key] = inst.handler.contents;
              inst.applyFilter(true);
            }
          }, channelType);
        }
      },
      filterByTournamentType: function filterByTournamentType(content, pass, checkSitNGo) {
        void 0 === pass && (pass = true);
        void 0 === checkSitNGo && (checkSitNGo = true);
        if (pass) return content;
        var filteredContent = [];
        for (var i = 0; i < content.length; i++) {
          var flag = content[i].tournamentType === K.TournamentType.SitNGo;
          flag = checkSitNGo ? flag : !flag;
          flag && filteredContent.push(content[i]);
        }
        return filteredContent;
      },
      startPomelo: function startPomelo(address, callback) {
        pomelo.init({
          host: address.gameServer,
          port: address.gamePort,
          log: true
        }, function() {
          null !== callback && void 0 !== callback && callback();
        });
      },
      initGameTypeFilter: function initGameTypeFilter() {
        var gameTypeContent = [ "All", "Standard (30s)", "Turbo (20s)", "Hyper-Turbo (10s)" ];
        this.gameTypeDropdown.setContent(gameTypeContent);
        this.setPlayerFilters();
        var stakesDropdownContent = [ "All", "Low", "Mid", "High" ];
        this.stakesDropdown.setContent(stakesDropdownContent);
        this.gameTypeDropdown.registerCallback(this.applyFilter.bind(this));
        this.stakesDropdown.registerCallback(this.applyFilter.bind(this));
        this.maxPlayersDropdown.registerCallback(this.applyFilter.bind(this));
        this.hideFullTablesCB.registerCallback(this.applyFilter.bind(this));
      },
      setPlayerFilters: function setPlayerFilters() {
        if (this.variation == K.Variation.OpenFaceChinesePoker) var maxPlayersContent = [ "All", 2, 3 ]; else var maxPlayersContent = [ "All", 2, 6, 9 ];
        this.maxPlayersDropdown.setContent(maxPlayersContent);
      },
      populateTable: function populateTable(data) {
        this.unschedule(this.tempCallback);
        var instance = null;
        var tableContent = null;
        var content = null;
        var child = null;
        var baseContent = this.variation == K.Variation.OpenFaceChinesePoker ? this.originalOFC : this.original;
        if (0 == this.contentPool.length) this.createRows(data); else if (this.contentPool[0].name == baseContent.name) if (this.contentPool.length > data.length) {
          this.destroyRows(data.length);
          this.updateTable(data, data.length);
        } else if (this.contentPool.length < data.length) {
          this.createRows(data);
          this.updateTable(data);
        } else this.updateTable(data); else this.destroyRows(0, this.createRows.bind(this), data);
        null !== tableContent && (tableContent.prevSelection = null);
      },
      updateTable: function updateTable(data, lastIndex) {
        void 0 === lastIndex && (lastIndex = null);
        lastIndex = !lastIndex ? this.contentPool.length : lastIndex;
        var content = null;
        var entry = null;
        for (var i = 0; i < lastIndex; i++) {
          content = this.contentPool[i].getComponent("TableContent");
          entry = this.makeContent(data[i]);
          content.channelData = data[i];
          content.setContentText(entry);
          content.bg.color = i % 2 === 0 ? this.lightColor : this.darkColor;
          content.joinEffect && (-1 !== this.handler.joinTableList.indexOf(content.channelData._id) ? content.joinEffect.active = true : content.joinEffect.active = false);
        }
        this.showSelection();
      },
      createRows: function createRows(data, stop) {
        void 0 === stop && (stop = false);
        var lastIndex = stop ? 0 : data.length;
        this.contentPool.length < lastIndex ? this.createRow(data[this.contentPool.length], this.contentPool.length, data, this.createRowsCallBack) : this.showSelection();
      },
      createRow: function createRow(entry, i, data, callback) {
        var instance = null;
        var tableContent = null;
        var content = null;
        content = this.makeContent(entry);
        instance = this.variation == K.Variation.OpenFaceChinesePoker ? cc.instantiate(this.originalOFC) : cc.instantiate(this.original);
        instance.setPosition(0, 0);
        this.contentHolder.addChild(instance);
        tableContent = instance.getComponent("TableContent");
        tableContent.setContentText(content);
        tableContent.channelData = entry;
        tableContent.table = this;
        instance.active = true;
        this.contentPool.push(instance);
        tableContent.bg.color = i % 2 === 0 ? this.lightColor : this.darkColor;
        tableContent.joinEffect && (-1 !== this.handler.joinTableList.indexOf(entry._id) ? tableContent.joinEffect.active = true : tableContent.joinEffect.active = false);
        if (null != callback) {
          this.tempCallback = function() {
            callback(data);
          };
          this.scheduleOnce(this.tempCallback, .1);
        }
      },
      destroyRows: function destroyRows(startIndex, callback, data) {
        void 0 === callback && (callback = null);
        void 0 === data && (data = null);
        if (this.contentPool.length > startIndex) {
          this.contentPool[startIndex].destroy();
          this.contentPool.splice(startIndex, 1);
          this.destroyRows(startIndex, callback, data);
        } else null != callback && callback(data);
      },
      clearContents: function clearContents() {
        this.unschedule(this.tempCallback);
        for (var index = 0; index < this.contentPool.length; index++) {
          this.contentPool[index].active = false;
          this.contentPool[index].destroy();
        }
        this.contentPool = [];
      },
      refreshSideTable: function refreshSideTable(downloadAgain) {
        void 0 === downloadAgain && (downloadAgain = true);
        if (null == TableContent.prevSelection || 0 == this.contentPool.length) {
          this.disableSideTable(true);
          return;
        }
        this.disableSideTable(false);
        TableContent.prevSelection.channelData.favourite ? this.favTableCB.setSelection(true) : this.favTableCB.setSelection(false);
        if (downloadAgain) {
          this.currentSideTableData = null;
          this.handler.refreshSideTable(TableContent.prevSelection.channelData, function(response) {
            this.setSideTableData(response);
          }.bind(this), function(response) {});
        } else this.setSideTableData(this.currentSideTableData);
      },
      getFilteredContent: function getFilteredContent() {
        var content = [];
        for (var i = 0; i < this.contentPool.length; i++) content.push(this.contentPool[i].getComponent("TableContent").channelData);
        return content;
      },
      onSortByName: function onSortByName() {
        this.nameReverse = !this.nameReverse;
        this.removeAllSorting();
        this.isSortedByName = true;
        this.applyFilter();
      },
      onSortByStakes: function onSortByStakes() {
        this.stakeReverse = !this.stakeReverse;
        this.removeAllSorting();
        this.isSortedByStakes = true;
        this.applyFilter();
      },
      onSortByVariation: function onSortByVariation() {
        this.variationReverse = !this.variationReverse;
        this.removeAllSorting();
        this.isSortedByVariation = true;
        this.applyFilter();
      },
      onSortByType: function onSortByType() {
        this.typeReverse = !this.typeReverse;
        this.removeAllSorting();
        this.isSortedByType = true;
        this.applyFilter();
      },
      onSortByMinBuy: function onSortByMinBuy() {
        this.minBuyReverse = !this.minBuyReverse;
        this.removeAllSorting();
        this.isSortedByMinBuy = true;
        this.applyFilter();
      },
      onSortByMaxBuy: function onSortByMaxBuy() {
        this.maxBuyReverse = !this.maxBuyReverse;
        this.removeAllSorting();
        this.isSortedByMaxBuy = true;
        this.applyFilter();
      },
      onSortByPlayers: function onSortByPlayers() {
        this.maxPlayersReverse = !this.maxPlayersReverse;
        this.removeAllSorting();
        this.isSortedByMaxPlayers = true;
        this.applyFilter();
      },
      onSortByFlops: function onSortByFlops() {
        this.flopReverse = !this.flopReverse;
        this.removeAllSorting();
        this.isSortedByFlops = true;
        this.applyFilter();
      },
      onSortByPots: function onSortByPots() {
        this.potReverse = !this.potReverse;
        this.removeAllSorting();
        this.isSortedByPots = true;
        this.applyFilter();
      },
      onSortByWaitingPlayers: function onSortByWaitingPlayers() {
        this.waitingReverse = !this.waitingReverse;
        this.removeAllSorting();
        this.isSortedByWaiting = true;
        this.applyFilter();
      },
      onSortByMinPlayers: function onSortByMinPlayers() {
        this.removeAllSorting();
        this.isSortedByMinPlayers = true;
        this.applyFilter();
      },
      onSortByMaxPlayers: function onSortByMaxPlayers() {
        this.removeAllSorting();
        this.isSortedByMaxPlayers = true;
        this.applyFilter();
      },
      sortByName: function sortByName() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.nameReverse, "channelName");
        this.updateTable(newContent);
        this.nameReverse = !this.nameReverse;
      },
      sortByStakes: function sortByStakes() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.stakeReverse, "smallBlind");
        this.updateTable(newContent);
        this.stakeReverse = !this.stakeReverse;
      },
      sortByVariation: function sortByVariation() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.variationReverse, "channelVariation");
        this.updateTable(newContent);
        this.variationReverse = !this.variationReverse;
      },
      sortByType: function sortByType() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.typeReverse, "turnTime");
        this.updateTable(newContent);
        this.typeReverse = !this.typeReverse;
      },
      sortByMinBuy: function sortByMinBuy() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.minBuyReverse, "minBuyIn");
        this.updateTable(newContent);
        this.minBuyReverse = !this.minBuyReverse;
      },
      sortByMaxBuy: function sortByMaxBuy() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.maxBuyReverse, "maxBuyIn");
        this.updateTable(newContent);
        this.maxBuyReverse = !this.maxBuyReverse;
      },
      sortByPlayers: function sortByPlayers() {
        this.sortByMaxPlayers();
      },
      sortByFlops: function sortByFlops() {
        this.isSortedByFlops = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.flopReverse, "flopPercent");
        this.updateTable(newContent);
        this.flopReverse = !this.flopReverse;
      },
      sortByPots: function sortByPots() {
        this.isSortedByPots = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.potReverse, "avgStack");
        this.updateTable(newContent);
        this.potReverse = !this.potReverse;
      },
      sortByWaitingPlayers: function sortByWaitingPlayers() {
        this.isSortedByWaiting = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.waitingReverse, "queuePlayers");
        this.updateTable(newContent);
        this.waitingReverse = !this.waitingReverse;
      },
      sortByMinPlayers: function sortByMinPlayers() {
        this.isSortedByMinPlayers = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.minPlayersReverse, "minPlayers");
        this.updateTable(newContent);
        this.minPlayersReverse = !this.minPlayersReverse;
      },
      sortByMaxPlayers: function sortByMaxPlayers() {
        this.isSortedByMaxPlayers = true;
        newContent = [];
        var newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.maxPlayersReverse, "maxPlayers");
        this.updateTable(newContent);
        this.maxPlayersReverse = !this.maxPlayersReverse;
      },
      resetAllBools: function resetAllBools() {
        this.nameReverse = false;
        this.stakeReverse = false;
        this.variationReverse = false;
        this.typeReverse = false;
        this.minBuyReverse = false;
        this.maxBuyReverse = false;
        this.minPlayersReverse = false;
        this.maxPlayersReverse = false;
        this.flopReverse = false;
        this.waitingReverse = false;
        this.potReverse = false;
      },
      removeAllSorting: function removeAllSorting() {
        this.isSortedByName = false;
        this.isSortedByStakes = false;
        this.isSortedByFlops = false;
        this.isSortedByWaiting = false;
        this.isSortedByVariation = false;
        this.isSortedByType = false;
        this.isSortedByMinBuy = false;
        this.isSortedByMaxBuy = false;
        this.isSortedByMinPlayers = false;
        this.isSortedByMaxPlayers = false;
        this.isSortedByPots = false;
      },
      applySorting: function applySorting() {
        if (this.isSortedByName) {
          this.nameReverse = !this.nameReverse;
          this.sortByName();
        }
        if (this.isSortedByStakes) {
          this.stakeReverse = !this.stakeReverse;
          this.sortByStakes();
        }
        if (this.isSortedByFlops) {
          this.flopReverse = !this.flopReverse;
          this.sortByFlops();
        }
        if (this.isSortedByWaiting) {
          this.waitingReverse = !this.waitingReverse;
          this.sortByWaitingPlayers();
        }
        if (this.isSortedByVariation) {
          this.variationReverse = !this.variationReverse;
          this.sortByVariation();
        }
        if (this.isSortedByType) {
          this.typeReverse = !this.typeReverse;
          this.sortByType();
        }
        if (this.isSortedByMinBuy) {
          this.minBuyReverse = !this.minBuyReverse;
          this.sortByMinBuy();
        }
        if (this.isSortedByMaxBuy) {
          this.maxBuyReverse = !this.maxBuyReverse;
          this.sortByMaxBuy();
        }
        if (this.isSortedByMinPlayers) {
          this.minPlayersReverse = !this.minPlayersReverse;
          this.sortByMinPlayers();
        }
        if (this.isSortedByMaxPlayers) {
          this.maxPlayersReverse = !this.maxPlayersReverse;
          this.sortByMaxPlayers();
        }
        if (this.isSortedByPots) {
          this.potReverse = !this.potReverse;
          this.sortByPots();
        }
      },
      applyFilter: function applyFilter(isRequested) {
        void 0 === isRequested && (isRequested = false);
        var inst = this;
        var hideFT = this.hideFullTablesCB.getSelection();
        var getFav = !!this.favPrimaryCB && this.favPrimaryCB.getSelection();
        var game = inst.gameTypeDropdown.getSelection();
        var stakes = inst.stakesDropdown.getSelection();
        var maxPl = inst.maxPlayersDropdown.getSelection();
        if (!!this.handler.contents && this.handler.contents.length > 0) {
          var finalContent = [];
          var flag = true;
          var content = null;
          for (var i = 0; i < this.handler.contents.length; i++) {
            content = this.handler.contents[i];
            flag = true;
            if (hideFT) {
              var playingPlayers = content.channelType == K.ChannelType.Tournament ? content.enrolledPlayers : content.playingPlayers;
              var maxPlayers = content.channelType == K.ChannelType.Tournament ? content.maxPlayersForTournament : content.maxPlayers;
              flag = playingPlayers < content.maxPlayers;
            }
            getFav && (flag = flag && content.favourite);
            flag = flag && this.isValidByGameType(game, content.turnTime);
            flag = this.variation == K.Variation.OpenFaceChinesePoker ? flag && this.isValidByStakesOFC(content.chipsPointRatio, stakes) : flag && this.isValidByStakes(content.smallBlind, stakes);
            flag = flag && this.isValidByMaxPlayers(maxPl, content.maxPlayers);
            flag && finalContent.push(content);
          }
          this.populateTable(finalContent);
          this.applySorting();
          this.disableSideTable(0 == finalContent.length, false, true);
        } else {
          this.clearContents();
          isRequested = "boolean" == typeof isRequested && isRequested;
          this.disableSideTable(true, false, isRequested);
        }
      },
      showSelection: function showSelection() {
        var inst = this;
        if (inst.contentPool.length > 0) {
          if (null == inst.tempSelection || inst.tempSelection >= inst.contentPool.length) inst.contentPool[0].getComponent("TableContent").onClick(); else if (null !== inst.tempSelection && inst.tempSelection < inst.contentPool.length) {
            -1 == inst.tempSelection && (inst.tempSelection = 0);
            inst.contentPool[inst.tempSelection].getComponent("TableContent").onClick();
          }
        } else null == inst.tempSelection;
      },
      getFavourites: function getFavourites(initContent, callback) {
        if (this.favPrimaryCB && this.favPrimaryCB.getSelection()) {
          var contents = [];
          for (var index = 0; index < initContent.length; index++) initContent[index].favourite && contents.push(initContent[index]);
          callback(contents);
        } else callback(initContent);
      },
      filterByGameType: function filterByGameType(gameType, initContent, callback) {
        var contents = [];
        for (var index = 0; index < initContent.length; index++) this.isValidByGameType(gameType, initContent[index].turnTime) && contents.push(initContent[index]);
        callback(contents);
      },
      isValidByGameType: function isValidByGameType(gameType, val) {
        var returnVal = false;
        switch (gameType) {
         case "Hyper-Turbo (10s)":
          returnVal = 10 == val;
          break;

         case "Turbo (20s)":
          returnVal = 20 == val;
          break;

         case "Standard (30s)":
          returnVal = 30 == val;
          break;

         default:
          returnVal = true;
        }
        return returnVal;
      },
      filterByMaxPlayers: function filterByMaxPlayers(maxPlayers, prevContents, callback) {
        var contents = [];
        for (var index = 0; index < prevContents.length; index++) this.isValidByMaxPlayers(maxPlayers, prevContents[index].maxPlayers) && contents.push(prevContents[index]);
        callback(contents);
      },
      isValidByMaxPlayers: function isValidByMaxPlayers(maxPlayers, val) {
        if ("All" == maxPlayers) return true;
        return maxPlayers == val;
      },
      filterByStakes: function filterByStakes(stakes, prevContents, callback) {
        var contents = [];
        if (this.variation == K.Variation.OpenFaceChinesePoker) for (var index = 0; index < prevContents.length; index++) this.isValidByStakesOFC(prevContents[index].chipsPointRatio, stakes) && contents.push(prevContents[index]); else for (var index = 0; index < prevContents.length; index++) this.isValidByStakes(prevContents[index].smallBlind, stakes) && contents.push(prevContents[index]);
        callback(contents);
      },
      isValidByStakes: function isValidByStakes(value, stakes) {
        if ("All" == stakes) return true;
        return "Low" == stakes ? value > 0 && value <= 25 : "Mid" == stakes ? value > 25 && value <= 100 : "High" == stakes && value > 100;
      },
      isValidByStakesOFC: function isValidByStakesOFC(value, stakes) {
        if ("All" == stakes) return true;
        return "Low" == stakes ? value > 0 && value < 10 : "Mid" == stakes ? value >= 10 && value < 20 : "High" == stakes && value >= 20;
      },
      hideFullTables: function hideFullTables(callback) {
        var val = this.hideFullTablesCB.getSelection();
        var contents = [];
        if (val) {
          for (var index = 0; index < this.handler.contents.length; index++) {
            var content = this.handler.contents[index];
            var playingPlayers = content.channelType == K.ChannelType.Tournament ? content.enrolledPlayers : content.playingPlayers;
            var maxPlayers = content.channelType == K.ChannelType.Tournament ? content.maxPlayersForTournament : content.maxPlayers;
            playingPlayers < content.maxPlayers && contents.push(this.handler.contents[index]);
          }
          callback(contents);
        } else callback(this.handler.contents);
      },
      disableSideTable: function disableSideTable(val, noFav, showMsg) {
        void 0 === val && (val = true);
        void 0 === noFav && (noFav = false);
        void 0 === showMsg && (showMsg = true);
        noFav = !!this.favPrimaryCB && this.favPrimaryCB.getSelection();
        if (val) {
          this.noFavInfo.active = noFav;
          this.sideTableInfo.active = !noFav;
          this.sideTableInfo.getComponentInChildren(cc.Label).node.active = showMsg;
          TableContent.prevSelection = null;
        } else {
          this.noFavInfo.active = val;
          this.sideTableInfo.active = val;
        }
      },
      showFavInstructions: function showFavInstructions() {
        GameManager.popUpManager.show(PopUpType.InstructionPopup, null, function() {});
      },
      capitalizeFirstLetter: function capitalizeFirstLetter(inp) {
        inp = inp.toLowerCase();
        return inp.replace(/^.{1}/g, inp[0].toUpperCase());
      },
      updateTableVal: function updateTableVal(data) {},
      highlightJoinTable: function highlightJoinTable() {}
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    GameConfig: "GameConfig",
    PopUpManager: "PopUpManager",
    TableContent: "TableContent",
    TableHandler: "TableHandler"
  } ],
  TableSwiper: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89dbbkDhZhICbMsShQucTqp", "TableSwiper");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        holder: cc.Node,
        blockNode: cc.Node,
        startScrollingWaitTimer: .4,
        selfMoveTimer: null,
        swipeTimer: .4
      },
      onLoad: function onLoad() {},
      forceReset: function forceReset() {
        this.holder.setPosition(0, 0);
        var count = 0;
        this.holder.children.forEach(function(e, i) {
          if (cc.isValid(e, true)) {
            e.setPosition(count * ScreenManager.node.width, 0);
            count++;
          }
        }, this);
      },
      getPositionsForResolution: function getPositionsForResolution() {
        var _this = this;
        this.worldPositions = [];
        this.holder.children.forEach(function(e) {
          _this.worldPositions.push(e.parent.convertToWorldSpaceAR(e.position).x);
        }, this);
        console.log("getPositionsForResolution", this.worldPositions);
      },
      registerTouchSwipeEvents: function registerTouchSwipeEvents() {
        this.getPositionsForResolution();
        var n = this.node.parent.children[0];
        n.on(cc.Node.EventType.TOUCH_START, function(event) {
          this.correctViewIfNeeded();
          this.startPos = new cc.Vec2(event.touch.getLocation());
          this.startDate = new Date();
          this.originalPos = this.holder.position.x;
        }.bind(this));
        n.on(cc.Node.EventType.TOUCH_MOVE, function(event) {
          var _this2 = this;
          this.moveDate = new Date();
          var secs = (this.moveDate - this.startDate) / 1e3;
          var x = event.touch.getLocation();
          this.prevMovePos = !this.movePos ? this.startPos : this.movePos;
          this.movePos = new cc.Vec2(x.x, x.y);
          console.log("this.movePos", this.movePos.x, this.movePos.y);
          if (secs > this.startScrollingWaitTimer) {
            console.log("startSlowSwipe");
            this.startSlowSwipe();
          } else null == this.selfMoveTimer && (this.selfMoveTimer = setTimeout(function() {
            _this2.startSlowSwipe(true);
          }, 1e3 * this.startScrollingWaitTimer));
        }.bind(this));
        n.on(cc.Node.EventType.TOUCH_END, function(event) {
          clearTimeout(this.selfMoveTimer);
          this.selfMoveTimer = null;
          this.endDate = new Date();
          var secs = (this.endDate - this.startDate) / 1e3;
          var x = event.touch.getLocation();
          this.endPos = new cc.Vec2(x.x, x.y);
          secs > this.startScrollingWaitTimer ? this.checkIfSwipe() : this.doImmediateSwipe();
          this.movePos = null;
        }.bind(this));
      },
      deRegisterTouchSwipeEvents: function deRegisterTouchSwipeEvents() {
        var n = this.node.parent.children[0];
        n.off(cc.Node.EventType.TOUCH_START);
        n.off(cc.Node.EventType.TOUCH_MOVE);
        n.off(cc.Node.EventType.TOUCH_END);
      },
      getCurrentViewStatus: function getCurrentViewStatus(offset, whileMove, direction) {
        void 0 === offset && (offset = 10);
        void 0 === whileMove && (whileMove = false);
        console.log("getCurrentViewStatus", offset, whileMove, direction);
        var toReturn = -1;
        var offsetL = offset;
        var offsetR = offset;
        if (whileMove) {
          "LEFT" == direction && (offsetL = 50);
          "RIGHT" == direction && (offsetR = 50);
        }
        this.holder.children.forEach(function(elem, i) {
          var x = elem.parent.convertToWorldSpaceAR(elem.position).x;
          console.error("Z ", i, "   ", parseInt(x), this.worldPositions[0], parseInt(x) > parseInt(this.worldPositions[0]) - offsetL, parseInt(x) < parseInt(this.worldPositions[0]) + offsetR);
          parseInt(x) > parseInt(this.worldPositions[0]) - offsetL && parseInt(x) < parseInt(this.worldPositions[0]) + offsetR && (toReturn = i);
        }, this);
        console.log("toReturn", toReturn);
        return toReturn;
      },
      correctViewIfNeeded: function correctViewIfNeeded() {
        -1 == this.getCurrentViewStatus() && this.tryToRestore();
      },
      tryToRestore: function tryToRestore() {
        return;
        var toReturn;
      },
      restoreEverything: function restoreEverything(forcedIndex) {
        return;
        var currentIndex;
      },
      swipeBtn: function swipeBtn() {
        this.node.children[0].active ? this.node.children[0].active = false : this.node.children[1].active = false;
      },
      startSlowSwipe: function startSlowSwipe(initial) {
        var y = this.prevMovePos.sub(this.movePos);
        var x = this.startPos.sub(this.movePos);
        if (y.x > 0) {
          console.log("startSlowSwipe RIGHT");
          this.adjustPagesHeirarchy("RIGHT", "move");
        } else {
          console.log("startSlowSwipe LEFT");
          this.adjustPagesHeirarchy("LEFT", "move");
        }
        initial ? this.holder.runAction(cc.moveTo(this.swipeTimer / 1.3, this.originalPos - x.x, 0).easing(cc.easeIn(.5))) : this.holder.setPosition(this.originalPos - x.x, 0);
      },
      checkIfSwipe: function checkIfSwipe() {
        var _this3 = this;
        var x = this.startPos.sub(this.endPos);
        this.blockNode.active = true;
        var seq = null;
        var cf = cc.callFunc(function() {
          _this3.blockNode.active = false;
          _this3.restoreEverything();
          var i = _this3.getCurrentViewStatus();
          -1 == i ? GameScreen.onTabSelection(0) : GameScreen.onTabSelection(i);
        });
        seq = Math.abs(x.x) > 200 ? x.x > 0 ? cc.sequence(cc.moveTo(this.swipeTimer, this.originalPos - ScreenManager.node.width, 0).easing(cc.easeIn(.5)), cf) : cc.sequence(cc.moveTo(this.swipeTimer, this.originalPos + ScreenManager.node.width, 0).easing(cc.easeIn(.5)), cf) : cc.sequence(cc.moveTo(this.swipeTimer, this.originalPos, 0).easing(cc.easeIn(.5)), cf);
        this.holder.runAction(seq);
      },
      doImmediateSwipe: function doImmediateSwipe() {
        var x = this.startPos.sub(this.endPos);
        if (Math.abs(x.x) > 60) {
          if (x.x > 0) {
            this.adjustPagesHeirarchy("RIGHT");
            this.runSwipeAction(this.originalPos - ScreenManager.node.width);
            return;
          }
          this.adjustPagesHeirarchy("LEFT");
          this.runSwipeAction(this.originalPos + ScreenManager.node.width);
          return;
        }
      },
      runSwipeAction: function runSwipeAction(desiredContentXpos) {
        var _this4 = this;
        this.blockNode.active = true;
        var seq = cc.sequence(cc.moveTo(.3, desiredContentXpos, 0), cc.callFunc(function() {
          _this4.blockNode.active = false;
          var i = _this4.getCurrentViewStatus();
          -1 == i ? GameScreen.onTabSelection(0) : GameScreen.onTabSelection(i);
        }));
        this.holder.runAction(seq);
      },
      adjustPagesHeirarchy: function adjustPagesHeirarchy(direction, ifFromMove) {
        console.log("adjustPagesHeirarchy", direction, ifFromMove);
        var ci;
        ci = "move" == ifFromMove ? this.getCurrentViewStatus(400, true, direction) : this.getCurrentViewStatus(400);
        this.newChecker(ci, direction);
        return;
      },
      newChecker: function newChecker(ci, direction) {
        if (-1 == ci) return;
        var arr = [];
        this.holder.children.forEach(function(e) {
          arr.push(e.x);
        }, this);
        arr.sort(function(a, b) {
          return a - b;
        });
        if ("LEFT" == direction) {
          if (this.holder.children[ci].x == arr[0]) {
            var t = null;
            this.holder.children.forEach(function(e) {
              e.x == arr[arr.length - 1] && (t = e);
            }, this);
            null != t && t.setPosition(arr[0] - ScreenManager.node.width, 0);
          }
        } else if ("RIGHT" == direction && this.holder.children[ci].x == arr[arr.length - 1]) {
          var _t = null;
          this.holder.children.forEach(function(e) {
            e.x == arr[0] && (_t = e);
          }, this);
          null != _t && _t.setPosition(arr[arr.length - 1] + ScreenManager.node.width, 0);
        }
      }
    });
    cc._RF.pop();
  }, {} ],
  TableTab: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4cf4aKqNmtOvajNzIncd2hd", "TableTab");
    "use strict";
    var emitter = require("EventEmitter");
    cc.Class({
      extends: emitter,
      properties: {
        tabId: -1,
        tabNode: {
          default: null,
          type: cc.Node
        },
        tabActiveNode: {
          default: null,
          type: cc.Node
        },
        addButton: {
          default: null,
          type: cc.Node
        },
        activeView: {
          default: null,
          type: cc.Node
        },
        deactiveView: {
          default: null,
          type: cc.Node
        },
        activeTableNameLbl: {
          default: null,
          type: cc.Label
        },
        deactiveTableNameLbl: {
          default: null,
          type: cc.Label
        },
        turnAlert: {
          default: null,
          type: cc.Node
        },
        cardPrefab: {
          default: null,
          type: cc.Prefab
        },
        cardPPrefab: {
          default: null,
          type: cc.Prefab
        },
        cardParent: {
          default: null,
          type: cc.Node
        },
        tableColors: {
          default: [],
          type: [ cc.SpriteFrame ]
        },
        selectedTableColors: {
          default: [],
          type: [ cc.SpriteFrame ]
        },
        model: null,
        cards: null
      },
      onLoad: function onLoad() {
        this.tableColorChange = this.setTableColor.bind(this);
        this.playerCardsChange = this.showCards.bind(this);
        this.gameOverChange = this.removeCards.bind(this);
      },
      onClick: function onClick() {
        GameManager.playSound(K.Sounds.click);
        this.emit(K.PokerEvents.onTableTabSelected, this.tabId);
      },
      setActiveView: function setActiveView(data, bigBlind, smallBlind) {
        this.scheduleOnce(function() {
          this.activeView.active = true;
          this.deactiveView.active = false;
        }, .1);
      },
      setDeactiveView: function setDeactiveView(data, bigBlind, smallBlind) {
        this.scheduleOnce(function() {
          this.activeView.active = false;
          this.deactiveView.active = true;
        }, .1);
      },
      setModel: function setModel(model) {
        this.model = model;
        if (GameScreen.isMobile) {
          this.model.off("FoldEvent", this.gameOverChange);
          this.model.on("FoldEvent", this.gameOverChange);
          this.model.off(K.GameEvents.OnTableColorChange, this.tableColorChange);
          this.model.on(K.GameEvents.OnTableColorChange, this.tableColorChange);
          this.model.off(K.PokerEvents.OnPlayerCard, this.playerCardsChange);
          this.model.on(K.PokerEvents.OnPlayerCard, this.playerCardsChange);
          this.model.off(K.PokerEvents.OnGameOver, this.gameOverChange);
          this.model.on(K.PokerEvents.OnGameOver, this.gameOverChange);
          this.showCards();
          this.setTableColor();
        }
      },
      showCards: function showCards(cards) {
        this.node.getChildByName("vari").string = "";
        if (this.model.myCards) {
          GameManager.removeAllChildren(this.cardParent);
          var cardArray = this.model.myCards;
          for (var k = 0; k < cardArray.length; k++) {
            var card = this.model.getCardByData(cardArray[k]);
            if (K.PORTRAIT && false) {
              var cardInstance = cc.instantiate(this.cardPPrefab);
              cardInstance.getComponent("Card").init(card, this.model);
              cardInstance.getComponent("Card").reveal(true);
              this.cardParent.addChild(cardInstance);
              0 == k ? cardInstance.rotation = -10 : 1 == k && (cardInstance.rotation = 10);
            } else {
              var cardInstance = cc.instantiate(this.cardPrefab);
              cardInstance.getComponent("Card").init(card, this.model);
              cardInstance.getComponent("Card").reveal(true);
              this.cardParent.addChild(cardInstance);
            }
          }
          0 == cardArray.length && this.model && this.model.gameData ? this.node.getChildByName("vari").getComponent(cc.Label).string = this.model.gameData.raw.roomConfig.channelVariation : this.node.getChildByName("vari").getComponent(cc.Label).string = "";
        } else this.model && this.model.gameData ? this.node.getChildByName("vari").getComponent(cc.Label).string = this.model.gameData.raw.roomConfig.channelVariation : this.node.getChildByName("vari").getComponent(cc.Label).string = "";
      },
      removeCards: function removeCards(data) {
        GameManager.removeAllChildren(this.cardParent);
        this.model && this.model.gameData ? this.node.getChildByName("vari").getComponent(cc.Label).string = this.model.gameData.raw.roomConfig.channelVariation : this.node.getChildByName("vari").getComponent(cc.Label).string = "";
      },
      playAudio: function playAudio(sound) {
        this.model.gameData.settings.muteGameSound || GameManager.playSound(sound);
      },
      showAlert: function showAlert(val) {
        this.turnAlert.active = val;
        val && this.playAudio(K.Sounds.turnSoundTopBar);
      },
      setTableColor: function setTableColor() {
        if (!!this.model && !!this.model.gameData) {
          var col = this.model.gameData.settings.tableColor + "";
          void 0 !== col || null !== col;
        }
      },
      joinSimilarTable: function joinSimilarTable() {
        GameManager.joinSimilar();
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  TableTheme: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "28d3f0cxCBJIbK6ZsI0QQwF", "TableTheme");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var CheckBoxType = require("Checkbox");
    var GameScreen = require("GameScreen");
    var GameData = require("ResponseTypes").GameData;
    var JoinSimilar = require("PostTypes").JoinSimilar;
    var Toggle = require("Toggle");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        pokerPresenter: {
          default: null,
          type: cc.Node
        },
        tablePreview: {
          default: null,
          type: cc.Sprite
        },
        tableBgPreview: {
          default: null,
          type: cc.Sprite
        },
        cardPreview: {
          default: null,
          type: cc.Sprite
        },
        cardBackPreview: {
          default: null,
          type: cc.Sprite
        },
        tableTab: {
          default: null,
          type: cc.Node
        },
        cardTab: {
          default: null,
          type: cc.Node
        },
        tableBgTab: {
          default: null,
          type: cc.Node
        },
        cardBackTab: {
          default: null,
          type: cc.Node
        },
        content: {
          default: null,
          type: cc.Node
        },
        template: {
          default: null,
          type: cc.Node
        },
        template2: {
          default: null,
          type: cc.Node
        },
        template3: {
          default: null,
          type: cc.Node
        },
        template4: {
          default: null,
          type: cc.Node
        },
        tableImageSelected: 0,
        tableBgImageSelected: 0,
        cardBackImageSelected: 0,
        tableImageSelectedId: 0,
        tableBgImageSelectedId: 0,
        cardBackImageSelectedId: 0
      },
      onLoad: function onLoad() {
        this.isTournament = this.pokerPresenter.getComponent("PokerPresenter").isTournament();
        this.onTableTab();
        this.tablePreview.spriteFrame = (this.isTournament ? GameManager.tableImagesTour : GameManager.tableImages)[this.tableImageSelected];
        for (var i = 0; i < (this.isTournament ? GameManager.cardBackImagesTour : GameManager.cardBackImages).length; i++) {
          var stickerImages = (this.isTournament ? GameManager.cardBackImagesTour : GameManager.cardBackImages)[i];
          if (this.isTournament) {
            if ("" != GameManager.user.defaultTourCard && GameManager.user.defaultTourCard._id) {
              if (stickerImages.___data._id == GameManager.user.defaultTourCard._id) {
                this.cardBackImageSelected = i;
                this.cardBackImageSelectedId = stickerImages.___data._id;
              }
            } else if (0 == i) {
              this.cardBackImageSelected = i;
              this.cardBackImageSelectedId = stickerImages.___data._id;
            }
          } else if ("" != GameManager.user.defaultCard && GameManager.user.defaultCard._id) {
            if (stickerImages.___data._id == GameManager.user.defaultCard._id) {
              this.cardBackImageSelected = i;
              this.cardBackImageSelectedId = stickerImages.___data._id;
            }
          } else if (0 == i) {
            this.cardBackImageSelected = i;
            this.cardBackImageSelectedId = stickerImages.___data._id;
          }
        }
        this.cardBackPreview.spriteFrame = (this.isTournament ? GameManager.cardBackImagesTour : GameManager.cardBackImages)[this.cardBackImageSelected];
        for (var i = 0; i < (this.isTournament ? GameManager.tableBgImagesTour : GameManager.tableBgImages).length; i++) {
          var _stickerImages = (this.isTournament ? GameManager.tableBgImagesTour : GameManager.tableBgImages)[i];
          if (this.isTournament) {
            if ("" != GameManager.user.defaultTourGameBackground && GameManager.user.defaultTourGameBackground._id) {
              if (_stickerImages.___data._id == GameManager.user.defaultTourGameBackground._id) {
                this.tableBgImageSelected = i;
                this.tableBgImageSelectedId = _stickerImages.___data._id;
              }
            } else if (0 == i) {
              this.tableBgImageSelected = i;
              this.tableBgImageSelectedId = _stickerImages.___data._id;
            }
          } else if ("" != GameManager.user.defaultGameBackground && GameManager.user.defaultGameBackground._id) {
            if (_stickerImages.___data._id == GameManager.user.defaultGameBackground._id) {
              this.tableBgImageSelected = i;
              this.tableBgImageSelectedId = _stickerImages.___data._id;
            }
          } else if (0 == i) {
            this.tableBgImageSelected = i;
            this.tableBgImageSelectedId = _stickerImages.___data._id;
          }
        }
        this.tableBgPreview.spriteFrame = (this.isTournament ? GameManager.tableBgImagesTour : GameManager.tableBgImages)[this.tableBgImageSelected];
      },
      onTableTab: function onTableTab() {
        var color = cc.Color.BLACK;
        this.tableTab.children[0].active = true;
        this.cardTab.children[0].active = false;
        this.tableBgTab.children[0].active = false;
        this.cardBackTab.children[0].active = false;
        this.content.removeAllChildren(true);
        for (var i = 0; i < (this.isTournament ? GameManager.tableImagesTour : GameManager.tableImages).length; i++) {
          var stickerImages = (this.isTournament ? GameManager.tableImagesTour : GameManager.tableImages)[i];
          var poolObject = cc.instantiate(this.template);
          poolObject.active = true;
          poolObject.y = 0;
          poolObject.children[0].getComponent(cc.Sprite).spriteFrame = stickerImages;
          poolObject.children[1].getComponent(cc.Label).string = stickerImages.___data.name;
          poolObject.getComponent(cc.Button).clickEvents[0].customEventData = stickerImages.___data;
          poolObject.parent = this.content;
          if (this.isTournament) {
            if ("" != GameManager.user.defaultTourTheme && GameManager.user.defaultTourTheme._id) {
              if (stickerImages.___data._id == GameManager.user.defaultTourTheme._id) {
                poolObject.children[2].active = true;
                this.tableImageSelected = i;
                this.tableImageSelectedId = stickerImages.___data._id;
              }
            } else if (0 == i) {
              poolObject.children[2].active = true;
              this.tableImageSelected = i;
              this.tableImageSelectedId = stickerImages.___data._id;
            }
          } else if ("" != GameManager.user.defaultTheme && GameManager.user.defaultTheme._id) {
            if (stickerImages.___data._id == GameManager.user.defaultTheme._id) {
              poolObject.children[2].active = true;
              this.tableImageSelected = i;
              this.tableImageSelectedId = stickerImages.___data._id;
            }
          } else if (0 == i) {
            poolObject.children[2].active = true;
            this.tableImageSelected = i;
            this.tableImageSelectedId = stickerImages.___data._id;
          }
        }
      },
      onTableBgTab: function onTableBgTab() {
        var color = cc.Color.BLACK;
        this.tableTab.children[0].active = false;
        this.tableBgTab.children[0].active = true;
        this.cardTab.children[0].active = false;
        this.cardBackTab.children[0].active = false;
        this.content.removeAllChildren(true);
        for (var i = 0; i < (this.isTournament ? GameManager.tableBgImagesTour : GameManager.tableBgImages).length; i++) {
          var stickerImages = (this.isTournament ? GameManager.tableBgImagesTour : GameManager.tableBgImages)[i];
          var poolObject = cc.instantiate(this.template4);
          poolObject.active = true;
          poolObject.y = 0;
          poolObject.children[0].getComponent(cc.Sprite).spriteFrame = stickerImages;
          poolObject.children[1].getComponent(cc.Label).string = stickerImages.___data.name;
          poolObject.getComponent(cc.Button).clickEvents[0].customEventData = stickerImages.___data;
          poolObject.parent = this.content;
          if (this.isTournament) {
            if ("" != GameManager.user.defaultTourGameBackground && GameManager.user.defaultTourGameBackground._id) {
              if (stickerImages.___data._id == GameManager.user.defaultTourGameBackground._id) {
                poolObject.children[2].active = true;
                this.tableBgImageSelected = i;
                this.tableBgImageSelectedId = stickerImages.___data._id;
              }
            } else if (0 == i) {
              poolObject.children[2].active = true;
              this.tableBgImageSelected = i;
              this.tableBgImageSelectedId = stickerImages.___data._id;
            }
          } else if ("" != GameManager.user.defaultGameBackground && GameManager.user.defaultGameBackground._id) {
            if (stickerImages.___data._id == GameManager.user.defaultGameBackground._id) {
              poolObject.children[2].active = true;
              this.tableBgImageSelected = i;
              this.tableBgImageSelectedId = stickerImages.___data._id;
            }
          } else if (0 == i) {
            poolObject.children[2].active = true;
            this.tableBgImageSelected = i;
            this.tableBgImageSelectedId = stickerImages.___data._id;
          }
        }
      },
      onCardTab: function onCardTab() {
        var color = cc.Color.BLACK;
        this.tableTab.children[0].active = false;
        this.cardTab.children[0].active = true;
        this.tableBgTab.children[0].active = false;
        this.cardBackTab.children[0].active = false;
      },
      onCardBackTab: function onCardBackTab() {
        var color = cc.Color.BLACK;
        this.tableTab.children[0].active = false;
        this.cardTab.children[0].active = false;
        this.tableBgTab.children[0].active = false;
        this.cardBackTab.children[0].active = true;
        this.content.removeAllChildren(true);
        for (var i = 0; i < (this.isTournament ? GameManager.cardBackImagesTour : GameManager.cardBackImages).length; i++) {
          var stickerImages = (this.isTournament ? GameManager.cardBackImagesTour : GameManager.cardBackImages)[i];
          var poolObject = cc.instantiate(this.template3);
          poolObject.active = true;
          poolObject.y = 0;
          poolObject.children[0].getComponent(cc.Sprite).spriteFrame = stickerImages;
          poolObject.children[1].getComponent(cc.Label).string = stickerImages.___data.name;
          poolObject.getComponent(cc.Button).clickEvents[0].customEventData = stickerImages.___data;
          poolObject.parent = this.content;
          if (this.isTournament) {
            if ("" != GameManager.user.defaultTourCard && GameManager.user.defaultTourCard._id) {
              if (stickerImages.___data._id == GameManager.user.defaultTourCard._id) {
                poolObject.children[2].active = true;
                this.cardBackImageSelected = i;
                this.cardBackImageSelectedId = stickerImages.___data._id;
              }
            } else if (0 == i) {
              poolObject.children[2].active = true;
              this.cardBackImageSelected = i;
              this.cardBackImageSelectedId = stickerImages.___data._id;
            }
          } else if ("" != GameManager.user.defaultCard && GameManager.user.defaultCard._id) {
            if (stickerImages.___data._id == GameManager.user.defaultCard._id) {
              poolObject.children[2].active = true;
              this.cardBackImageSelected = i;
              this.cardBackImageSelectedId = stickerImages.___data._id;
            }
          } else if (0 == i) {
            poolObject.children[2].active = true;
            this.cardBackImageSelected = i;
            this.cardBackImageSelectedId = stickerImages.___data._id;
          }
        }
      },
      onSelectTable: function onSelectTable(event, msg) {
        this.content.children.forEach(function(elem) {
          elem == event.target ? elem.children[2].active = true : elem.children[2].active = false;
        }, this);
        this.tablePreview.spriteFrame = (this.isTournament ? GameManager.tableImagesTour : GameManager.tableImages)[msg.___id];
        this.tableImageSelected = msg.___id;
        this.tableImageSelectedId = msg._id;
      },
      onSelectTableBg: function onSelectTableBg(event, msg) {
        this.content.children.forEach(function(elem) {
          elem == event.target ? elem.children[2].active = true : elem.children[2].active = false;
        }, this);
        this.tableBgPreview.spriteFrame = (this.isTournament ? GameManager.tableBgImagesTour : GameManager.tableBgImages)[msg.___id];
        this.tableBgImageSelected = msg.___id;
        this.tableBgImageSelectedId = msg._id;
      },
      onSelectCard: function onSelectCard(event, msg) {},
      onSelectCardBack: function onSelectCardBack(event, msg) {
        this.content.children.forEach(function(elem) {
          elem == event.target ? elem.children[2].active = true : elem.children[2].active = false;
        }, this);
        this.cardBackPreview.spriteFrame = (this.isTournament ? GameManager.cardBackImagesTour : GameManager.cardBackImages)[msg.___id];
        this.cardBackImageSelected = msg.___id;
        this.cardBackImageSelectedId = msg._id;
      },
      onApply: function onApply() {
        var self = this;
        var count = 0;
        if (0 != this.tableImageSelectedId) {
          count += 1;
          ServerCom.pomeloRequest(this.pokerPresenter.getComponent("PokerPresenter").isTournament() ? "connector.entryHandler.playerChangeTourTableTheme" : "connector.entryHandler.playerChangeTableTheme", {
            playerId: GameManager.user.playerId,
            themeId: this.tableImageSelectedId
          }, function(response) {
            console.log("playerChangeTableTheme", response);
            if (self.isTournament) {
              GameManager.user.defaultTourTheme = response.result;
              GameManager.tableImageTour = self.tableImageSelected;
            } else {
              GameManager.user.defaultTheme = response.result;
              GameManager.tableImageTour = GameManager.tableImage = self.tableImageSelected;
            }
            GameManager.emit("updateTableImage");
            count -= 1;
            0 == count && self.onClose();
          });
        }
        if (0 != this.tableBgImageSelectedId) {
          count += 1;
          ServerCom.pomeloRequest(this.isTournament ? "connector.entryHandler.playerChangeTourGameBackground" : "connector.entryHandler.playerChangeGameBackground", {
            playerId: GameManager.user.playerId,
            gameBGId: this.tableBgImageSelectedId
          }, function(response) {
            console.log("playerChangeGameBackground", response);
            if (self.isTournament) {
              GameManager.user.defaultTourGameBackground = response.result;
              GameManager.tableBgImageTour = self.tableBgImageSelected;
            } else {
              GameManager.user.defaultGameBackground = response.result;
              GameManager.tableBgImage = self.tableBgImageSelected;
            }
            GameManager.emit("updateTableBgImage");
            count -= 1;
            0 == count && self.onClose();
          });
        }
        if (0 != self.cardBackImageSelectedId) {
          count += 1;
          ServerCom.pomeloRequest(this.isTournament ? "connector.entryHandler.playerChangeTourCard" : "connector.entryHandler.playerChangeCard", {
            playerId: GameManager.user.playerId,
            cardId: self.cardBackImageSelectedId
          }, function(response) {
            console.log("playerChangeCard", response);
            if (self.isTournament) {
              GameManager.user.defaultTourCard = response.result;
              GameManager.cardBackImageTour = self.cardBackImageSelected;
            } else {
              GameManager.user.defaultCard = response.result;
              GameManager.cardBackImage = self.cardBackImageSelected;
            }
            GameManager.emit("updateCardBackImage");
            count -= 1;
            0 == count && self.onClose();
          });
        }
      },
      onReset: function onReset() {
        this.onLoad();
      },
      onShow: function onShow(data) {
        GameManager.emit("disablePageView");
      },
      onClose: function onClose(data) {
        setTimeout(function() {
          GameManager.emit("showJoinSimlar");
        }, 100);
        GameManager.emit("enablePageView");
        this.node.active = false;
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    GameScreen: "GameScreen",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    Toggle: "Toggle"
  } ],
  Table: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "31bbe/aU79GTYTDPfcg6zJR", "Table");
    "use strict";
    var TableContent = require("TableContent");
    var TableHandler = require("TableHandler");
    var Checkbox = require("Checkbox");
    var PopupManagerType = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var K = require("GameConfig").K;
    var CashRoom = require("CashRoom");
    var Advancefilter = require("Advancefilter");
    var Variation = cc.Enum({
      None: -1,
      TexasHoldem: 1,
      Omaha: 2,
      OmahaHiLo: 3,
      OpenFaceChinesePoker: 4
    });
    var tabType = cc.Enum({
      CashGames: 1,
      SitAndGo: 2,
      Tournaments: 3
    });
    var Table = cc.Class({
      extends: cc.Component,
      properties: {
        handler: {
          default: null,
          type: TableHandler
        },
        filter: {
          default: null,
          type: cc.Node
        },
        tabButtons: {
          default: [],
          type: cc.Sprite
        },
        realMoney: {
          default: null,
          type: cc.Toggle
        },
        variation: Variation.TexasHoldem,
        contentHolder: {
          default: null,
          type: cc.Node
        },
        original: {
          default: null,
          type: cc.Node
        },
        originalOFC: {
          default: null,
          type: cc.Node
        },
        headContent: {
          default: null,
          type: cc.Node
        },
        headContentOFC: {
          default: null,
          type: cc.Node
        },
        stakeFilterLabel: {
          default: null,
          type: cc.Label
        },
        contentPool: {
          default: []
        },
        popUpManager: {
          default: null,
          type: PopupManagerType
        },
        darkColor: {
          default: new cc.Color()
        },
        lightColor: {
          default: new cc.Color()
        },
        isSortedByName: {
          default: false,
          visible: false
        },
        isSortedByVariation: {
          default: false,
          visible: false
        },
        isSortedByType: {
          default: false,
          visible: false
        },
        isSortedByMinBuy: {
          default: false,
          visible: false
        },
        isSortedByMaxBuy: {
          default: false,
          visible: false
        },
        isSortedByMinPlayers: {
          default: false,
          visible: false
        },
        isSortedByMaxPlayers: {
          default: false,
          visible: false
        },
        isSortedByStakes: {
          default: false,
          visible: false
        },
        isSortedByFlops: {
          default: false,
          visible: false
        },
        isSortedByWaiting: {
          default: false,
          visible: false
        },
        isSortedByPots: {
          default: false,
          visible: false
        },
        isSortedByPlayingPlayers: {
          default: false,
          visible: false
        },
        nameReverse: {
          default: false,
          visible: false
        },
        variationReverse: {
          default: false,
          visible: false
        },
        typeReverse: {
          default: false,
          visible: false
        },
        minBuyReverse: {
          default: false,
          visible: false
        },
        maxBuyReverse: {
          default: false,
          visible: false
        },
        minPlayersReverse: {
          default: false,
          visible: false
        },
        maxPlayersReverse: {
          default: false,
          visible: false
        },
        flopReverse: {
          default: false,
          visible: false
        },
        stakeReverse: {
          default: false,
          visible: false
        },
        waitingReverse: {
          default: false,
          visible: false
        },
        potReverse: {
          default: false,
          visible: false
        },
        isSortByJoined: {
          default: true,
          visible: true
        },
        tableJoined: {
          default: false,
          visible: false
        },
        noFavInfo: {
          default: null,
          type: cc.Node
        },
        createRowsCallBack: null,
        tempCallback: null,
        tempSelection: null,
        DropDownData: null,
        roomId: null,
        roomData: null,
        privateToggle: {
          default: null,
          type: cc.Toggle
        }
      },
      statics: {
        filter: 0,
        low: false,
        mid: false,
        high: false
      },
      onLoad: function onLoad() {
        this.lobbyData = [];
        this.currentData = null;
        this.contentHolder.getComponent(cc.Widget).isAlignTop = false;
        this.createRowsCallBack = this.createRows.bind(this);
        GameManager.on("forceReloadTable", this.onForceReloadTable.bind(this));
        GameManager.on("AdvancefilterUpdated", this.onAdvancefilterUpdated.bind(this));
        GameManager.on(K.GameEvents.onReset, function() {
          this.tempSelection = null;
          this.lobbyData = [];
        }.bind(this));
        ServerCom.pomeloBroadcast("roomUpdate", this.onRoomUpdate.bind(this));
        ServerCom.pomeloBroadcast("addNewTable", this.onAddNewTable.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableUpdate, this.onTableUpdate.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableView, this.onSideTableUpdate.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.removeTable, this.removeTable.bind(this));
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.addTable, this.addTable.bind(this));
        cc.systemEvent.on("leaveLobby", this.leaveLobby, this);
        cc.systemEvent.on(LocalizedManager.LanguageDidChangeEvent, this.onTableUpdateWithLang, this);
        this.isSortedByStakes = true;
        this.stakeReverse = true;
        !GameManager.isMobile;
        this.resetAllBools();
        this.isSortedByStakes = true;
        this.stakeReverse = true;
        this.applyFilterCB = this.applyFilter.bind(this);
      },
      registerUPandDOWN: function registerUPandDOWN() {
        return;
        var enterKeyRef;
      },
      leaveLobby: function leaveLobby() {},
      scroll: function scroll(val) {
        if (val == cc.KEY.enter) {
          TableContent.prevSelection.dblClk = true;
          TableContent.prevSelection.node.emit("touchstart");
          return;
        }
        var tempArray = this.contentHolder.children;
        var i;
        for (i = 0; i < tempArray.length; i++) if (TableContent.prevSelection == tempArray[i].getComponent("TableContent")) break;
        val = val == cc.KEY.up ? -1 : 1;
        var index = i + val;
        index > -1 && index < tempArray.length && tempArray[i + val].getComponent("TableContent").onClick();
      },
      onForceReloadTable: function onForceReloadTable() {
        TableContent.prevSelection = null;
        var inst = this;
        var isReal = true;
        var key = isReal + "" + this.variation;
        if (this.lobbyData[key] && false) {
          inst.handler.contents = this.lobbyData[key];
          inst.applyFilter(true, false);
          inst.tables.string && inst.handler.contents;
        } else this.handler.getTableData(true, "All", "All", function(response) {
          if (response.success) {
            inst.handler.contents = inst.filterByTournamentType(response.result);
            inst.lobbyData[key] = inst.handler.contents;
            inst.applyFilter(true);
            inst.tables.string && inst.handler.contents;
          }
        }, null);
      },
      initDropDowns: function initDropDowns(data) {
        "All" !== data.playersRequired[0] && data.playersRequired.splice(0, 0, "All");
        var arr = [ "All", 2, 3, 4, 5, 6, 7, 8, 9 ];
        this.maxPlayersDropdown.setContent(arr);
      },
      setFavTable: function setFavTable() {
        GameManager.playSound(K.Sounds.click);
        if (GameManager.isMobile) return;
        var selection = this.favTableCB.isChecked;
        var favourite = TableContent.prevSelection.channelData.favourite;
        var inst = this;
        TableContent.prevSelection ? selection && !favourite ? this.handler.setFavTable(GameManager.user.playerId, TableContent.prevSelection.channelData._id, TableContent.prevSelection.channelData.channelType, function(response) {
          if (response.success) {
            TableContent.prevSelection.channelData.favourite = true;
            inst.updateFavKeys();
            var ind = inst.handler.contents.indexOf(TableContent.prevSelection.channelData);
            inst.handler.contents[ind].favourite = true;
          } else inst.favTableCB.isChecked = !selection;
        }) : !selection && favourite && this.handler.removeFavTable(GameManager.user.playerId, TableContent.prevSelection.channelData._id, function(response) {
          if (response.success) {
            TableContent.prevSelection.channelData.favourite = false;
            inst.updateFavKeys();
            var ind = inst.handler.contents.indexOf(TableContent.prevSelection.channelData);
            inst.handler.contents[ind].favourite = false;
            inst.favPrimaryCB && inst.favPrimaryCB.isChecked && inst.applyFilter();
          } else this.favTableCB.isChecked = !selection;
        }) : this.favTableCB.isChecked = !selection;
      },
      updateFavKeys: function updateFavKeys() {
        var channelData = TableContent.prevSelection.channelData;
        var data = {
          _id: channelData._id,
          event: "TABLENEWVALUES",
          route: "tableUpdate",
          updated: {
            favourite: channelData.favourite
          }
        };
        this.onTableUpdate(data);
      },
      onAddNewTable: function onAddNewTable(eventData) {
        console.log("onAddNewTable", eventData);
        this.lobbyData = [];
        this.clearContents();
        this.onGetTableData();
      },
      onRoomUpdate: function onRoomUpdate(eventData) {},
      onTableUpdate: function onTableUpdate(eventData) {
        for (var key in this.lobbyData) for (var index = 0; index < this.lobbyData[key].length; index++) if (this.lobbyData[key][index]._id == eventData._id) {
          for (var keys in eventData.updated) this.lobbyData[key][index][keys] = eventData.updated[keys];
          break;
        }
        this.applyFilter(true);
      },
      onSideTableUpdate: function onSideTableUpdate(eventData) {},
      addTable: function addTable(data) {
        this.onGetTableData();
      },
      removeTable: function removeTable(data) {
        this.onGetTableData();
        GameManager.emit("removeTable", data);
      },
      onDisable: function onDisable() {},
      onEnable: function onEnable() {
        TableContent.prevSelection = null;
        TableContent.callback = this.tableContentClick.bind(this);
        this.onGetTableData();
      },
      onEnable2: function onEnable2(data) {
        TableContent.prevSelection = null;
        var inst = this;
        inst.clearContents();
        inst.handler.contents = inst.filterByTournamentType(data);
        var isReal = true;
        var key = isReal + "" + this.variation;
        inst.lobbyData[key] = inst.handler.contents;
        inst.applyFilter(true);
        inst.tables.string && inst.handler.contents && (inst.tables.string = inst.handler.contents.length + " tables");
      },
      onGetTableData: function onGetTableData(channelType) {
        void 0 === channelType && (channelType = null);
        TableContent.prevSelection = null;
        var inst = this;
        var isReal = true;
        var key = isReal + "" + this.variation;
        if (this.lobbyData[key] && false) {
          inst.handler.contents = this.lobbyData[key];
          inst.applyFilter(true);
          inst.tables.string && inst.handler.contents && (inst.tables.string = inst.handler.contents.length + " tables");
        } else {
          inst.clearContents();
          this.handler.getTableData(true, "All", "All", function(response) {
            if (response.success) {
              inst.handler.contents = inst.filterByTournamentType(response.result);
              inst.lobbyData[key] = inst.handler.contents;
              inst.applyFilter(true);
            }
          }, channelType);
        }
      },
      filterByTournamentType: function filterByTournamentType(content, pass, checkSitNGo) {
        void 0 === pass && (pass = true);
        void 0 === checkSitNGo && (checkSitNGo = true);
        if (pass) return content;
        var filteredContent = [];
        for (var i = 0; i < content.length; i++) {
          var flag = content[i].tournamentType === K.TournamentType.SitNGo;
          flag = checkSitNGo ? flag : !flag;
          flag && filteredContent.push(content[i]);
        }
        return filteredContent;
      },
      startPomelo: function startPomelo(address, callback) {
        pomelo.init({
          host: address.gameServer,
          port: address.gamePort,
          log: true
        }, function() {
          null !== callback && void 0 !== callback && callback();
        });
      },
      initGameTypeFilter: function initGameTypeFilter() {
        var gameTypeContent = [ "All", "Standard (30s)", "Turbo (20s)", "Hyper-Turbo (10s)" ];
        this.gameTypeDropdown.setContent(gameTypeContent);
        this.setPlayerFilters();
        var stakesDropdownContent = [ "All", "Low", "Mid", "High" ];
        this.stakesDropdown.setContent(stakesDropdownContent);
        this.gameTypeDropdown.registerCallback(this.applyFilter.bind(this));
        this.stakesDropdown.registerCallback(this.applyFilter.bind(this));
        this.maxPlayersDropdown.registerCallback(this.applyFilter.bind(this));
      },
      setPlayerFilters: function setPlayerFilters() {
        if (this.variation == K.Variation.OpenFaceChinesePoker) var maxPlayersContent = [ "All", 2, 3 ]; else var maxPlayersContent = [ "All", 2, 6, 9 ];
        this.maxPlayersDropdown.setContent(maxPlayersContent);
      },
      populateTable: function populateTable(data) {
        var instance = null;
        var tableContent = null;
        var content = null;
        var child = null;
        var baseContent = this.variation == K.Variation.OpenFaceChinesePoker ? this.originalOFC : this.original;
        if (0 == this.contentPool.length) this.createRows(data); else if (this.contentPool[0].name == baseContent.name) if (this.contentPool.length > data.length) {
          this.destroyRows(data.length);
          this.updateTable(data, data.length);
        } else if (this.contentPool.length < data.length) {
          this.createRows(data);
          this.updateTable(data);
        } else this.updateTable(data); else this.destroyRows(0, this.createRows.bind(this), data);
        null !== tableContent && (tableContent.prevSelection = null);
      },
      updateTable: function updateTable(data, lastIndex) {
        void 0 === lastIndex && (lastIndex = null);
        this.currentData = data;
        lastIndex = !lastIndex ? this.contentPool.length : lastIndex;
        var content = null;
        var entry = null;
        for (var i = 0; i < lastIndex; i++) {
          content = this.contentPool[i].getComponent("TableContent");
          entry = this.makeContent(data[i]);
          content.channelData = data[i];
          content.runItTwiceIcon.active = data[i].isRunItTwice;
          content.setContentText(entry);
          i % 2 === 0;
          if (content.joinEffect) if (-1 !== this.handler.joinTableList.indexOf(content.channelData._id)) {
            content.joinEffect.active = true;
            content.textFields.forEach(function(element) {}, this);
          } else {
            content.joinEffect.active = false;
            TableContent.prevSelection != content && content.textFields.forEach(function(element) {}, this);
          }
          cc.find("Rit_Icon", content.node).active = data[i].isRunItTwice;
          cc.find("Low", content.node).active = false;
          cc.find("Mid", content.node).active = false;
          cc.find("High", content.node).active = false;
          cc.find(data[i].blindsType, content.node).active = true;
          if (content.channelData.channelVariation == K.Variation.TexasHoldem) {
            cc.find("l/vari", content.node).active = true;
            cc.find("l/vari2", content.node).active = false;
          } else if (content.channelData.channelVariation == K.Variation.Omaha) {
            cc.find("l/vari", content.node).active = false;
            cc.find("l/vari2", content.node).active = true;
          }
        }
        this.showSelection();
      },
      createRows: function createRows(data, stop) {
        void 0 === stop && (stop = false);
        var lastIndex = stop ? 0 : data.length;
        if (this.contentPool.length < lastIndex) this.createRow(data[this.contentPool.length], this.contentPool.length, data, this.createRowsCallBack); else {
          this.applySorting();
          this.showSelection();
        }
      },
      createRow: function createRow(entry, i, data, callback) {
        var instance = null;
        var tableContent = null;
        var content = null;
        content = this.makeContent(entry);
        instance = this.variation == K.Variation.OpenFaceChinesePoker ? cc.instantiate(this.originalOFC) : cc.instantiate(this.original);
        instance.setPosition(0, 0);
        instance.active = true;
        this.contentHolder.addChild(instance);
        tableContent = instance.getComponent("TableContent");
        tableContent.setContentText(content);
        tableContent.channelData = entry;
        tableContent.runItTwiceIcon.active = entry.isRunItTwice;
        cc.find("Rit_Icon", tableContent.node).active = entry.isRunItTwice;
        tableContent.table = this;
        instance.active = true;
        this.contentPool.push(instance);
        i % 2 === 0;
        if (tableContent.joinEffect) if (-1 !== this.handler.joinTableList.indexOf(entry._id)) {
          tableContent.joinEffect.active = true;
          tableContent.textFields.forEach(function(element) {}, this);
        } else {
          tableContent.joinEffect.active = false;
          tableContent.textFields.forEach(function(element) {}, this);
        }
        null != callback && callback(data);
      },
      destroyRows: function destroyRows(startIndex, callback, data) {
        void 0 === callback && (callback = null);
        void 0 === data && (data = null);
        if (this.contentPool.length > startIndex) {
          this.contentPool[startIndex].destroy();
          this.contentPool.splice(startIndex, 1);
          this.destroyRows(startIndex, callback, data);
        } else null != callback && callback(data);
      },
      clearContents: function clearContents() {
        for (var index = 0; index < this.contentPool.length; index++) {
          this.contentPool[index].active = false;
          this.contentPool[index].destroy();
        }
        this.contentPool = [];
      },
      refreshSideTable: function refreshSideTable(downloadAgain) {
        void 0 === downloadAgain && (downloadAgain = true);
        this.selectedTableDetails.active = true;
        this.selectedTableDetailsTour.active = false;
        if (null == TableContent.prevSelection || 0 == this.contentPool.length) {
          this.disableSideTable(true);
          return;
        }
        this.disableSideTable(false);
        !GameManager.isMobile && TableContent.prevSelection.channelData.favourite ? this.favTableCB.isChecked = true : !!GameManager.isMobile || (this.favTableCB.isChecked = false);
        if (downloadAgain) {
          this.currentSideTableData = null;
          this.handler.refreshSideTable(TableContent.prevSelection.channelData, function(response) {
            this.setSideTableData(response);
          }.bind(this), function(response) {});
        } else this.setSideTableData(this.currentSideTableData);
      },
      getFilteredContent: function getFilteredContent() {
        var content = [];
        for (var i = 0; i < this.contentPool.length; i++) content.push(this.contentPool[i].getComponent("TableContent").channelData);
        return content;
      },
      onSortByName: function onSortByName() {
        this.nameReverse = !this.nameReverse;
        this.removeAllSorting();
        this.isSortedByName = true;
        this.applyFilter();
      },
      onSortByNameSound: function onSortByNameSound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByName();
      },
      onSortByStakes: function onSortByStakes() {
        this.stakeReverse = !this.stakeReverse;
        this.removeAllSorting();
        this.isSortedByStakes = true;
        this.applyFilter();
      },
      onSortByStakesSound: function onSortByStakesSound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByStakes();
      },
      onSortByVariation: function onSortByVariation() {
        this.variationReverse = !this.variationReverse;
        this.removeAllSorting();
        this.isSortedByVariation = true;
        this.applyFilter();
      },
      onSortByVariationSound: function onSortByVariationSound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByVariation();
      },
      onSortByType: function onSortByType() {
        this.typeReverse = !this.typeReverse;
        this.removeAllSorting();
        this.isSortedByType = true;
        this.applyFilter();
      },
      onSortByMinBuy: function onSortByMinBuy() {
        this.minBuyReverse = !this.minBuyReverse;
        this.removeAllSorting();
        this.isSortedByMinBuy = true;
        this.applyFilter();
      },
      onSortByMinBuySound: function onSortByMinBuySound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByMinBuy();
      },
      onSortByMaxBuy: function onSortByMaxBuy() {
        this.maxBuyReverse = !this.maxBuyReverse;
        this.removeAllSorting();
        this.isSortedByMaxBuy = true;
        this.applyFilter();
      },
      onSortByMaxBuySound: function onSortByMaxBuySound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByMaxBuy();
      },
      onSortByPlayers: function onSortByPlayers() {
        this.maxPlayersReverse = !this.maxPlayersReverse;
        this.removeAllSorting();
        this.isSortedByMaxPlayers = true;
        this.applyFilter();
      },
      onSortByPlayersSound: function onSortByPlayersSound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByPlayers();
      },
      onSortByFlops: function onSortByFlops() {
        this.flopReverse = !this.flopReverse;
        this.removeAllSorting();
        this.isSortedByFlops = true;
        this.applyFilter();
      },
      onSortByFlopsSound: function onSortByFlopsSound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByFlops();
      },
      onSortByPots: function onSortByPots() {
        this.potReverse = !this.potReverse;
        this.removeAllSorting();
        this.isSortedByPots = true;
        this.applyFilter();
      },
      onSortByWaitingSound: function onSortByWaitingSound() {
        GameManager.playSound(K.Sounds.click);
        this.onSortByWaitingPlayers();
      },
      onSortByWaitingPlayers: function onSortByWaitingPlayers() {
        this.waitingReverse = !this.waitingReverse;
        this.removeAllSorting();
        this.isSortedByWaiting = true;
        this.applyFilter();
      },
      onSortByMinPlayers: function onSortByMinPlayers() {
        this.removeAllSorting();
        this.isSortedByMinPlayers = true;
        this.applyFilter();
      },
      onSortByMaxPlayers: function onSortByMaxPlayers() {
        this.removeAllSorting();
        this.isSortedByMaxPlayers = true;
        this.applyFilter();
      },
      sortByName: function sortByName() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.nameReverse, "channelName");
        this.updateTable(newContent);
        this.nameReverse = !this.nameReverse;
      },
      sortByStakes: function sortByStakes() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.stakeReverse, "smallBlind");
        this.updateTable(newContent);
        this.stakeReverse = !this.stakeReverse;
      },
      sortByVariation: function sortByVariation() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.variationReverse, "channelVariation");
        this.updateTable(newContent);
        this.variationReverse = !this.variationReverse;
      },
      sortByType: function sortByType() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.typeReverse, "turnTime");
        this.updateTable(newContent);
        this.typeReverse = !this.typeReverse;
      },
      sortByMinBuy: function sortByMinBuy() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.minBuyReverse, "minBuyIn");
        this.updateTable(newContent);
        this.minBuyReverse = !this.minBuyReverse;
      },
      sortByMaxBuy: function sortByMaxBuy() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.maxBuyReverse, "maxBuyIn");
        this.updateTable(newContent);
        this.maxBuyReverse = !this.maxBuyReverse;
      },
      sortByPlayers: function sortByPlayers() {
        this.sortByMaxPlayers();
      },
      sortByFlops: function sortByFlops() {
        this.isSortedByFlops = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.flopReverse, "flopPercent");
        this.updateTable(newContent);
        this.flopReverse = !this.flopReverse;
      },
      sortByPots: function sortByPots() {
        this.isSortedByPots = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByString(newContent, this.potReverse, "avgStack");
        this.updateTable(newContent);
        this.potReverse = !this.potReverse;
      },
      sortByPlayingPlayers: function sortByPlayingPlayers() {
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, true, "playingPlayers");
        this.updateTable(newContent);
      },
      sortByWaitingPlayers: function sortByWaitingPlayers() {
        this.isSortedByWaiting = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.waitingReverse, "queuePlayers");
        this.updateTable(newContent);
        this.waitingReverse = !this.waitingReverse;
      },
      sortByMinPlayers: function sortByMinPlayers() {
        this.isSortedByMinPlayers = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.minPlayersReverse, "minPlayers");
        this.updateTable(newContent);
        this.minPlayersReverse = !this.minPlayersReverse;
      },
      sortByMaxPlayers: function sortByMaxPlayers() {
        this.isSortedByMaxPlayers = true;
        newContent = [];
        var newContent = this.getFilteredContent();
        newContent = this.handler.sortByNumber(newContent, this.maxPlayersReverse, "maxPlayers");
        this.updateTable(newContent);
        this.maxPlayersReverse = !this.maxPlayersReverse;
      },
      sortByJoined: function sortByJoined() {
        this.isSortByJoined = true;
        var newContent = [];
        newContent = this.getFilteredContent();
        newContent = this.handler.sortByJoined(newContent);
        this.updateTable(newContent);
        this.tableJoined = !this.tableJoined;
      },
      resetAllBools: function resetAllBools() {
        this.nameReverse = false;
        this.stakeReverse = false;
        this.variationReverse = false;
        this.typeReverse = false;
        this.minBuyReverse = false;
        this.maxBuyReverse = false;
        this.minPlayersReverse = false;
        this.maxPlayersReverse = false;
        this.flopReverse = false;
        this.waitingReverse = false;
        this.potReverse = false;
      },
      removeAllSorting: function removeAllSorting() {
        this.isSortedByName = false;
        this.isSortedByStakes = false;
        this.isSortedByFlops = false;
        this.isSortedByWaiting = false;
        this.isSortedByVariation = false;
        this.isSortedByType = false;
        this.isSortedByMinBuy = false;
        this.isSortedByMaxBuy = false;
        this.isSortedByMinPlayers = false;
        this.isSortedByMaxPlayers = false;
        this.isSortedByPots = false;
        this.isSortedByPlayingPlayers = false;
      },
      applySorting: function applySorting() {
        if (this.isSortedByPlayingPlayers) {
          this.sortByPlayingPlayers();
          this.scheduleOnce(function() {
            this.isSortedByPlayingPlayers = false;
          }.bind(this), 1);
        }
        if (this.isSortedByName) {
          this.nameReverse = !this.nameReverse;
          this.sortByName();
        }
        if (this.isSortedByStakes) {
          this.stakeReverse = !this.stakeReverse;
          this.sortByStakes();
        }
        if (this.isSortedByFlops) {
          this.flopReverse = !this.flopReverse;
          this.sortByFlops();
        }
        if (this.isSortedByWaiting) {
          this.waitingReverse = !this.waitingReverse;
          this.sortByWaitingPlayers();
        }
        if (this.isSortedByVariation) {
          this.variationReverse = !this.variationReverse;
          this.sortByVariation();
        }
        if (this.isSortedByType) {
          this.typeReverse = !this.typeReverse;
          this.sortByType();
        }
        if (this.isSortedByMinBuy) {
          this.minBuyReverse = !this.minBuyReverse;
          this.sortByMinBuy();
        }
        if (this.isSortedByMaxBuy) {
          this.maxBuyReverse = !this.maxBuyReverse;
          this.sortByMaxBuy();
        }
        if (this.isSortedByMinPlayers) {
          this.minPlayersReverse = !this.minPlayersReverse;
          this.sortByMinPlayers();
        }
        if (this.isSortedByMaxPlayers) {
          this.maxPlayersReverse = !this.maxPlayersReverse;
          this.sortByMaxPlayers();
        }
        if (this.isSortedByPots) {
          this.potReverse = !this.potReverse;
          this.sortByPots();
        }
        if (this.isSortByJoined) {
          this.tableJoined = !this.tableJoined;
          this.sortByJoined();
        }
      },
      applyFilter: function applyFilter(isRequested) {
        void 0 === isRequested && (isRequested = false);
        console.log("CashRoom.isShowHoldem", CashRoom.isShowHoldem);
        console.log("CashRoom.isShowPLO", CashRoom.isShowPLO);
        console.log("CashRoom.isShowAllIn", CashRoom.isShowAllIn);
        console.log(Advancefilter.config);
        var inst = this;
        var hideFT = this.hideFullTablesCB.isChecked;
        var getFav = !!this.favPrimaryCB && this.favPrimaryCB.isChecked;
        var game, stakes, maxPl;
        var privateChecked = false;
        game = stakes = maxPl = (GameManager.isMobile, "All");
        if (!!this.handler.contents && this.handler.contents.length > 0) {
          var finalContent = [];
          var flag = true;
          var content = null;
          for (var i = 0; i < this.handler.contents.length; i++) {
            content = this.handler.contents[i];
            flag = true;
            if (hideFT) {
              var playingPlayers = content.channelType == K.ChannelType.Tournament ? content.enrolledPlayers : content.playingPlayers;
              var maxPlayers = content.channelType == K.ChannelType.Tournament ? content.maxPlayersForTournament : content.maxPlayers;
              flag = playingPlayers < maxPlayers;
            }
            getFav && (flag = flag && content.favourite);
            privateChecked && (flag = flag && "true" == content.isPrivateTabel);
            flag = flag && this.isValidByGameType(game, content.turnTime);
            flag = this.variation == K.Variation.OpenFaceChinesePoker ? flag && this.isValidByStakesOFC(content.chipsPointRatio, stakes) : flag && this.isValidByStakes(content.smallBlind, stakes);
            flag = flag && this.isValidByMaxPlayers(maxPl, content.maxPlayers);
            if (Table.low || Table.mid || Table.high) {
              var buyinFilterHit = false;
              Table.low && "Low" == content.blindsType && (buyinFilterHit = true);
              Table.mid && "Mid" == content.blindsType && (buyinFilterHit = true);
              Table.high && "High" == content.blindsType && (buyinFilterHit = true);
              buyinFilterHit || (flag = false);
            }
            CashRoom.isShowHoldem ? "Texas Hold\u2019em" == content.channelVariation && true != content.isAllInAndFold || (flag = false) : CashRoom.isShowPLO && ("Omaha" == content.channelVariation && true != content.isAllInAndFold || (flag = false));
            CashRoom.isShowAllIn && (true == content.isAllInAndFold || (flag = false));
            if (flag) {
              var adHit = false;
              if (Advancefilter.config.enabled) {
                Advancefilter.config.format["rit"] && content.isRunItTwice && (adHit = true);
                "" != Advancefilter.config.stakes["min"] && "" != Advancefilter.config.stakes["max"] ? content.minBuyIn >= Number(Advancefilter.config.stakes["min"]) && content.minBuyIn <= Number(Advancefilter.config.stakes["max"]) && (adHit = true) : "" != Advancefilter.config.stakes["max"] && content.minBuyIn <= Number(Advancefilter.config.stakes["max"]) ? adHit = true : "" != Advancefilter.config.stakes["min"] && content.minBuyIn >= Number(Advancefilter.config.stakes["min"]) && (adHit = true);
                if (!adHit) continue;
              }
            }
            flag && finalContent.push(content);
          }
          finalContent = this.handler.sortByJoined(finalContent);
          this.populateTable(finalContent);
          this.applySorting();
          GameManager.isMobile || this.disableSideTable(0 == finalContent.length, false, true);
        } else {
          this.clearContents();
          isRequested = "boolean" == typeof isRequested && isRequested;
          GameManager.isMobile || this.disableSideTable(true, false, isRequested);
        }
      },
      showSelection: function showSelection() {
        var inst = this;
        if (inst.contentPool.length > 0) {
          if (null == inst.tempSelection || inst.tempSelection >= inst.contentPool.length) inst.contentPool[0].getComponent("TableContent").onClick(); else if (null !== inst.tempSelection && inst.tempSelection < inst.contentPool.length) {
            -1 == inst.tempSelection && (inst.tempSelection = 0);
            inst.contentPool[inst.tempSelection].getComponent("TableContent").onClick();
          }
        } else null == inst.tempSelection;
      },
      getFavourites: function getFavourites(initContent, callback) {
        if (this.favPrimaryCB && this.favPrimaryCB.isChecked) {
          var contents = [];
          for (var index = 0; index < initContent.length; index++) initContent[index].favourite && contents.push(initContent[index]);
          callback(contents);
        } else callback(initContent);
      },
      filterByGameType: function filterByGameType(gameType, initContent, callback) {
        var contents = [];
        for (var index = 0; index < initContent.length; index++) this.isValidByGameType(gameType, initContent[index].turnTime) && contents.push(initContent[index]);
        callback(contents);
      },
      isValidByGameType: function isValidByGameType(gameType, val) {
        var returnVal = false;
        switch (gameType) {
         case "Hyper-Turbo (10s)":
          returnVal = 10 == val;
          break;

         case "Turbo (20s)":
          returnVal = 20 == val;
          break;

         case "Standard (30s)":
          returnVal = 30 == val;
          break;

         default:
          returnVal = true;
        }
        return returnVal;
      },
      onTableUpdateWithLang: function onTableUpdateWithLang() {
        console.log("onTableUpdateWithLang", this.currentData);
        if (!this.currentData) return;
        console.log("Update Lang");
        this.updateTable(this.currentData);
      },
      filterByMaxPlayers: function filterByMaxPlayers(maxPlayers, prevContents, callback) {
        var contents = [];
        for (var index = 0; index < prevContents.length; index++) this.isValidByMaxPlayers(maxPlayers, prevContents[index].maxPlayers) && contents.push(prevContents[index]);
        callback(contents);
      },
      isValidByMaxPlayers: function isValidByMaxPlayers(maxPlayers, val) {
        if ("All" == maxPlayers) return true;
        return maxPlayers == val;
      },
      filterByStakes: function filterByStakes(stakes, prevContents, callback) {
        var contents = [];
        if (this.variation == K.Variation.OpenFaceChinesePoker) for (var index = 0; index < prevContents.length; index++) this.isValidByStakesOFC(prevContents[index].chipsPointRatio, stakes) && contents.push(prevContents[index]); else for (var index = 0; index < prevContents.length; index++) this.isValidByStakes(prevContents[index].smallBlind, stakes) && contents.push(prevContents[index]);
        callback(contents);
      },
      isValidByStakes: function isValidByStakes(value, stakes) {
        if ("All" == stakes) return true;
        return "Low" == stakes ? value > 0 && value <= 25 : "Mid" == stakes ? value > 25 && value <= 100 : "High" == stakes && value > 100;
      },
      isValidByStakesOFC: function isValidByStakesOFC(value, stakes) {
        if ("All" == stakes) return true;
        return "Low" == stakes ? value > 0 && value < 10 : "Mid" == stakes ? value >= 10 && value < 20 : "High" == stakes && value >= 20;
      },
      hideFullTables: function hideFullTables(callback) {
        console.log("hide full tables called");
        var val = this.hideFullTablesCB.isChecked;
        var contents = [];
        if (val) {
          for (var index = 0; index < this.handler.contents.length; index++) {
            var content = this.handler.contents[index];
            var playingPlayers = content.channelType == K.ChannelType.Tournament ? content.enrolledPlayers : content.playingPlayers;
            var maxPlayers = content.channelType == K.ChannelType.Tournament ? content.maxPlayersForTournament : content.maxPlayers;
            playingPlayers < content.maxPlayers && contents.push(this.handler.contents[index]);
          }
          callback(contents);
        } else callback(this.handler.contents);
      },
      disableSideTable: function disableSideTable(val, noFav, showMsg) {
        void 0 === val && (val = true);
        void 0 === noFav && (noFav = false);
        void 0 === showMsg && (showMsg = true);
        return;
      },
      showFavInstructions: function showFavInstructions() {
        GameManager.popUpManager.show(PopUpType.InstructionPopup, null, function() {});
      },
      capitalizeFirstLetter: function capitalizeFirstLetter(inp) {
        inp = inp.toLowerCase();
        return inp.replace(/^.{1}/g, inp[0].toUpperCase());
      },
      updateTableVal: function updateTableVal(data) {},
      highlightJoinTable: function highlightJoinTable() {},
      onAll: function onAll() {
        if (Table.low) {
          this.setInActiveButton(this.tabButtons[0], this.tabButtons[0]);
          Table.low = false;
        } else {
          this.setActiveButton(this.tabButtons[0], this.tabButtons[0]);
          Table.low = true;
        }
        this.applyFilter();
      },
      onTurbo: function onTurbo() {
        if (Table.mid) {
          this.setInActiveButton(this.tabButtons[1], this.tabButtons[1]);
          Table.mid = false;
        } else {
          this.setActiveButton(this.tabButtons[1], this.tabButtons[1]);
          Table.mid = true;
        }
        this.applyFilter();
      },
      onRit: function onRit() {
        if (Table.high) {
          this.setInActiveButton(this.tabButtons[2], this.tabButtons[2]);
          Table.high = false;
        } else {
          this.setActiveButton(this.tabButtons[2], this.tabButtons[2]);
          Table.high = true;
        }
        this.applyFilter();
      },
      setActiveButton: function setActiveButton(currBtn) {
        currBtn.node.getChildByName("pressed") && (currBtn.node.getChildByName("pressed").active = true);
      },
      setInActiveButton: function setInActiveButton(currBtn) {
        currBtn.node.getChildByName("pressed") && (currBtn.node.getChildByName("pressed").active = false);
      },
      onAdvancefilterUpdated: function onAdvancefilterUpdated() {
        Advancefilter.config.enabled ? this.filter.color = new cc.color(255, 166, 39) : this.filter.color = new cc.color(255, 255, 255);
        this.applyFilter();
      }
    });
    cc._RF.pop();
  }, {
    Advancefilter: "Advancefilter",
    CashRoom: "CashRoom",
    Checkbox: "Checkbox",
    GameConfig: "GameConfig",
    PopUpManager: "PopUpManager",
    TableContent: "TableContent",
    TableHandler: "TableHandler"
  } ],
  TestSM: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "20fabRrZkdIhZ4e52U3gmS8", "TestSM");
    "use strict";
    var StateMachineType = require("StateMachine");
    cc.Class({
      extends: StateMachineType,
      properties: {},
      onLoad: function onLoad() {}
    });
    cc._RF.pop();
  }, {
    StateMachine: "StateMachine"
  } ],
  TimerUtil: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "cdf3fdsF9ZJaqzHZEnjCQDN", "TimerUtil");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        timer: {
          default: 0,
          visible: false
        },
        maxTimer: {
          default: 5
        }
      },
      onLoad: function onLoad() {},
      onEnable: function onEnable() {
        this.timer = 0;
      },
      onDisable: function onDisable() {},
      update: function update(dt) {
        this.timer += dt;
        this.timer > this.maxTimer && (this.node.active = false);
      }
    });
    cc._RF.pop();
  }, {} ],
  Toggle: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "31f3dzQsYJFM4LkDhTNaEpF", "Toggle");
    "use strict";
    var isInsideSetting = false;
    cc.Class({
      extends: cc.Component,
      properties: {
        state: false,
        defaultState: false,
        on: {
          default: null,
          type: cc.Node
        },
        off: {
          default: null,
          type: cc.Node
        },
        callbacks: []
      },
      onLoad: function onLoad() {
        this.defaultState != this.state && this.onToggle();
      },
      onToggle: function onToggle() {
        this.state = !this.state;
        this.on.active = this.state;
        this.off.active = !this.state;
        this.callbacks.forEach(function(callback) {
          callback(this.state);
        }, this);
        if ("JohnnyMobilePokerModel" == !this.node.parent.parent.parent.parent.parent.parent.parent.name) {
          GameManager.playSound(K.Sounds.click);
          this.isInsideSetting = true;
        }
      },
      registerCallback: function registerCallback(callback) {
        this.callbacks.push(callback);
      },
      deregisterCallback: function deregisterCallback(callback) {
        var index = this.callbacks.indexOf(callback);
        this.callbacks.splice(index, 1);
      }
    });
    cc._RF.pop();
  }, {} ],
  TournamentBreakTimeAddon: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "5686dfNAEBN7KTRl8NvQvnw", "TournamentBreakTimeAddon");
    "use strict";
    var K = require("GameConfig").K;
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerPresenter: {
          default: null,
          type: cc.Node
        },
        addonMyChipsLbl: {
          default: null,
          type: cc.Label
        },
        addonChips: {
          default: null,
          type: cc.Label
        },
        addonHouseFee: {
          default: null,
          type: cc.Label
        },
        addonAmount: {
          default: null,
          type: cc.Label
        },
        addonTimer: {
          default: null,
          type: cc.Label
        },
        confirmButton: {
          default: null,
          type: cc.Button
        },
        rebuyTimerCount: 0
      },
      onLoad: function onLoad() {},
      onDisable: function onDisable() {},
      onEnable: function onEnable() {},
      onBuy: function onBuy() {
        this.pokerPresenter.getComponent("PokerPresenter").model.addon(this.pokerPresenter.getComponent("PokerPresenter").model.gameData.channelId, GameManager.user.playerId, this.pokerPresenter.getComponent("PokerPresenter").model.gameData.raw.tourData.raw._id, function(res) {
          console.log("onAddon", res);
        }, function(error) {
          console.log("onAddon", error);
        });
      },
      onClose: function onClose() {
        this.node.active = false;
      },
      addonDone: function addonDone(data) {
        console.log("addonDone", data);
        this.unschedule(this.updateRebuy);
        this.addonTimer.string = " ";
        this.confirmButton.interactable = false;
      },
      updateRebuy: function updateRebuy() {
        var _this = this;
        this.rebuyTimerCount -= 1e3;
        if (this.rebuyTimerCount <= 0) {
          this.rebuyTimerCount = 0;
          this.unschedule(this.updateRebuy);
          this.confirmButton.interactable = false;
          this.scheduleOnce(function() {
            _this.onClose();
          }, 1);
        }
        this.addonTimer.string = "(" + parseInt(this.rebuyTimerCount / 1e3) + "s)";
      },
      setData: function setData(data) {
        this.data = data;
        this.confirmButton.interactable = true;
        var raw = this.pokerPresenter.getComponent("PokerPresenter").model.gameData.raw.tourData.raw;
        this.addonMyChipsLbl.string = GameManager.user.realChips;
        this.addonChips.string = raw.addonChips;
        this.addonHouseFee.string = raw.addonHouseFee;
        this.addonAmount.string = raw.addonAmount;
        this.rebuyTimerCount = data.breakTime;
        this.updateRebuy();
        this.schedule(this.updateRebuy, 1);
      }
    });
    cc._RF.pop();
  }, {
    GameConfig: "GameConfig"
  } ],
  TournamentBreakTime: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9f96bIRk6pINaToHHHPuLFh", "TournamentBreakTime");
    "use strict";
    var K = require("GameConfig").K;
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerPresenter: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      onDisable: function onDisable() {},
      onEnable: function onEnable() {},
      onClose: function onClose() {
        this.pokerPresenter.getComponent("PokerPresenter").toLobby();
      },
      setData: function setData(data) {
        this.data = data;
        if (this.data.currentBreakDetails) {
          var timeRemaining = GameManager.getMTimeDuration(Number(this.data.currentBreakDetails.breakEndTime));
          cc.find("Timer/t1/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[0][0];
          cc.find("Timer/t2/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[0][1];
          cc.find("Timer/t3/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[1][0];
          cc.find("Timer/t4/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[1][1];
          this.updateBreakEndsTimer();
        } else {
          var _timeRemaining = GameManager.getMTimeDuration(Number(this.data.currentTournamentBreak.breakEndTime));
          cc.find("Timer/t1/v", this.node).getComponent(cc.Label).string = _timeRemaining.split(":")[0][0];
          cc.find("Timer/t2/v", this.node).getComponent(cc.Label).string = _timeRemaining.split(":")[0][1];
          cc.find("Timer/t3/v", this.node).getComponent(cc.Label).string = _timeRemaining.split(":")[1][0];
          cc.find("Timer/t4/v", this.node).getComponent(cc.Label).string = _timeRemaining.split(":")[1][1];
          this.updateBreakEndsTimer();
        }
      },
      updateBreakEndsTimer: function updateBreakEndsTimer() {
        this.unschedule(this.breakEndsTimer);
        this.breakEndsTimer();
        this.schedule(this.breakEndsTimer, 1);
      },
      breakEndsTimer: function breakEndsTimer() {
        if (this.data.currentBreakDetails) {
          var timeRemaining = GameManager.getMTimeDuration(Number(this.data.currentBreakDetails.breakEndTime));
          cc.find("Timer/t1/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[0][0];
          cc.find("Timer/t2/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[0][1];
          cc.find("Timer/t3/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[1][0];
          cc.find("Timer/t4/v", this.node).getComponent(cc.Label).string = timeRemaining.split(":")[1][1];
          if ("00:00" == timeRemaining) {
            this.unschedule(this.breakEndsTimer);
            this.node.active = false;
          }
        } else {
          var _timeRemaining2 = GameManager.getMTimeDuration(Number(this.data.currentTournamentBreak.breakEndTime));
          cc.find("Timer/t1/v", this.node).getComponent(cc.Label).string = _timeRemaining2.split(":")[0][0];
          cc.find("Timer/t2/v", this.node).getComponent(cc.Label).string = _timeRemaining2.split(":")[0][1];
          cc.find("Timer/t3/v", this.node).getComponent(cc.Label).string = _timeRemaining2.split(":")[1][0];
          cc.find("Timer/t4/v", this.node).getComponent(cc.Label).string = _timeRemaining2.split(":")[1][1];
          if ("00:00" == _timeRemaining2) {
            this.unschedule(this.breakEndsTimer);
            this.node.active = false;
          }
        }
      }
    });
    cc._RF.pop();
  }, {
    GameConfig: "GameConfig"
  } ],
  TournamentBuyin: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fcc10AA941GZI6qZB6N7RXB", "TournamentBuyin");
    "use strict";
    var K = require("GameConfig").K;
    var PopUpType = require("../../Utilities/ScreensAndPopUps/PopUps/PopUpManager").PopUpType;
    cc.Class({
      extends: cc.Component,
      properties: {
        chipsLabel: {
          default: null,
          type: cc.Label
        },
        feesLabel: {
          default: null,
          type: cc.Label
        },
        feesLabel2: {
          default: null,
          type: cc.Label
        },
        regButton: {
          default: null,
          type: cc.Node
        },
        addCashButton: {
          default: null,
          type: cc.Node
        },
        type: 0
      },
      onLoad: function onLoad() {},
      onDisable: function onDisable() {},
      onEnable: function onEnable() {},
      onClose: function onClose() {
        this.node.active = false;
      },
      setData: function setData(data, type) {
        console.log(data);
        this.tourItemInfo = data;
        this.type = type;
        var totalFees = (data.raw.entryFees || 0) + (data.raw.houseFees || 0);
        this.chipsLabel.string = Number(GameManager.user.realChips.toFixed(2));
        if (1 == this.type || 2 == this.type) {
          this.feesLabel.string = (data.raw.entryFees || 0) + "(Reg.)";
          this.feesLabel2.string = (data.raw.houseFees || 0) + "(Fee)";
        } else if (3 == this.type) {
          this.feesLabel.string = data.raw.reentry.reentryPrice.reentryAmount + "(Reg.)";
          this.feesLabel2.string = data.raw.reentry.reentryPrice.reentryHouseFee + "(Fee)";
        } else if (4 == this.type) {
          this.feesLabel.string = (data.raw.entryFees || 0) + "(Reg.)";
          this.feesLabel2.string = (data.raw.houseFees || 0) + "(Fee)";
        }
        if (GameManager.user.realChips < totalFees) {
          this.regButton.active = false;
          this.addCashButton.active = true;
        } else {
          this.regButton.active = true;
          this.addCashButton.active = false;
        }
      },
      onReg: function onReg() {
        this.node.active = false;
        1 == this.type ? "SIT N GO" != this.tourItemInfo.raw.tournamentType && window.TournamentLobbyHandler.requestTournamentRegister({
          tournamentId: this.tourItemInfo.id
        }, function(data) {}, function(error) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Error!",
            content: error.info
          }, function() {});
        }) : 2 == this.type ? window.TournamentLobbyHandler.requestTournamentLateRegister({
          tournamentId: this.tourItemInfo.id
        }, function(data) {}, function(error) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Error!",
            content: error.info
          }, function() {});
        }) : 3 == this.type ? window.TournamentLobbyHandler.requestTournamentReEntry({
          tournamentId: this.tourItemInfo.id
        }, function(data) {}, function(error) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Error!",
            content: error.info
          }, function() {});
        }) : 4 == this.type && window.TournamentLobbyHandler.requestTournamentSitAndGoRegister({
          tournamentId: this.tourItemInfo.id
        }, function(data) {}, function(error) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          GameManager.popUpManager.show(PopUpType.CommonDialog, {
            title: "Error!",
            content: error.info
          }, function() {});
        });
      },
      onAddCash: function onAddCash() {
        this.node.active = false;
      }
    });
    cc._RF.pop();
  }, {
    "../../Utilities/ScreensAndPopUps/PopUps/PopUpManager": "PopUpManager",
    GameConfig: "GameConfig"
  } ],
  TournamentDetailsHandInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "89a82N6hVJN5ZoRnIxdVf6j", "TournamentDetailsHandInfo");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        startLbl: {
          default: null,
          type: cc.Label
        },
        stopLbl: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      setValues: function setValues(data) {
        this.startLbl.string = "";
        this.stopLbl.string = "";
      }
    });
    cc._RF.pop();
  }, {} ],
  TournamentDetailsPlayerInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d8feazLgRZJMasIi4imkK8m", "TournamentDetailsPlayerInfo");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        rankLbl: {
          default: null,
          type: cc.Label
        },
        playerIdLbl: {
          default: null,
          type: cc.Label
        },
        ChipsLbl: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      setValues: function setValues(data) {
        this.rankLbl.string = data.rank || "";
        this.playerIdLbl.string = data.userName || "";
        this.ChipsLbl.string = data.chipsWon;
      }
    });
    cc._RF.pop();
  }, {} ],
  TournamentDetailsPrizeInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "b830fHIMSZJkYjha6y+lK28", "TournamentDetailsPrizeInfo");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        placeLbl: {
          default: null,
          type: cc.Label
        },
        awardIdLbl: {
          default: null,
          type: cc.Label
        },
        satelliteTicketLbl: {
          default: null,
          type: cc.Label
        },
        callback: null,
        callbackData: null
      },
      onLoad: function onLoad() {},
      setValues: function setValues(data, prizePool, place, tourType, callback) {
        if (tourType === K.TournamentType.Normal) {
          this.placeLbl.string = place;
          this.awardIdLbl.string = prizePool;
          this.satelliteTicketLbl.string = "";
        } else {
          this.placeLbl.string = place + 1;
          this.awardIdLbl.string = prizePool * data.value / 100;
          this.satelliteTicketLbl.string = data.satelliteTicket || "";
        }
        this.callback = callback;
      },
      setAllPrizeValues: function setAllPrizeValues(data, callback) {
        this.placeLbl.string = data.lowerLimit + "-" + data.upperlimit;
        this.awardIdLbl.string = data.noOfPrizes;
        this.satelliteTicketLbl.string = data.satelliteTicket || "";
        this.callbackData = data.prizes;
        this.callback = callback;
      },
      onClick: function onClick() {
        !this.callback || this.callback(this.callbackData);
      }
    });
    cc._RF.pop();
  }, {} ],
  TournamentHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2d59edfmFtENI/8NwQ0DjCD", "TournamentHandler");
    "use strict";
    var TableHandler = require("TableHandler");
    var TourData = require("PostTypes").Tournament;
    var GameData = require("ResponseTypes").GameData;
    var joinChannel = require("PostTypes").JoinChannel;
    var TableInfo = require("PostTypes").GetRegisteredUsersData;
    var TournamentLobbyInfo = require("PostTypes").GetTournamentLobbyInfo;
    var blindAndPrizeData = require("PostTypes").BlindAndPrize;
    var blindAndPrizeTourData = require("PostTypes").BlindAndPrizeTournament;
    var blindAndPrizeSatelliteData = require("PostTypes").BlindAndPrizeSatellite;
    cc.Class({
      extends: TableHandler,
      onLoad: function onLoad() {
        window.TournamentHandler = this;
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tournamentLobby, this.onTournamentLobbyBroadcast.bind(this));
      },
      registerTournament: function registerTournament(data, callback, error, isLate) {
        var tournament = new TourData(data._id, GameManager.user.playerId, data.gameVersionCount);
        isLate ? ServerCom.pomeloRequest(K.PomeloAPI.lateRegistration, tournament, callback, error, 5e3, false) : ServerCom.pomeloRequest(K.PomeloAPI.registerTournament, tournament, callback, error, 5e3, false);
      },
      refreshSideTable: function refreshSideTable(data, callback, error) {
        var tableInfo = new TableInfo(GameManager.user.playerId, data._id, data.gameVersionCount);
        ServerCom.pomeloRequest(K.PomeloAPI.getUsers, tableInfo, callback, error, 5e3, false);
      },
      tournamentLobbyInfo: function tournamentLobbyInfo(data, callback, error) {
        var inst = this;
        var lobbyInfo = new TournamentLobbyInfo(data._id, data.gameVersionCount);
        var blindPrizeInfo = null;
        switch (data.tournamentType) {
         case K.TournamentType.Normal:
          blindPrizeInfo = this.blindAndPrizeInfoForTournament;
          break;

         case K.TournamentType.Satellite:
          blindPrizeInfo = this.blindAndPrizeInfoForSatellite;
          break;

         case K.TournamentType.SitNGo:
          blindPrizeInfo = this.blindAndPrizeInfo;
        }
        blindPrizeInfo(data, function(newResponse) {
          newResponse.success && ServerCom.pomeloRequest(K.PomeloAPI.getTableStructure, lobbyInfo, function(response) {
            inst.refreshSideTable(data, function(playersResponse) {
              data.playersInfo = playersResponse.result.ranks;
              var newData = {
                tableData: data,
                lobbyInfo: response,
                blindInfo: newResponse.result.blindRule[0] || newResponse.result.blindRule
              };
              if (data.tournamentType == K.TournamentType.Normal) newData.prizeInfo = !newResponse.result.prizeRule || !newResponse.result.prizeRule[0] ? [] : newResponse.result.prizeRule; else if (data.tournamentType == K.TournamentType.Satellite) {
                newData.prizeInfo = {};
                newData.prizeInfo.parentTournament = newResponse.result.parentTournament;
                newData.prizeInfo.usersPerPrize = newResponse.result.usersPerPrize;
              } else newData.prizeInfo = !newResponse.result.prizeRule || !newResponse.result.prizeRule[0] ? [] : newResponse.result.prizeRule[0];
              newData.isPrizeDecided = null === newResponse.result.isPrizeDecided || void 0 === newResponse.result.isPrizeDecided || newResponse.result.isPrizeDecided;
              callback(newData);
            }.bind(this), null);
          }.bind(this), error, 5e3, false, false);
        }, function(err) {});
      },
      deRegisterTournament: function deRegisterTournament(data, callback, error) {
        var tournament = new TourData(data._id, GameManager.user.playerId, data.gameVersionCount);
        ServerCom.pomeloRequest(K.PomeloAPI.deRegisterTournament, tournament, callback, error, 5e3, false);
      },
      checkRegistration: function checkRegistration(data, callback, error) {
        var tournament = new TourData(data._id, GameManager.user.playerId, data.gameVersionCount);
        ServerCom.pomeloRequest(K.PomeloAPI.checkRegistration, tournament, callback, error, 5e3, false);
      },
      blindAndPrizeInfo: function blindAndPrizeInfo(data, callback, error) {
        var blindInfo = new blindAndPrizeData(data.blindRule, data.gameVersionCount, data.prizeRule);
        ServerCom.pomeloRequest(K.PomeloAPI.getBlindAndPrize, blindInfo, callback, error, 5e3, false, false);
      },
      blindAndPrizeInfoForTournament: function blindAndPrizeInfoForTournament(data, callback, error) {
        var randomPlayers = parseInt(Math.random() * (data.maxPlayersForTournament - data.minPlayersForTournament) + data.minPlayersForTournament);
        data.isLateRegistrationOpened || data.state != K.SitNGoState.RUNNING || (randomPlayers = data.enrolledPlayers);
        var blindInfo = new blindAndPrizeTourData(data._id, randomPlayers);
        ServerCom.pomeloRequest(K.PomeloAPI.getBlindPrizeTournament, blindInfo, callback, error, 5e3, false, false);
      },
      rebuyInTournament: function rebuyInTournament(data, callback, error) {
        ServerCom.pomeloRequest(K.PomeloAPI.rebuyInTournament, data, callback, error, 5e3, false, false);
      },
      blindAndPrizeInfoForSatellite: function blindAndPrizeInfoForSatellite(data, callback, error) {
        var blindInfo = new blindAndPrizeSatelliteData(data._id, data.gameVersionCount);
        ServerCom.pomeloRequest(K.PomeloAPI.getBlindAndPrizeForSatellite, blindInfo, callback, error, 5e3, false, false);
      },
      onTournamentLobbyBroadcast: function onTournamentLobbyBroadcast(response) {
        "PRIZEPOOL" == response.event && response.updated && this.emit(K.LobbyEvents.prizePoolUpdated);
      }
    });
    cc._RF.pop();
  }, {
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    TableHandler: "TableHandler"
  } ],
  TournamentInGameInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "95b00j07HpPJIx4HivRfrGo", "TournamentInGameInfo");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TournamentInGameInfo = exports.TOUR_LOBBY_MAIN_TAB = exports.TOUR_LOBBY_TAB = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TournamentResponseTypes_1 = require("../data/TournamentResponseTypes");
    var TOUR_LOBBY_TAB;
    (function(TOUR_LOBBY_TAB) {
      TOUR_LOBBY_TAB[TOUR_LOBBY_TAB["INFO"] = 0] = "INFO";
      TOUR_LOBBY_TAB[TOUR_LOBBY_TAB["TABLE"] = 1] = "TABLE";
      TOUR_LOBBY_TAB[TOUR_LOBBY_TAB["BLIND_STRUCT"] = 2] = "BLIND_STRUCT";
    })(TOUR_LOBBY_TAB = exports.TOUR_LOBBY_TAB || (exports.TOUR_LOBBY_TAB = {}));
    var TOUR_LOBBY_MAIN_TAB;
    (function(TOUR_LOBBY_MAIN_TAB) {
      TOUR_LOBBY_MAIN_TAB[TOUR_LOBBY_MAIN_TAB["STATS"] = 0] = "STATS";
      TOUR_LOBBY_MAIN_TAB[TOUR_LOBBY_MAIN_TAB["TOURNAMENT"] = 1] = "TOURNAMENT";
    })(TOUR_LOBBY_MAIN_TAB = exports.TOUR_LOBBY_MAIN_TAB || (exports.TOUR_LOBBY_MAIN_TAB = {}));
    var TournamentInGameInfo = function(_super) {
      __extends(TournamentInGameInfo, _super);
      function TournamentInGameInfo() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.tournamentName = null;
        _this.desc = null;
        _this.tabBtns = [];
        _this.tabPage = [];
        _this.tabBtnSprite = [];
        _this.labeActiveColor = [];
        _this.tabBtnsMain = [];
        _this.tabPageMain = [];
        _this.tabBtnSpriteMain = [];
        _this.labeActiveColorMain = [];
        return _this;
      }
      TournamentInGameInfo.prototype.setTabActive = function(tab) {
        this.setButtonActive(tab);
        console.log("@@@@@ setTabActive ", tab);
        this.tabPage.forEach(function(page, i) {
          page.active = tab == i;
          console.log("@@@@@ page ", i, "active ", page.active);
        });
      };
      TournamentInGameInfo.prototype.setTabActiveMain = function(tab) {
        this.setButtonActiveMain(tab);
        console.log("@@@@@ setTabActiveMain ", tab);
      };
      TournamentInGameInfo.prototype.setButtonActive = function(btnID) {
        var _this = this;
        this.tabBtns.forEach(function(btn, i) {
          var index = btnID == i ? 0 : 1;
          btn.children[0].color = _this.labeActiveColor[index];
          btn.children[0].getComponent(cc.Label).enableUnderline = btnID == i;
        });
      };
      TournamentInGameInfo.prototype.setButtonActiveMain = function(btnID) {
        var _this = this;
        this.tabBtnsMain.forEach(function(btn, i) {
          var index = btnID == i ? 0 : 1;
          btn.children[0].color = _this.labeActiveColor[index];
          btn.children[0].getComponent(cc.Label).enableUnderline = btnID == i;
        });
      };
      TournamentInGameInfo.prototype.onLoad = function() {
        if (K.GoToTable) return;
        this.setTabActive(0);
        this.setTabActiveMain(0);
        cc.systemEvent.on(K.SocketIOEvent.Lobby.TournamentRefresh, this.onTournamentRefresh.bind(this), this.node);
      };
      TournamentInGameInfo.prototype.onBtnClick = function(event, customEvent) {
        var tab = parseInt(customEvent);
        this.setTabActive(customEvent);
      };
      TournamentInGameInfo.prototype.onBtnClickMain = function(event, customEvent) {
        var tab = parseInt(customEvent);
        this.setTabActiveMain(customEvent);
      };
      TournamentInGameInfo.prototype.onBackBtnClick = function(event, customEvent) {
        this.node.active = false;
      };
      TournamentInGameInfo.prototype.onTournamentResultsWinnerBtnClick = function(event, customEvent) {
        this.tournamentResultsWinner.active = true;
      };
      TournamentInGameInfo.prototype.onTournamentResultsPlacementBtnClick = function(event, customEvent) {
        this.tournamentResultsPlacement.active = true;
      };
      TournamentInGameInfo.prototype.start = function() {
        this.tourData = this.node.parent.parent.getComponent("PokerModel").tourData;
        this.updateData();
      };
      TournamentInGameInfo.prototype.onTournamentUpdated = function(data) {
        console.log(">>>>>>>>>> onTournamentUpdated in game");
        console.log(data);
      };
      TournamentInGameInfo.prototype.onTournamentRefresh = function(data) {
        console.log(">>>>>>>>>> onTournamentRefresh in game");
        if (data && this.tourData && data._id == this.tourData.id) {
          this.tourData = new TournamentResponseTypes_1.Tournament(data);
          this.updateData();
        }
      };
      TournamentInGameInfo.prototype.onEnable = function() {
        this.tourData = this.node.parent.parent.getComponent("PokerModel").tourData;
      };
      TournamentInGameInfo.prototype.updateData = function() {
        if (K.GoToTable) return;
        this.updateInfo();
        this.updateTables();
        this.updatePrize();
        this.updatePositionPaid();
        this.updateBlindAndPayout();
      };
      TournamentInGameInfo.prototype.updateInfo = function() {
        this.tournamentName.string = this.tourData.tournamentName;
        var date = new Date(this.tourData.raw.tournamentStartTime);
        this.tourData.raw.isReentryAllowed ? cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/Reentriesv", this.node).getComponent(cc.Label).string = this.tourData.raw.playerData.reentries + "/" + this.tourData.raw.numberOfReentry : cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/Reentriesv", this.node).getComponent(cc.Label).string = "N/A";
        this.desc.string = date.toLocaleDateString("en-US", {
          day: "numeric",
          month: "short"
        }) + ", " + date.toLocaleTimeString("en-US").substr(0, (date.toLocaleTimeString("en-US") + " ").indexOf(" ")) + "(" + this.tourData.gameVariation + ")";
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/Entrantsv", this.node).getComponent(cc.Label).string = this.tourData.raw.playerRemainingRatio ? this.tourData.raw.playerRemainingRatio.inGamePlayers + "/" + this.tourData.raw.playerRemainingRatio.registeredPlayers : "N/A";
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/Entrantsv2", this.node).getComponent(cc.Label).string = this.tourData.raw.playerRemainingRatio ? this.tourData.raw.maxPlayersAllowed - this.tourData.raw.playerRemainingRatio.inGamePlayers + "Remainning" : "";
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/v", this.node).getComponent(cc.Label).string = this.tourData.raw.currentBlindLevel.smallBlind + "/" + this.tourData.raw.currentBlindLevel.bigBlind + "/" + this.tourData.raw.currentBlindLevel.ante + "(" + this.tourData.raw.currentBlindLevel.level + ")";
        var nextBlindLevel = null;
        for (var i = 0; i < this.tourData.raw.blindRule.blindRuleArr.length; i++) {
          var blindRule = this.tourData.raw.blindRule.blindRuleArr[i];
          if (blindRule.level == this.tourData.raw.currentBlindLevel.level) {
            nextBlindLevel = i == this.tourData.raw.blindRule.blindRuleArr.length - 1 ? this.tourData.raw.blindRule.blindRuleArr[i] : this.tourData.raw.blindRule.blindRuleArr[i + 1];
            break;
          }
        }
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/v2", this.node).getComponent(cc.Label).string = nextBlindLevel.smallBlind + "/" + nextBlindLevel.bigBlind + "/" + nextBlindLevel.ante + "(" + nextBlindLevel.level + ")";
        cc.find("Bg/Stats/GameInfo/Stacks Statistics/Rectangle 2963/v", this.node).getComponent(cc.Label).string = 0 == this.tourData.tablesStack.length ? "N/A" : this.tourData.maxStack;
        cc.find("Bg/Stats/GameInfo/Stacks Statistics/Rectangle 2963/v3", this.node).getComponent(cc.Label).string = 0 == this.tourData.tablesStack.length ? "N/A" : this.tourData.minStack;
        cc.find("Bg/Stats/GameInfo/Stacks Statistics/Rectangle 2963/v2", this.node).getComponent(cc.Label).string = 0 == this.tourData.tablesStack.length ? "N/A" : this.tourData.avgStack;
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/v3", this.node).getComponent(cc.Label).string = "10:00:00";
        console.log("!!!!!!!!!!!! updateInfo", this.tourData.currentBlindLevel);
        this.tourData.currentBlindLevel.nextBlindLevelTime > 0 ? this.updateBlindTimer() : cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/v3", this.node).getComponent(cc.Label).string = "00:00";
        if ("SIT N GO" != this.tourData.raw.tournamentType) {
          this.updateBreakTimer();
          cc.find("Bg/Stats/GameInfo/Level", this.node).active = true;
          cc.find("Bg/Stats/GameInfo/Total Registrations", this.node).active = true;
          cc.find("Bg/Stats/GameInfo/Stacks Statistics", this.node).active = true;
          cc.find("Bg/Stats/GameInfo/Timebreak", this.node).active = true;
          cc.find("Bg/TopBase/MainVariationTab/Detail", this.node).active = true;
          cc.find("Bg/TopBase/MainVariationTab/Stats", this.node).active = true;
          cc.find("Bg/TopBase/MainVariationTab/StatsSitAndGo", this.node).active = false;
          if (this.tourData.raw.isLateEntryOpen) {
            cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/btn/state", this.node).getComponent(cc.Label).string = "Late Reg";
            this.updateEndsInTimer();
          } else cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/btn/state", this.node).getComponent(cc.Label).string = "Running";
        } else {
          cc.find("Bg/TopBase/MainVariationTab/Detail", this.node).active = false;
          cc.find("Bg/TopBase/MainVariationTab/Stats", this.node).active = false;
          cc.find("Bg/TopBase/MainVariationTab/StatsSitAndGo", this.node).active = true;
          cc.find("Bg/Stats/GameInfo/Level", this.node).active = true;
          cc.find("Bg/Stats/GameInfo/Total Registrations", this.node).active = false;
          cc.find("Bg/Stats/GameInfo/Stacks Statistics", this.node).active = true;
          cc.find("Bg/Stats/GameInfo/Timebreak", this.node).active = false;
        }
      };
      TournamentInGameInfo.prototype.updateBlindTimer = function() {
        this.unschedule(this.blindTimer);
        this.blindTimer();
        this.schedule(this.blindTimer, 1);
      };
      TournamentInGameInfo.prototype.blindTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(1e3 * Number(this.tourData.raw.currentBlindLevel.nextBlindLevelTime));
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/v3", this.node).getComponent(cc.Label).string = timeRemaining;
      };
      TournamentInGameInfo.prototype.updateBreakTimer = function() {
        this.unschedule(this.breakTimer);
        this.breakTimer();
        this.schedule(this.breakTimer, 1);
      };
      TournamentInGameInfo.prototype.breakTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(this.tourData.raw.nextBreakDetails.breakStartTime));
        cc.find("Bg/Stats/GameInfo/Timebreak/Rectangle 2963/v", this.node).getComponent(cc.Label).string = timeRemaining;
      };
      TournamentInGameInfo.prototype.updateTables = function() {
        cc.find("scrollView/view/content", this.tabPage[2]).removeAllChildren();
        for (var i = 0; i < this.tourData.tablesStack.length; i++) {
          var tablesStack = this.tourData.tablesStack[i];
          if (tablesStack.playersCount <= 0) continue;
          var instance = null;
          instance = i % 2 == 0 ? cc.instantiate(cc.find("scrollView/view/rule_base", this.tabPage[2])) : cc.instantiate(cc.find("scrollView/view/rule_base2", this.tabPage[2]));
          instance.setPosition(0, 0);
          instance.active = true;
          false;
          cc.find("scrollView/view/content", this.tabPage[2]).addChild(instance);
          cc.find("tableId/frame/tableId", instance).getComponent(cc.Label).string = tablesStack.tableMockName;
          cc.find("players/players", instance).getComponent(cc.Label).string = tablesStack.playersCount;
          cc.find("min/min", instance).getComponent(cc.Label).string = tablesStack.minStack;
          cc.find("max/max", instance).getComponent(cc.Label).string = tablesStack.maxStack;
          instance.___tableId = tablesStack.id.slice(1);
        }
      };
      TournamentInGameInfo.prototype.updatePrize = function() {
        function nth(n) {
          return [ "st", "nd", "rd" ][((n + 90) % 100 - 10) % 10 - 1] || "th";
        }
        cc.find("info_top/v", this.tabPage[1]).getComponent(cc.Label).string = this.tourData.guaranteedValue;
        cc.find("info_top/v1", this.tabPage[1]).getComponent(cc.Label).string = this.tourData.playersPayout.length;
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/Paidv", this.node).getComponent(cc.Label).string = this.tourData.playersPayout.length;
        cc.find("scrollView/view/content", this.tabPage[1]).removeAllChildren();
        var nextPayoutRank = null;
        for (var i = 0; i < this.tourData.raw.playersPayout.length; i++) {
          var playerPayout = this.tourData.raw.playersPayout[i];
          if ("KCOIN" == this.tourData.raw.payoutType || true) {
            var instance = null;
            instance = i % 2 == 0 ? cc.instantiate(cc.find("scrollView/view/list", this.tabPage[1])) : cc.instantiate(cc.find("scrollView/view/list2", this.tabPage[1]));
            0 == i && (cc.find("Bg/Stats/GameInfo/Stacks Statistics/Rectangle 2963/1stprize", this.node).getComponent(cc.Label).string = playerPayout.payout * this.tourData.guaranteedValue / 100);
            instance.setPosition(0, 0);
            instance.active = true;
            cc.find("scrollView/view/content", this.tabPage[1]).addChild(instance);
            cc.find("viewTitle/rank/rank", instance).getComponent(cc.Label).string = playerPayout.rank;
            cc.find("viewTitle/userName/userName", instance).getComponent(cc.Label).string = playerPayout.playerName;
            cc.find("viewTitle/value/value", instance).getComponent(cc.Label).string = playerPayout.payout * this.tourData.guaranteedValue / 100;
          }
          cc.find("Bg/Stats/GameInfo/Stacks Statistics/Rectangle 2963/nextv", this.node).getComponent(cc.Label).string = "N/A";
          if (!nextPayoutRank && "-" != playerPayout.playerId) if (0 == i) nextPayoutRank = "end"; else {
            nextPayoutRank = this.tourData.raw.playersPayout[i - 1];
            cc.find("Bg/Stats/GameInfo/Stacks Statistics/Rectangle 2963/nextv", this.node).getComponent(cc.Label).string = nextPayoutRank.payout * this.tourData.guaranteedValue / 100;
          }
        }
        "KCOIN" == this.tourData.raw.payoutType || true, cc.find("info_top/v2", this.tabPage[1]).getComponent(cc.Label).string = nextPayoutRank ? "end" != nextPayoutRank ? nextPayoutRank.rank + nth(nextPayoutRank.rank) + "-" + nextPayoutRank.payoutAmount : "--" : this.tourData.raw.playersPayout[this.tourData.raw.playersPayout.length - 1].rank + nth(this.tourData.raw.playersPayout[this.tourData.raw.playersPayout.length - 1].rank) + "-" + this.tourData.raw.playersPayout[this.tourData.raw.playersPayout.length - 1].payoutAmount;
      };
      TournamentInGameInfo.prototype.searchPlayerTextChanged = function(text) {
        this.playerFilter = text.trim();
        this.updatePositionPaid();
      };
      TournamentInGameInfo.prototype.getUsernameRe = function(rank, playerName) {
        var re = 0;
        for (var i = rank + 1; i < this.tourData.leaderBoard.length; i++) {
          var leaderBoard = this.tourData.leaderBoard[i];
          leaderBoard.playerName == playerName && (re += 1);
        }
        return 0 == re ? playerName : playerName + "(" + re + ")";
      };
      TournamentInGameInfo.prototype.updatePositionPaid = function() {
        cc.find("scrollView/view/content", this.tabPage[0]).removeAllChildren();
        var myRank = 0;
        for (var i = 0; i < this.tourData.leaderBoard.length; i++) {
          var leaderBoard = this.tourData.leaderBoard[i];
          0 == myRank && leaderBoard.playerId == GameManager.user.playerId && (myRank = i + 1);
          var instance = null;
          instance = i % 2 == 0 ? cc.instantiate(cc.find("scrollView/view/list", this.tabPage[0])) : cc.instantiate(cc.find("scrollView/view/list2", this.tabPage[0]));
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("scrollView/view/content", this.tabPage[0]).addChild(instance);
          "Open To Register" == this.tourData.state ? cc.find("viewTitle/rank/rank", instance).getComponent(cc.Label).string = "1" : cc.find("viewTitle/rank/rank", instance).getComponent(cc.Label).string = i + 1;
          cc.find("viewTitle/userName/userName", instance).getComponent(cc.Label).string = this.getUsernameRe(i, leaderBoard.playerName);
          cc.find("viewTitle/value/value", instance).getComponent(cc.Label).string = leaderBoard.chips;
        }
        if (0 != myRank) {
          cc.find("info_top/v", this.tabPage[0]).getComponent(cc.Label).string = myRank;
          cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/vrank", this.node).getComponent(cc.Label).string = myRank + "/" + this.tourData.leaderBoard.length;
        } else cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/vrank", this.node).getComponent(cc.Label).string = "N/A";
      };
      TournamentInGameInfo.prototype.updateBlindAndPayout = function() {
        cc.find("BlindStruct/ScrollView/view/content", this.tabPage[3]).removeAllChildren();
        for (var i = 0; i < this.tourData.blindRule.blindRuleArr.length; i++) {
          var blindRule = this.tourData.blindRule.blindRuleArr[i];
          var instance = null;
          instance = i % 2 == 0 ? cc.instantiate(cc.find("BlindStruct/ScrollView/view/rule_base", this.tabPage[3])) : cc.instantiate(cc.find("BlindStruct/ScrollView/view/rule_base2", this.tabPage[3]));
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("BlindStruct/ScrollView/view/content", this.tabPage[3]).addChild(instance);
          cc.find("level/level", instance).getComponent(cc.Label).string = blindRule.level;
          cc.find("blind/blind", instance).getComponent(cc.Label).string = blindRule.smallBlind + "/" + blindRule.bigBlind;
          cc.find("ante/ante", instance).getComponent(cc.Label).string = blindRule.ante;
          cc.find("duration/duration", instance).getComponent(cc.Label).string = 60 * blindRule.minutes;
        }
      };
      TournamentInGameInfo.prototype.reset = function() {
        cc.systemEvent.off(K.SocketIOEvent.Lobby.TournamentRefresh);
        this.node && this.node.targetOff && this.node.targetOff(this.node);
      };
      TournamentInGameInfo.prototype.onDestroy = function() {
        cc.systemEvent.off(K.SocketIOEvent.Lobby.TournamentRefresh);
        this.node && this.node.targetOff && this.node.targetOff(this.node);
      };
      TournamentInGameInfo.prototype.updateEndsInTimer = function() {
        this.unschedule(this.endsInTimer);
        this.endsInTimer();
        this.schedule(this.endsInTimer, 1);
      };
      TournamentInGameInfo.prototype.endsInTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(1e3 * Number(this.tourData.raw.lateRegistrationEndTime));
        cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/latev", this.node).getComponent(cc.Label).string = "Ends in " + timeRemaining;
        if ("00:00" == timeRemaining) {
          this.unschedule(this.endsInTimer);
          cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/btn/state", this.node).getComponent(cc.Label).string = "Running";
          cc.find("Bg/Stats/GameInfo/Level/Rectangle 2963/latev", this.node).getComponent(cc.Label).string = "";
        }
      };
      __decorate([ property(cc.Label) ], TournamentInGameInfo.prototype, "tournamentName", void 0);
      __decorate([ property(cc.Label) ], TournamentInGameInfo.prototype, "desc", void 0);
      __decorate([ property(cc.Node) ], TournamentInGameInfo.prototype, "tabBtns", void 0);
      __decorate([ property(cc.Node) ], TournamentInGameInfo.prototype, "tabPage", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentInGameInfo.prototype, "tabBtnSprite", void 0);
      __decorate([ property(cc.Color) ], TournamentInGameInfo.prototype, "labeActiveColor", void 0);
      __decorate([ property(cc.Node) ], TournamentInGameInfo.prototype, "tabBtnsMain", void 0);
      __decorate([ property(cc.Node) ], TournamentInGameInfo.prototype, "tabPageMain", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentInGameInfo.prototype, "tabBtnSpriteMain", void 0);
      __decorate([ property(cc.Color) ], TournamentInGameInfo.prototype, "labeActiveColorMain", void 0);
      TournamentInGameInfo = __decorate([ ccclass ], TournamentInGameInfo);
      return TournamentInGameInfo;
    }(cc.Component);
    exports.TournamentInGameInfo = TournamentInGameInfo;
    cc._RF.pop();
  }, {
    "../data/TournamentResponseTypes": "TournamentResponseTypes"
  } ],
  TournamentInfoBlindInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "40d9fha7r9H6avfR7FIVU0M", "TournamentInfoBlindInfo");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        rankLbl: {
          default: null,
          type: cc.Label
        },
        blindsLbl: {
          default: null,
          type: cc.Label
        },
        anteLbl: {
          default: null,
          type: cc.Label
        },
        minutesLbl: {
          default: null,
          type: cc.Label
        },
        timeBankLbl: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      setValues: function setValues(data) {
        this.rankLbl.string = data.level || "";
        this.blindsLbl.string = data.smallBlind + "/" + data.bigBlind || "";
        this.anteLbl.string = data.ante || "";
        this.minutesLbl.string = data.minutes || "";
      }
    });
    cc._RF.pop();
  }, {} ],
  TournamentInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "73cccUKo9pFzLyxpgCnydPg", "TournamentInfo");
    "use strict";
    var K = require("GameConfig").K;
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerPresenter: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      onDisable: function onDisable() {},
      onEnable: function onEnable() {},
      onClose: function onClose() {
        this.node.active = false;
        this.pokerPresenter.getComponent("PokerPresenter").model.kickPlayerOutOfTheGame(this.pokerPresenter.getComponent("PokerPresenter").model);
        this.pokerPresenter.getComponent("PokerPresenter").leaveTable();
      },
      setData: function setData(data) {
        this.data = data;
        cc.find("Title", this.node).getComponent(cc.Label).string = this.data.title;
        cc.find("Content", this.node).getComponent(cc.Label).string = this.data.content;
      }
    });
    cc._RF.pop();
  }, {
    GameConfig: "GameConfig"
  } ],
  TournamentLobbyDetailsMain: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2603aNbWIpLPp/Pb8k8rx9P", "TournamentLobbyDetailsMain");
    "use strict";
    var PrizeInfo = require("TournamentDetailsPrizeInfo");
    var PlayerInfo = require("TournamentDetailsPlayerInfo");
    var PopUpType = require("PopUpManager").PopUpType;
    var TableContent = require("TableContent");
    cc.Class({
      extends: cc.Component,
      properties: {
        playerInfoOddPrefab: {
          default: null,
          type: cc.Prefab
        },
        playerInfoEvenPrefab: {
          default: null,
          type: cc.Prefab
        },
        playerInfoGrid: {
          default: null,
          type: cc.Node
        },
        prizeOddPrefab: {
          default: null,
          type: cc.Prefab
        },
        prizeEvenPrefab: {
          default: null,
          type: cc.Prefab
        },
        prizeGrid: {
          default: null,
          type: cc.Node
        },
        registerPrizeContainer: {
          default: null,
          type: cc.Node
        },
        runningPrizeContainer: {
          default: null,
          type: cc.Node
        },
        registeredPrizeGrid: {
          default: null,
          type: cc.Node
        },
        registeredSpecificGrid: {
          default: null,
          type: cc.Node
        },
        satellitePrizeContainer: {
          default: null,
          type: cc.Node
        },
        satelliteValLbl: {
          default: null,
          type: cc.Label
        },
        satelliteParentLbl: {
          default: null,
          type: cc.RichText
        },
        tournamentCurrentInformation: {
          default: null,
          type: cc.Node
        },
        satelliteParent: null,
        setPlayersRankFunc: null
      },
      onLoad: function onLoad() {
        this.setPlayersRankFunc = this.setPlayersRank1.bind(this);
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableView, this.setPlayersRankFunc);
      },
      setPlayersRank1: function setPlayersRank1(data) {
        data.tournamentId == TableContent.prevSelection.channelData._id && this.setPlayersRank(data.updated.ranks);
      },
      onDestroy: function onDestroy() {
        pomelo.off(K.LobbyBroadcastRoute.tableView, this.setPlayersRankFunc);
      },
      setTableData: function setTableData(playerData, prizeRule, prizePool, tourType, isStateRegister) {
        if (tourType === K.TournamentType.Normal) {
          this.registerPrizeContainer.active = !isStateRegister;
          this.runningPrizeContainer.active = isStateRegister;
          this.satellitePrizeContainer.active = false;
        } else if (tourType == K.TournamentType.Satellite) {
          this.registerPrizeContainer.active = false;
          this.runningPrizeContainer.active = false;
          this.satellitePrizeContainer.active = true;
        } else {
          this.registerPrizeContainer.active = false;
          this.runningPrizeContainer.active = true;
          this.satellitePrizeContainer.active = false;
        }
        this.setPlayersRank(playerData);
        GameManager.removeAllChildren(this.registeredPrizeGrid);
        GameManager.removeAllChildren(this.prizeGrid);
        GameManager.removeAllChildren(this.registeredSpecificGrid);
        if (tourType == K.TournamentType.Satellite) {
          this.satelliteValLbl.string = "One entry for every " + prizeRule.parentTournament.buyIn + " in the prize pool will be awarded for :";
          this.satelliteParentLbl.string = "<u>" + prizeRule.parentTournament.channelName + "</>";
          this.satelliteParent = prizeRule.parentTournament;
        } else {
          var prizeRuleArr = [];
          prizeRuleArr = void 0 !== prizeRule.list ? prizeRule.list : prizeRule;
          this.handlePrizeTable(prizeRuleArr, isStateRegister, tourType, prizePool);
        }
      },
      setPlayersRank: function setPlayersRank(playerData) {
        GameManager.removeAllChildren(this.playerInfoGrid);
        for (var i = 0; i < playerData.length; i++) {
          var obj = null;
          obj = i % 2 == 0 ? cc.instantiate(this.playerInfoEvenPrefab) : cc.instantiate(this.playerInfoOddPrefab);
          this.playerInfoGrid.addChild(obj);
          obj.getComponent(PlayerInfo).setValues(playerData[i]);
        }
      },
      handlePrizeTable: function handlePrizeTable(prizeRuleArr, isStateRegister, tourType, prizePool) {
        if (prizeRuleArr.length > 0) {
          var prizeArr;
          prizeArr = tourType === K.TournamentType.Normal ? prizeRuleArr : prizeRuleArr[0].playerprizepercent;
          tourType === K.TournamentType.Normal ? isStateRegister ? this.showSpecificPrizes(prizeArr, tourType, prizePool, this.prizeGrid) : this.showAllPrizes(prizeArr) : this.showSpecificPrizes(prizeArr, tourType, prizePool, this.prizeGrid);
        }
      },
      showSpecificPrizes: function showSpecificPrizes(prizeArr, tourType, prizePool, grid, callback) {
        void 0 === tourType && (tourType = K.TournamentType.Normal);
        void 0 === prizePool && (prizePool = 0);
        void 0 === grid && (grid = this.registeredSpecificGrid);
        void 0 === callback && (callback = function callback() {});
        GameManager.removeAllChildren(this.prizeGrid);
        GameManager.removeAllChildren(this.registeredSpecificGrid);
        for (var i = 0; i < prizeArr.length; i++) {
          var obj = null;
          obj = i % 2 == 0 ? cc.instantiate(this.prizeEvenPrefab) : cc.instantiate(this.prizeOddPrefab);
          grid.addChild(obj);
          tourType === K.TournamentType.Normal ? obj.getComponent(PrizeInfo).setValues(prizeArr[i], prizeArr[i].prizeMoney, prizeArr[i].position, tourType, callback) : obj.getComponent(PrizeInfo).setValues(prizeArr[i], prizePool, i, tourType, callback);
        }
      },
      showAllPrizes: function showAllPrizes(prizeArr) {
        for (var i = 0; i < prizeArr.length; i++) {
          var obj = null;
          obj = i % 2 == 0 ? cc.instantiate(this.prizeEvenPrefab) : cc.instantiate(this.prizeOddPrefab);
          this.registeredPrizeGrid.addChild(obj);
          obj.getComponent(PrizeInfo).setAllPrizeValues(prizeArr[i], this.showSpecificPrizes.bind(this));
        }
        this.showSpecificPrizes(prizeArr[0].prizes);
      },
      showParentTourLobby: function showParentTourLobby() {
        !this.satelliteParent || TournamentHandler.tournamentLobbyInfo(this.satelliteParent, function(response) {
          if (!!response.tableData) {
            GameManager.popUpManager.hide(PopUpType.TournamentLobbyInfoPopup, function() {});
            GameManager.popUpManager.show(PopUpType.TournamentLobbyInfoPopup, response, function() {});
          }
        }.bind(this), function(response) {}.bind(this));
      }
    });
    cc._RF.pop();
  }, {
    PopUpManager: "PopUpManager",
    TableContent: "TableContent",
    TournamentDetailsPlayerInfo: "TournamentDetailsPlayerInfo",
    TournamentDetailsPrizeInfo: "TournamentDetailsPrizeInfo"
  } ],
  TournamentLobbyHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a30a0vLJEJK364OYDarlS9l", "TournamentLobbyHandler");
    "use strict";
    var TableHandler = require("TableHandler");
    var TourData = require("PostTypes").Tournament;
    var GameData = require("ResponseTypes").GameData;
    var joinChannel = require("PostTypes").JoinChannel;
    var TableInfo = require("PostTypes").GetRegisteredUsersData;
    var TournamentLobbyInfo = require("PostTypes").GetTournamentLobbyInfo;
    var blindAndPrizeData = require("PostTypes").BlindAndPrize;
    var blindAndPrizeTourData = require("PostTypes").BlindAndPrizeTournament;
    var blindAndPrizeSatelliteData = require("PostTypes").BlindAndPrizeSatellite;
    cc.Class({
      extends: TableHandler,
      onLoad: function onLoad() {
        window.TournamentLobbyHandler = this;
      },
      init: function init() {
        console.log("init");
      },
      requestTableLobbyList: function requestTableLobbyList(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.GetAllTableList, data, callback, error, null, false);
      },
      requestTournamentLobbyList: function requestTournamentLobbyList(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.GetAllTournamentList, data, callback, error, null, false);
      },
      requestTournamentFreeRoll: function requestTournamentFreeRoll(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.GetAllTournamentList, {
          isFreeRoll: true
        }, callback, error, null, false);
      },
      requestTournamentSitAndGoStages: function requestTournamentSitAndGoStages(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.GetSitNGoStages, data, callback, error, null, false);
      },
      requestTournamentSitAndGoInStage: function requestTournamentSitAndGoInStage(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.GetSitNGoTournamentsInStage, data, callback, error, null, false);
      },
      requestTournamentSitAndGoRegister: function requestTournamentSitAndGoRegister(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.RegisterSNG, data, callback, error, null, false, true);
      },
      requestTournamentRegister: function requestTournamentRegister(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.RegisterTournament, data, callback, error, null, false, true);
      },
      requestTournamentDeRegister: function requestTournamentDeRegister(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.DeRegisterTournament, data, callback, error, null, false, true);
      },
      requestTournamentLateRegister: function requestTournamentLateRegister(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.LateRegisterTournament, data, callback, error);
      },
      requestTournamentJoinTable: function requestTournamentJoinTable(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.TournamentJoinTable, data, callback, error);
      },
      requestTournamentEnterTable: function requestTournamentEnterTable(data, callback, error, label) {
        void 0 === label && (label = "");
        ServerCom.forceKeepLoading = true;
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.TournamentEnterTable, data, callback, error, null, true, true, label);
      },
      requestTournamentReEntry: function requestTournamentReEntry(data, callback, error) {
        ServerCom.socketIORequest(K.SocketIOAPI.Lobby.ReEntryTournament, data, callback, error);
      },
      requestTournamentData: function requestTournamentData(data, callback, error) {
        ServerCom.socketIORequest("tournamentLobbyEvent|GetTournamentData", data, callback, error, null, false);
      }
    });
    cc._RF.pop();
  }, {
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    TableHandler: "TableHandler"
  } ],
  TournamentLobbyInfoMain: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f23223FiPxDn5aYkC7pBLYX", "TournamentLobbyInfoMain");
    "use strict";
    var BlindInfoPrefab = require("TournamentInfoBlindInfo");
    cc.Class({
      extends: cc.Component,
      properties: {
        reBuyLbl: {
          default: null,
          type: cc.Label
        },
        addOn: {
          default: null,
          type: cc.Label
        },
        vPP: {
          default: null,
          type: cc.Label
        },
        tickets: {
          default: null,
          type: cc.Label
        },
        addOnValue: {
          default: null,
          type: cc.Label
        },
        vPPValue: {
          default: null,
          type: cc.Label
        },
        bountyLbl: {
          default: null,
          type: cc.Label
        },
        breaksLbl: {
          default: null,
          type: cc.Label
        },
        minPlayersLbl: {
          default: null,
          type: cc.Label
        },
        playersPerTableLbl: {
          default: null,
          type: cc.Label
        },
        timeBreakLbl: {
          default: null,
          type: cc.Label
        },
        gameLbl: {
          default: null,
          type: cc.Label
        },
        unregistrationLbl: {
          default: null,
          type: cc.Label
        },
        lateRegistrationLbl: {
          default: null,
          type: cc.Label
        },
        chatLangLbl: {
          default: null,
          type: cc.Label
        },
        satelliteValLbl: {
          default: null,
          type: cc.Label
        },
        blindInfoOddPrefab: {
          default: null,
          type: cc.Prefab
        },
        blindInfoEvenPrefab: {
          default: null,
          type: cc.Prefab
        },
        blindInfoParent: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      setTableData: function setTableData(data, blindInfo, satelliteParent) {
        void 0 === satelliteParent && (satelliteParent = "");
        var minPl = 0;
        var maxPl = 0;
        this.playersPerTableLbl.string = "Minimum Required " + data.minPlayersForTournament + " Maximum of " + data.maxPlayersForTournament + "players.";
        this.gameLbl.string = data.channelVariation;
        this.chatLangLbl.node.parent.active = false;
        this.unregistrationLbl.string = "Unregistration always allowed before the tournament starts.";
        this.satelliteValLbl.node.parent.active = false;
        if (data.tournamentType !== K.TournamentType.SitNGo) {
          this.lateRegistrationLbl.node.parent.active = true;
          this.breaksLbl.node.parent.active = true;
          var lateRegTime = 0;
          var msg = "";
          if (data.lateRegistrationAllowed) {
            lateRegTime = data.lateRegistrationTime;
            msg = "Late registration available for the first" + lateRegTime + " min of play.";
          } else msg = "Late registration not allowed for this tournament.";
          this.lateRegistrationLbl.string = msg;
          this.breaksLbl.string = "There is a " + data.tournamentBreakTime + " minute break every" + data.tournamentBreakDuration + " minutes.";
          minPl = data.minPlayersForTournament;
          maxPl = data.maxPlayersForTournament;
          if (data.tournamentType == K.TournamentType.Satellite) {
            this.satelliteValLbl.node.parent.active = true;
            this.satelliteValLbl.string = "Qualify for " + satelliteParent;
          }
        } else {
          this.lateRegistrationLbl.node.parent.active = false;
          this.breaksLbl.node.parent.active = false;
          minPl = data.minPlayers;
          maxPl = data.maxPlayers;
        }
        this.minPlayersLbl.string = "Minimum players required are" + minPl + ", and maximum of " + maxPl + " players.";
        this.timeBreakLbl.string = "There is a " + data.extraTimeAllowed + " second time bank available for this tournament";
        this.setBlindInfo(blindInfo);
      },
      setBlindInfo: function setBlindInfo(blindInfo) {
        GameManager.removeAllChildren(this.blindInfoParent);
        for (var i = 0; i < blindInfo.list.length; i++) {
          var blindObj = null;
          blindObj = i % 2 == 0 ? cc.instantiate(this.blindInfoEvenPrefab) : cc.instantiate(this.blindInfoOddPrefab);
          this.blindInfoParent.addChild(blindObj);
          blindObj.getComponent(BlindInfoPrefab).setValues(blindInfo.list[i]);
        }
      }
    });
    cc._RF.pop();
  }, {
    TournamentInfoBlindInfo: "TournamentInfoBlindInfo"
  } ],
  TournamentLobbyInfoPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "8b17eUpBeVLI6IOeCMkUWWG", "TournamentLobbyInfoPopup");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var CheckBoxType = require("Checkbox");
    var TourInfo = require("TournamentLobbyInfoMain");
    var TourDetail = require("TournamentLobbyDetailsMain");
    var TourTable = require("TournamentLobbyTableMain");
    var TableContent = require("TableContent");
    cc.Class({
      extends: PopUpBase,
      properties: {
        popUpManager: {
          default: null,
          type: PopUpManager
        },
        tournNameLbl: {
          default: null,
          type: cc.Label
        },
        startsAtLbl: {
          default: null,
          type: cc.Label
        },
        startsAtHeaderLbl: {
          default: null,
          type: cc.Label
        },
        runningForLbl: {
          default: null,
          type: cc.Label
        },
        buyInLbl: {
          default: null,
          type: cc.Label
        },
        prizePoolLbl: {
          default: null,
          type: cc.Label
        },
        entriesLbl: {
          default: null,
          type: cc.Label
        },
        playersGrid: {
          default: null,
          type: cc.Node
        },
        prizeStructureGrid: {
          default: null,
          type: cc.Node
        },
        handForHandGrid: {
          default: null,
          type: cc.Node
        },
        blindStructureGrid: {
          default: null,
          type: cc.Node
        },
        tournInfoGrid: {
          default: null,
          type: cc.Node
        },
        runningTablesGrid: {
          default: null,
          type: cc.Node
        },
        playersOnTableGrid: {
          default: null,
          type: cc.Node
        },
        tablePlayersGrid: {
          default: null,
          type: cc.Node
        },
        playerData: [],
        blindInfo: [],
        prizeInfo: [],
        tournamentInfoTab: {
          default: null,
          type: TourInfo
        },
        tournamentDetailTab: {
          default: null,
          type: TourDetail
        },
        tournamentTableTab: {
          default: null,
          type: TourTable
        },
        timerSchedule: null,
        tableId: null
      },
      onEnable: function onEnable() {
        pomelo.on(K.LobbyBroadcastRoute.tableUpdate, this.updateEntries.bind(this));
      },
      updateEntries: function updateEntries(data) {
        data._id == this.tableId && (this.entriesLbl.string = data.updated.enrolledPlayers);
      },
      onDisable: function onDisable() {
        pomelo.off(K.LobbyBroadcastRoute.tableUpdate, this.updateEntries.bind(this));
      },
      onShow: function onShow(data) {
        this.tableId = data.tableData._id;
        this.startTimer(false);
        this.tournamentTableTab.node.active = false;
        this.tournamentDetailTab.node.active = false;
        this.tournamentInfoTab.node.active = false;
        if (null != data) {
          data.tableData.playersInfo = !data.tableData.playersInfo ? [] : data.tableData.playersInfo;
          var channels = !data.lobbyInfo.result ? [] : data.lobbyInfo.result.channels;
          data.tableData.state = data.lobbyInfo.tournamentState;
          this.tournNameLbl.string = data.tableData.channelName;
          this.entriesLbl.string = data.tableData.enrolledPlayers;
          data.tableData.prizePool = !data.tableData.prizePool ? data.tableData.enrolledPlayers * data.tableData.entryfees : data.tableData.prizePool;
          this.prizePoolLbl.string = data.tableData.prizePool || "0";
          this.buyInLbl.string = data.tableData.entryfees + data.tableData.housefees + data.tableData.bountyfees;
          if (data.lobbyInfo.tournamentState == K.SitNGoState.RUNNING) {
            this.startTimer(true, data.lobbyInfo.runningFor);
            this.runningForLbl.string = "Running for " + GameManager.getTimeDuration(data.lobbyInfo.runningFor);
          } else this.runningForLbl.string = "";
          if (data.tableData.tournamentType === K.TournamentType.SitNGo) {
            this.startsAtHeaderLbl.node.active = false;
            this.startsAtLbl.string = "";
          } else {
            this.startsAtHeaderLbl.node.active = true;
            this.startsAtLbl.string = GameManager.getTimeByMilli(data.tableData.tournamentStartTime);
          }
          this.tournamentTableTab.setTableData(channels, data.tableData.playersInfo, data.tableData, this.onPokerLobby.bind(this));
          var satelliteParent = data.tableData.tournamentType == K.TournamentType.Satellite ? data.prizeInfo.parentTournament.channelName : "";
          this.tournamentInfoTab.setTableData(data.tableData, data.blindInfo, satelliteParent);
          var isRegister = data.isPrizeDecided;
          this.tournamentDetailTab.setTableData(data.tableData.playersInfo, data.prizeInfo, data.tableData.prizePool, data.tableData.tournamentType, isRegister);
        }
        this.node.getComponent("TabBtnUtil").onShowTab_03();
      },
      onHide: function onHide() {
        this.startTimer(false);
      },
      onPokerLobby: function onPokerLobby() {
        this.startTimer(false);
        this.popUpManager.hide(PopUpType.TournamentLobbyInfoPopup, function() {});
      },
      onDetails: function onDetails() {
        this.activateTab(2);
      },
      onTable: function onTable() {
        this.activateTab(1);
      },
      onInformation: function onInformation() {
        this.activateTab(0);
      },
      onObserve: function onObserve() {},
      startTimer: function startTimer(val, timer) {
        void 0 === timer && (timer = 0);
        val ? this.timerSchedule = setInterval(function() {
          timer += 1e3;
          this.runningForLbl.string = "Running for " + GameManager.getTimeDuration(timer);
        }.bind(this), 1e3) : !this.timerSchedule || clearInterval(this.timerSchedule);
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    TableContent: "TableContent",
    TournamentLobbyDetailsMain: "TournamentLobbyDetailsMain",
    TournamentLobbyInfoMain: "TournamentLobbyInfoMain",
    TournamentLobbyTableMain: "TournamentLobbyTableMain"
  } ],
  TournamentLobbyListItem: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "eb723G/aLVGeqPglc/lxwnY", "TournamentLobbyListItem");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TOURNAMENT_ITEM_TYPE = void 0;
    var globals_1 = require("../../globals");
    var ResponseTypes_1 = require("../../DataFormats/ResponseTypes");
    var PopUpManager_1 = require("../../Utilities/ScreensAndPopUps/PopUps/PopUpManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TOURNAMENT_ITEM_TYPE;
    (function(TOURNAMENT_ITEM_TYPE) {
      TOURNAMENT_ITEM_TYPE[TOURNAMENT_ITEM_TYPE["NONE"] = 0] = "NONE";
      TOURNAMENT_ITEM_TYPE[TOURNAMENT_ITEM_TYPE["ANNOUNCED"] = 1] = "ANNOUNCED";
      TOURNAMENT_ITEM_TYPE[TOURNAMENT_ITEM_TYPE["REGISTERING"] = 2] = "REGISTERING";
      TOURNAMENT_ITEM_TYPE[TOURNAMENT_ITEM_TYPE["LATE_REG"] = 3] = "LATE_REG";
      TOURNAMENT_ITEM_TYPE[TOURNAMENT_ITEM_TYPE["RUNNING"] = 4] = "RUNNING";
      TOURNAMENT_ITEM_TYPE[TOURNAMENT_ITEM_TYPE["COMPLETED"] = 5] = "COMPLETED";
      TOURNAMENT_ITEM_TYPE[TOURNAMENT_ITEM_TYPE["CANCELLED"] = 6] = "CANCELLED";
    })(TOURNAMENT_ITEM_TYPE = exports.TOURNAMENT_ITEM_TYPE || (exports.TOURNAMENT_ITEM_TYPE = {}));
    var TournamentLobbyListItem = function(_super) {
      __extends(TournamentLobbyListItem, _super);
      function TournamentLobbyListItem() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.bg_1 = null;
        _this.bg_2 = null;
        _this.highlightBg = null;
        _this.tournamentName = null;
        _this.tournamentType = null;
        _this.time = null;
        _this.buyIn = null;
        _this.prize = null;
        _this.btnLabel = null;
        _this.btnSprite = null;
        _this.bgSprite = null;
        _this.btnFrame = [];
        _this.bgFrame = [];
        _this.tournamentBuyin = null;
        _this.dblClk = false;
        _this.tourItemInfo = null;
        _this.isTableExisting = false;
        _this.isTournamentExisting = false;
        _this.tournamentIndexFound = -1;
        _this.indexFound = -1;
        return _this;
      }
      TournamentLobbyListItem.prototype.onLoad = function() {
        this.setHighlight(false);
        var inst = this;
        this.node.on("touchstart", function(event) {
          if (inst.dblClk) inst.dblClk = false; else {
            inst.dblClk = true;
            setTimeout(function() {
              inst.dblClk = false;
            }, 300);
          }
        }, this.node);
      };
      TournamentLobbyListItem.prototype.start = function() {};
      TournamentLobbyListItem.prototype.initIndex = function(index) {};
      TournamentLobbyListItem.prototype.initInfo = function(data) {
        this.tourItemInfo = data;
        if ("SIT N GO" != data.raw.tournamentType) this.tournamentName.string = this.tourItemInfo.tournamentName; else {
          this.tournamentName.string = this.tourItemInfo.raw.stageName;
          ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentLobbyResponseEvent, this.onTournamentLobbyResponseEvent.bind(this));
        }
        this.btnLabel.string = this.tourItemInfo.state;
        this.unschedule(this.breakEndsTimer);
        this.unschedule(this.startsInTimer);
        this.unschedule(this.endsInTimer);
        "SIT N GO" != data.raw.tournamentType || (cc.find("RoomInfo/TimeGroup/TimeLabel", this.node).active = true);
        if ("Open To Register" == this.tourItemInfo.state) {
          if (data.raw.playerData) {
            this.btnLabel.string = "Registered";
            this.btnSprite.spriteFrame = this.btnFrame[1];
            if ("SIT N GO" == data.raw.tournamentType) if (data.raw.playerData.tableId) {
              this.btnLabel.string = "Enter Table";
              this.btnSprite.spriteFrame = this.btnFrame[2];
            } else {
              this.btnLabel.string = "Deregister";
              this.btnSprite.spriteFrame = this.btnFrame[2];
            }
          } else {
            "SIT N GO" == data.raw.tournamentType, this.btnLabel.string = "Register";
            this.btnSprite.spriteFrame = this.btnFrame[1];
          }
          !GameManager.isMobile;
        } else if ("PUBLISHED" == this.tourItemInfo.state) {
          "SIT N GO" == data.raw.tournamentType ? this.btnLabel.string = "Register" : this.btnLabel.string = "Upcoming";
          this.btnSprite.spriteFrame = this.btnFrame[0];
        } else if ("RUNNING" == this.tourItemInfo.state) {
          "SIT N GO" == data.raw.tournamentType ? this.btnLabel.string = "Running" : GameManager.isMobile;
          this.btnSprite.spriteFrame = this.btnFrame[2];
          !GameManager.isMobile;
          if (data.raw.playerData && "ELIMINATED" != this.tourItemInfo.raw.playerData.status) {
            "SIT N GO" == data.raw.tournamentType ? this.btnLabel.string = "Registered" : GameManager.isMobile;
            this.btnSprite.spriteFrame = this.btnFrame[1];
            if ("SIT N GO" == data.raw.tournamentType && data.raw.playerData.tableId) {
              this.btnLabel.string = "Enter Table";
              this.btnSprite.spriteFrame = this.btnFrame[2];
            }
          }
        } else if ("Open To Late Register" == this.tourItemInfo.state) {
          "SIT N GO" == data.raw.tournamentType, this.btnLabel.string = "Late Reg";
          this.btnSprite.spriteFrame = this.btnFrame[3];
          !GameManager.isMobile;
        } else if ("CLOSED" == this.tourItemInfo.state || "CANCELED" == this.tourItemInfo.state) {
          this.btnLabel.string = "CLOSED" == this.tourItemInfo.state ? "Closed" : "Canceled";
          this.btnSprite.spriteFrame = this.btnFrame[4];
          cc.find(GameManager.isMobile ? "Btn/CountDown/info" : "RoomInfo/BuyInGroup/CountDown/info", this.node).getComponent(cc.Label).string = "";
          cc.find(GameManager.isMobile ? "Btn/CountDown/time" : "RoomInfo/BuyInGroup/CountDown/time", this.node).getComponent(cc.Label).string = "";
        }
        cc.find("RoomInfo/TimeGroup/Layout/Label1", this.node).getComponent(cc.Label).string = data.gameVariation;
        cc.find("RoomInfo/TimeGroup/Layout/Label2", this.node).getComponent(cc.Label).string = data.isReentryAllowed ? "RE" : " ";
        cc.find(GameManager.isMobile ? "RoomInfo/TimeGroup/Layout/Label3" : "RoomInfo/TimeGroup/Layout2/Label3", this.node).getComponent(cc.Label).string = data.maxPlayers;
        cc.find(GameManager.isMobile ? "RoomInfo/TimeGroup/Layout/Label4" : "RoomInfo/TimeGroup/Layout2/Label4", this.node).getComponent(cc.Label).string = data.actionTypeFullName;
        if ("SIT N GO" != data.raw.tournamentType) {
          var date = new Date(data.raw.tournamentStartDetails.startTime);
          var y = date.getFullYear();
          var m = ("0" + (date.getMonth() + 1)).slice(-2);
          var d = ("0" + date.getDate()).slice(-2);
          var h = ("0" + date.getHours()).slice(-2);
          var min = ("0" + date.getMinutes()).slice(-2);
          var sec = ("0" + date.getSeconds()).slice(-2);
          cc.find("RoomInfo/TimeGroup/TimeLabel", this.node).getComponent(cc.Label).string = date.toLocaleDateString("en-US", {
            day: "numeric",
            month: "short"
          }) + ", " + date.toLocaleTimeString("en-US").substr(0, (date.toLocaleTimeString("en-US") + " ").indexOf(" "));
          "RUNNING" == this.tourItemInfo.state ? cc.find("RoomInfo/NameGroup/Layout/Entries/PrizeLabel", this.node).getComponent(cc.Label).string = data.raw.playerRemainingRatio.inGamePlayers + "/" + data.raw.playerRemainingRatio.registeredPlayers : cc.find("RoomInfo/NameGroup/Layout/Entries/PrizeLabel", this.node).getComponent(cc.Label).string = data.raw.playerRemainingRatio.registeredPlayers;
        } else {
          cc.find("RoomInfo/NameGroup/Layout/Entries/PrizeLabel", this.node).getComponent(cc.Label).string = data.raw.playerRemainingRatio.inGamePlayers + "/" + data.raw.maxPlayers;
          cc.find("RoomInfo/TimeGroup/TimeLabel", this.node).getComponent(cc.Label).string = "";
        }
        cc.find("RoomInfo/BuyInGroup/BuyInLayout/Label", this.node).getComponent(cc.Label).string = (data.raw.entryFees || 0) + (data.raw.houseFees || 0);
        cc.find("RoomInfo/NameGroup/Layout/PrizeLabel", this.node).getComponent(cc.Label).string = data.guaranteedValue;
        cc.find(GameManager.isMobile ? "Btn/CountDown/info" : "RoomInfo/BuyInGroup/CountDown/info", this.node).getComponent(cc.Label).string = "";
        cc.find(GameManager.isMobile ? "Btn/CountDown/time" : "RoomInfo/BuyInGroup/CountDown/time", this.node).getComponent(cc.Label).string = "";
        if ("SIT N GO" != data.raw.tournamentType) {
          if ("CLOSED" == this.tourItemInfo.state || "CANCELED" == this.tourItemInfo.state) ; else if (this.tourItemInfo.raw.playerData) if (this.tourItemInfo.raw.playerData.tableId) if (this.tourItemInfo.raw.isInBreak) {
            this.btnLabel.string = "Break Time";
            this.btnSprite.spriteFrame = this.btnFrame[1];
          } else if ("ELIMINATED" == this.tourItemInfo.raw.playerData.status) {
            this.btnLabel.string = "Eliminated";
            this.btnSprite.spriteFrame = this.btnFrame[1];
            this.unschedule(this.endsInTimer);
            cc.find("Btn/CountDown/time", this.node).getComponent(cc.Label).string = "";
          } else {
            this.btnLabel.string = "Registered";
            this.btnSprite.spriteFrame = this.btnFrame[1];
          } else "Open To Register" == this.tourItemInfo.state && this.updateStartsInTimer(); else if (this.tourItemInfo.raw.player_list) {
            var isInGame = false;
            for (var id in this.tourItemInfo.raw.player_list) if (this.tourItemInfo.raw.player_list[id].playerId == GameManager.user.playerId && "ACTIVE" == this.tourItemInfo.raw.player_list[id].status) {
              isInGame = true;
              break;
            }
            isInGame;
          } else if (this.tourItemInfo.raw.isInBreak) {
            this.btnLabel.string = "Break Time";
            this.btnSprite.spriteFrame = this.btnFrame[1];
          } else this.tourItemInfo.raw.isLateEntryOpen ? this.updateEndsInTimer() : "Open To Register" == this.tourItemInfo.state ? "SIT N GO" != data.raw.tournamentType && this.updateStartsInTimer() : "PUBLISHED" == this.tourItemInfo.state && this.updateRegStartsInTimer();
          this.btnSprite.node.getComponent(cc.Button).interactable = false;
        } else this.btnSprite.node.getComponent(cc.Button).interactable = true;
        cc.find("RoomInfo/TimeGroup/TimeLabel", this.node).active = true;
        cc.find("RoomInfo/TimeGroup/TimeLabel", this.node).getComponent(cc.Label).string = data.raw.payoutType;
        this.tourItemInfo.btnLabel = this.btnLabel;
        this.tourItemInfo.node = this.node;
        cc.find("icon", this.node).active = false;
        if (this.tourItemInfo.raw.roomImage) {
          var self_1 = this;
          cc.loader.load(K.ServerAddress.assets_server_s + this.tourItemInfo.raw.roomImage, function(err, tex) {
            if (err) ; else {
              cc.find("icon", self_1.node).active = true;
              cc.find("icon", self_1.node).getComponent(cc.Sprite).spriteFrame = new cc.SpriteFrame(tex);
            }
          });
        }
      };
      TournamentLobbyListItem.prototype.updateBreakEndsTimer = function() {
        this.unschedule(this.startsInTimer);
        this.unschedule(this.endsInTimer);
        this.unschedule(this.regStartsInTimer);
        this.unschedule(this.breakEndsTimer);
        this.breakEndsTimer();
        this.schedule(this.breakEndsTimer, 1);
      };
      TournamentLobbyListItem.prototype.breakEndsTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(this.tourItemInfo.raw.currentTournamentBreak.breakEndTime));
        cc.find(GameManager.isMobile ? "Btn/CountDown/info" : "RoomInfo/BuyInGroup/CountDown/info", this.node).getComponent(cc.Label).string = "Ends in:";
        cc.find(GameManager.isMobile ? "Btn/CountDown/time" : "RoomInfo/BuyInGroup/CountDown/time", this.node).getComponent(cc.Label).string = timeRemaining;
      };
      TournamentLobbyListItem.prototype.updateRegStartsInTimer = function() {
        this.unschedule(this.startsInTimer);
        this.unschedule(this.endsInTimer);
        this.unschedule(this.regStartsInTimer);
        this.unschedule(this.breakEndsTimer);
        this.regStartsInTimer();
        this.schedule(this.regStartsInTimer, 1);
      };
      TournamentLobbyListItem.prototype.regStartsInTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(new Date(this.tourItemInfo.raw.registrationBeforeStarttime)));
        var date = new Date(this.tourItemInfo.raw.registrationBeforeStarttime);
        timeRemaining = date.toDateString().split(" ")[1] + " " + date.getDate() + " " + timeRemaining;
        cc.find(GameManager.isMobile ? "Btn/CountDown/info" : "RoomInfo/BuyInGroup/CountDown/info", this.node).getComponent(cc.Label).string = "Reg opens in:";
        cc.find(GameManager.isMobile ? "Btn/CountDown/time" : "RoomInfo/BuyInGroup/CountDown/time", this.node).getComponent(cc.Label).string = timeRemaining;
      };
      TournamentLobbyListItem.prototype.updateStartsInTimer = function() {
        this.unschedule(this.startsInTimer);
        this.unschedule(this.endsInTimer);
        this.unschedule(this.regStartsInTimer);
        this.unschedule(this.breakEndsTimer);
        this.startsInTimer();
        this.schedule(this.startsInTimer, 1);
      };
      TournamentLobbyListItem.prototype.startsInTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(this.tourItemInfo.raw.tournamentStartDetails.startTime));
        var date = new Date(this.tourItemInfo.raw.tournamentStartDetails.startTime);
        timeRemaining = date.toDateString().split(" ")[1] + " " + date.getDate() + " " + timeRemaining;
        cc.find(GameManager.isMobile ? "Btn/CountDown/info" : "RoomInfo/BuyInGroup/CountDown/info", this.node).getComponent(cc.Label).string = "Reg ends in:";
        cc.find(GameManager.isMobile ? "Btn/CountDown/time" : "RoomInfo/BuyInGroup/CountDown/time", this.node).getComponent(cc.Label).string = timeRemaining;
      };
      TournamentLobbyListItem.prototype.updateEndsInTimer = function() {
        this.unschedule(this.startsInTimer);
        this.unschedule(this.endsInTimer);
        this.unschedule(this.regStartsInTimer);
        this.unschedule(this.breakEndsTimer);
        this.endsInTimer();
        this.schedule(this.endsInTimer, 1);
      };
      TournamentLobbyListItem.prototype.endsInTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(1e3 * Number(this.tourItemInfo.raw.lateRegistrationEndTime));
        var date = new Date(1e3 * Number(this.tourItemInfo.raw.lateRegistrationEndTime));
        timeRemaining = date.toDateString().split(" ")[1] + " " + date.getDate() + " " + timeRemaining;
        cc.find(GameManager.isMobile ? "Btn/CountDown/info" : "RoomInfo/BuyInGroup/CountDown/info", this.node).getComponent(cc.Label).string = "Reg ends in:";
        cc.find(GameManager.isMobile ? "Btn/CountDown/time" : "RoomInfo/BuyInGroup/CountDown/time", this.node).getComponent(cc.Label).string = timeRemaining;
      };
      TournamentLobbyListItem.prototype.setHighlight = function(highlight) {
        this.highlightBg.active = highlight;
        highlight;
      };
      TournamentLobbyListItem.prototype.onTournamentItemSecondClick = function() {
        cc.systemEvent.emit(K.SocketIOEvent.Lobby.TournamentSelect, this.tourItemInfo);
      };
      TournamentLobbyListItem.prototype.onClick = function() {
        if (this.highlightBg.active) {
          if ("SIT N GO" == this.tourItemInfo.raw.tournamentType) return;
          this.onTournamentItemSecondClick();
        } else {
          globals_1.default.TournamentLobbyListPresenter.removeHighlightAll();
          this.setHighlight(true);
        }
        cc.systemEvent.emit("TournamentItemPicked", this.tourItemInfo);
      };
      TournamentLobbyListItem.prototype.onClickButton = function(sender) {
        console.log("onClickButton", this.tourItemInfo);
        console.log("onClickButton", sender);
        if ("SIT N GO" != this.tourItemInfo.raw.tournamentType) return;
        if ("Enter Table" == sender.target.children[0].getComponent(cc.Label).string) {
          var tableId = "";
          for (var id_1 in this.tourItemInfo.raw.player_list) if (this.tourItemInfo.raw.player_list[id_1].playerId == GameManager.user.playerId) {
            tableId = this.tourItemInfo.raw.player_list[id_1].tableId;
            break;
          }
          "" == tableId && this.tourItemInfo.raw.playerData && (tableId = this.tourItemInfo.raw.playerData.tableId);
          this.isTableExisting = false;
          this.isTournamentExisting = false;
          this.indexFound = -1;
          this.tournamentIndexFound = -1;
          for (var index = 0; index < GameManager.gameModel.activePokerModels.length; index++) {
            var id = GameManager.gameModel.activePokerModels[index].roomConfig._id;
            if ((tableId || this.tourItemInfo.raw.playerData.tableId) === id) {
              this.indexFound = index;
              this.isTableExisting = true;
              break;
            }
          }
          if (this.isTableExisting) {
            ServerCom.loading.active = false;
            GameManager.isMobile || K.GoToTable ? ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, this.indexFound, function() {}) : window.versions.new({
              name: this.tourData.id,
              url: "?GoToTable=1&accesstoken=" + K.Token.access_token + "&channelid=" + this.tourData.id + "&playerId=" + GameManager.user.playerId + "&playerName=" + GameManager.user.userName + "&networkIp=" + window.ipV4Address + "&realChips=" + GameManager.user.realChips + "&isTournament=true"
            });
            return;
          }
          ServerCom.socketIOBroadcast(tableId + ":" + GameManager.user.playerId, this.onTournamentTableUserBroadcast.bind(this));
          window.TournamentLobbyHandler.requestTournamentEnterTable({
            tournamentId: this.tourItemInfo.id
          }, function(data) {}, function(error) {}, "Enter table, please wait ......");
        } else if ("Open To Register" == this.tourItemInfo.state) if (this.tourItemInfo.raw.playerData) window.TournamentLobbyHandler.requestTournamentDeRegister({
          tournamentId: this.tourItemInfo.id
        }, function(data) {}, function(error) {}); else {
          this.tournamentBuyin.active = false;
          this.tournamentBuyin.getComponent("TournamentBuyin").setData(this.tourItemInfo, 4);
          this.tournamentBuyin.active = true;
          var anim = this.tournamentBuyin.getComponent("AnimBase");
          var inst = this;
          null !== anim && anim.play("showPopUp", function() {});
        } else if ("RUNNING" == this.tourItemInfo.state) for (var tableId in this.tourItemInfo.raw.tablesStack) {
          tableId = tableId.slice(1);
          socketIO.socket.off(tableId + ":" + GameManager.user.playerId);
          ServerCom.socketIOBroadcast(tableId + ":" + GameManager.user.playerId, this.onTournamentTableUserBroadcast.bind(this));
          window.TournamentLobbyHandler.requestTournamentJoinTable({
            channelId: tableId
          }, function(data) {
            console.log("data", data);
          }, function(error) {
            console.log("error", error);
          });
          break;
        }
      };
      TournamentLobbyListItem.prototype.onTournamentLobbyResponseEvent = function(data) {
        if ("Res-RegisterSNG" === data.eventName) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          if (data && data.data && data.data.success && data.data.requestedTournamentId == this.tourItemInfo.id) {
            var newTableEvent = K.SocketIOBroadcast.Lobby.TournamentNewTable.replace("<TournamentId>", data.data.requestedTournamentId).replace("<PlayerId>", data.data.requesterPlayerId);
            socketIO.socket.off(newTableEvent);
            ServerCom.socketIOBroadcast(newTableEvent, this.onTournamentNewTable.bind(this));
            GameManager.popUpManager.show(PopUpManager_1.PopUpType.RegDialog, 1, function() {});
          }
        }
      };
      TournamentLobbyListItem.prototype.onTournamentTableUserBroadcast = function(data) {
        console.log(">>>>>>>>>>>>>>>>>>>>>>>onTournamentTableUserBroadcast", data);
        if ("joinChannelResponse" == data.eventName || "enterChannelResponse" == data.eventName) if (data.data.success) {
          GameManager.popUpManager.hideAllPopUps();
          cc.systemEvent.emit("HideTournamentNotification");
          socketIO.socket.off(data.eventTo);
          socketIO.socket.off(data.channelId + ":" + data.playerId);
          var newTableEvent2 = K.SocketIOBroadcast.Lobby.TournamentElimination.replace("<TournamentId>", this.tourItemInfo.id).replace("<PlayerId>", data.playerId);
          socketIO.socket.off(newTableEvent2);
          if (!GameManager.isActive) {
            ServerCom.forceKeepLoading = false;
            ServerCom.loading.active = false;
            return;
          }
          data.data.gameData = new ResponseTypes_1.GameData(data.data);
          data.data.tourData = this.tourItemInfo;
          this.isTournamentExisting ? GameManager.gameModel.activePokerModels[this.tournamentIndexFound].initiliazePoker(data.data) : GameManager.isMobile || K.GoToTable ? ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, data.data, function() {}) : window.versions.new({
            name: this.tourItemInfo.id,
            url: "?GoToTable=1&accesstoken=" + K.Token.access_token + "&channelid=" + this.tourItemInfo.id + "&tableid=" + data.channelId + "&playerId=" + GameManager.user.playerId + "&playerName=" + GameManager.user.userName + "&networkIp=" + window.ipV4Address + "&realChips=" + GameManager.user.realChips + "&isTournament=true"
          });
          this.scheduleOnce(function() {
            ServerCom.forceKeepLoading = false;
            ServerCom.loading.active = false;
          }, 1.2);
        } else {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          GameManager.popUpManager.show(PopUpManager_1.PopUpType.CommonDialog, {
            title: "Error!",
            content: data.data.info ? data.data.info : data.data.response
          }, function() {});
        }
      };
      TournamentLobbyListItem.prototype.onTournamentNewTable = function(data) {
        console.log("onTournamentNewTable", data);
        ServerCom.socketIOBroadcast(data.eventData.tableId + ":" + GameManager.user.playerId, this.onTournamentTableUserBroadcast.bind(this));
        GameManager.tableStartTime = data.eventData.tableStartTime;
        GameManager.isActive && window.TournamentLobbyHandler.requestTournamentEnterTable({
          tournamentId: this.tourItemInfo.id
        }, function(data) {}, function(error) {}, "Enter table, please wait ......");
      };
      __decorate([ property(cc.Node) ], TournamentLobbyListItem.prototype, "bg_1", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListItem.prototype, "bg_2", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListItem.prototype, "highlightBg", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyListItem.prototype, "tournamentName", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyListItem.prototype, "tournamentType", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyListItem.prototype, "time", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyListItem.prototype, "buyIn", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyListItem.prototype, "prize", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyListItem.prototype, "btnLabel", void 0);
      __decorate([ property(cc.Sprite) ], TournamentLobbyListItem.prototype, "btnSprite", void 0);
      __decorate([ property(cc.Sprite) ], TournamentLobbyListItem.prototype, "bgSprite", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentLobbyListItem.prototype, "btnFrame", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentLobbyListItem.prototype, "bgFrame", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListItem.prototype, "tournamentBuyin", void 0);
      TournamentLobbyListItem = __decorate([ ccclass ], TournamentLobbyListItem);
      return TournamentLobbyListItem;
    }(cc.Component);
    exports.default = TournamentLobbyListItem;
    cc._RF.pop();
  }, {
    "../../DataFormats/ResponseTypes": "ResponseTypes",
    "../../Utilities/ScreensAndPopUps/PopUps/PopUpManager": "PopUpManager",
    "../../globals": "globals"
  } ],
  TournamentLobbyListPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1eb0co0CnFPCIyrT10KRNtb", "TournamentLobbyListPresenter");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TournamentLobbyListPresenter = exports.TOURNAMENT_TYPE = void 0;
    var globals_1 = require("../../globals");
    var TournamentLobbyListItem_1 = require("./TournamentLobbyListItem");
    var TournamentLobbyPresenter_1 = require("./TournamentLobbyPresenter");
    var TournamentResponseTypes_1 = require("../data/TournamentResponseTypes");
    var DropDown = require("../../Utilities/DropDowns/DropDown");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TOURNAMENT_TYPE;
    (function(TOURNAMENT_TYPE) {
      TOURNAMENT_TYPE[TOURNAMENT_TYPE["ALL"] = 0] = "ALL";
      TOURNAMENT_TYPE[TOURNAMENT_TYPE["SITNGO"] = 1] = "SITNGO";
      TOURNAMENT_TYPE[TOURNAMENT_TYPE["KCOIN"] = 2] = "KCOIN";
      TOURNAMENT_TYPE[TOURNAMENT_TYPE["NFT"] = 3] = "NFT";
      TOURNAMENT_TYPE[TOURNAMENT_TYPE["NONE"] = 4] = "NONE";
    })(TOURNAMENT_TYPE = exports.TOURNAMENT_TYPE || (exports.TOURNAMENT_TYPE = {}));
    var TournamentLobbyListPresenter = function(_super) {
      __extends(TournamentLobbyListPresenter, _super);
      function TournamentLobbyListPresenter() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.comingSoon = null;
        _this.top = null;
        _this.top2 = null;
        _this.filterLabel = null;
        _this.gameTypeDropdown = null;
        _this.activeSprite = null;
        _this.inactiveSprite = null;
        _this.activeColor = null;
        _this.inactiveColor = null;
        _this.tabs = null;
        _this.tournamentNotification = null;
        _this.scrollView = null;
        _this.contentCashierAll = null;
        _this.contentHolderAll = null;
        _this.contentHolderSitNGo = null;
        _this.contentHolderFreeroll = null;
        _this.contentHolderKCoin = null;
        _this.contentHolderNFT = null;
        _this.tournamentItem = null;
        _this.tournamentLobbyPresenter = null;
        _this.tabNodes = [];
        _this.tabBtns0 = [];
        _this.tabBtns = [];
        _this.tabBtns2 = [];
        _this.header0 = null;
        _this.header1 = null;
        _this.header2 = null;
        _this.tabPage = [];
        _this.tabBtnSprite = [];
        _this.labeActiveColor = [];
        _this.selectedTableDetails = null;
        _this.selectedTableDetailsTour = null;
        _this.curTab = TOURNAMENT_TYPE.NONE;
        _this.isInitDone = false;
        _this.currentTab = 0;
        _this.currentTabSNG = 0;
        _this.lockClick = false;
        _this.filterTab = 1;
        _this.tournamentData = [];
        _this.currentTableData = [];
        _this.tourList = [];
        _this.tournamentSitNGoData = [];
        _this.currentTableSitNGoData = [];
        _this.tourSitNGoList = [];
        _this.tournamentNFTData = [];
        _this.currentTableNFTData = [];
        _this.tourNFTList = [];
        _this.tournamentAllData = [];
        _this.currentTableAllData = [];
        _this.tourAllList = [];
        _this.selectedTournament = null;
        _this.typeFilter = 0;
        _this.typeFilterSNG = 0;
        return _this;
      }
      TournamentLobbyListPresenter_1 = TournamentLobbyListPresenter;
      TournamentLobbyListPresenter.prototype.onTabChange = function(event, customEvent) {};
      TournamentLobbyListPresenter.prototype.setTabActive = function(tab) {};
      TournamentLobbyListPresenter.prototype.onBtnClick = function(event, customEvent) {
        var tab = parseInt(customEvent);
        this.setTabActive(customEvent);
      };
      TournamentLobbyListPresenter.prototype.setButtonActive = function(btnID) {};
      TournamentLobbyListPresenter.prototype.onLoad = function() {
        TournamentLobbyListPresenter_1._instance || (TournamentLobbyListPresenter_1._instance = this);
        globals_1.default.TournamentLobbyListPresenter = this;
        window["TournamentLobbyListPresenter"] = this;
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentList, this.onTournamentList.bind(this));
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentLobbyEvent, this.onTournamentLobbyEvent.bind(this));
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentClosed, this.onTournamentClosed.bind(this));
        ServerCom.socketIOBroadcast("Tournament:Removed", this.onTournamentRemoved.bind(this));
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentRefresh, this.onTournamentRefresh.bind(this));
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentLobbyResponseEvent, this.onTournamentLobbyResponseEvent.bind(this));
        ServerCom.socketIOBroadcast("turnBroadcast:" + GameManager.user.playerId, this.onTournamentTurnBroadcast.bind(this));
        cc.systemEvent.on(K.SocketIOEvent.Lobby.TournamentSelect, this.onTournamentSelect, this);
        cc.systemEvent.on("HideTournamentNotification", this.onHideTournamentNotification, this);
        cc.systemEvent.on("TournamentItemUnPicked", this.onTournamentItemUnPicked, this);
        cc.systemEvent.on("TournamentItemPicked", this.onTournamentItemPicked, this);
        cc.systemEvent.on("breakEndsTimer", this.onBreakEndsTimer, this);
        cc.systemEvent.on("regStartsInTimer", this.onRegStartsInTimer, this);
        cc.systemEvent.on("startsInTimer", this.onStartsInTimer, this);
        cc.systemEvent.on("endsInTimer", this.onEndsInTimer, this);
        this.tournamentData = [];
        GameManager.on(K.GameEvents.onReset, function() {
          this.tourList = [];
          this.contentHolderKCoin.removeAllChildren();
          this.contentHolderNFT.removeAllChildren();
          this.contentHolderSitNGo.removeAllChildren();
          this.contentHolderAll.removeAllChildren();
          this.tournamentLobbyPresenter.leaveLobby();
          socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentList);
          socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentLobbyEvent);
          socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentClosed);
          socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentRefresh);
          socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentLobbyResponseEvent);
          ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentList, this.onTournamentList.bind(this));
          ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentLobbyEvent, this.onTournamentLobbyEvent.bind(this));
          ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentClosed, this.onTournamentClosed.bind(this));
          ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentRefresh, this.onTournamentRefresh.bind(this));
          ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentLobbyResponseEvent, this.onTournamentLobbyResponseEvent.bind(this));
          window.TournamentLobbyHandler.requestTournamentLobbyList({}, function(data) {}, function(error) {});
        }.bind(this));
        this.scheduleOnce(function() {
          window.TournamentLobbyHandler.requestTournamentLobbyList({}, function(data) {}, function(error) {});
        }, .1);
      };
      TournamentLobbyListPresenter.prototype.onHideTournamentNotification = function() {};
      TournamentLobbyListPresenter.prototype.onEnable = function() {
        console.log("onEnableonEnableonEnable");
        if (this.curTab == TOURNAMENT_TYPE.NFT) {
          this.top.active = false;
          this.top2.active = true;
        } else {
          this.top.active = true;
          this.top2.active = false;
        }
        socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentRefresh);
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentRefresh, this.onTournamentRefresh.bind(this));
        GameManager.isMobile || this.refreshSideTable(null);
        "DIAMOND" == GameManager.user.category ? this.comingSoon.active = false : this.comingSoon.active = true;
        this.animate(.02);
      };
      TournamentLobbyListPresenter.prototype.onTournamentSelect = function(tourData) {
        this.tournamentLobbyPresenter.enterLobby(tourData);
      };
      TournamentLobbyListPresenter.prototype.onTournamentItemUnPicked = function(tourData) {
        console.log("onTournamentItemUnPicked", tourData);
        GameManager.isMobile || this.refreshSideTable(tourData);
      };
      TournamentLobbyListPresenter.prototype.onTournamentItemPicked = function(tourData) {
        console.log("onTournamentItemPicked", tourData);
        GameManager.isMobile || this.refreshSideTable(tourData);
      };
      TournamentLobbyListPresenter.prototype.onBreakEndsTimer = function(tourData) {
        if (GameManager.isMobile) return;
      };
      TournamentLobbyListPresenter.prototype.onRegStartsInTimer = function(tourData) {
        if (GameManager.isMobile) return;
      };
      TournamentLobbyListPresenter.prototype.onStartsInTimer = function(tourData) {
        if (GameManager.isMobile) return;
      };
      TournamentLobbyListPresenter.prototype.onEndsInTimer = function(tourData) {
        if (GameManager.isMobile) return;
      };
      TournamentLobbyListPresenter.prototype.refreshSideTable = function(tourData) {
        if (GameManager.isMobile) return;
        return;
      };
      TournamentLobbyListPresenter.prototype.onTournamentLobbyButton = function() {
        this.selectedTournament && this.tournamentLobbyPresenter.enterLobby(this.selectedTournament);
      };
      TournamentLobbyListPresenter.prototype.refreshIndex = function() {
        for (var i = 0; i < this.contentHolderKCoin.children.length; i++) {
          var child = this.contentHolderKCoin.children[i];
          child.getComponent(TournamentLobbyListItem_1.default).initIndex(i);
        }
        for (var i = 0; i < this.contentHolderNFT.children.length; i++) {
          var child = this.contentHolderNFT.children[i];
          child.getComponent(TournamentLobbyListItem_1.default).initIndex(i);
        }
        for (var i = 0; i < this.contentHolderAll.children.length; i++) {
          var child = this.contentHolderAll.children[i];
          child.getComponent(TournamentLobbyListItem_1.default).initIndex(i);
        }
        for (var i = 0; i < this.contentHolderSitNGo.children.length; i++) {
          var child = this.contentHolderSitNGo.children[i];
          child.getComponent(TournamentLobbyListItem_1.default).initIndex(i);
        }
      };
      TournamentLobbyListPresenter.prototype.createTournamentList = function(data) {
        this.tourList = [];
        this.contentHolderKCoin.removeAllChildren();
        this.contentHolderNFT.removeAllChildren();
        for (var tournamentId in data) {
          var tournamentInfo = data[tournamentId];
          if ("freeRoll" != tournamentInfo.tournamentType) {
            var instance = cc.instantiate(this.tournamentItem);
            instance.setPosition(0, 0);
            instance.active = true;
            this.contentHolderKCoin.insertChild(instance, 0);
            var tableContent = instance.getComponent(TournamentLobbyListItem_1.default);
            this.tourList.push(tableContent);
            tableContent.initInfo(new TournamentResponseTypes_1.Tournament(data[tournamentId]));
          } else {
            var instance = cc.instantiate(this.tournamentItem);
            instance.setPosition(0, 0);
            instance.active = true;
            this.contentHolderNFT.insertChild(instance, 0);
            var tableContent = instance.getComponent(TournamentLobbyListItem_1.default);
            this.tourNFTList.push(tableContent);
            tableContent.initInfo(new TournamentResponseTypes_1.Tournament(data[tournamentId]));
          }
          if ("freeRoll" != tournamentInfo.tournamentType) {
            var instance3 = cc.instantiate(this.tournamentItem);
            instance3.setPosition(0, 0);
            instance3.active = true;
            this.contentHolderAll.insertChild(instance3, 0);
            var tableContent3 = instance3.getComponent(TournamentLobbyListItem_1.default);
            tableContent3.initInfo(new TournamentResponseTypes_1.Tournament(tournamentInfo));
          }
          console.log("tournamentInfo", tournamentInfo);
        }
        this.refreshIndex();
        this.updateTablesFilterType();
      };
      TournamentLobbyListPresenter.prototype.onTournamentTurnBroadcast = function(data) {
        console.log("onTournamentTurnBroadcast", data);
        if (ScreenManager.currentScreen == K.ScreenEnum.GamePlayScreen) return;
        var tourData = null;
        for (var i = 0; i < this.tourList.length; i++) {
          console.log("this.tourList", this.tourList[i].tourItemInfo);
          if (data.eventData.tournamentId == this.tourList[i].tourItemInfo.id) {
            tourData = this.tourList[i].tourItemInfo;
            break;
          }
        }
        if (!tourData) for (var i = 0; i < this.tourSitNGoList.length; i++) {
          console.log("this.tourSitNGoList", this.tourSitNGoList[i].tourItemInfo);
          if (data.eventData.tournamentId == this.tourSitNGoList[i].tourItemInfo.id) {
            tourData = this.tourSitNGoList[i].tourItemInfo;
            break;
          }
        }
        if (tourData) var target = null;
      };
      TournamentLobbyListPresenter.prototype.createTournamentSitNGoList = function(data) {
        this.tourSitNGoList = [];
        this.contentHolderSitNGo.removeAllChildren();
        for (var i = 0; i < data.length; i++) {
          var stage = data[i];
          if (stage.tournaments.length <= 0) continue;
          for (var j = 0; j < stage.tournaments.length; j++) {
            var tournamentInfo = stage.tournaments[j];
            var tournamentId = tournamentInfo._id;
            var instance = cc.instantiate(this.tournamentItem);
            instance.setPosition(0, 0);
            instance.active = true;
            this.contentHolderSitNGo.insertChild(instance, 0);
            var tableContent = instance.getComponent(TournamentLobbyListItem_1.default);
            this.tourSitNGoList.push(tableContent);
            tableContent.initInfo(new TournamentResponseTypes_1.Tournament(tournamentInfo));
            var instance3 = cc.instantiate(this.tournamentItem);
            instance3.setPosition(0, 0);
            instance3.active = true;
            this.contentHolderAll.insertChild(instance3, this.tourList.length);
            var tableContent3 = instance3.getComponent(TournamentLobbyListItem_1.default);
            tableContent3.initInfo(new TournamentResponseTypes_1.Tournament(tournamentInfo));
          }
        }
        this.refreshIndex();
        this.updateTablesFilterType();
      };
      TournamentLobbyListPresenter.prototype.removeHighlightAll = function() {
        this.tourList.forEach(function(t) {
          t.setHighlight(false);
        });
        this.tourNFTList.forEach(function(t) {
          t.setHighlight(false);
        });
        this.tourSitNGoList.forEach(function(t) {
          t.setHighlight(false);
        });
        this.tourAllList.forEach(function(t) {
          t.setHighlight(false);
        });
      };
      TournamentLobbyListPresenter.prototype.onTournamentList = function(data) {
        if ("Res-GetUserProfile" === data.eventName) data && data.data && data.data.response; else if ("Res-GetAllTournamentList" === data.eventName) {
          if (data && data.data && data.data.response) {
            this.isInitDone = true;
            this.createTournamentList(data.data.response);
            window.TournamentLobbyHandler.requestTournamentSitAndGoStages({}, function(data) {}, function(error) {});
          }
        } else if ("Res-GetSitNGoStages" === data.eventName && data && data.data && data.data.response) {
          console.log("Res-GetSitNGoStages");
          this.isInitDone = true;
          this.createTournamentSitNGoList(data.data.response);
        }
      };
      TournamentLobbyListPresenter.prototype.onTournamentLobbyEvent = function(data) {};
      TournamentLobbyListPresenter.prototype.onTournamentUpdated = function(data) {
        console.log(">>>>>>>>>> onTournamentUpdated in lobby");
        console.log(data);
      };
      TournamentLobbyListPresenter.prototype.onTournamentClosed = function(data) {
        this.onTournamentRefresh(data);
      };
      TournamentLobbyListPresenter.prototype.onTournamentRemoved = function(data) {
        if (!this.isInitDone) return;
        var isFound = false;
        for (var i = 0; i < this.contentHolderAll.children.length; i++) {
          var instance = this.contentHolderAll.children[i];
          var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
          if (data.tournamentId == tourItemInfo.id) {
            isFound = true;
            this.contentHolderAll.children[i].removeFromParent(true);
          }
        }
        if (isFound) {
          for (var i = 0; i < this.contentHolderKCoin.children.length; i++) {
            var instance = this.contentHolderKCoin.children[i];
            var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
            if (data.tournamentId == tourItemInfo.id) {
              this.contentHolderKCoin.children[i].removeFromParent(true);
              break;
            }
          }
          for (var i = 0; i < this.contentHolderNFT.children.length; i++) {
            var instance = this.contentHolderNFT.children[i];
            var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
            if (data.tournamentId == tourItemInfo.id) {
              this.contentHolderKCoin.children[i].removeFromParent(true);
              break;
            }
          }
          for (var i = 0; i < this.contentHolderSitNGo.children.length; i++) {
            var instance = this.contentHolderSitNGo.children[i];
            var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
            if (data.tournamentId == tourItemInfo.id) {
              this.contentHolderSitNGo.children[i].removeFromParent(true);
              break;
            }
          }
        }
      };
      TournamentLobbyListPresenter.prototype.onTournamentRefresh = function(data) {
        if (K.GoToTable) return;
        if (!this.isInitDone) return;
        cc.systemEvent.emit(K.SocketIOEvent.Lobby.TournamentRefresh, data);
        console.log(">>>>>>>>>> onTournamentRefresh in lobby");
        var isFound = false;
        for (var i = 0; i < this.contentHolderAll.children.length; i++) {
          var instance = this.contentHolderAll.children[i];
          var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
          if (data._id == tourItemInfo.id) {
            isFound = true;
            this.contentHolderAll.children[i].getComponent(TournamentLobbyListItem_1.default).initInfo(new TournamentResponseTypes_1.Tournament(data));
            break;
          }
        }
        if (!isFound) for (var i = 0; i < this.contentHolderNFT.children.length; i++) {
          var instance = this.contentHolderNFT.children[i];
          var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
          if (data._id == tourItemInfo.id) {
            isFound = true;
            this.contentHolderNFT.children[i].getComponent(TournamentLobbyListItem_1.default).initInfo(new TournamentResponseTypes_1.Tournament(data));
            break;
          }
        }
        if (isFound) if ("SIT N GO" != data.tournamentType) for (var i = 0; i < this.contentHolderKCoin.children.length; i++) {
          var instance = this.contentHolderKCoin.children[i];
          var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
          if (data._id == tourItemInfo.id) {
            this.contentHolderKCoin.children[i].getComponent(TournamentLobbyListItem_1.default).initInfo(new TournamentResponseTypes_1.Tournament(data));
            this.selectedTournament && this.selectedTournament.id == tourItemInfo.id && this.refreshSideTable(this.selectedTournament);
            break;
          }
        } else for (var i = 0; i < this.contentHolderSitNGo.children.length; i++) {
          var instance = this.contentHolderSitNGo.children[i];
          var tourItemInfo = instance.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
          if (data._id == tourItemInfo.id) {
            this.contentHolderSitNGo.children[i].getComponent(TournamentLobbyListItem_1.default).initInfo(new TournamentResponseTypes_1.Tournament(data));
            this.selectedTournament && this.selectedTournament.id == tourItemInfo.id && this.refreshSideTable(this.selectedTournament);
            break;
          }
        } else if ("SIT N GO" != data.tournamentType) {
          if ("freeRoll" != data.tournamentType) {
            var instance1 = cc.instantiate(this.tournamentItem);
            instance1.setPosition(0, 0);
            instance1.active = true;
            this.contentHolderKCoin.insertChild(instance1, 0);
            var tableContent1 = instance1.getComponent(TournamentLobbyListItem_1.default);
            tableContent1.initInfo(new TournamentResponseTypes_1.Tournament(data));
          } else {
            var instance1 = cc.instantiate(this.tournamentItem);
            instance1.setPosition(0, 0);
            instance1.active = true;
            this.contentHolderNFT.insertChild(instance1, 0);
            var tableContent1 = instance1.getComponent(TournamentLobbyListItem_1.default);
            tableContent1.initInfo(new TournamentResponseTypes_1.Tournament(data));
          }
          if ("freeRoll" != data.tournamentType) {
            var instance3 = cc.instantiate(this.tournamentItem);
            instance3.setPosition(0, 0);
            instance3.active = true;
            this.contentHolderAll.insertChild(instance3, 0);
            var tableContent3 = instance3.getComponent(TournamentLobbyListItem_1.default);
            tableContent3.initInfo(new TournamentResponseTypes_1.Tournament(data));
          }
        } else {
          var instance2 = cc.instantiate(this.tournamentItem);
          instance2.setPosition(0, 0);
          instance2.active = true;
          this.contentHolderSitNGo.insertChild(instance2, 0);
          var tableContent2 = instance2.getComponent(TournamentLobbyListItem_1.default);
          tableContent2.initInfo(new TournamentResponseTypes_1.Tournament(data));
          var instance3 = cc.instantiate(this.tournamentItem);
          instance3.setPosition(0, 0);
          instance3.active = true;
          this.contentHolderAll.insertChild(instance3, 0);
          var tableContent3 = instance3.getComponent(TournamentLobbyListItem_1.default);
          tableContent3.initInfo(new TournamentResponseTypes_1.Tournament(data));
        }
        this.updateTablesFilterType();
      };
      TournamentLobbyListPresenter.prototype.animate = function(interval) {
        void 0 === interval && (interval = .05);
        var _loop_1 = function(i) {
          var child = this_1.scrollView.content.children[i];
          child.opacity = 0;
          this_1.scheduleOnce(function() {
            console.log("animate");
            child.opacity = 255;
            child.x = 1e3;
            child.runAction(cc.sequence(cc.moveTo(.3, cc.v2(0, child.y)), cc.callFunc(function() {
              console.log("animate done");
            })));
          }, interval * i);
        };
        var this_1 = this;
        for (var i = 0; i < this.scrollView.content.children.length; i++) _loop_1(i);
      };
      TournamentLobbyListPresenter.prototype.onShowAll = function() {
        var _this = this;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this.lockClick = false;
        }, 1);
        if (2 == GameManager.lobbyListType) return;
        this.setActiveButton(this.tabBtns0[0], this.tabBtns0[1]);
        this.setActiveButton(this.tabBtns0[0], this.tabBtns0[2]);
        this.setActiveButton(this.tabBtns0[0], this.tabBtns0[3]);
        this.curTab = TOURNAMENT_TYPE.ALL;
        this.contentHolderAll.active = true;
        this.contentHolderKCoin.active = false;
        this.contentHolderSitNGo.active = false;
        this.contentHolderNFT.active = false;
        this.contentCashierAll.active = false;
        this.scrollView.content = this.contentHolderAll;
        GameManager.playSound(K.Sounds.click);
        this.animate();
      };
      TournamentLobbyListPresenter.prototype.onShowTournament = function() {
        var _this = this;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this.lockClick = false;
        }, 1);
        this.gameTypeDropdown && (this.gameTypeDropdown.node.parent.active = true);
        this.setActiveButton(this.tabBtns0[1], this.tabBtns0[0]);
        this.setActiveButton(this.tabBtns0[1], this.tabBtns0[2]);
        this.setActiveButton(this.tabBtns0[1], this.tabBtns0[3]);
        this.refreshSideTable(null);
        this.curTab = TOURNAMENT_TYPE.KCOIN;
        this.contentHolderAll.active = false;
        this.contentHolderKCoin.active = true;
        this.contentHolderSitNGo.active = false;
        this.contentHolderNFT.active = false;
        this.contentCashierAll.active = false;
        this.scrollView.content = this.contentHolderKCoin;
        GameManager.playSound(K.Sounds.click);
        this.animate();
      };
      TournamentLobbyListPresenter.prototype.onShowSitNGo = function() {
        var _this = this;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this.lockClick = false;
        }, 1);
        !GameManager.isMobile;
        this.gameTypeDropdown && (this.gameTypeDropdown.node.parent.active = false);
        this.setActiveButton(this.tabBtns0[2], this.tabBtns0[0]);
        this.setActiveButton(this.tabBtns0[2], this.tabBtns0[1]);
        this.setActiveButton(this.tabBtns0[2], this.tabBtns0[3]);
        this.refreshSideTable(null);
        this.curTab = TOURNAMENT_TYPE.SITNGO;
        this.contentHolderAll.active = false;
        this.contentHolderKCoin.active = false;
        this.contentHolderSitNGo.active = true;
        this.contentCashierAll.active = false;
        this.contentHolderNFT.active = false;
        this.scrollView.content = this.contentHolderSitNGo;
        GameManager.playSound(K.Sounds.click);
        this.animate();
      };
      TournamentLobbyListPresenter.prototype.onShowTournamentNFT = function() {
        var _this = this;
        if (this.lockClick) return;
        this.lockClick = true;
        this.scheduleOnce(function() {
          _this.lockClick = false;
        }, 1);
        this.refreshSideTable(null);
        this.curTab = TOURNAMENT_TYPE.NFT;
        this.contentHolderAll.active = false;
        this.contentHolderKCoin.active = false;
        this.contentHolderSitNGo.active = false;
        this.contentHolderNFT.active = true;
        this.contentCashierAll.active = false;
        this.scrollView.content = this.contentHolderNFT;
        GameManager.playSound(K.Sounds.click);
        this.setActiveButton(this.tabBtns0[3], this.tabBtns0[0]);
        this.setActiveButton(this.tabBtns0[3], this.tabBtns0[1]);
        this.setActiveButton(this.tabBtns0[3], this.tabBtns0[2]);
        this.animate();
      };
      TournamentLobbyListPresenter.prototype.onTournamentLobbyResponseEvent = function(data) {
        "Res-GetTournamentData" === data.eventName && this.onTournamentRefresh(data.data.response);
      };
      TournamentLobbyListPresenter.prototype.onFreeroll = function() {
        this.typeFilter = 1;
        this.setActiveButton(this.tabBtns[1], this.tabBtns[this.currentTab]);
        this.updateTablesFilterType();
        this.currentTab = 1;
      };
      TournamentLobbyListPresenter.prototype.onGaurenteed = function() {
        this.typeFilter = 2;
        this.setActiveButton(this.tabBtns[2], this.tabBtns[this.currentTab]);
        this.updateTablesFilterType();
        this.currentTab = 2;
      };
      TournamentLobbyListPresenter.prototype.onAll = function() {
        this.typeFilter = 0;
        this.setActiveButton(this.tabBtns[0], this.tabBtns[this.currentTab]);
        this.updateTablesFilterType();
        this.currentTab = 0;
      };
      TournamentLobbyListPresenter.prototype.onAllSNG = function() {
        this.typeFilterSNG = 0;
        this.setActiveButton(this.tabBtns2[0], this.tabBtns2[this.currentTabSNG]);
        this.updateTablesFilterType();
        this.currentTabSNG = 0;
      };
      TournamentLobbyListPresenter.prototype.onHolemSNG = function() {
        this.typeFilterSNG = 1;
        this.setActiveButton(this.tabBtns2[1], this.tabBtns2[this.currentTabSNG]);
        this.updateTablesFilterType();
        this.currentTabSNG = 1;
      };
      TournamentLobbyListPresenter.prototype.onOhamaSNG = function() {
        this.typeFilterSNG = 2;
        this.setActiveButton(this.tabBtns2[2], this.tabBtns2[this.currentTabSNG]);
        this.updateTablesFilterType();
        this.currentTabSNG = 2;
      };
      TournamentLobbyListPresenter.prototype.updateTablesFilterType = function() {
        for (var i = 0; i < this.contentHolderKCoin.children.length; i++) {
          var child = this.contentHolderKCoin.children[i];
          child.active = true;
          var tourItemInfo = child.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
          console.log("contentHolderKCoin tourItemInfo", tourItemInfo);
          1 == this.typeFilter ? "freeRoll" != tourItemInfo.tournamentType && (child.active = false) : 2 == this.typeFilter && (tourItemInfo.isGtdEnabled || (child.active = false));
          2 == this.typeFilterSNG ? "PLO" == tourItemInfo.gameVariation && (child.active = false) : 1 == this.typeFilterSNG && "NLH" == tourItemInfo.gameVariation && (child.active = false);
        }
        for (var i = 0; i < this.contentHolderSitNGo.children.length; i++) {
          var child = this.contentHolderSitNGo.children[i];
          child.active = true;
          var tourItemInfo = child.getComponent(TournamentLobbyListItem_1.default).tourItemInfo;
          console.log("contentHolderSitNGo tourItemInfo", tourItemInfo);
          1 == this.typeFilterSNG ? "Omaha" == tourItemInfo.gameVariation && (child.active = false) : 2 == this.typeFilterSNG && "Texas Hold\u2019em" == tourItemInfo.gameVariation && (child.active = false);
        }
      };
      TournamentLobbyListPresenter.prototype.onFilter = function() {
        this.filterTab += 1;
        this.filterTab > 2 && (this.filterTab = 1);
        if (1 == this.filterTab) {
          this.header0.active = true;
          this.header1.active = false;
          this.header2.active = false;
        } else if (2 == this.filterTab) {
          this.header0.active = false;
          this.header1.active = true;
          this.header2.active = false;
        } else if (3 == this.filterTab) {
          this.header0.active = false;
          this.header1.active = false;
          this.header2.active = true;
        }
      };
      TournamentLobbyListPresenter.prototype.onFilterHoldem = function() {};
      TournamentLobbyListPresenter.prototype.onFilterOhama = function() {};
      TournamentLobbyListPresenter.prototype.onFilterAll = function() {};
      TournamentLobbyListPresenter.prototype.setActiveButton = function(currBtn, prevBtn) {
        if (null !== prevBtn) {
          prevBtn.getChildByName("pressed").active = false;
          prevBtn.getChildByName("Label").color = new cc.Color().fromHEX("#FFFFFF");
        }
        currBtn.getChildByName("pressed").active = true;
        currBtn.getChildByName("Label").color = new cc.Color().fromHEX("#531400");
      };
      TournamentLobbyListPresenter.prototype.applyFilter = function() {
        this.updateTablesFilterType();
      };
      var TournamentLobbyListPresenter_1;
      TournamentLobbyListPresenter._instance = null;
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "comingSoon", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "top", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "top2", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyListPresenter.prototype, "filterLabel", void 0);
      __decorate([ property(DropDown) ], TournamentLobbyListPresenter.prototype, "gameTypeDropdown", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentLobbyListPresenter.prototype, "activeSprite", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentLobbyListPresenter.prototype, "inactiveSprite", void 0);
      __decorate([ property(cc.Color) ], TournamentLobbyListPresenter.prototype, "activeColor", void 0);
      __decorate([ property(cc.Color) ], TournamentLobbyListPresenter.prototype, "inactiveColor", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tabs", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tournamentNotification", void 0);
      __decorate([ property(cc.ScrollView) ], TournamentLobbyListPresenter.prototype, "scrollView", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "contentCashierAll", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "contentHolderAll", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "contentHolderSitNGo", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "contentHolderFreeroll", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "contentHolderKCoin", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "contentHolderNFT", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tournamentItem", void 0);
      __decorate([ property(TournamentLobbyPresenter_1.TournamentLobbyPresenter) ], TournamentLobbyListPresenter.prototype, "tournamentLobbyPresenter", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tabNodes", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tabBtns0", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tabBtns", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tabBtns2", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "header0", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "header1", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "header2", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "tabPage", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentLobbyListPresenter.prototype, "tabBtnSprite", void 0);
      __decorate([ property(cc.Color) ], TournamentLobbyListPresenter.prototype, "labeActiveColor", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "selectedTableDetails", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyListPresenter.prototype, "selectedTableDetailsTour", void 0);
      TournamentLobbyListPresenter = TournamentLobbyListPresenter_1 = __decorate([ ccclass ], TournamentLobbyListPresenter);
      return TournamentLobbyListPresenter;
    }(cc.Component);
    exports.TournamentLobbyListPresenter = TournamentLobbyListPresenter;
    cc._RF.pop();
  }, {
    "../../Utilities/DropDowns/DropDown": "DropDown",
    "../../globals": "globals",
    "../data/TournamentResponseTypes": "TournamentResponseTypes",
    "./TournamentLobbyListItem": "TournamentLobbyListItem",
    "./TournamentLobbyPresenter": "TournamentLobbyPresenter"
  } ],
  TournamentLobbyPresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1debcMIG5FNn4mdsyE7HcIi", "TournamentLobbyPresenter");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TournamentLobbyPresenter = exports.TOUR_LOBBY_TAB = void 0;
    var ResponseTypes_1 = require("../../DataFormats/ResponseTypes");
    var TournamentResponseTypes_1 = require("../data/TournamentResponseTypes");
    var PopUpManager_1 = require("../../Utilities/ScreensAndPopUps/PopUps/PopUpManager");
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TOUR_LOBBY_TAB;
    (function(TOUR_LOBBY_TAB) {
      TOUR_LOBBY_TAB[TOUR_LOBBY_TAB["INFO"] = 0] = "INFO";
      TOUR_LOBBY_TAB[TOUR_LOBBY_TAB["TABLE"] = 1] = "TABLE";
      TOUR_LOBBY_TAB[TOUR_LOBBY_TAB["BLIND_STRUCT"] = 2] = "BLIND_STRUCT";
    })(TOUR_LOBBY_TAB = exports.TOUR_LOBBY_TAB || (exports.TOUR_LOBBY_TAB = {}));
    var TournamentLobbyPresenter = function(_super) {
      __extends(TournamentLobbyPresenter, _super);
      function TournamentLobbyPresenter() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.header1 = null;
        _this.header2 = null;
        _this.header3 = null;
        _this.reentryBtn = null;
        _this.enterTableBtn = null;
        _this.deRegisterTableBtn = null;
        _this.lateRegisterBtn = null;
        _this.registerBtn = null;
        _this.stateBtn = null;
        _this.CountDown = null;
        _this.CountDowninfo = null;
        _this.CountDowntime = null;
        _this.desc = null;
        _this.late = null;
        _this.minmaxPlayers = null;
        _this.curBlindInfo = null;
        _this.nextBlindInfo = null;
        _this.timerBlindInfo = null;
        _this.playerPerTables = null;
        _this.isReentryAllowed = null;
        _this.isRebuyAllowed = null;
        _this.isAddonAllowed = null;
        _this.registrationBeforeStarttime = null;
        _this.tournamentStartTime = null;
        _this.startingChips = null;
        _this.status = null;
        _this.gameType = null;
        _this.tournamentName = null;
        _this.guaranteedValue = null;
        _this.entryFees = null;
        _this.uniqueEntries = null;
        _this.reentriesCount = null;
        _this.highestStack = null;
        _this.lowestStack = null;
        _this.avarageStack = null;
        _this.tabBtns = [];
        _this.tabPage = [];
        _this.labeActiveColor = [];
        _this.btnFrame = [];
        _this.blindAndPayout = null;
        _this.tournamentBuyin = null;
        _this.tournamentResultPlacement = null;
        _this.tournamentResultWinner = null;
        _this._curTab = TOUR_LOBBY_TAB.INFO;
        _this.playerFilter = "";
        _this.isTableExisting = false;
        _this.isTournamentExisting = false;
        _this.tournamentIndexFound = -1;
        _this.indexFound = -1;
        return _this;
      }
      TournamentLobbyPresenter_1 = TournamentLobbyPresenter;
      TournamentLobbyPresenter.prototype.setTabActive = function(tab) {
        this.setButtonActive(tab);
        this.tabPage.forEach(function(page, i) {
          page.active = tab == i;
        });
      };
      TournamentLobbyPresenter.prototype.setButtonActive = function(btnID) {
        var _this = this;
        this.tabBtns.forEach(function(btn, i) {
          var index = btnID == i ? 0 : 1;
          btn.children[0].color = _this.labeActiveColor[index];
          btn.children[0].getComponent(cc.Label).enableUnderline = btnID == i;
        });
      };
      TournamentLobbyPresenter.prototype.getInstance = function() {
        TournamentLobbyPresenter_1._instance || (TournamentLobbyPresenter_1._instance = this);
        return TournamentLobbyPresenter_1._instance;
      };
      TournamentLobbyPresenter.prototype.onLoad = function() {
        TournamentLobbyPresenter_1._instance || (TournamentLobbyPresenter_1._instance = this);
        this.setTabActive(TOUR_LOBBY_TAB.INFO);
        cc.systemEvent.on(K.SocketIOEvent.Lobby.TournamentRefresh, this.onTournamentRefresh.bind(this), this.node);
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentClosed, this.onTournamentClosed.bind(this));
        cc.systemEvent.on("leaveLobby", this.leaveLobby, this);
      };
      TournamentLobbyPresenter.prototype.onEnable = function() {
        this.blindAndPayout.active = false;
        this.setTabActive(TOUR_LOBBY_TAB.INFO);
        this.tourData && this.tourData.id && window.TournamentLobbyHandler.requestTournamentData({
          tournamentId: this.tourData.id
        }, function(data) {
          console.log("data", data);
        }, function(error) {
          console.log("error", error);
        });
      };
      TournamentLobbyPresenter.prototype.onBtnClick = function(event, customEvent) {
        this.blindAndPayout.active = false;
        var tab = parseInt(customEvent);
        this.setTabActive(customEvent);
      };
      TournamentLobbyPresenter.prototype.onBackBtnClick = function(event, customEvent) {
        this.node.active = false;
      };
      TournamentLobbyPresenter.prototype.enterLobby = function(tourData) {
        this.tourData = tourData;
        this.node.active = true;
        this.updateData();
      };
      TournamentLobbyPresenter.prototype.leaveLobby = function() {
        this.node.active = false;
      };
      TournamentLobbyPresenter.prototype.updateData = function(isRefresh) {
        void 0 === isRefresh && (isRefresh = false);
        this.updateInfo(isRefresh);
        this.updateTables();
        this.updatePrize();
        this.updatePositionPaid();
        this.updateBlindAndPayout();
      };
      TournamentLobbyPresenter.prototype.updateInfo = function(isRefresh) {
        void 0 === isRefresh && (isRefresh = false);
        this.unschedule(this.startsInTimer);
        this.unschedule(this.endsInTimer);
        this.unschedule(this.breakTimer);
        this.unschedule(this.blindTimer);
        this.unschedule(this.breakEndsTimer);
        this.unschedule(this.regStartsInTimer);
        this.header1.string = this.tourData.gameVariation;
        this.reentryBtn.active = false;
        this.enterTableBtn.active = false;
        this.deRegisterTableBtn.active = false;
        this.lateRegisterBtn.active = false;
        this.registerBtn.active = false;
        this.stateBtn.active = false;
        this.CountDowninfo.string = "";
        this.CountDowntime.string = "";
        if ("CLOSED" == this.tourData.state) {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Closed";
        } else if ("CANCELED" == this.tourData.state) {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Canceled";
        } else if (this.tourData.raw.playerData) if (this.tourData.raw.playerData.tableId) if (this.tourData.raw.isInBreak) if ("ELIMINATED" == this.tourData.raw.playerData.status) if (this.tourData.raw.isReEntryOpen && this.tourData.raw.isReentryAllowed && this.tourData.raw.playerData.reentries < this.tourData.raw.numberOfReentry) {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Break Time";
          this.updateBreakEndsTimer();
        } else {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Running";
        } else {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Break Time";
          this.updateBreakEndsTimer();
        } else if ("ELIMINATED" == this.tourData.raw.playerData.status) if (this.tourData.raw.isReEntryOpen && this.tourData.raw.isReentryAllowed && this.tourData.raw.playerData.reentries < this.tourData.raw.numberOfReentry) this.reentryBtn.active = true; else {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Eliminated";
        } else {
          this.enterTableBtn.active = true;
          this.newTableData = {};
          this.newTableData.eventData = {
            playerId: this.tourData.raw.playerData.playerId,
            tableId: this.tourData.raw.playerData.tableId
          };
          if (!isRefresh) {
            var newTableEvent = K.SocketIOBroadcast.Lobby.TournamentNewTable.replace("<TournamentId>", this.tourData.id).replace("<PlayerId>", this.tourData.raw.playerData.playerId);
            socketIO.socket.off(newTableEvent);
            ServerCom.socketIOBroadcast(newTableEvent, this.onTournamentNewTable.bind(this));
          }
        } else if ("Open To Register" == this.tourData.state) {
          this.updateStartsInTimer();
          this.deRegisterTableBtn.active = true;
        } else if ("Registration Freezed" == this.tourData.state) {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Registration Freezed";
        } else {
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "Registered";
        } else if (this.tourData.raw.isLateEntryOpen) {
          this.lateRegisterBtn.active = true;
          this.updateEndsInTimer();
        } else if ("Open To Register" == this.tourData.state) {
          this.updateStartsInTimer();
          this.registerBtn.active = true;
          if (this.tourData.raw.playerRemainingRatio && this.tourData.raw.playerRemainingRatio.registeredPlayers >= this.tourData.raw.maxPlayersAllowed) {
            this.registerBtn, this.tabPage[0];
            getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-gray-sprite"));
            this.registerBtn, this.tabPage[0];
            getComponent(cc.Button).interactable = false;
          } else {
            this.registerBtn.getComponent(cc.Sprite).setMaterial(0, cc.Material.getBuiltinMaterial("2d-sprite"));
            this.registerBtn.getComponent(cc.Button).interactable = true;
          }
        } else {
          "PUBLISHED" == this.tourData.state && this.updateRegStartsInTimer();
          this.stateBtn.active = true;
          cc.find("Label", this.stateBtn).getComponent(cc.Label).string = "PUBLISHED" == this.tourData.state ? "Register" : this.tourData.state;
        }
        this.playerPerTables.string = this.tourData.raw.playerPerTables;
        this.minmaxPlayers.string = this.tourData.raw.minPlayersToStart + "/" + this.tourData.raw.maxPlayersAllowed;
        this.isReentryAllowed.string = this.tourData.isReentryAllowed ? this.tourData.numberOfReentry + " times @ Rs. " + (this.tourData.raw.reentry.reentryPrice.reentryAmount + this.tourData.raw.reentry.reentryPrice.reentryHouseFee) : "N/A";
        this.isRebuyAllowed.string = "N/A";
        this.isAddonAllowed.string = "N/A";
        if (this.tourData.raw.addOn.addOnTime.length > 0 && this.tourData.raw.rebuyChips > 0) {
          this.isRebuyAllowed.string = "Rebuy Allowed";
          this.isAddonAllowed.string = "Addon Allowed";
        } else this.tourData.raw.addOn.addOnTime.length > 0 ? this.isAddonAllowed.string = "Addon Allowed" : this.tourData.raw.rebuyChips > 0 && (this.isRebuyAllowed.string = "Rebuy Allowed");
        this.tournamentName.string = this.tourData.tournamentName;
        this.guaranteedValue.string = this.tourData.guaranteedValue;
        this.entryFees.string = (this.tourData.raw.entryFees || 0) + (this.tourData.raw.houseFees || 0);
        this.status.string = this.tourData.state;
        var date = new Date(this.tourData.raw.registrationBeforeStarttime);
        this.registrationBeforeStarttime.string = date.toLocaleDateString("en-US", {
          day: "numeric",
          month: "short"
        }) + ", " + date.toLocaleTimeString("en-US").substr(0, (date.toLocaleTimeString("en-US") + " ").indexOf(" "));
        date = new Date(this.tourData.raw.tournamentStartTime);
        this.tournamentStartTime.string = date.toLocaleDateString("en-US", {
          day: "numeric",
          month: "short"
        }) + ", " + date.toLocaleTimeString("en-US").substr(0, (date.toLocaleTimeString("en-US") + " ").indexOf(" "));
        this.header2.string = date.toLocaleDateString("en-US", {
          day: "numeric",
          month: "short"
        });
        this.header3.string = date.toLocaleTimeString("en-US").substr(0, (date.toLocaleTimeString("en-US") + " ").indexOf(" "));
        this.desc.string = this.tournamentStartTime.string + "(" + this.tourData.gameVariation + ")";
        this.uniqueEntries.string = this.tourData.raw.uniqueEntries;
        this.reentriesCount.string = (this.tourData.raw.totalRebuy || 0) + "/" + this.tourData.raw.reentriesCount;
        this.late.string = this.tourData.raw.lateRegistrationAllowed ? "Till Blind Level " + this.tourData.lateRegistrationTime : "N/A";
        this.curBlindInfo.string = this.tourData.currentBlindLevel.smallBlind + "/" + this.tourData.currentBlindLevel.bigBlind + "/" + this.tourData.currentBlindLevel.ante + "(" + this.tourData.currentBlindLevel.level + ")";
        if (this.tourData.raw.isInBreak || "RUNNING" != this.tourData.state && "Open To Late Register" != this.tourData.state) this.timerBlindInfo.string = "00:00"; else {
          this.updateBreakTimer();
          this.tourData.currentBlindLevel.nextBlindLevelTime > 0 ? this.updateBlindTimer() : this.timerBlindInfo.string = "00:00";
        }
        this.nextBlindInfo.string = this.tourData.nextBlindLevel.smallBlind + "/" + this.tourData.nextBlindLevel.bigBlind + "/" + this.tourData.nextBlindLevel.ante + "(" + this.tourData.nextBlindLevel.level + ")";
        this.highestStack.string = 0 == this.tourData.tablesStack.length ? "N/A" : this.tourData.maxStack;
        this.lowestStack.string = 0 == this.tourData.tablesStack.length ? "N/A" : this.tourData.minStack;
        this.avarageStack.string = 0 == this.tourData.tablesStack.length ? "N/A" : this.tourData.avgStack;
        this.gameType.string = this.tourData.gameVariation;
        this.startingChips.string = this.tourData.noOfChipsAtGameStart;
      };
      TournamentLobbyPresenter.prototype.updateBreakEndsTimer = function() {
        this.unschedule(this.breakEndsTimer);
        this.breakEndsTimer();
        this.schedule(this.breakEndsTimer, 1);
      };
      TournamentLobbyPresenter.prototype.breakEndsTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(this.tourData.raw.currentTournamentBreak.breakEndTime));
        false;
        this.CountDowninfo.string = "Ends in:";
        this.CountDowntime.string = timeRemaining;
        if ("00:00" == timeRemaining) {
          this.CountDowninfo.string = "";
          this.CountDowntime.string = "";
        }
      };
      TournamentLobbyPresenter.prototype.updateStartsInTimer = function() {
        this.unschedule(this.startsInTimer);
        this.startsInTimer();
        this.schedule(this.startsInTimer, 1);
      };
      TournamentLobbyPresenter.prototype.updateRegStartsInTimer = function() {
        this.unschedule(this.regStartsInTimer);
        this.regStartsInTimer();
        this.schedule(this.regStartsInTimer, 1);
      };
      TournamentLobbyPresenter.prototype.regStartsInTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(new Date(this.tourData.raw.registrationBeforeStarttime)));
        this.CountDowninfo.string = "Reg opens in:";
        this.CountDowntime.string = timeRemaining;
        if ("00:00" == timeRemaining) {
          this.CountDowninfo.string = "";
          this.CountDowntime.string = "";
        }
      };
      TournamentLobbyPresenter.prototype.startsInTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(this.tourData.raw.tournamentStartDetails.startTime));
        this.CountDowninfo.string = "Reg ends in:";
        this.CountDowntime.string = timeRemaining;
        if ("00:00" == timeRemaining) {
          this.CountDowninfo.string = "";
          this.CountDowntime.string = "";
        }
      };
      TournamentLobbyPresenter.prototype.updateEndsInTimer = function() {
        this.unschedule(this.endsInTimer);
        this.endsInTimer();
        this.schedule(this.endsInTimer, 1);
      };
      TournamentLobbyPresenter.prototype.endsInTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(1e3 * Number(this.tourData.raw.lateRegistrationEndTime));
        this.CountDowninfo.string = "Ends in:";
        this.CountDowntime.string = timeRemaining;
        if ("00:00" == timeRemaining) {
          this.CountDowninfo.string = "";
          this.CountDowntime.string = "";
        }
      };
      TournamentLobbyPresenter.prototype.updateBreakTimer = function() {
        this.unschedule(this.breakTimer);
        this.breakTimer();
        this.schedule(this.breakTimer, 1);
      };
      TournamentLobbyPresenter.prototype.breakTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(Number(this.tourData.raw.nextBreakDetails.breakStartTime));
      };
      TournamentLobbyPresenter.prototype.updateBlindTimer = function() {
        this.unschedule(this.blindTimer);
        this.blindTimer();
        this.schedule(this.blindTimer, 1);
      };
      TournamentLobbyPresenter.prototype.blindTimer = function() {
        var timeRemaining = GameManager.getMTimeDuration(1e3 * Number(this.tourData.currentBlindLevel.nextBlindLevelTime));
        this.timerBlindInfo.string = timeRemaining;
      };
      TournamentLobbyPresenter.prototype.onClickTableToView = function(sender, data) {
        console.log(sender, data);
        if (this.tourData.raw.playerData && this.tourData.raw.playerData.tableId && this.tourData.raw.playerData.tableId == sender.target.___tableId) {
          this.onEnterTableButton(null, this.tourData.raw.playerData.tableId, this.tourData.raw._id);
          return;
        }
        if (this.tourData.raw.playerData && this.tourData.raw.playerData.tableId && "ELIMINATED" != this.tourData.raw.playerData.status) {
          GameManager.popUpManager.show(PopUpManager_1.PopUpType.CommonDialog, {
            title: "Warning",
            content: "You are not allowed to observe the other tables now."
          }, function() {});
          return;
        }
        socketIO.socket.off(sender.target.___tableId + ":" + GameManager.user.playerId);
        ServerCom.socketIOBroadcast(sender.target.___tableId + ":" + GameManager.user.playerId, this.onTournamentTableUserBroadcast.bind(this));
        window.TournamentLobbyHandler.requestTournamentJoinTable({
          channelId: sender.target.___tableId
        }, function(data) {
          console.log("data", data);
        }, function(error) {
          console.log("error", error);
        });
      };
      TournamentLobbyPresenter.prototype.updateTables = function() {
        cc.find("scrollView/view/content", this.tabPage[5]).removeAllChildren();
        for (var i = 0; i < this.tourData.tablesStack.length; i++) {
          var tablesStack = this.tourData.tablesStack[i];
          if (tablesStack.playersCount <= 0) continue;
          var instance = null;
          instance = i % 2 == 0 ? cc.instantiate(cc.find("scrollView/view/rule_base", this.tabPage[5])) : cc.instantiate(cc.find("scrollView/view/rule_base2", this.tabPage[5]));
          instance.setPosition(0, 0);
          instance.active = true;
          true;
          cc.find("scrollView/view/content", this.tabPage[5]).addChild(instance);
          cc.find("tableId/frame/tableId", instance).getComponent(cc.Label).string = tablesStack.tableMockName;
          cc.find("players/players", instance).getComponent(cc.Label).string = tablesStack.playersCount;
          cc.find("min/min", instance).getComponent(cc.Label).string = tablesStack.minStack;
          cc.find("max/max", instance).getComponent(cc.Label).string = tablesStack.maxStack;
          instance.___tableId = tablesStack.id.slice(1);
        }
      };
      TournamentLobbyPresenter.prototype.updatePrize = function() {
        function nth(n) {
          return [ "st", "nd", "rd" ][((n + 90) % 100 - 10) % 10 - 1] || "th";
        }
        cc.find("info_top/v", this.tabPage[3]).getComponent(cc.Label).string = this.tourData.guaranteedValue;
        cc.find("info_top/v1", this.tabPage[3]).getComponent(cc.Label).string = this.tourData.playersPayout.length;
        cc.find("scrollView/view/content", this.tabPage[3]).removeAllChildren();
        var nextPayoutRank = null;
        for (var i = 0; i < this.tourData.raw.playersPayout.length; i++) {
          var playerPayout = this.tourData.raw.playersPayout[i];
          if ("KCOIN" == this.tourData.raw.payoutType || true) {
            var instance = null;
            instance = i % 2 == 0 ? cc.instantiate(cc.find("scrollView/view/list", this.tabPage[3])) : cc.instantiate(cc.find("scrollView/view/list2", this.tabPage[3]));
            instance.setPosition(0, 0);
            instance.active = true;
            cc.find("scrollView/view/content", this.tabPage[3]).addChild(instance);
            cc.find("viewTitle/rank/rank", instance).getComponent(cc.Label).string = playerPayout.rank;
            cc.find("viewTitle/userName/userName", instance).getComponent(cc.Label).string = playerPayout.playerName;
            cc.find("viewTitle/value/value", instance).getComponent(cc.Label).string = playerPayout.payout * this.tourData.guaranteedValue / 100;
          }
          nextPayoutRank || "-" == playerPayout.playerId || (nextPayoutRank = 0 == i ? "end" : this.tourData.raw.playersPayout[i - 1]);
        }
        "KCOIN" == this.tourData.raw.payoutType || true, cc.find("info_top/v2", this.tabPage[3]).getComponent(cc.Label).string = nextPayoutRank ? "end" != nextPayoutRank ? nextPayoutRank.rank + nth(nextPayoutRank.rank) + "-" + nextPayoutRank.payoutAmount : "--" : this.tourData.raw.playersPayout[this.tourData.raw.playersPayout.length - 1].rank + nth(this.tourData.raw.playersPayout[this.tourData.raw.playersPayout.length - 1].rank) + "-" + this.tourData.raw.playersPayout[this.tourData.raw.playersPayout.length - 1].payoutAmount;
      };
      TournamentLobbyPresenter.prototype.searchPlayerTextChanged = function(text) {
        this.playerFilter = text.trim();
        this.updatePositionPaid();
      };
      TournamentLobbyPresenter.prototype.getUsernameRe = function(rank, playerName) {
        var re = 0;
        for (var i = rank + 1; i < this.tourData.leaderBoard.length; i++) {
          var leaderBoard = this.tourData.leaderBoard[i];
          leaderBoard.playerName == playerName && (re += 1);
        }
        return 0 == re ? playerName : playerName + "(" + re + ")";
      };
      TournamentLobbyPresenter.prototype.updatePositionPaid = function() {
        cc.find("scrollView/view/content", this.tabPage[4]).removeAllChildren();
        var myRank = 0;
        for (var i = 0; i < this.tourData.leaderBoard.length; i++) {
          var leaderBoard = this.tourData.leaderBoard[i];
          0 == myRank && leaderBoard.playerId == GameManager.user.playerId && (myRank = i + 1);
          if ("" != this.playerFilter && -1 == leaderBoard.playerName.indexOf(this.playerFilter)) continue;
          var instance = null;
          instance = i % 2 == 0 ? cc.instantiate(cc.find("scrollView/view/list", this.tabPage[4])) : cc.instantiate(cc.find("scrollView/view/list2", this.tabPage[4]));
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("scrollView/view/content", this.tabPage[4]).addChild(instance);
          "Open To Register" == this.tourData.state ? cc.find("viewTitle/rank/rank", instance).getComponent(cc.Label).string = "1" : cc.find("viewTitle/rank/rank", instance).getComponent(cc.Label).string = i + 1;
          cc.find("viewTitle/userName/userName", instance).getComponent(cc.Label).string = this.getUsernameRe(i, leaderBoard.playerName);
          cc.find("viewTitle/value/value", instance).getComponent(cc.Label).string = leaderBoard.chips;
        }
        "Open To Register" == this.tourData.state ? cc.find("info_top/v", this.tabPage[4]).getComponent(cc.Label).string = "-/" + this.tourData.leaderBoard.length : cc.find("info_top/v", this.tabPage[4]).getComponent(cc.Label).string = (0 == myRank ? "-" : myRank) + "/" + this.tourData.leaderBoard.length;
      };
      TournamentLobbyPresenter.prototype.updateBlindAndPayout = function() {
        cc.find("BlindStruct/ScrollView/view/content", this.tabPage[1]).removeAllChildren();
        for (var i = 0; i < this.tourData.blindRule.blindRuleArr.length; i++) {
          var blindRule = this.tourData.blindRule.blindRuleArr[i];
          var instance = null;
          instance = i % 2 == 0 ? cc.instantiate(cc.find("BlindStruct/ScrollView/view/rule_base", this.tabPage[1])) : cc.instantiate(cc.find("BlindStruct/ScrollView/view/rule_base2", this.tabPage[1]));
          instance.setPosition(0, 0);
          instance.active = true;
          cc.find("BlindStruct/ScrollView/view/content", this.tabPage[1]).addChild(instance);
          cc.find("level/level", instance).getComponent(cc.Label).string = blindRule.level;
          cc.find("blind/blind", instance).getComponent(cc.Label).string = blindRule.smallBlind + "/" + blindRule.bigBlind;
          cc.find("ante/ante", instance).getComponent(cc.Label).string = blindRule.ante;
          cc.find("duration/duration", instance).getComponent(cc.Label).string = 60 * blindRule.minutes;
        }
        cc.find("BlindStruct/ScrollView/view/content", this.tabPage[2]).removeAllChildren();
        for (var i = 0; i < this.tourData.raw.allPayoutStructures.length; i++) {
          var payoutRecord = this.tourData.raw.allPayoutStructures[i];
          if ("KCOIN" == this.tourData.raw.payoutType || true) {
            var instance = null;
            instance = i % 2 == 0 ? cc.instantiate(cc.find("BlindStruct/ScrollView/view/rule_base", this.tabPage[2])) : cc.instantiate(cc.find("BlindStruct/ScrollView/view/rule_base2", this.tabPage[2]));
            instance.setPosition(0, 0);
            instance.active = true;
            cc.find("BlindStruct/ScrollView/view/content", this.tabPage[2]).addChild(instance);
            cc.find("entries/entries", instance).getComponent(cc.Label).string = payoutRecord.playerRange;
            cc.find("paid/paid", instance).getComponent(cc.Label).string = payoutRecord.numberOfWinners;
          }
        }
      };
      TournamentLobbyPresenter.prototype.onBlindAndPayout = function() {
        this.blindAndPayout.active = true;
      };
      TournamentLobbyPresenter.prototype.onCloseBlindAndPayout = function() {
        this.blindAndPayout.active = false;
      };
      TournamentLobbyPresenter.prototype.onRegisterButton = function() {
        this.tournamentBuyin.active = false;
        this.tournamentBuyin.getComponent("TournamentBuyin").setData(this.tourData, 1);
        this.tournamentBuyin.active = true;
        var anim = this.tournamentBuyin.getComponent("AnimBase");
        var inst = this;
        if (null !== anim) {
          this.tournamentBuyin.opacity = 0;
          anim.play("showPopUp", function() {});
        }
      };
      TournamentLobbyPresenter.prototype.onDeRegisterButton = function() {
        window.TournamentLobbyHandler.requestTournamentDeRegister({
          tournamentId: this.tourData.id
        }, function(data) {}, function(error) {});
      };
      TournamentLobbyPresenter.prototype.onReEntryButton = function() {
        this.tournamentBuyin.active = false;
        this.tournamentBuyin.getComponent("TournamentBuyin").setData(this.tourData, 3);
        this.tournamentBuyin.active = true;
      };
      TournamentLobbyPresenter.prototype.onLateRegisterButton = function() {
        this.tournamentBuyin.active = false;
        this.tournamentBuyin.getComponent("TournamentBuyin").setData(this.tourData, 2);
        this.tournamentBuyin.active = true;
      };
      TournamentLobbyPresenter.prototype.onEnterTableButton = function(event, tableId, tournamentId) {
        console.log(";;;;;; onEnterTableButton", tableId, tournamentId);
        tournamentId || (tournamentId = this.tourData.id);
        this.isTableExisting = false;
        this.isTournamentExisting = false;
        this.indexFound = -1;
        this.tournamentIndexFound = -1;
        for (var index = 0; index < GameManager.gameModel.activePokerModels.length; index++) {
          if (!GameManager.gameModel.activePokerModels[index].tourData) continue;
          var id = GameManager.gameModel.activePokerModels[index].tourData.id;
          if (tournamentId === id) {
            this.isTournamentExisting = true;
            this.tournamentIndexFound = index;
            break;
          }
        }
        for (var index = 0; index < GameManager.gameModel.activePokerModels.length; index++) {
          var id = GameManager.gameModel.activePokerModels[index].roomConfig._id;
          if ((tableId || this.tourData.raw.playerData.tableId) === id) {
            this.indexFound = index;
            this.isTableExisting = true;
            break;
          }
        }
        if (this.isTableExisting) {
          console.log(";;;;;; onEnterTableButton2");
          ServerCom.loading.active = false;
          if (GameManager.isMobile || K.GoToTable) {
            this.node.active = false;
            ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, this.indexFound, function() {});
          } else window.versions.new({
            name: this.tourData.id,
            url: "?GoToTable=1&accesstoken=" + K.Token.access_token + "&channelid=" + this.tourData.id + "&playerId=" + GameManager.user.playerId + "&playerName=" + GameManager.user.userName + "&networkIp=" + window.ipV4Address + "&realChips=" + GameManager.user.realChips + "&isTournament=true"
          });
          return;
        }
        if (this.isTournamentExisting) {
          console.log(";;;;;; onEnterTableButton3");
          this.node.active = false;
          GameManager.gameModel.activePokerModels[this.tournamentIndexFound].leave();
          GameManager.gameModel.activePokerModels[this.tournamentIndexFound].presenter.resetGameForReshuffle();
          GameManager.gameModel.activePokerModels[this.tournamentIndexFound].resetGameForReshuffle();
        }
        socketIO.socket.off((tableId || this.tourData.raw.playerData.tableId) + ":" + this.tourData.raw.playerData.playerId);
        ServerCom.socketIOBroadcast((tableId || this.tourData.raw.playerData.tableId) + ":" + this.tourData.raw.playerData.playerId, this.onTournamentTableUserBroadcast.bind(this));
        window.TournamentLobbyHandler.requestTournamentEnterTable({
          tournamentId: tournamentId
        }, function(data) {}, function(error) {}, this.isTournamentExisting ? "Table reshuffling, please wait ......" : "Enter table, please wait ......");
      };
      TournamentLobbyPresenter.prototype.start = function() {
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentLobbyResponseEvent, this.onTournamentLobbyResponseEvent.bind(this));
      };
      TournamentLobbyPresenter.prototype.onTournamentRefresh = function(data) {
        if (data._id == this.tourData.id) {
          this.tourData = new TournamentResponseTypes_1.Tournament(data);
          this.updateData(true);
        }
      };
      TournamentLobbyPresenter.prototype.onTournamentClosed = function(data) {
        this.onTournamentRefresh(data);
      };
      TournamentLobbyPresenter.prototype.onTournamentLobbyResponseEvent = function(data) {
        if ("Res-Register" === data.eventName || "Res-ReEntry" === data.eventName) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          if (data && data.data && data.data.success) {
            var newTableEvent = K.SocketIOBroadcast.Lobby.TournamentNewTable.replace("<TournamentId>", data.data.requestedTournamentId).replace("<PlayerId>", data.data.requesterPlayerId);
            socketIO.socket.off(newTableEvent);
            ServerCom.socketIOBroadcast(newTableEvent, this.onTournamentNewTable.bind(this));
            var newTableEvent2 = K.SocketIOBroadcast.Lobby.TournamentElimination.replace("<TournamentId>", data.data.requestedTournamentId).replace("<PlayerId>", data.data.requesterPlayerId);
            ServerCom.socketIOBroadcast(newTableEvent2, this.onTournamentElimination.bind(this));
            GameManager.popUpManager.show(PopUpManager_1.PopUpType.RegDialog, 1, function() {});
          } else GameManager.popUpManager.show(PopUpManager_1.PopUpType.CommonDialog, {
            title: "Error!",
            content: data.data.info ? data.data.info : data.data.response
          }, function() {});
        } else if ("Res-Deregister" === data.eventName) if (data && data.data && data.data.success) {
          var newTableEvent = K.SocketIOBroadcast.Lobby.TournamentNewTable.replace("<TournamentId>", data.data.requestedTournamentId).replace("<PlayerId>", data.data.requesterPlayerId);
          socketIO.socket.off(newTableEvent);
          var newTableEvent2 = K.SocketIOBroadcast.Lobby.TournamentElimination.replace("<TournamentId>", data.data.requestedTournamentId).replace("<PlayerId>", data.data.requesterPlayerId);
          socketIO.socket.off(newTableEvent2);
        } else GameManager.popUpManager.show(PopUpManager_1.PopUpType.CommonDialog, {
          title: "Error!",
          content: data.data.info ? data.data.info : data.data.response
        }, function() {}); else if ("Res-LateRegister" === data.eventName) if (data && data.data && data.data.success) {
          var newTableEvent = K.SocketIOBroadcast.Lobby.TournamentNewTable.replace("<TournamentId>", data.data.requestedTournamentId).replace("<PlayerId>", data.data.requesterPlayerId);
          socketIO.socket.off(newTableEvent);
          ServerCom.socketIOBroadcast(newTableEvent, this.onTournamentNewTable.bind(this));
          var newTableEvent2 = K.SocketIOBroadcast.Lobby.TournamentElimination.replace("<TournamentId>", data.data.requestedTournamentId).replace("<PlayerId>", data.data.requesterPlayerId);
          ServerCom.socketIOBroadcast(newTableEvent2, this.onTournamentElimination.bind(this));
          GameManager.popUpManager.show(PopUpManager_1.PopUpType.RegDialog, 1, function() {});
        } else GameManager.popUpManager.show(PopUpManager_1.PopUpType.CommonDialog, {
          title: "Error!",
          content: data.data.info ? data.data.info : data.data.response
        }, function() {}); else if ("Res-GetTournamentData" === data.eventName && data.data.response._id == this.tourData.id) {
          this.tourData = new TournamentResponseTypes_1.Tournament(data.data.response);
          this.updateData(true);
        }
      };
      TournamentLobbyPresenter.prototype.onTournamentElimination = function(data) {
        this.tournamentResultWinner.active = false;
        this.tournamentResultPlacement.getComponent("TournamentResultsPlacement").setData(data);
        this.tournamentResultPlacement.active = true;
      };
      TournamentLobbyPresenter.prototype.onTournamentNewTable = function(data) {
        console.log(";;;;;; onTournamentNewTable", data);
        this.newTableData = data;
        socketIO.socket.off(data.eventData.tableId + ":" + data.eventData.playerId);
        ServerCom.socketIOBroadcast(data.eventData.tableId + ":" + data.eventData.playerId, this.onTournamentTableUserBroadcast.bind(this));
        if (data.eventData.tournamentId == this.tourData.id) {
          false;
          this.enterTableBtn.active = false;
          this.deRegisterTableBtn.active = false;
          this.lateRegisterBtn.active = false;
          this.registerBtn.active = false;
          this.stateBtn.active = false;
          this.enterTableBtn.active = true;
        }
        if (GameManager.isActive) {
          GameManager.popUpManager.hideAllPopUps();
          GameManager.tableStartTime = this.newTableData.eventData.tableStartTime;
          this.onEnterTableButton(null, this.newTableData.eventData.tableId, this.newTableData.eventData.tournamentId);
        }
      };
      TournamentLobbyPresenter.prototype.onTournamentTableBroadcast = function(data) {};
      TournamentLobbyPresenter.prototype.onTournamentTableUserBroadcast = function(data) {
        console.log(";;;;;; GameManager.isActive", GameManager.isActive);
        console.log(";;;;;; onTournamentTableUserBroadcast", data);
        if ("joinChannelResponse" == data.eventName || "enterChannelResponse" == data.eventName) if (data.data.success) {
          cc.systemEvent.emit("HideTournamentNotification");
          GameManager.popUpManager.hideAllPopUps();
          var correctInfo = null;
          for (var x = 0; x < TournamentLobbyListPresenter.contentHolderAll.children.length; x++) {
            var e = TournamentLobbyListPresenter.contentHolderAll.children[x];
            if (e.getComponent("TournamentLobbyListItem").tourItemInfo.id == data.data.tournamentId) {
              correctInfo = e.getComponent("TournamentLobbyListItem").tourItemInfo;
              break;
            }
          }
          socketIO.socket.off(data.channelId + ":" + data.playerId);
          var newTableEvent2 = K.SocketIOBroadcast.Lobby.TournamentElimination.replace("<TournamentId>", data.data.tournamentId).replace("<PlayerId>", data.playerId);
          socketIO.socket.off(newTableEvent2);
          socketIO.socket.off(data.eventTo);
          if (!GameManager.isActive) {
            ServerCom.forceKeepLoading = false;
            ServerCom.loading.active = false;
            return;
          }
          correctInfo || console.warn("correctInfocorrectInfocorrectInfo");
          data.data.gameData = new ResponseTypes_1.GameData(data.data);
          data.data.tourData = correctInfo || this.tourData;
          if (this.isTournamentExisting) {
            console.log(";;;;;; onTournamentTableUserBroadcast2");
            this.node.active = false;
            ServerCom.forceKeepLoading = false;
            GameManager.gameModel.activePokerModels[this.tournamentIndexFound].initiliazePoker(data.data);
          } else {
            console.log(";;;;;; onTournamentTableUserBroadcast3");
            if (!GameManager.isMobile && !K.GoToTable) {
              window.versions.new({
                name: this.tourData.id,
                url: "?GoToTable=1&accesstoken=" + K.Token.access_token + "&channelid=" + this.tourData.id + "&tableid=" + data.channelId + "&playerId=" + GameManager.user.playerId + "&playerName=" + GameManager.user.userName + "&networkIp=" + window.ipV4Address + "&realChips=" + GameManager.user.realChips + "&isTournament=true"
              });
              return;
            }
            this.node.active = false;
            ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, data.data, function() {});
          }
          this.scheduleOnce(function() {
            ServerCom.forceKeepLoading = false;
            ServerCom.loading.active = false;
          }, 1);
        } else {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          GameManager.popUpManager.show(PopUpManager_1.PopUpType.CommonDialog, {
            title: "Error!",
            content: data.data.info
          }, function() {});
        } else if ("tournamentWinner" == data.eventName) {
          this.tournamentResultPlacement.active = false;
          this.tournamentResultWinner.getComponent("TournamentResultsPlacement").setData(data);
          this.tournamentResultWinner.active = true;
        }
      };
      var TournamentLobbyPresenter_1;
      TournamentLobbyPresenter._instance = null;
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "header1", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "header2", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "header3", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "reentryBtn", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "enterTableBtn", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "deRegisterTableBtn", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "lateRegisterBtn", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "registerBtn", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "stateBtn", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "CountDown", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "CountDowninfo", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "CountDowntime", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "desc", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "late", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "minmaxPlayers", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "curBlindInfo", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "nextBlindInfo", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "timerBlindInfo", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "playerPerTables", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "isReentryAllowed", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "isRebuyAllowed", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "isAddonAllowed", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "registrationBeforeStarttime", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "tournamentStartTime", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "startingChips", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "status", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "gameType", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "tournamentName", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "guaranteedValue", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "entryFees", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "uniqueEntries", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "reentriesCount", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "highestStack", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "lowestStack", void 0);
      __decorate([ property(cc.Label) ], TournamentLobbyPresenter.prototype, "avarageStack", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "tabBtns", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "tabPage", void 0);
      __decorate([ property(cc.Color) ], TournamentLobbyPresenter.prototype, "labeActiveColor", void 0);
      __decorate([ property(cc.SpriteFrame) ], TournamentLobbyPresenter.prototype, "btnFrame", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "blindAndPayout", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "tournamentBuyin", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "tournamentResultPlacement", void 0);
      __decorate([ property(cc.Node) ], TournamentLobbyPresenter.prototype, "tournamentResultWinner", void 0);
      TournamentLobbyPresenter = TournamentLobbyPresenter_1 = __decorate([ ccclass ], TournamentLobbyPresenter);
      return TournamentLobbyPresenter;
    }(cc.Component);
    exports.TournamentLobbyPresenter = TournamentLobbyPresenter;
    cc._RF.pop();
  }, {
    "../../DataFormats/ResponseTypes": "ResponseTypes",
    "../../Utilities/ScreensAndPopUps/PopUps/PopUpManager": "PopUpManager",
    "../data/TournamentResponseTypes": "TournamentResponseTypes"
  } ],
  TournamentLobbyTableMain: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2917dGmGz5Ghp4zoVhAiTus", "TournamentLobbyTableMain");
    "use strict";
    var RunningTableInfo = require("TournamentTableRunningTableInfo");
    var SpecificTableInfo = require("TournamentTablePlayersOnTableInfo");
    var PlayersInfo = require("TournamentTablePlayersInfo");
    var GameData = require("ResponseTypes").GameData;
    cc.Class({
      extends: cc.Component,
      properties: {
        tableData: null,
        runningInfoOddPrefab: {
          default: null,
          type: cc.Prefab
        },
        runningInfoEvenPrefab: {
          default: null,
          type: cc.Prefab
        },
        runningInfoGrid: {
          default: null,
          type: cc.Node
        },
        specificTableInfoOddPrefab: {
          default: null,
          type: cc.Prefab
        },
        specificTableInfoEvenPrefab: {
          default: null,
          type: cc.Prefab
        },
        specificTableInfoGrid: {
          default: null,
          type: cc.Node
        },
        PlayersInfoOddPrefab: {
          default: null,
          type: cc.Prefab
        },
        PlayersInfoEvenPrefab: {
          default: null,
          type: cc.Prefab
        },
        PlayersInfoGrid: {
          default: null,
          type: cc.Node
        },
        selection: -1,
        tableDataMain: null,
        cancelPopup: null,
        observeBtn: {
          default: null,
          type: cc.Button
        },
        warningLbl: {
          default: null,
          type: cc.Label
        },
        setPlayersRankFunc: null,
        checkData: null
      },
      onLoad: function onLoad() {
        this.setPlayersRankFunc = this.setPlayersRank1.bind(this);
        this.checkData = this.destroyData.bind(this);
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableView, this.setPlayersRankFunc);
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tournament, this.destroyData.bind(this));
      },
      destroyData: function destroyData(data) {
        if (TableContent.prevSelection && TableContent.prevSelection.channelData._id == data.tournamentId) for (var i = 0; i < this.tableData.length; i++) if (data.updated.channelId == this.tableData[i].channelId) {
          this.tableData.splice(i, 1);
          this.modifyTableData(this.tableData);
          break;
        }
      },
      onDestroy: function onDestroy() {
        pomelo.off(K.LobbyBroadcastRoute.tableView, this.setPlayersRankFunc);
      },
      setPlayersRank1: function setPlayersRank1(data) {
        data.tournamentId == TableContent.prevSelection.channelData._id && this.updateTotalPlayers(data.updated.ranks);
      },
      allowObserve: function allowObserve() {
        var state = !(-1 == this.selection || this.tableDataMain.state !== K.GameState.Running);
        this.warningLbl.node.active = !state;
        state || -1 != this.selection || this.tableDataMain.state !== K.GameState.Running || (this.warningLbl.string = "No table selected");
        return state;
      },
      onEnable: function onEnable() {
        this.observeBtn.interactable = this.allowObserve();
      },
      setTableData: function setTableData(data, playerRanks, tableData, cancelPopup) {
        this.tableDataMain = tableData;
        this.cancelPopup = cancelPopup;
        this.updateTotalPlayers(playerRanks);
        this.tableData = data;
        this.modifyTableData(data);
      },
      onPlayerShufffle: function onPlayerShufffle(data) {
        var channelIdx, playerIdx, toChannelIdx = -1;
        if (TableContent.prevSelection && TableContent.prevSelection.channelData._id == data.tournamentId) {
          for (var i = 0; i < this.tableData.length; i++) if (data.updated.fromChannelId == this.tableData[i].channelId) {
            channelIdx = i;
            for (var j = 0; j < this.tableData[i].players.length; j++) if (data.updated.playerId == this.tableData[i].players[j].channelId) {
              playerIdx = j;
              break;
            }
          } else data.updated.toChannelId == this.tableData[i].channelId && (toChannelIdx = i);
          if (channelIdx >= 0 && toChannelIdx >= 0 && playerIdx >= 0) {
            this.tableData[toChannelIdx].players.push(this.tableData[channelIdx].players[playerIdx]);
            this.tableData[channelIdx].players.splice(playerIdx, 1);
            this.modifyTableData(this.tableData);
          }
        }
      },
      modifyTableData: function modifyTableData(data) {
        GameManager.removeAllChildren(this.runningInfoGrid);
        var selected = 0;
        for (var i = 0; i < data.length; i++) {
          this.selection == data[i].channelId && (selected = i);
          if (0 !== data[i].players.length) {
            var obj = null;
            obj = i % 2 == 0 ? cc.instantiate(this.runningInfoEvenPrefab) : cc.instantiate(this.runningInfoOddPrefab);
            this.runningInfoGrid.addChild(obj);
            obj.getComponent(RunningTableInfo).setValues(data[i], i);
            obj.getComponent(RunningTableInfo).callback = this.updateTableDetails.bind(this);
          }
        }
        data.length > 0 && this.runningInfoGrid.children[selected].getComponent(RunningTableInfo).onClick();
      },
      updateTableDetails: function updateTableDetails(players, id) {
        this.selection = id;
        this.removePrevSelection(id);
        this.observeBtn.interactable = this.allowObserve();
        GameManager.removeAllChildren(this.specificTableInfoGrid);
        for (var i = 0; i < players.length; i++) {
          var obj = null;
          obj = i % 2 == 0 ? cc.instantiate(this.specificTableInfoEvenPrefab) : cc.instantiate(this.specificTableInfoOddPrefab);
          this.specificTableInfoGrid.addChild(obj);
          obj.getComponent(SpecificTableInfo).setValues(players[i], id);
        }
      },
      removePrevSelection: function removePrevSelection(id) {
        for (var i = 0; i < this.runningInfoGrid.children.length; i++) {
          var component = this.runningInfoGrid.children[i].getComponent(RunningTableInfo);
          component.id !== id && component.removeSelection();
        }
      },
      updateTotalPlayers: function updateTotalPlayers(players) {
        GameManager.removeAllChildren(this.PlayersInfoGrid);
        for (var i = 0; i < players.length; i++) {
          var obj = null;
          obj = i % 2 == 0 ? cc.instantiate(this.PlayersInfoEvenPrefab) : cc.instantiate(this.PlayersInfoOddPrefab);
          this.PlayersInfoGrid.addChild(obj);
          obj.getComponent(PlayersInfo).setValues(players[i]);
        }
      },
      observeTable: function observeTable() {
        if (-1 == this.selection || this.tableDataMain.state !== K.GameState.Running) return;
        var data = this.tableData;
        var channel = {};
        channel.channelId = data[this.selection].channelId;
        channel.channelType = "TOURNAMENT";
        channel.tableId = "";
        channel.isRequested = true;
        GameManager.join(channel.channelId, K.PomeloAPI.joinChannel, channel) && this.cancelPopup();
      }
    });
    cc._RF.pop();
  }, {
    ResponseTypes: "ResponseTypes",
    TournamentTablePlayersInfo: "TournamentTablePlayersInfo",
    TournamentTablePlayersOnTableInfo: "TournamentTablePlayersOnTableInfo",
    TournamentTableRunningTableInfo: "TournamentTableRunningTableInfo"
  } ],
  TournamentModelHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f1ff8eS5YJEMYr2ySsUHMew", "TournamentModelHandler");
    "use strict";
    var PopUpType = require("PopUpManager").PopUpType;
    var sitOutData = require("../../DataFormats/PostTypes").SitOutData;
    var SitOutMode = cc.Enum({
      SitOutNextHand: 1,
      SitOueNextBB: 2,
      None: -1
    });
    function TournamentModelHandler() {}
    TournamentModelHandler.prototype.setModel = function(pokerModel) {
      pokerModel.resetGameForReshuffle = function() {
        pokerModel.gameModel.removeBroadcastCallbacks(pokerModel.gameData.channelId);
        socketIO.socket.off(pokerModel.gameData.channelId);
        socketIO.socket.off(pokerModel.gameData.channelId + ":" + pokerModel.gameData.playerId);
        socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentUpdated);
        cc.systemEvent.off(K.SocketIOEvent.Lobby.TournamentRefresh);
      };
      pokerModel.onDestroy = function() {
        pokerModel.kickPlayerOutOfTheGame(pokerModel);
        cc.director.getActionManager().removeAllActions();
        pokerModel.gameModel.removeBroadcastCallbacks(pokerModel.gameData.channelId);
        socketIO.socket.off(pokerModel.gameData.channelId);
        socketIO.socket.off(pokerModel.gameData.channelId + ":" + pokerModel.gameData.playerId);
        socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentUpdated);
        cc.systemEvent.off(K.SocketIOEvent.Lobby.TournamentRefresh);
      };
      pokerModel.sitOutNextHand = function(callback) {
        ServerCom.socketIORequest(K.SocketIOAPI.Game.TournamentSitOut, {
          channelId: pokerModel.gameData.channelId,
          playerId: pokerModel.gameData.playerId,
          isRequested: true
        }, function(response) {
          response.success && (pokerModel.sitOutValue = SitOutMode.SitOutNextHand);
          null !== callback && void 0 !== callback && callback(response);
        }, null, 5e3, false);
      };
      pokerModel.resetSitout = function(callback) {
        ServerCom.socketIORequest(K.SocketIOAPI.Game.TournamentResetSitout, {
          channelId: pokerModel.gameData.channelId,
          playerId: pokerModel.gameData.playerId,
          isRequested: true
        }, function(response) {
          response.success && (pokerModel.sitOutValue = SitOutMode.None);
          null !== callback && void 0 !== callback && callback(response);
        }, null, 5e3, false);
      };
      pokerModel.makeMove = function(amount, action) {
        ServerCom.socketIORequest(K.SocketIOAPI.Game.TournamentMakeMove, {
          channelId: pokerModel.gameData.channelId,
          amount: amount,
          action: action
        }, null, null, 5e3, false);
      };
      pokerModel.fireMuckHandEvent = function() {
        ServerCom.socketIORequest(K.SocketIOAPI.Game.TournamentFire, {
          channelId: pokerModel.gameData.channelId,
          seatIndex: pokerModel.getMyPlayer().seatIndex,
          channelType: "TOURNAMENT",
          route: "fireEvent",
          playerId: pokerModel.gameData.playerId,
          isRequested: true
        }, null, null, 5e3, false);
      }, pokerModel.resume = function(callback) {
        ServerCom.socketIORequest(K.SocketIOAPI.Game.TournamentResume, {
          channelId: pokerModel.gameData.channelId,
          playerId: pokerModel.gameData.playerId,
          isRequested: true
        }, function(response) {
          if (response.success) {
            pokerModel.sitOutValue = 3;
            var playerData = pokerModel.gameData.tableDetails.players[pokerModel.getPlayerById(pokerModel.gameData.playerId)];
            playerData.isTournamentSitout = false;
            playerData.state = K.PlayerState.Playing;
            null !== callback && void 0 !== callback && callback();
          }
        }, null, 5e3, false);
      };
      pokerModel.onTournamentRefresh = function(data) {
        console.log("%c[pokerModel.onTournamentRefresh] %s %o", "color: blue;", data);
        if (!pokerModel.gameData) return;
        data._id == pokerModel.gameData.raw.tournamentId && "CLOSED" == data.state && pokerModel.emit(K.SocketIOEvent.Game.TournamentClosed, data);
        if (data.lastTableId && "" != data.lastTableId && pokerModel.gameData.channelId == data.lastTableId) {
          pokerModel.gameData.raw.tourData.raw.lastTableId = data.lastTableId;
          pokerModel.presenter.changeTableFinal();
        }
        data._id == pokerModel.gameData.raw.tournamentId && (pokerModel.gameData.raw.tourData.raw.currentBlindLevel = data.currentBlindLevel);
      };
      pokerModel.onTournamentTableBroadcast = function(data) {
        console.log("%c[pokerModel.onTournamentTableBroadcast] %s %o", "color: blue;", data.eventName, data);
        if (data.eventName == K.BroadcastRoute.dealerrChat) pokerModel.onDealerChat(data.data); else if (data.eventName == K.BroadcastRoute.blindDeduction) pokerModel.onBlindDeducted(data.data); else if (data.eventName == K.BroadcastRoute.gamePlayers) pokerModel.onGamePlayers(data.data); else if (data.eventName == K.BroadcastRoute.startGame) pokerModel.onGameStart(data.data); else if (data.eventName == K.BroadcastRoute.turn) pokerModel.onMoveMade(data.data); else if (data.eventName == K.BroadcastRoute.roundOver) pokerModel.onRoundOver(data.data); else if (data.eventName == K.BroadcastRoute.gameOver) pokerModel.onGameOver(data.data); else if (data.eventName == K.BroadcastRoute.playerState) pokerModel.onPlayerStateChange(data.data); else if (data.eventName == K.BroadcastRoute.breakTime) pokerModel.onBreakTime(data.data); else if (data.eventName == K.BroadcastRoute.sit) pokerModel.onSit(data.data); else if (data.eventName == K.BroadcastRoute.onTimeBank) pokerModel.onTimeBank(data.data); else if (data.eventName == K.BroadcastRoute.handTab) pokerModel.onHandTab(data.data); else if ("emoji" == data.eventName) pokerModel.onSendSticker(data.data); else if ("message" == data.eventName) pokerModel.onChat(data.data); else if ("startDisconnectTime" == data.eventName) pokerModel.onDisconnectTime(data.data); else if ("tableDestroyed" == data.eventName) pokerModel.onTableDestroyed(data.data); else if ("fireEvent" == data.eventName) pokerModel.onFireEvent(data.data); else if ("addonBreakTime" == data.eventName) pokerModel.onAddonBreakTime(data.data); else if ("addonBreakTimeOver" == data.eventName) pokerModel.onAddonBreakTimeOver(data.data); else if ("leave" == data.eventName) {
          var player = null;
          var index = this.getPlayerById(data.data.playerId);
          if (-1 !== index) {
            player = this.gameData.tableDetails.players.splice(index, 1);
            pokerModel.emit(K.PokerEvents.OnLeave, player);
          }
        }
      };
      pokerModel.onTournamentTableUserBroadcast = function(data) {
        console.log("%c[pokerModel.onTournamentTableUserBroadcast] %s %o", "color: blue;", data.eventName, data);
        data.eventName == K.BroadcastRoute.connectionAck ? pokerModel.onConnectionAck(data.data) : data.eventName == K.BroadcastRoute.playerCards ? pokerModel.onPlayerCards(data.data) : data.eventName == K.BroadcastRoute.preCheck ? pokerModel.onPreCheck(data.data) : data.eventName == K.BroadcastRoute.eliminated ? pokerModel.onEliminated(data.data) : data.eventName == K.BroadcastRoute.tournamentWinner ? pokerModel.onTournamentWinner(data.data) : data.eventName == K.BroadcastRoute.bestHands ? pokerModel.onBestHands(data.data) : "rebuyActivated" == data.eventName ? pokerModel.onRebuyActivated(data.data) : "rebuyDeactivated" == data.eventName ? pokerModel.onRebuyDeactivated(data.data) : "Res-Rebuy" == data.eventName ? pokerModel.onResRebuy(data) : "Res-AddOn" == data.eventName ? pokerModel.onResAddon(data.data) : "inactiveKicked" == data.eventName ? pokerModel.onInactiveKicked(data.data) : "tournamentCancelled" == data.eventName && pokerModel.onTournamentCancelled(data.data);
      };
      pokerModel.onEliminatedBroadcast = function(data) {
        pokerModel.onEliminated(data.data);
      };
      pokerModel.onInitializePoker = function() {
        ServerCom.socketIOBroadcast(pokerModel.gameData.channelId, this.onTournamentTableBroadcast.bind(this));
        ServerCom.socketIOBroadcast(pokerModel.gameData.channelId + ":" + pokerModel.gameData.playerId, this.onTournamentTableUserBroadcast.bind(this));
        cc.systemEvent.on(K.SocketIOEvent.Lobby.TournamentRefresh, this.onTournamentRefresh.bind(this), this.node);
        ServerCom.socketIOBroadcast(K.SocketIOBroadcast.Lobby.TournamentUpdated, this.onTournamentUpdated.bind(this));
        ServerCom.socketIOBroadcast("Tournament:Break", this.onTournamentsBreakStarts.bind(this));
      };
      pokerModel.onTournamentsBreakStarts = function(data) {
        "TournamentsBreakStarts" == data.eventType && pokerModel.emit("TournamentsBreakStarts", data);
      };
      pokerModel.onTableDestroyed = function(data) {
        data.tableId == pokerModel.gameData.raw.channelId && pokerModel.emit(K.SocketIOEvent.Game.TableDestroyed, data);
      };
      pokerModel.onDisconnectTime = function(data) {
        pokerModel.emit(K.SocketIOEvent.Game.DisconnectTime, data);
      };
      pokerModel.onEliminated = function(data) {
        pokerModel.emit(K.SocketIOEvent.Game.Eliminated, data);
      };
      pokerModel.onTournamentWinner = function(data) {
        pokerModel.emit(K.SocketIOEvent.Game.TournamentWinner, data);
      };
      pokerModel.onBreakTime = function(data) {
        pokerModel.emit(K.SocketIOEvent.Game.BreakTime, data);
      };
      pokerModel.onAddonBreakTime = function(data) {
        pokerModel.emit("addonBreakTime", data);
      };
      pokerModel.onAddonBreakTimeOver = function(data) {
        pokerModel.emit("addonBreakTimeOver", data);
      };
      pokerModel.onTournamentUpdated = function(data) {
        pokerModel.emit(K.SocketIOEvent.Game.TournamentUpdated, data);
      };
      pokerModel.leave = function(kick) {
        GameManager.playerRequestedToLeaveTable[pokerModel.gameData.raw.tournamentId] = true;
        pokerModel.alreadyKickingOut = true;
        kick && pokerModel.kickPlayerOutOfTheGame(pokerModel);
      };
    };
    TournamentModelHandler.prototype.setPresenter = function(pokerPresenter) {
      pokerPresenter.onTournamentUpdated = function(data) {
        if ("TournamentBlindUpdate" == data.eventName && data.tournamentId == pokerPresenter.model.gameData.raw.tournamentId) {
          if (pokerPresenter.node.getChildByName("winnerBannerBg2")) {
            var tmp = pokerPresenter.node.getChildByName("winnerBannerBg2");
            tmp.active = true;
            tmp.getChildByName("winningText").getComponent(cc.Label).string = "New Blind Level - " + data.data.smallBlind + "/" + data.data.bigBlind;
            cc.director.getScheduler().schedule(function(dt) {
              tmp.active = false;
            }, pokerPresenter, 1.3);
          }
          pokerPresenter.model.gameData.raw.tourData.raw.currentBlindLevel = data.data;
          pokerPresenter.updateBlind();
        }
      };
      pokerPresenter.onTournamentClosed = function(data) {
        if (pokerPresenter.tournamentResultPlacement.active) return;
        if (pokerPresenter.isObserver()) {
          pokerPresenter.tournamentKickInfo.active = true;
          pokerPresenter.tournamentKickInfo.getComponent("TournamentInfo").setData({
            title: "Information",
            content: "The tournament is closed."
          });
        }
      };
      pokerPresenter.onTableDestroyed = function(data) {
        if (pokerPresenter.tournamentResultPlacement.active) return;
        if (pokerPresenter.isObserver()) {
          pokerPresenter.tournamentKickInfo.active = true;
          pokerPresenter.tournamentKickInfo.getComponent("TournamentInfo").setData({
            title: "Information",
            content: "The table is closed."
          });
        }
      };
      pokerPresenter.onDisconnectTime = function(data) {
        pokerPresenter.model.startTimerTick(data.disconnectTime);
        var playerPresenter = pokerPresenter.playerHand[pokerPresenter.getRotatedSeatIndex(pokerPresenter.model.gameData.tableDetails.currentMoveIndex)];
        if (playerPresenter.playerData) {
          playerPresenter.timeBank.active = false;
          playerPresenter.onDisconnectTime(data.disconnectTime);
        } else ;
      };
      pokerPresenter.onBreakTime = function(data) {
        console.log("onBreakTime", data);
        if (pokerPresenter.tournamentResultPlacement.active) return;
        if (data.isInBreak) {
          pokerPresenter.breakInfoNode.active = false;
          pokerPresenter.breakInfoPopupNode.active = false;
          pokerPresenter.tournamentBreakTime.active = true;
          pokerPresenter.mobileGamePlayOptionsVisible && pokerPresenter.mobileGamePlayOptions();
          pokerPresenter.model.gameData.raw.tourData.raw.isInBreak = true;
          pokerPresenter.tournamentBreakTime.getComponent("TournamentBreakTime").setData(data);
        } else {
          pokerPresenter.model.gameData.raw.tourData.raw.isInBreak = false;
          pokerPresenter.tournamentBreakTime.active = false;
        }
      };
      pokerPresenter.onAddonBreakTime = function(data) {
        pokerPresenter.tournamentBreakTimeAddon.active = true;
        pokerPresenter.tournamentBreakTimeAddon.getComponent("TournamentBreakTimeAddon").setData(data);
      };
      pokerPresenter.onAddonBreakTimeOver = function(data) {
        pokerPresenter.tournamentBreakTimeAddon.active = false;
      };
      pokerPresenter.onResRebuy = function(data) {
        pokerPresenter.updateRebuyChips(data);
      };
      pokerPresenter.onResAddon = function(data) {
        pokerPresenter.tournamentBreakTimeAddon.getComponent("TournamentBreakTimeAddon").addonDone(data);
      };
      pokerPresenter.onInactiveKicked = function(data) {
        if (data.playerId == GameManager.user.playerId) {
          pokerPresenter.tournamentKickInfo.active = true;
          pokerPresenter.tournamentKickInfo.getComponent("TournamentInfo").setData({
            title: "Information",
            content: "Your have been elimnated for being inactive."
          });
        }
      };
      pokerPresenter.onTournamentCancelled = function(data) {
        pokerPresenter.tournamentKickInfo.active = true;
        pokerPresenter.tournamentKickInfo.getComponent("TournamentInfo").setData({
          title: "Information",
          content: "The tournament has been cancelled."
        });
      };
      pokerPresenter.onEliminated = function(data) {
        pokerPresenter.tournamentBreakTime.active = false;
        pokerPresenter.tournamentKickInfo.active = false;
        pokerPresenter.tournamentResultWinner.active = false;
        pokerPresenter.tournamentResultPlacement.getComponent("TournamentResultsPlacement").setData(data);
        pokerPresenter.tournamentResultPlacement.active = true;
        pokerPresenter.model.gameModel.removeBroadcastCallbacks(pokerPresenter.model.gameData.channelId);
        socketIO.socket.off(pokerPresenter.model.gameData.channelId);
        socketIO.socket.off(pokerPresenter.model.gameData.channelId + ":" + pokerPresenter.model.gameData.playerId);
        socketIO.socket.off(K.SocketIOBroadcast.Lobby.TournamentUpdated);
        cc.systemEvent.off(K.SocketIOEvent.Lobby.TournamentRefresh);
      };
      pokerPresenter.onTournamentWinner = function(data) {
        pokerPresenter.tournamentKickInfo.active = false;
        pokerPresenter.tournamentResultPlacement.active = false;
        pokerPresenter.tournamentResultPlacement.getComponent("TournamentResultsPlacement").setData(data);
        pokerPresenter.tournamentResultPlacement.active = true;
      };
      pokerPresenter.onSitnGoElimination = function(data) {
        if (data.playerId == GameManager.user.playerId) {
          data.pokerPresenter = pokerPresenter;
          setTimeout(function() {
            !pokerPresenter || pokerPresenter.popUpManager.show(PopUpType.SitNGoResultPopup, data, function() {});
          }, 2e3);
        }
      };
      pokerPresenter.tempOnLoad = function() {
        pokerPresenter.model.on(K.SocketIOEvent.Game.Eliminated, pokerPresenter.onEliminated.bind(pokerPresenter));
        pokerPresenter.model.on(K.SocketIOEvent.Game.TournamentWinner, pokerPresenter.onTournamentWinner.bind(pokerPresenter));
        pokerPresenter.model.on(K.SocketIOEvent.Game.BreakTime, pokerPresenter.onBreakTime.bind(pokerPresenter));
        pokerPresenter.model.on("addonBreakTime", pokerPresenter.onAddonBreakTime.bind(pokerPresenter));
        pokerPresenter.model.on("addonBreakTimeOver", pokerPresenter.onAddonBreakTimeOver.bind(pokerPresenter));
        pokerPresenter.model.on("resRebuy", pokerPresenter.onResRebuy.bind(pokerPresenter));
        pokerPresenter.model.on("resAddon", pokerPresenter.onResAddon.bind(pokerPresenter));
        pokerPresenter.model.on("inactiveKicked", pokerPresenter.onInactiveKicked.bind(pokerPresenter));
        pokerPresenter.model.on("TournamentCancelled", pokerPresenter.onTournamentCancelled.bind(pokerPresenter));
        pokerPresenter.model.on(K.SocketIOEvent.Game.TournamentUpdated, pokerPresenter.onTournamentUpdated.bind(pokerPresenter));
        pokerPresenter.model.on(K.SocketIOEvent.Game.TournamentClosed, pokerPresenter.onTournamentClosed.bind(pokerPresenter));
        pokerPresenter.model.on(K.SocketIOEvent.Game.TableDestroyed, pokerPresenter.onTableDestroyed.bind(pokerPresenter));
        pokerPresenter.model.on(K.SocketIOEvent.Game.DisconnectTime, pokerPresenter.onDisconnectTime.bind(pokerPresenter));
        pokerPresenter.model.on("TournamentsBreakStarts", pokerPresenter.onTournamentsBreakStarts.bind(pokerPresenter));
      };
      pokerPresenter.onTournamentsBreakStarts = function() {
        if ("SIT N GO" != this.model.gameData.raw.tourData.raw.tournamentType) {
          pokerPresenter.mobileGamePlayOptionsVisible && pokerPresenter.mobileGamePlayOptions();
          pokerPresenter.breakInfoNode.active = true;
          pokerPresenter.breakInfoPopupNode.active = false;
        }
      };
      pokerPresenter.tempOnJoinSuccess = function() {
        if (this.model.roomConfig.tournamentType == this.model.K.TournamentType.Normal) {
          this.setCheckBoxValues();
          this.rebuyBtn.active = this.model.gameData.tableDetails.isRebuy && !this.model.gameData.tableDetails.isAutoAddOn;
        }
        this.tournamentAlreadyOver();
        if (!!this.model.gameData.tableDetails.isOnBreak) {
          var breakEnds = this.model.gameData.tableDetails.breakEnds;
          this.startBreakTimer(void 0 !== breakEnds && breakEnds);
        }
      };
      pokerPresenter.setCheckBoxValues = function() {
        this.sitOutNextBBCheckBox.node.parent.active = false;
        this.autoAddOnCheckBox.node.parent.active = true;
        this.autoBuyInCheckBox.node.parent.active = true;
        this.autoAddOnCheckBox.setSelection(this.model.gameData.tableDetails.isAutoAddOn);
        this.autoBuyInCheckBox.setSelection(this.model.gameData.tableDetails.isAutoRebuy);
      }, pokerPresenter.resetView = function() {
        pokerPresenter.indexOffset = 0;
        for (var index = 0; index < pokerPresenter.playerHand.length; index++) pokerPresenter.playerHand[index].resetSeat();
        pokerPresenter.allocateSeat();
        pokerPresenter.playerHand.forEach(function(element) {
          element.seatState === K.SeatState.Free && element.disableView();
        }, pokerPresenter);
      };
      pokerPresenter.onBreakTimeStart = function(data) {
        pokerPresenter.startBreakTimer(data.breakTime);
      };
      pokerPresenter.onRebuyStatus = function(data) {
        pokerPresenter.rebuyBtn.active = data.status;
      };
      pokerPresenter.startBreakTimer = function(timer) {
        this.tournamentInfo.parent.active = true;
        this.tournamentInfo.active = true;
        var label = this.tournamentInfo.getComponent(cc.Label);
        timer || (label.string = "This table is on Break");
        var timeLeft;
        timeLeft = timer > 1e3 ? parseInt(parseInt(timer) / 1e3) : 60 * parseInt(timer);
        this.timerSchedule = setInterval(function() {
          label.string = "Break Time Starts...\nTime Left : " + parseInt(timeLeft / 60) + ":" + timeLeft % 60;
          timeLeft--;
          if (timeLeft <= 0) {
            clearInterval(this.timerSchedule.bind(this));
            this.tournamentInfo.parent.active = false;
          }
        }.bind(this), 1e3);
      };
      pokerPresenter.playerLeft = function(data) {
        if (null === data) return;
        if (data[0].playerId === pokerPresenter.model.gameData.playerId) {
          this.handleSitOutBtns(true);
          pokerPresenter.resetView();
        }
        pokerPresenter.playerHand[pokerPresenter.getRotatedSeatIndex(data[0].seatIndex)].disableView();
        this.scheduleOnce(function() {
          if (0 == pokerPresenter.model.gameData.tableDetails.players.length) {
            var data = {};
            data.pokerPresenter = pokerPresenter;
            pokerPresenter.popUpManager.show(PopUpType.SitNGoResultPopup, data, function() {});
          }
        }, 5);
      };
      pokerPresenter.notifyBlindsChanged = function() {
        pokerPresenter.notificationBox.active = true;
        var str;
        if (pokerPresenter.model.gameData.tableDetails.nextSmallBlind <= 0) pokerPresenter.stopBlindsChangeNotification(); else {
          str = "";
          str += "Next Blinds " + pokerPresenter.model.roomConfig.nextSmallBlind + "/" + pokerPresenter.model.roomConfig.nextBigBlind + "Next Ante " + pokerPresenter.model.roomConfig.nextAnte;
        }
        pokerPresenter.notificationBox.getChildByName("Message").getComponent(cc.Label).string = str;
      };
      pokerPresenter.stopBlindsChangeNotification = function() {
        pokerPresenter.notificationBox.active = false;
      };
      pokerPresenter.onAddonChanged = function() {
        this.addonBtn.active = this.model.gameData.tableDetails.isAddon;
      };
      pokerPresenter.onAddOnCheckBox = function() {
        var selection = pokerPresenter.autoAddOnCheckBox.getSelection();
        this.model.gameData.isAutoRebuy = selection;
        this.model.setAddOnCheckbox(selection, function(response) {
          response.success || (this.model.gameData.isAutoRebuy = !selection);
          this.addOnCheckCB.bind(this);
        }.bind(this));
      };
      pokerPresenter.addOnCheckCB = function() {
        this.autoAddOnCheckBox.setSelection(this.model.gameData.isAutoRebuy);
      };
      pokerPresenter.onRebuyCheckBox = function() {
        var selection = pokerPresenter.autoBuyInCheckBox.getSelection();
        this.model.setRebuyCheckBox(selection, function(response) {
          response.success || (this.model.gameData.isAutoRebuy = !selection);
          this.reBuyCheckCB.bind(this);
        }.bind(this));
      };
      pokerPresenter.reBuyCheckCB = function(response) {
        pokerPresenter.autoBuyInCheckBox.setSelection(this.model.gameData.isAutoRebuy);
      };
    };
    module.exports = {
      TournamentModelHandler: TournamentModelHandler
    };
    cc._RF.pop();
  }, {
    "../../DataFormats/PostTypes": "PostTypes",
    PopUpManager: "PopUpManager"
  } ],
  TournamentNotification: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "490a3+YSBhBtL37WZNym5Hg", "TournamentNotification");
    "use strict";
    var _cc$Class;
    var K = require("GameConfig").K;
    var PopUpType = require("../../Utilities/ScreensAndPopUps/PopUps/PopUpManager").PopUpType;
    var GameData = require("../../DataFormats/ResponseTypes").GameData;
    cc.Class((_cc$Class = {
      extends: cc.Component,
      properties: {
        nameLabel: {
          default: null,
          type: cc.Label
        },
        isTableExisting: false,
        isTournamentExisting: false,
        tournamentIndexFound: -1,
        indexFound: -1,
        data: null,
        tourData: null,
        index: -1
      },
      onLoad: function onLoad() {},
      onDisable: function onDisable() {},
      onEnable: function onEnable() {},
      onClose: function onClose() {
        this.node.active = false;
      },
      setData: function setData(data, tourData, index) {
        console.log(data);
        this.data = data.eventData;
        this.tourData = tourData;
        this.index = index;
        this.nameLabel.string = tourData.tournamentName;
      },
      onGoToTable: function onGoToTable() {
        this.onEnterTableButton(this.data.tournamentId);
      }
    }, _cc$Class["onClose"] = function onClose() {
      this.hide();
    }, _cc$Class.show = function show() {
      this.node.active = true;
    }, _cc$Class.hide = function hide() {
      this.node.active = false;
    }, _cc$Class.onEnterTableButton = function onEnterTableButton() {
      cc.systemEvent.emit("HideTournamentNotification");
      console.log("onEnterTableButton");
      this.hide();
      this.isTableExisting = false;
      this.isTournamentExisting = false;
      this.indexFound = -1;
      this.tournamentIndexFound = -1;
      for (var index = 0; index < GameManager.gameModel.activePokerModels.length; index++) {
        if (!GameManager.gameModel.activePokerModels[index].tourData) continue;
        var id = GameManager.gameModel.activePokerModels[index].tourData.id;
        if (this.data.tournamentId === id) {
          this.isTournamentExisting = true;
          this.tournamentIndexFound = index;
          break;
        }
      }
      for (var index = 0; index < GameManager.gameModel.activePokerModels.length; index++) {
        var id = GameManager.gameModel.activePokerModels[index].roomConfig._id;
        if (this.data.tableId === id) {
          this.indexFound = index;
          this.isTableExisting = true;
          break;
        }
      }
      if (this.isTableExisting) {
        ServerCom.loading.active = false;
        ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, this.indexFound, function() {});
        this.data = null;
        this.tourData = null;
        return;
      }
      socketIO.socket.off(this.data.tableId + ":" + GameManager.user.playerId);
      ServerCom.socketIOBroadcast(this.data.tableId + ":" + GameManager.user.playerId, this.onTournamentTableUserBroadcast.bind(this));
      window.TournamentLobbyHandler.requestTournamentEnterTable({
        tournamentId: this.data.tournamentId
      }, function(data) {}, function(error) {}, "Enter table, please wait ......");
      this.data = null;
    }, _cc$Class.onTournamentTableUserBroadcast = function onTournamentTableUserBroadcast(data) {
      console.log("GameManager.isActive", GameManager.isActive);
      console.log(">>>>>>>>>>>>>>>>>>>>>>>onTournamentTableUserBroadcast", data);
      if ("enterChannelResponse" == data.eventName) if (data.data.success) {
        GameManager.popUpManager.hideAllPopUps();
        socketIO.socket.off(data.channelId + ":" + data.playerId);
        socketIO.socket.off(data.eventTo);
        if (!GameManager.isActive) {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
          return;
        }
        data.data.gameData = new GameData(data.data);
        data.data.tourData = this.tourData;
        this.isTournamentExisting ? GameManager.gameModel.activePokerModels[this.tournamentIndexFound].initiliazePoker(data.data) : ScreenManager.showScreen(K.ScreenEnum.GamePlayScreen, data.data, function() {});
        this.scheduleOnce(function() {
          ServerCom.forceKeepLoading = false;
          ServerCom.loading.active = false;
        }, 1.2);
      } else {
        ServerCom.forceKeepLoading = false;
        ServerCom.loading.active = false;
        GameManager.popUpManager.show(PopUpType.CommonDialog, {
          title: "Error!",
          content: data.data.info
        }, function() {});
      }
    }, _cc$Class));
    cc._RF.pop();
  }, {
    "../../DataFormats/ResponseTypes": "ResponseTypes",
    "../../Utilities/ScreensAndPopUps/PopUps/PopUpManager": "PopUpManager",
    GameConfig: "GameConfig"
  } ],
  TournamentResponseTypes: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "42f55JyD7tD5qnvr3Vvp7Xb", "TournamentResponseTypes");
    "use strict";
    function playerPayout(data) {
      this.playerId = data.playerId;
      this.playerName = data.playerName;
      this.payout = data.payout;
      this.rank = data.rank;
    }
    function playerChip(data) {
      this.playerId = data.playerId;
      this.chips = data.chips;
      this.playerName = data.playerName;
      this.updatedAt = data.updatedAt;
    }
    function tableStack(id, data) {
      this.id = id;
      this.minStack = data.minStack;
      this.maxStack = data.maxStack;
      this.playersCount = data.playersCount;
      this.tableMockName = data.tableMockName;
    }
    function currentBlindLevel(data) {
      this.level = data ? data.level : 0;
      this.smallBlind = data ? data.smallBlind : 0;
      this.bigBlind = data ? data.bigBlind : 0;
      this.ante = data ? data.ante : 0;
      this.minutes = data ? data.minutes : 0;
      this.levelIndex = data ? data.levelIndex : 0;
      this.nextBlindLevelTime = data ? data.nextBlindLevelTime : 0;
    }
    function payoutRecord(data) {
      this.playerRank = data.playerRank;
      this.playerPayout = data.playerPayout;
    }
    function payoutStructure(data) {
      this.id = data._id;
      this.playerRange = data.playerRange;
      this.createdAt = data.createdAt;
      this.noOfWinners = data.noOfWinners;
      this.minPlayer = data.minPlayer;
      this.maxPlayer = data.maxPlayer;
      var array = [];
      data.payoutRecord.forEach(function(element) {
        array.push(new payoutRecord(element));
      }, this);
      this.payoutRecord = array;
      this.payoutStructureId = data.payoutStructureId;
    }
    function blindRuleDetail(data) {
      this.level = data.level;
      this.smallBlind = data.smallBlind;
      this.bigBlind = data.bigBlind;
      this.ante = data.ante;
      this.minutes = data.minutes;
      this.levelIndex = data.levelIndex;
    }
    function blindRule(data) {
      this.id = data._id;
      this.ruleName = data.ruleName;
      this.description = data.description;
      var array = [];
      data.blindRuleArr.forEach(function(element) {
        array.push(new blindRuleDetail(element));
      }, this);
      this.blindRuleArr = array;
    }
    function leaderBoard(data) {
      this.playerId = data.playerId;
      this.playerName = data.playerName;
      this.chips = data.chips;
      this.updatedAt = data.updatedAt;
    }
    function seat(data) {
      this.playerId = data.playerId;
      this.status = data.status;
    }
    function table(data) {
      this.tableId = data.tableId;
      this.status = data.status;
      this.reShuffleStatus = data.reShuffleStatus;
      this.gameStatus = data.gameStatus;
      var array = [];
      data.seats.forEach(function(element) {
        array.push(new seat(element));
      }, this);
      this.seats = array;
    }
    function player(data) {
      this.userId = data.userId;
      this.playerId = data.playerId;
      this.firstName = data.firstName;
      this.lastName = data.lastName;
      this.reentries = data.reentries;
      this.status = data.status;
      this.tableId = data.tableId;
    }
    function reentryPrice(data) {
      this.chips = data.chips;
      this.vipPoints = data.vipPoints;
      this.tickets = data.tickets;
      this.reentryChips = data.reentryChips;
      this.reentryHouseChips = data.reentryHouseChips;
    }
    function tournament(data) {
      this.raw = data;
      this.id = data._id;
      this.index = 0;
      this.addonBlindLevel = data.addonBlindLevel;
      this.rebuyPrice = data.rebuyPrice;
      data.reentryPrice && (this.reentryPrice = new reentryPrice(data.reentryPrice));
      this.tournamentName = data.tournamentName;
      this.gameVariation = data.gameVariation;
      "NLH" == this.gameVariation ? this.gameVariationFullName = "No Limit Holdem" : "PLO" == this.gameVariation ? this.gameVariationFullName = "Pot Limit Omaha" : this.gameVariationFullName = "????";
      this.tournamentType = data.tournamentType;
      this.isRealMoney = data.isRealMoney;
      this.isGtdEnabled = data.isGtdEnabled;
      this.guaranteedValue = data.guaranteedValue;
      this.noOfChipsAtGameStart = data.noOfChipsAtGameStart;
      this.turnTime = data.turnTime;
      if (10 == this.turnTime) {
        this.actionType = "HT";
        this.actionTypeFullName = "HYPER TURBO";
      } else if (15 == this.turnTime) {
        this.actionType = "T";
        this.actionTypeFullName = "TURBO";
      } else if (20 == this.turnTime) {
        this.actionType = "M";
        this.actionTypeFullName = "MEDIUM";
      } else if (30 == this.turnTime) {
        this.actionType = "S";
        this.actionTypeFullName = "STANDARD";
      } else {
        this.actionType = "?";
        this.actionTypeFullName = "??????";
      }
      this.minPlayersToStart = data.minPlayersToStart;
      this.maxPlayersForTournament = data.maxPlayersForTournament;
      this.maxPlayers = data.maxPlayers;
      this.registrationBeforeStarttime = data.registrationBeforeStarttime;
      this.tournamentStartTime = data.tournamentStartTime;
      this.displayStartTime = data.tournamentStartDetails ? data.tournamentStartDetails.displayStartTime : "";
      this.regCuttOffTime = data.regCuttOffTime;
      this.blindRuleId = data.blindRuleId;
      this.extraTimeAllowed = data.extraTimeAllowed;
      this.isAddonTimeEnabled = data.isAddonTimeEnabled;
      this.lateRegistrationAllowed = data.lateRegistrationAllowed;
      this.lateRegistrationTime = data.lateRegistrationTime;
      this.isRebuyAllowed = data.isRebuyAllowed;
      this.isReentryAllowed = data.isReentryAllowed;
      this.reentryChips = data.reentryChips;
      this.numberOfReentry = data.numberOfReentry;
      this.reentryTime = data.reentryTime;
      this.totalReentryChips = data.totalReentryChips;
      this.payoutType = data.payoutType;
      this.payoutId = data.payoutId;
      this.isAddonEnabled = data.isAddonEnabled;
      this.freezeout = data.freezeout;
      this.state = data.state;
      this.createdAt = data.createdAt;
      this.tournamentId = data.tournamentId;
      this.blindLevel = data.blindLevel;
      var player_list = [];
      for (var id in data.player_list) player_list.push(new player(data.player_list[id]));
      this.player_list = player_list;
      var tables = [];
      for (var _id in data.tables) tables.push(new table(data.tables[_id]));
      this.tables = tables;
      var leaderBoards = [];
      data.leaderBoard.forEach(function(element) {
        leaderBoards.push(new leaderBoard(element));
      }, this);
      this.leaderBoard = leaderBoards;
      this.inGamePlayers = data.playerRemainingRatio ? data.playerRemainingRatio.inGamePlayers : 0;
      this.registeredPlayers = data.playerRemainingRatio ? data.playerRemainingRatio.registeredPlayers : 0;
      this.playerAction = data.playerAction;
      this.totalEntryFees = data.totalEntryFees;
      this.isInBreak = data.isInBreak;
      this.breakStartTimeToDisplay = data.breakStartTimeToDisplay;
      this.breakStartTime = data.breakStartTime;
      this.breakEndTimeToDisplay = data.breakEndTimeToDisplay;
      this.breakEndTime = data.breakEndTime;
      this.blindRule = new blindRule(data.blindRule);
      this.timeBankRule = data.timeBankRule;
      this.payoutStructure = new payoutStructure(data.payoutStructure);
      this.baseTableId = data.baseTableId;
      this.currentBlindLevel = new currentBlindLevel(data.currentBlindLevel);
      this.nextBlindLevel = new currentBlindLevel(data.nextBlindLevel);
      var tablesStack = [];
      for (var _id2 in data.tablesStack) tablesStack.push(new tableStack(_id2, data.tablesStack[_id2]));
      this.tablesStack = tablesStack;
      this.minStack = data.alltableStack ? data.alltableStack.minStack : 0;
      this.maxStack = data.alltableStack ? data.alltableStack.maxStack : 0;
      this.avgStack = data.alltableStack ? data.alltableStack.avgStack : 0;
      var playersChip = [];
      for (var _id3 in data.playersChip) playersChip.push(new playerChip(data.playersChip[_id3]));
      this.playersChip = playersChip;
      var playersPayout = [];
      data.playersPayout.forEach(function(element) {
        playersPayout.push(new playerPayout(element));
      }, this);
      this.playersPayout = playersPayout;
    }
    module.exports = {
      Tournament: tournament
    };
    cc._RF.pop();
  }, {} ],
  TournamentResultsPlacement: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f6c86B3gbRC/r3945I1Vs5V", "TournamentResultsPlacement");
    "use strict";
    var K = require("GameConfig").K;
    cc.Class({
      extends: cc.Component,
      properties: {
        settingAvatar: {
          default: null,
          type: cc.Node
        },
        playerName: {
          default: null,
          type: cc.Label
        },
        tournamentName: {
          default: null,
          type: cc.Label
        },
        pokerPresenter: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      onDisable: function onDisable() {},
      onEnable: function onEnable() {},
      onClose: function onClose() {
        this.node.active = false;
        this.pokerPresenter.getComponent("PokerPresenter").model.kickPlayerOutOfTheGame(this.pokerPresenter.getComponent("PokerPresenter").model);
        this.pokerPresenter.getComponent("PokerPresenter").leaveTable();
      },
      setData: function setData(data) {
        function ordinal_suffix_of(i) {
          var j = i % 10, k = i % 100;
          if (1 == j && 11 != k) return i + "st";
          if (2 == j && 12 != k) return i + "nd";
          if (3 == j && 13 != k) return i + "rd";
          return i + "th";
        }
        var raw = this.pokerPresenter.getComponent("PokerPresenter").model.gameData.raw.tourData.raw;
        cc.find("PositionResult/Rectangle 1661/place", this.node).getComponent(cc.Label).string = "Eliminated";
        cc.find("Nameplate/PlayerName", this.node).getComponent(cc.Label).string = GameManager.user.userName;
        cc.find("Avatar/Frame/Mask/avatarSprite", this.node).getComponent(cc.Sprite).spriteFrame = GameManager.user.urlImg ? GameManager.user.urlImg : GameManager.avatarImages[0];
        var timeRemaining = GameManager.getMTimeDuration3(raw.tournamentStartDetails.startTime);
        cc.find("Info/Info/title", this.node).getComponent(cc.Label).string = raw.tournamentName;
        cc.find("Info/Info/date", this.node).getComponent(cc.Label).string = raw.tournamentStartDetails.displayStartTime;
        cc.find("Info/Info/playTimeValue", this.node).getComponent(cc.Label).string = timeRemaining + "";
        cc.find("Info/Info/place", this.node).getComponent(cc.Label).string = data.playerRank + "/" + (data.totalPlayers || 0);
        cc.find("Info/Info/placement", this.node).getComponent(cc.Label).string = ordinal_suffix_of(data.playerRank);
        this.settingAvatar.getComponent(cc.Sprite).spriteFrame = GameManager.user.urlImg;
        this.playerName.string = GameManager.user.userName;
        this.tournamentName.string = raw.tournamentName;
      }
    });
    cc._RF.pop();
  }, {
    GameConfig: "GameConfig"
  } ],
  TournamentResultsWinner: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c854avEwcpInIKgIv2gJhzi", "TournamentResultsWinner");
    "use strict";
    var K = require("GameConfig").K;
    cc.Class({
      extends: cc.Component,
      properties: {
        pokerPresenter: {
          default: null,
          type: cc.Node
        }
      },
      onLoad: function onLoad() {},
      onDisable: function onDisable() {},
      onEnable: function onEnable() {},
      onClose: function onClose() {
        this.node.active = false;
        this.pokerPresenter.getComponent("PokerPresenter").model.kickPlayerOutOfTheGame(this.pokerPresenter.getComponent("PokerPresenter").model);
        this.pokerPresenter.getComponent("PokerPresenter").leaveTable();
      },
      setData: function setData(data) {
        var raw = this.pokerPresenter.getComponent("PokerPresenter").model.gameData.raw.tourData.raw;
        cc.find("Nameplate/PlayerName", this.node).getComponent(cc.Label).string = GameManager.user.userName;
        cc.find("Avatar/Frame/Mask/avatarSprite", this.node).getComponent(cc.Sprite).spriteFrame = GameManager.user.urlImg ? GameManager.user.urlImg : GameManager.avatarImages[0];
        var timeRemaining = GameManager.getMTimeDuration3(raw.tournamentStartDetails.startTime);
        cc.find("Info/Info/title", this.node).getComponent(cc.Label).string = raw.tournamentName;
        cc.find("Info/Info/date", this.node).getComponent(cc.Label).string = raw.tournamentStartDetails.displayStartTime;
        cc.find("Info/Info/playTimeValue", this.node).getComponent(cc.Label).string = timeRemaining + "";
        cc.find("Info/Info/place", this.node).getComponent(cc.Label).string = "1/" + (data.totalPlayers || 0);
      }
    });
    cc._RF.pop();
  }, {
    GameConfig: "GameConfig"
  } ],
  TournamentTablePlayersInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "2eb3eBEhmBNEavyjhUQ/rUg", "TournamentTablePlayersInfo");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        rankLbl: {
          default: null,
          type: cc.Label
        },
        playerIdLbl: {
          default: null,
          type: cc.Label
        },
        chipsLbl: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      setValues: function setValues(data) {
        this.rankLbl.string = data.rank || "";
        this.playerIdLbl.string = data.userName || "";
        this.chipsLbl.string = data.chipsWon;
      }
    });
    cc._RF.pop();
  }, {} ],
  TournamentTablePlayersOnTableInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d1707pgS01J1Z1WKJ40O5uG", "TournamentTablePlayersOnTableInfo");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        playerIdLbl: {
          default: null,
          type: cc.Label
        },
        chipsLbl: {
          default: null,
          type: cc.Label
        },
        setPlayersRankFunc: null,
        id: null
      },
      onLoad: function onLoad() {
        this.setPlayersRankFunc = this.setData.bind(this);
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tournamentLobby, this.setPlayersRankFunc);
      },
      setData: function setData(data) {
        if (data.playerId == this.id) {
          this.playerIdLbl.string = data.updated.playerName;
          this.chipsLbl.string = data.updated.chips;
        }
      },
      setValues: function setValues(data, id) {
        this.id = id;
        this.playerIdLbl.string = data.userName || "";
        this.chipsLbl.string = data.chips || "";
      }
    });
    cc._RF.pop();
  }, {} ],
  TournamentTableRunningTableInfo: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "6559aHgTORJGqWczBnR1uoS", "TournamentTableRunningTableInfo");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        id: -1,
        tableLbl: {
          default: null,
          type: cc.Label
        },
        playersLbl: {
          default: null,
          type: cc.Label
        },
        largestStackLbl: {
          default: null,
          type: cc.Label
        },
        smallestStackLbl: {
          default: null,
          type: cc.Label
        },
        players: null,
        callback: null,
        baseColor: new cc.color(),
        setPlayersDataFunc: null
      },
      onLoad: function onLoad() {
        this.setPlayersDataFunc = this.setData.bind(this);
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tournamentLobby, this.setPlayersDataFunc);
      },
      setData: function setData(data) {
        if (this.id == data._id) {
          this.largestStackLbl.string = data.updated.largestStack;
          this.smallestStackLbl.string = data.updated.smallestStack;
        }
      },
      onDestroy: function onDestroy() {
        pomelo.off(K.LobbyBroadcastRoute.tournamentLobby, this.setPlayersDataFunc);
      },
      setValues: function setValues(data, id) {
        this.id = id;
        this.players = data.players;
        this.tableLbl.string = id + 1;
        this.playersLbl.string = data.players.length || "";
        this.largestStackLbl.string = !data.largestStack ? "" : data.largestStack.chips || "";
        this.smallestStackLbl.string = !data.smallestStack ? "" : data.smallestStack.chips || "";
        this.baseColor = this.node.getChildByName("Base").color;
      },
      onClick: function onClick() {
        this.callback(this.players, this.id);
        this.node.getChildByName("Base").color = new cc.color(72, 70, 38);
      },
      removeSelection: function removeSelection() {
        this.node.getChildByName("Base").color = this.baseColor;
      }
    });
    cc._RF.pop();
  }, {} ],
  TourneyTablePresenter: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "0d42e2iz9JFaaMJFlsIhP/D", "TourneyTablePresenter");
    "use strict";
    var JoinData = require("PostTypes").JoinChannel;
    var Table = require("Table");
    var TableContent = require("TableContent");
    var Checkbox = require("Checkbox");
    var DropDownType = require("DropDown");
    var PopUpType = require("PopUpManager").PopUpType;
    var timerID = null;
    cc.Class({
      extends: Table,
      properties: {
        registerBtn: {
          default: null,
          type: cc.Node
        },
        deregisterBtn: {
          default: null,
          type: cc.Node
        },
        joinBtn: {
          default: null,
          type: cc.Node
        },
        gameTypeDropdown: {
          default: null,
          type: DropDownType
        },
        stakesDropdown: {
          default: null,
          type: DropDownType
        },
        maxPlayersDropdown: {
          default: null,
          type: DropDownType
        },
        hideFullTablesCB: {
          default: null,
          type: Checkbox
        },
        channelNameLbl: {
          default: null,
          type: cc.Label
        },
        prizePoolLbl: {
          default: null,
          type: cc.Label
        },
        startsAtLbl: {
          default: null,
          type: cc.Label
        },
        startsInLbl: {
          default: null,
          type: cc.Label
        },
        lateRegisterationLbl: {
          default: null,
          type: cc.Label
        },
        lateRegTillTimeLbl: {
          default: null,
          type: cc.Label
        },
        favTableCB: {
          default: null,
          type: Checkbox
        },
        favPrimaryCB: {
          default: null,
          type: Checkbox
        },
        sideTableInfo: {
          default: null,
          type: cc.Node
        },
        stateViewNode: {
          default: null,
          type: cc.Node
        }
      },
      addTable: function addTable(data) {
        data.updated.channelType == K.ChannelType.Tournament && data.updated.tournamentType != K.TournamentType.SitNGo && this._super(data);
      },
      onLoad: function onLoad() {
        this._super();
        ServerCom.pomeloBroadcast(K.LobbyBroadcastRoute.tableView, function(responseObject) {
          "PRIZEPOOL" == responseObject.event && this.setPrizePoolLbel(responseObject.updated.prizePool);
        });
      },
      makeContent: function makeContent(data) {
        if (this.variation == K.Variation.OpenFaceChinesePoker) var content = [ data.channelName, data.chipsPointRatio, data.channelVariation, GameManager.getGameTypeByValue(data.turnTime), data.minBuyIn, data.maxBuyIn, data.playingPlayers + "/" + data.maxPlayers ]; else var content = [ data.channelName, data.channelVariation, data.buyIn, GameManager.getTimeByMilli(data.tournamentStartTime), data.prizePool || "-", GameManager.getGameTypeByValue(data.turnTime), this.capitalizeFirstLetter(data.state), data.enrolledPlayers ];
        return content;
      },
      filterByTournamentType: function filterByTournamentType(content, pass, checkSitNGo) {
        void 0 === pass && (pass = true);
        void 0 === checkSitNGo && (checkSitNGo = true);
        return this._super(content, false, false);
      },
      onGetTableData: function onGetTableData() {
        this._super(K.ChannelType.Tournament);
      },
      onTournamentLobbyInfo: function onTournamentLobbyInfo() {
        if (null === TableContent.prevSelection) return;
        var inst = this;
        this.handler.tournamentLobbyInfo(TableContent.prevSelection.channelData, function(response) {
          !response.tableData || this.popUpManager.show(PopUpType.TournamentLobbyInfoPopup, response, function() {});
        }.bind(this), function(response) {}.bind(this));
      },
      tableContentClick: function tableContentClick() {
        if (null == TableContent.prevSelection) return;
        var inst = this;
        var useLateRegCall = false;
        this.handler.checkRegistration(TableContent.prevSelection.channelData, function(response) {
          if (response.success) {
            inst.switchButtons(response.result.isRegistered, response.result.tournamentState, TableContent.prevSelection.channelData.isLateRegistrationOpened, response.result.isEliminated);
            inst.tempSelection = inst.contentPool.indexOf(TableContent.prevSelection.node);
          }
        }, function(response) {});
        this.refreshSideTable();
      },
      refreshSideTable: function refreshSideTable(downloadAgain) {
        void 0 === downloadAgain && (downloadAgain = true);
        this._super(false);
      },
      setSideTableData: function setSideTableData() {
        var data = TableContent.prevSelection.channelData;
        this.channelNameLbl.string = data.channelName;
        this.prizePoolLbl.string = data.prizePool;
        this.startsAtLbl.string = GameManager.getTimeByMilli(data.tournamentStartTime) + " IST";
        this.startsInLbl.string = GameManager.getTimeDuration(data.tournamentStartTime, false);
        var lateRegDate = data.lateRegistration ? data.tournamentStartTime + data.lateRegistrationTime : data.tournamentStartTime;
        var ms_in_a_min = 6e4;
        var myStartDate = data.tournamentStartTime - data.registrationBeforeStarttime * ms_in_a_min;
        this.lateRegisterationLbl.string = GameManager.getTimeByMilli(myStartDate) + " IST";
        this.lateRegTillTimeLbl.string = GameManager.getTimeDuration(lateRegDate, false);
      },
      OnRegisterTournament: function OnRegisterTournament() {
        if (null === TableContent.prevSelection) return;
        var inst = this;
        var useLateRegCall = false;
        K.TournamentType.Normal == TableContent.prevSelection.channelData.tournamentType && TableContent.prevSelection.channelData.state == K.SitNGoState.RUNNING && TableContent.prevSelection.channelData.isLateRegistrationOpened && TableContent.prevSelection.channelData.lateRegistrationAllowed && (useLateRegCall = true);
        this.handler.registerTournament(TableContent.prevSelection.channelData, function(response) {
          if (response.success) {
            inst.switchButtons(true);
            inst.refreshSideTable();
            return false;
          }
          if ("user already registered in this tournament" === response.info) {
            inst.refreshSideTable();
            return true;
          }
          return false;
        }, function(response) {}, useLateRegCall);
      },
      OnDeRegisterTournament: function OnDeRegisterTournament() {
        if (null === TableContent.prevSelection) return;
        var inst = this;
        this.handler.deRegisterTournament(TableContent.prevSelection.channelData, function(response) {
          response.success && inst.switchButtons(false);
        }, function(response) {});
        this.refreshSideTable();
      },
      onJoinTournament: function onJoinTournament() {
        if (null === TableContent.prevSelection) return;
        var data = new JoinData(TableContent.prevSelection.channelData);
        data.tableId = TableContent.prevSelection.channelData._id;
        data.channelId = "";
        GameManager.join(data.tableId, K.PomeloAPI.joinChannel, data);
      },
      switchButtons: function switchButtons(isRegistered, state, lateRegOpened, isEliminated) {
        this.registerBtn.active = !isRegistered;
        this.deregisterBtn.active = isRegistered;
        if (!!state) switch (state) {
         case K.SitNGoState.RUNNING:
          this.registerBtn.active = (false, lateRegOpened);
          this.joinBtn.active = isRegistered && !isEliminated;
          this.deregisterBtn.active = false;
          break;

         case K.SitNGoState.REGISTER:
          this.joinBtn.active = false;
          break;

         case K.SitNGoState.FINISHED:
         case K.SitNGoState.UPCOMING:
          this.joinBtn.active = this.registerBtn.active = this.registerBtn.active = false;
        }
      },
      setPrizePoolLbel: function setPrizePoolLbel(prize) {
        this.prizePoolLbl = prize;
      }
    });
    cc._RF.pop();
  }, {
    Checkbox: "Checkbox",
    DropDown: "DropDown",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    Table: "Table",
    TableContent: "TableContent"
  } ],
  Transition: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c2d65MEylNJqY3dGEMns4OF", "Transition");
    "use strict";
    var EmitterType = require("EventEmitter");
    cc.Class({
      extends: EmitterType,
      properties: {
        toState: {
          default: null
        },
        fromState: {
          default: null
        }
      },
      triggerTransition: function triggerTransition() {
        this.emit("onTransition", this);
      }
    });
    cc._RF.pop();
  }, {
    EventEmitter: "EventEmitter"
  } ],
  TutorialManager: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "c1624RPAllCooJdPEcAqheh", "TutorialManager");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    exports.TutorialManager = void 0;
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var TutorialManager = function(_super) {
      __extends(TutorialManager, _super);
      function TutorialManager() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.tutoSteps = [];
        _this.gotItNode = null;
        _this.nextNode = null;
        _this.skipNode = null;
        _this.curStep = 0;
        _this.finishedTuto = "FINISH_TUTORIAL";
        return _this;
      }
      TutorialManager.prototype.start = function() {
        this.showSteps(-1);
        this.gotItNode.active = this.skipNode.active = this.nextNode.active = false;
        this.isFinishTuto() ? this.node.active = false : this.startTuto();
      };
      TutorialManager.prototype.startTuto = function() {
        this.curStep = 0;
        this.gotItNode.active = false;
        this.skipNode.active = this.nextNode.active = true;
        this.showSteps(this.curStep);
      };
      TutorialManager.prototype.onClickNextBtn = function() {
        window.GameManager.playSound(K.Sounds.click);
        this.curStep++;
        this.showSteps(this.curStep);
      };
      TutorialManager.prototype.showSteps = function(step) {
        this.tutoSteps.forEach(function(node, i) {
          node.active = i === step;
        });
        if (this.curStep === this.tutoSteps.length - 1) {
          this.gotItNode.active = true;
          this.skipNode.active = this.nextNode.active = false;
        }
      };
      TutorialManager.prototype.onClickSkipBtn = function() {
        window.GameManager.playSound(K.Sounds.click);
        this.markTutoDone();
      };
      TutorialManager.prototype.onClickGotItBtn = function() {
        window.GameManager.playSound(K.Sounds.click);
        this.markTutoDone();
      };
      TutorialManager.prototype.markTutoDone = function() {
        localStorage.setItem(this.finishedTuto, "true");
        this.node.active = false;
      };
      TutorialManager.prototype.isFinishTuto = function() {
        var isFinish = localStorage.getItem(this.finishedTuto);
        return !!isFinish && "true" === isFinish;
      };
      __decorate([ property(cc.Node) ], TutorialManager.prototype, "tutoSteps", void 0);
      __decorate([ property(cc.Node) ], TutorialManager.prototype, "gotItNode", void 0);
      __decorate([ property(cc.Node) ], TutorialManager.prototype, "nextNode", void 0);
      __decorate([ property(cc.Node) ], TutorialManager.prototype, "skipNode", void 0);
      TutorialManager = __decorate([ ccclass ], TutorialManager);
      return TutorialManager;
    }(cc.Component);
    exports.TutorialManager = TutorialManager;
    cc._RF.pop();
  }, {} ],
  UpdateCategory: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "bb577o+bQdDw53LT6ZhB3Iy", "UpdateCategory");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    cc.Class({
      extends: PopUpBase,
      properties: {
        title: {
          default: null,
          type: cc.Label
        }
      },
      onLoad: function onLoad() {},
      onShow: function onShow(data) {
        this.title.string = data.message;
      },
      onOkBtn: function onOkBtn() {
        null != this.soundValue && false != this.soundValue || GameManager.playSound(K.Sounds.click);
        GameManager.popUpManager.hide(PopUpType.NotificationPopup, function() {});
        GameManager.popUpManager.hide(PopUpType.OnLogOutPopup, function() {});
        GameManager.logout();
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager"
  } ],
  UpdatePopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "27528T15CtKSJf/oJzgsrHI", "UpdatePopup");
    "use strict";
    var PopUpBase = require("PopUpBase");
    var dp, downloading, downloaded, timer, failedNode, tryDownloadTimer, progress, prevProgress, pInterval, progressPerc;
    cc.Class({
      extends: PopUpBase,
      properties: {
        updateNode: {
          default: null,
          type: cc.Node
        }
      },
      start: function start() {
        dp = this.updateNode.getChildByName("Downloading").getChildByName("progressBar").getComponent(cc.ProgressBar);
        downloading = this.updateNode.getChildByName("Downloading");
        downloaded = this.updateNode.getChildByName("Downloaded");
        timer = null;
        failedNode = this.updateNode.getChildByName("FailedNode");
        tryDownloadTimer = 65e4;
        progress = 0;
        prevProgress = 0;
        pInterval = null;
        var perc = this.updateNode.getChildByName("ProgressPercent");
        !perc || (progressPerc = perc.getComponent(cc.Label));
      },
      onUpdateApp: function onUpdateApp() {
        if (cc.sys.os === cc.sys.OS_IOS || cc.sys.isBrowser) {
          cc.sys.os === cc.sys.OS_IOS && cc.sys.os != cc.sys.isBrowser && cc.sys.openURL("https://apps.apple.com/us/app/pokerbuddy365/id1588847992");
          return;
        }
        cc.sys.isBrowser || cc.sys.os !== cc.sys.OS_WINDOWS || cc.game.end();
        this.updateNode.active = true;
        downloading.active = true;
        downloaded.active = false;
        failedNode.active = false;
        dp.progress = 0;
        var cb = function() {
          if (prevProgress == progress) {
            downloading.active = false;
            failedNode.active = true;
          } else {
            prevProgress = progress;
            timer = setTimeout(cb, tryDownloadTimer);
          }
        }.bind(this);
        timer = setTimeout(cb, tryDownloadTimer);
        jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "updateApp", "()V");
      },
      progress: function progress(passed) {
        dp.progress = passed / 100;
        progressPerc.string = String(passed) + "%";
        console.log("progress bar called", dp.progress);
        if (1 == dp.progress) {
          clearInterval(pInterval);
          clearTimeout(timer);
          downloading.active = false;
          downloaded.active = true;
        }
      },
      retryInstall: function retryInstall() {
        jsb.reflection.callStaticMethod("org/cocos2dx/javascript/DownloadService", "retryInstall", "()V");
      }
    });
    cc._RF.pop();
  }, {
    PopUpBase: "PopUpBase"
  } ],
  Utils: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "20b3eUiuKdDO4Judu8fYImm", "Utils");
    "use strict";
    function getMinMaxPoint(cards) {
      var hasAce = false;
      var min = 0;
      for (var i = 0; i < cards.length; i++) {
        var card = cards[i];
        1 === card.point && (hasAce = true);
        min += Math.min(10, card.point);
      }
      var max = min;
      hasAce && min + 10 <= 21 && (max += 10);
      return {
        min: min,
        max: max
      };
    }
    function isBust(cards) {
      var sum = 0;
      for (var i = 0; i < cards.length; i++) {
        var card = cards[i];
        sum += Math.min(10, card.point);
      }
      return sum > 21;
    }
    var isMobile = function isMobile() {
      return cc.sys.isMobile;
    };
    module.exports = {
      isBust: isBust,
      getMinMaxPoint: getMinMaxPoint,
      isMobile: isMobile
    };
    cc._RF.pop();
  }, {} ],
  VideoPopup: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "166c57X+CRJgrvOfUwUZu3F", "VideoPopup");
    "use strict";
    var pokerPresenterType = require("PokerPresenter");
    var popUpManagerType = require("PopUpManager").PopUpManager;
    var PopUpBase = require("PopUpBase");
    var SitNGoModelHandler = require("SitNGoModelHandler").SitNGoModelHandler;
    var PopUpType = require("PopUpManager").PopUpType;
    var OFCGameData = require("OFCResponseTypes").GameData;
    var JoinData = require("PostTypes").JoinChannel;
    var GameData = require("ResponseTypes").GameData;
    var VideoState = new cc.Enum({
      PAUSED: 1,
      RUNNING: 2,
      STOPPED: 3,
      NONE: 4,
      RESTART: 5
    });
    cc.Class({
      extends: PopUpBase,
      properties: {
        sitNGoModelHandler: {
          default: null,
          type: SitNGoModelHandler
        },
        texasHoldemPrefab: {
          default: null,
          type: cc.Prefab
        },
        ofcPrefab: {
          default: null,
          type: cc.Prefab
        },
        contentHolder: {
          default: null,
          type: cc.Node
        },
        videoDuration: 0,
        videoEvents: [],
        videoID: "0",
        speed: 1,
        state: {
          default: VideoState.NONE,
          type: VideoState
        },
        currentTime: 0,
        currentEventIdx: 0,
        pokerModel: null,
        resetEvent: null,
        progressBar: {
          type: cc.ProgressBar,
          default: null
        },
        presenter: null,
        oneXBtn: {
          default: null,
          type: cc.Node
        },
        twoXBtn: {
          default: null,
          type: cc.Node
        },
        threeXBtn: {
          default: null,
          type: cc.Node
        },
        playBtn: {
          default: null,
          type: cc.Node
        },
        pauseBtn: {
          default: null,
          type: cc.Node
        },
        nextVideoBtn: {
          default: null,
          type: cc.Button
        },
        prevVideoBtn: {
          default: null,
          type: cc.Button
        },
        activeSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        deactiveSprite: {
          default: null,
          type: cc.SpriteFrame
        },
        activeFontColor: cc.Color,
        deactiveFontColor: cc.Color,
        knob: {
          default: null,
          type: cc.Node
        },
        refModel: null,
        onShowData: null
      },
      onShow: function onShow(response) {
        GameManager.removeAllChildren(this.contentHolder);
        this.removeAllListeners();
        this.refModel = response.refModel;
        this.onShowData = response;
        this.pauseBtn.active = false;
        this.playBtn.active = true;
        var profileData = {
          playerId: GameManager.user.playerId,
          playerName: GameManager.user.userName,
          videoId: response.currentId,
          isRequested: true
        };
        ServerCom.pomeloRequest(K.PomeloAPI.getVideo, profileData, function(data) {
          data.success && this.onVideoLoaded(data);
        }.bind(this));
        this.nextVideoBtn.interactable = this.refModel.handTabs.length - 1 > this.onShowData.id;
        this.prevVideoBtn.interactable = 0 < this.onShowData.id;
      },
      onVideoLoaded: function onVideoLoaded(data) {
        var response = data;
        this.speed = 1;
        this.state = VideoState.NONE;
        this.handHistoryId = response.handHistoryId;
        this.videoDuration = response.duration;
        this.videoEvents = response.broadcasts;
        this.videoID = response.roundId;
        this.resetEvent = response.gamePlayers;
        var data = response.joinResponse;
        "Open Face Chinese Poker" === data.roomConfig.channelVariation ? data.gameData = new OFCGameData(data) : data.gameData = new GameData(data);
        data.gameData.channelType = data.roomConfig.channelType;
        if (data.roomConfig.channelType == K.ChannelType.Tournament) {
          data.type = 1;
          data.roomConfig.isRebuyOpened = false;
        }
        var instance = null;
        if ("Open Face Chinese Poker" == data.roomConfig.channelVariation) {
          instance = cc.instantiate(this.ofcPrefab);
          this.pokerModel = instance.getComponent("OFCModel");
          this.presenter = instance.children[0].getComponent("OFCPresenter");
        } else {
          instance = cc.instantiate(this.texasHoldemPrefab);
          this.pokerModel = instance.getComponent("PokerModel");
          this.presenter = instance.children[0].getComponent("PokerPresenter");
        }
        instance.scaleX = .7;
        instance.scaleY = .7;
        "Omaha" === data.roomConfig.channelVariation || "Omaha Hi-Lo" === data.roomConfig.channelVariation ? this.pokerModel.dummyCardsCount = 4 : this.pokerModel.dummyCardsCount = 2;
        this.pokerModel.isVideo = true;
        if (!!data.type && 1 == data.type) {
          this.sitNGoModelHandler = new SitNGoModelHandler();
          this.sitNGoModelHandler.setSitNGoModel(this.pokerModel);
          this.sitNGoModelHandler.setSitNGoPresenter(this.presenter);
          this.pokerModel.playerNewChannel = function(data) {};
          this.pokerModel.onInitializePoker = this.sitNgoInitializePoker.bind(this);
        }
        this.contentHolder.addChild(instance);
        this.pokerModel.registerBroadcasts = this.registerBroadcasts.bind(this);
        this.pokerModel.onDestroy = function() {};
        this.pokerModel.startTimerTick = function(data) {};
        this.myVideoData = data;
        this.changeState(VideoState.STOPPED);
      },
      sitNgoInitializePoker: function sitNgoInitializePoker() {
        this.on(K.BroadcastRoute.playerNewChannel, this.pokerModel.playerNewChannel.bind(this.pokerModel));
        this.on(K.BroadcastRoute.playerElimination, this.pokerModel.playerElimination.bind(this.pokerModel));
        this.on(K.BroadcastRoute.breakTime, this.pokerModel.onBreakTime.bind(this.pokerModel));
        this.on(K.BroadcastRoute.breakTimerStart, this.pokerModel.onBreakTimeStart.bind(this.pokerModel));
        this.on(K.BroadcastRoute.rebuyStatus, this.pokerModel.onRebuyStatus.bind(this.pokerModel));
      },
      registerBroadcasts: function registerBroadcasts() {
        this.on(this.pokerModel.K.BroadcastRoute.sit, this.pokerModel.onSit.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.blindDeduction, this.pokerModel.onBlindDeducted.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.bankrupt, this.pokerModel.onBankrupt.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.gamePlayers, this.pokerModel.onGamePlayers.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.dealerrChat, this.pokerModel.onDealerChat.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.startGame, this.pokerModel.onGameStart.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.turn, this.pokerModel.onMoveMade.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.roundOver, this.pokerModel.onRoundOver.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.gameOver, this.pokerModel.onGameOver.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.leave, this.pokerModel.onLeft.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.chat, this.pokerModel.onChat.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.playerCards, this.pokerModel.onPlayerCards.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.playerState, this.pokerModel.onPlayerStateChange.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.connectionAck, this.pokerModel.onConnectionAck.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.preCheck, this.pokerModel.onPreCheck.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.playerCoins, this.pokerModel.onPlayerCoins.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.avatarChange, this.pokerModel.onAvatarChange.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.handTab, this.pokerModel.onHandTab.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.bestHands, this.pokerModel.onBestHands.bind(this.pokerModel));
        this.on(this.pokerModel.K.BroadcastRoute.onTimeBank, this.pokerModel.onTimeBank.bind(this.pokerModel));
      },
      update: function update(dt) {
        switch (this.state) {
         case VideoState.STOPPED:
          this.updateStopped(dt);
          break;

         case VideoState.RUNNING:
          this.updateRunning(dt);
          break;

         case VideoState.PAUSED:
          this.updatePaused(dt);
        }
      },
      updateRunning: function updateRunning(dt) {
        this.currentTime += dt * this.speed;
        this.progressBar.progress = this.currentTime / this.videoDuration;
        var knobPos = this.progressBar.progress * this.progressBar.totalLength - this.progressBar.totalLength / 2;
        knobPos > -this.progressBar.totalLength / 2 && knobPos < this.progressBar.totalLength / 2 && (this.knob.x = knobPos);
        if (this.currentEventIdx < this.videoEvents.length && this.currentTime >= this.videoEvents[this.currentEventIdx].timestamp) {
          this.emit(this.videoEvents[this.currentEventIdx].data.route, this.videoEvents[this.currentEventIdx].data);
          this.currentEventIdx++;
          this.resetView();
        }
      },
      updateStopped: function updateStopped(dt) {},
      updatePaused: function updatePaused(dt) {},
      changeState: function changeState(newState) {
        if (this.state != newState) {
          this.state = newState;
          switch (this.state) {
           case VideoState.STOPPED:
            this.pokerModel.initiliazePoker(this.myVideoData);
            this.presenter.setTiledView(false);
            this.currentTime = 0;
            this.currentEventIdx = 0;
            this.progressBar.progress = 0;
            this.knob.x = -this.progressBar.totalLength / 2;
            this.emit(this.resetEvent.data.route, this.resetEvent.data);
            this.resetView();
            break;

           case VideoState.RUNNING:
            this.onOneXSpeed();
            break;

           case VideoState.PAUSED:
            break;

           case VideoState.RESTART:
            this.onClose();
            this.pokerModel.emit("clearTimers", null);
            GameManager.popUpManager.show(PopUpType.VideoPlayerPopup, this.onShowData, function() {});
          }
        }
      },
      resetView: function resetView() {
        this.presenter.unTiledView.getChildByName("SettingsButton").active = false;
        this.presenter.unTiledView.getChildByName("Tile_Untile").active = false;
        this.presenter.unTiledView.getChildByName("AddChipsButton").active = false;
        this.presenter.sitOutNextHandCheckBox.node.parent.active = false;
        this.presenter.postBigBlindCheckBox.node.parent.active = false;
        this.presenter.resumeBtn.active = false;
        this.presenter.runItTwiceCB.node.parent.active = false;
        this.presenter.chatPanel.active = false;
        this.presenter.unTiledView.getChildByName("ReplayButton").active = false;
      },
      onPlay: function onPlay() {
        this.changeState(VideoState.RUNNING);
        this.pauseBtn.active = true;
        this.playBtn.active = false;
        GameManager.playSound(K.Sounds.click);
      },
      onStop: function onStop() {
        this.pauseBtn.active = false;
        this.playBtn.active = true;
        this.changeState(VideoState.RESTART);
        GameManager.playSound(K.Sounds.click);
      },
      onPause: function onPause() {
        this.changeState(VideoState.PAUSED);
        this.pauseBtn.active = false;
        this.playBtn.active = true;
        GameManager.playSound(K.Sounds.click);
      },
      increaseSpeed: function increaseSpeed() {
        this.speed < 3 && this.speed++;
      },
      onOneXSpeed: function onOneXSpeed() {
        this.resetSpeedView();
        this.speed = 1;
        this.pokerModel.videoSpeed = 1;
        this.oneXBtn.getComponent(cc.Sprite).spriteFrame = this.activeSprite;
        this.oneXBtn.children[0].color = this.activeFontColor;
        this.oneXBtn.children.length > 1 && (this.oneXBtn.children[1].color = this.activeFontColor);
        GameManager.playSound(K.Sounds.click);
      },
      onTwoXSpeed: function onTwoXSpeed() {
        this.resetSpeedView();
        this.speed = 2;
        this.pokerModel.videoSpeed = 2;
        this.twoXBtn.getComponent(cc.Sprite).spriteFrame = this.activeSprite;
        this.twoXBtn.children[0].color = this.activeFontColor;
        this.twoXBtn.children.length > 1 && (this.twoXBtn.children[1].color = this.activeFontColor);
        GameManager.playSound(K.Sounds.click);
      },
      onThreeXSpeed: function onThreeXSpeed() {
        this.resetSpeedView();
        this.speed = 3;
        this.pokerModel.videoSpeed = 3;
        this.threeXBtn.getComponent(cc.Sprite).spriteFrame = this.activeSprite;
        this.threeXBtn.children[0].color = this.activeFontColor;
        this.threeXBtn.children.length > 1 && (this.threeXBtn.children[1].color = this.activeFontColor);
        GameManager.playSound(K.Sounds.click);
      },
      resetSpeedView: function resetSpeedView() {
        this.oneXBtn.getComponent(cc.Sprite).spriteFrame = this.deactiveSprite;
        this.twoXBtn.getComponent(cc.Sprite).spriteFrame = this.deactiveSprite;
        this.threeXBtn.getComponent(cc.Sprite).spriteFrame = this.deactiveSprite;
        this.oneXBtn.children[0].color = this.deactiveFontColor;
        this.oneXBtn.children.length > 1 && (this.oneXBtn.children[1].color = this.deactiveFontColor);
        this.twoXBtn.children[0].color = this.deactiveFontColor;
        this.twoXBtn.children.length > 1 && (this.twoXBtn.children[1].color = this.deactiveFontColor);
        this.threeXBtn.children[0].color = this.deactiveFontColor;
        this.threeXBtn.children.length > 1 && (this.threeXBtn.children[1].color = this.deactiveFontColor);
      },
      decreaseSpeed: function decreaseSpeed() {
        this.speed > 1 && this.speed--;
      },
      onNextVideo: function onNextVideo() {
        if (this.onShowData.id < this.refModel.handTabs.length - 1) {
          var data = {};
          data.currentId = this.refModel.handTabs[this.onShowData.id + 1].videoId;
          data.refModel = this.refModel;
          data.id = this.onShowData.id + 1;
          this.onClose();
          GameManager.popUpManager.show(PopUpType.VideoPlayerPopup, data, function() {});
        }
        GameManager.playSound(K.Sounds.click);
      },
      onPrevVideo: function onPrevVideo() {
        if (this.onShowData.id > 0) {
          var data = {};
          data.currentId = this.refModel.handTabs[this.onShowData.id - 1].videoId;
          data.refModel = this.refModel;
          data.id = this.onShowData.id - 1;
          this.onClose();
          GameManager.popUpManager.show(PopUpType.VideoPlayerPopup, data, function() {});
        }
      },
      nextFrame: function nextFrame() {
        this.currentTime = this.videoEvents[this.currentEventIdx].timestamp;
      },
      onHide: function onHide() {},
      showTabHistory: function showTabHistory() {
        this.pokerModel.getHandHistory(this.handHistoryId);
      },
      onClose: function onClose() {
        GameManager.playSound(K.Sounds.click);
        GameManager.popUpManager.hide(PopUpType.VideoPlayerPopup, function() {});
      }
    });
    cc._RF.pop();
  }, {
    OFCResponseTypes: "OFCResponseTypes",
    PokerPresenter: "PokerPresenter",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    ResponseTypes: "ResponseTypes",
    SitNGoModelHandler: "SitNGoModelHandler"
  } ],
  ViewGroupNesting: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "1fd25c6h2xEO6usFxiZ3n93", "ViewGroupNesting");
    "use strict";
    var __extends = this && this.__extends || function() {
      var extendStatics = function(d, b) {
        extendStatics = Object.setPrototypeOf || {
          __proto__: []
        } instanceof Array && function(d, b) {
          d.__proto__ = b;
        } || function(d, b) {
          for (var p in b) Object.prototype.hasOwnProperty.call(b, p) && (d[p] = b[p]);
        };
        return extendStatics(d, b);
      };
      return function(d, b) {
        extendStatics(d, b);
        function __() {
          this.constructor = d;
        }
        d.prototype = null === b ? Object.create(b) : (__.prototype = b.prototype, new __());
      };
    }();
    var __decorate = this && this.__decorate || function(decorators, target, key, desc) {
      var c = arguments.length, r = c < 3 ? target : null === desc ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;
      if ("object" === typeof Reflect && "function" === typeof Reflect.decorate) r = Reflect.decorate(decorators, target, key, desc); else for (var i = decorators.length - 1; i >= 0; i--) (d = decorators[i]) && (r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r);
      return c > 3 && r && Object.defineProperty(target, key, r), r;
    };
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
    var ViewGroupNesting = function(_super) {
      __extends(ViewGroupNesting, _super);
      function ViewGroupNesting() {
        var _this = null !== _super && _super.apply(this, arguments) || this;
        _this.events = [];
        return _this;
      }
      ViewGroupNesting.prototype.onLoad = function() {
        this.node.on(cc.Node.EventType.TOUCH_START, this.onTouchHandle, this, true);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.onTouchHandle, this, true);
        this.node.on(cc.Node.EventType.TOUCH_END, this.onTouchHandle, this, true);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.onTouchHandle, this, true);
      };
      ViewGroupNesting.prototype.onTouchHandle = function(event) {
        if (event.sham || event.simulate || event.target === this.node) return;
        var cancelEvent = new cc.Event.EventTouch(event.getTouches(), event.bubbles);
        cancelEvent.type = event.type;
        cancelEvent.touch = event.touch;
        cancelEvent.sham = true;
        this.events.push(cancelEvent);
      };
      ViewGroupNesting.prototype.update = function() {
        if (0 === this.events.length) return;
        for (var index = 0; index < this.events.length; index++) this.node.dispatchEvent(this.events[index]);
        this.events.length = 0;
      };
      ViewGroupNesting = __decorate([ ccclass ], ViewGroupNesting);
      return ViewGroupNesting;
    }(cc.Component);
    exports.default = ViewGroupNesting;
    cc._RF.pop();
  }, {} ],
  WebImageUpload: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "85f48C1IQpBxYqbkR2LcniG", "WebImageUpload");
    "use strict";
    var self;
    cc.Class({
      extends: cc.Component,
      properties: {
        base64Data: null,
        imageLoaded: null,
        spriteLoaded: null
      },
      onLoad: function onLoad() {
        window.WebImageUpload = this;
      },
      loadImage: function loadImage(callBack) {
        var x = document.createElement("INPUT");
        x.setAttribute("type", "file");
        x.setAttribute("value", "Click me");
        x.setAttribute("id", "Upload");
        x.setAttribute("hidden", "true");
        x.setAttribute("accept", "image/*");
        self = this;
        x.onchange = function(input) {
          self.readURL(this);
        };
        document.body.appendChild(x);
        this.imageLoaded = callBack;
        document.getElementById("Upload").click();
      },
      readURL: function readURL(input) {
        if (input.files && input.files[0]) {
          var reader = new FileReader();
          reader.onload = function(e) {
            self.base64Data = e.target.result;
            var imgElement = new Image();
            imgElement.src = e.target.result;
            self.scheduleOnce(function() {
              var k = self._resize(imgElement, 500, 500);
              if (false != k) {
                self.base64Data = k;
                self.scheduleOnce(function() {
                  var texture2d = new cc.Texture2D();
                  texture2d.initWithElement(imgElement);
                  texture2d.handleLoadedTexture();
                  self.spriteLoaded = new cc.SpriteFrame(texture2d);
                  self.imageLoaded(self.spriteLoaded);
                }, .2);
              } else alert("There was a problem, please upload again");
            }, .2);
          };
          reader.readAsDataURL(input.files[0]);
        }
      },
      _resize: function _resize(img, maxWidth, maxHeight) {
        var ratio = 1;
        var canvas = document.createElement("canvas");
        canvas.style.display = "none";
        document.body.appendChild(canvas);
        var canvasCopy = document.createElement("canvas");
        canvasCopy.style.display = "none";
        document.body.appendChild(canvasCopy);
        var ctx = canvas.getContext("2d");
        var copyContext = canvasCopy.getContext("2d");
        img.width > maxWidth ? ratio = maxWidth / img.width : img.height > maxHeight && (ratio = maxHeight / img.height);
        canvasCopy.width = img.width;
        canvasCopy.height = img.height;
        try {
          copyContext.drawImage(img, 0, 0);
        } catch (e) {
          alert("There was a problem - please reupload your image");
          return false;
        }
        canvas.width = img.width * ratio;
        canvas.height = img.height * ratio;
        ctx.drawImage(canvasCopy, 0, 0, canvas.width, canvas.height);
        var dataURL = canvas.toDataURL("image/png");
        document.body.removeChild(canvas);
        document.body.removeChild(canvasCopy);
        return dataURL;
      }
    });
    cc._RF.pop();
  }, {} ],
  ae_keep_click: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fc621tt+EhA3LqY7/KQD+Fg", "ae_keep_click");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        safeTime: {
          default: 1.5,
          tooltip: "\u6309\u94ae\u4fdd\u62a4\u65f6\u95f4\uff0c\u6307\u5b9a\u95f4\u9694\u5185\u53ea\u80fd\u70b9\u51fb\u4e00\u6b21."
        }
      },
      start: function() {
        var _this = this;
        var button = this.getComponent(cc.Button);
        if (!button) return;
        this.clickEvents = button.clickEvents;
        this.node.on("click", function() {
          button.clickEvents = [];
          _this.scheduleOnce(function(dt) {
            button.clickEvents = _this.clickEvents;
          }, _this.safeTime);
        }, this);
      }
    });
    cc._RF.pop();
  }, {} ],
  capture_to_native: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "4d2b7Q9hOJAqqSFfGIIF0Nd", "capture_to_native");
    "use strict";
    cc.Class({
      extends: require("./textureRenderUtils"),
      properties: {
        _width: 0,
        _height: 0
      },
      start: function start() {},
      initImage: function initImage() {
        var data = this.texture.readPixels();
        this._width = this.texture.width;
        this._height = this.texture.height;
        var picData = this.filpYImage(data, this._width, this._height);
        return picData;
      },
      createCanvas: function createCanvas(picData) {
        var texture = new cc.Texture2D();
        texture.initWithData(picData, 32, this._width, this._height);
        var spriteFrame = new cc.SpriteFrame();
        spriteFrame.setTexture(texture);
        var node = new cc.Node();
        var sprite = node.addComponent(cc.Sprite);
        sprite.spriteFrame = spriteFrame;
        node.zIndex = cc.macro.MAX_ZINDEX;
        node.parent = cc.director.getScene();
        var width = cc.winSize.width;
        var height = cc.winSize.height;
        node.x = width / 2;
        node.y = height / 2;
        node.on(cc.Node.EventType.TOUCH_START, function() {
          node.parent = null;
          node.destroy();
        });
        this.captureAction(node, width, height);
      },
      saveFile: function saveFile(picData) {
        var filePath;
        var success;
        false;
      },
      filpYImage: function filpYImage(data, width, height) {
        var picData = new Uint8Array(width * height * 4);
        var rowBytes = 4 * width;
        for (var row = 0; row < height; row++) {
          var srow = height - 1 - row;
          var start = srow * width * 4;
          var reStart = row * width * 4;
          for (var i = 0; i < rowBytes; i++) picData[reStart + i] = data[start + i];
        }
        return picData;
      }
    });
    cc._RF.pop();
  }, {
    "./textureRenderUtils": "textureRenderUtils"
  } ],
  capture_to_web: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "a3bd2YeLnlLlYe7zsG6dokc", "capture_to_web");
    "use strict";
    cc.Class({
      extends: require("./textureRenderUtils"),
      start: function start() {}
    });
    cc._RF.pop();
  }, {
    "./textureRenderUtils": "textureRenderUtils"
  } ],
  c: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "04772wfNcpBG5gndu3ntWj1", "c");
    "use strict";
    var PopUpManager = require("PopUpManager").PopUpManager;
    var PopUpType = require("PopUpManager").PopUpType;
    var PopUpBase = require("PopUpBase");
    var SliderTouchType = require("SliderTouch");
    var EditBoxType = require("CustomEditBox");
    var UtilEditBoxType = require("EditBoxUtil");
    var SetPlayerValData = require("PostTypes").SetPlayerValData;
    cc.Class({
      extends: PopUpBase,
      properties: {
        minStake: {
          default: null,
          type: cc.EditBox
        },
        maxStake: {
          default: null,
          type: cc.EditBox
        },
        buyInUltraLow: {
          default: null,
          type: cc.Node
        },
        buyInLow: {
          default: null,
          type: cc.Node
        },
        buyInMedium: {
          default: null,
          type: cc.Node
        },
        buyInHiigh: {
          default: null,
          type: cc.Node
        },
        player2: {
          default: null,
          type: cc.Node
        },
        player3: {
          default: null,
          type: cc.Node
        },
        player4: {
          default: null,
          type: cc.Node
        },
        player5: {
          default: null,
          type: cc.Node
        },
        player6: {
          default: null,
          type: cc.Node
        },
        player7: {
          default: null,
          type: cc.Node
        },
        player8: {
          default: null,
          type: cc.Node
        },
        player9: {
          default: null,
          type: cc.Node
        },
        rit: {
          default: null,
          type: cc.Node
        },
        noLimit: {
          default: null,
          type: cc.Node
        },
        limit: {
          default: null,
          type: cc.Node
        }
      },
      onDestroy: function onDestroy() {},
      onEnable: function onEnable() {},
      onLoad: function onLoad() {},
      onShow: function onShow(data) {},
      onClearAll: function onClearAll() {},
      onApply: function onApply() {
        var inst = this;
        ServerCom.pomeloRequest("connector.entryHandler.getLobbyTables", {
          isRealMoney: true,
          channelVariation: "All",
          playerId: GameManager.user.playerId,
          isLoggedIn: true,
          access_token: K.Token.access_token
        }, function(response) {
          console.log("TABLE DATA IS ", JSON.parse(JSON.stringify(response)));
          response.success && response.result && inst.populateTable(response.result);
        }, null, 5e3, false);
      },
      onClose: function onClose() {
        this.node.active = false;
      }
    });
    cc._RF.pop();
  }, {
    CustomEditBox: "CustomEditBox",
    EditBoxUtil: "EditBoxUtil",
    PopUpBase: "PopUpBase",
    PopUpManager: "PopUpManager",
    PostTypes: "PostTypes",
    SliderTouch: "SliderTouch"
  } ],
  globals: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "fc85dCz8NhEe489BL2pnfdz", "globals");
    "use strict";
    Object.defineProperty(exports, "__esModule", {
      value: true
    });
    var globals = {
      TournamentLobbyListPresenter: null,
      TournamentLobbyPresenter: null,
      BingoTournamentLobbyListPresenter: null,
      BingoTournamentLobbyPresenter: null
    };
    exports.default = globals;
    cc._RF.pop();
  }, {} ],
  main: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "9a0cb+o3c9K9KBlVu8r+vBC", "main");
    "use strict";
    (function(define) {
      define([], function() {
        var TOKEN_TRUE = -1;
        var TOKEN_FALSE = -2;
        var TOKEN_NULL = -3;
        var TOKEN_EMPTY_STRING = -4;
        var TOKEN_UNDEFINED = -5;
        var pack = function pack(json, options) {
          options = options || {};
          var verbose = options.verbose || false;
          verbose && console.log("Normalize the JSON Object");
          json = "string" === typeof json ? this.JSON.parse(json) : json;
          verbose && console.log("Creating a empty dictionary");
          var dictionary = {
            strings: [],
            integers: [],
            floats: []
          };
          verbose && console.log("Creating the AST");
          var ast = function recursiveAstBuilder(item) {
            verbose && console.log("Calling recursiveAstBuilder with " + this.JSON.stringify(item));
            var type = typeof item;
            if (null === item) return {
              type: "null",
              index: TOKEN_NULL
            };
            if ("undefined" === typeof item) return {
              type: "undefined",
              index: TOKEN_UNDEFINED
            };
            if (item instanceof Array) {
              var ast = [ "@" ];
              for (var i in item) {
                if (!item.hasOwnProperty(i)) continue;
                ast.push(recursiveAstBuilder(item[i]));
              }
              return ast;
            }
            if ("object" === type) {
              var ast = [ "$" ];
              for (var key in item) {
                if (!item.hasOwnProperty(key)) continue;
                ast.push(recursiveAstBuilder(key));
                ast.push(recursiveAstBuilder(item[key]));
              }
              return ast;
            }
            if ("" === item) return {
              type: "empty",
              index: TOKEN_EMPTY_STRING
            };
            if ("string" === type) {
              var index = _indexOf.call(dictionary.strings, item);
              if (-1 == index) {
                dictionary.strings.push(_encode(item));
                index = dictionary.strings.length - 1;
              }
              return {
                type: "strings",
                index: index
              };
            }
            if ("number" === type && item % 1 === 0) {
              var index = _indexOf.call(dictionary.integers, item);
              if (-1 == index) {
                dictionary.integers.push(_base10To36(item));
                index = dictionary.integers.length - 1;
              }
              return {
                type: "integers",
                index: index
              };
            }
            if ("number" === type) {
              var index = _indexOf.call(dictionary.floats, item);
              if (-1 == index) {
                dictionary.floats.push(item);
                index = dictionary.floats.length - 1;
              }
              return {
                type: "floats",
                index: index
              };
            }
            if ("boolean" === type) return {
              type: "boolean",
              index: item ? TOKEN_TRUE : TOKEN_FALSE
            };
            throw new Error("Unexpected argument of type " + typeof item);
          }(json);
          var stringLength = dictionary.strings.length;
          var integerLength = dictionary.integers.length;
          var floatLength = dictionary.floats.length;
          verbose && console.log("Parsing the dictionary");
          var packed = dictionary.strings.join("|");
          packed += "^" + dictionary.integers.join("|");
          packed += "^" + dictionary.floats.join("|");
          verbose && console.log("Parsing the structure");
          packed += "^" + function recursiveParser(item) {
            verbose && console.log("Calling a recursiveParser with " + this.JSON.stringify(item));
            if (item instanceof Array) {
              var packed = item.shift();
              for (var i in item) {
                if (!item.hasOwnProperty(i)) continue;
                packed += recursiveParser(item[i]) + "|";
              }
              return ("|" === packed[packed.length - 1] ? packed.slice(0, -1) : packed) + "]";
            }
            var type = item.type, index = item.index;
            if ("strings" === type) return _base10To36(index);
            if ("integers" === type) return _base10To36(stringLength + index);
            if ("floats" === type) return _base10To36(stringLength + integerLength + index);
            if ("boolean" === type) return item.index;
            if ("null" === type) return TOKEN_NULL;
            if ("undefined" === type) return TOKEN_UNDEFINED;
            if ("empty" === type) return TOKEN_EMPTY_STRING;
            throw new TypeError("The item is alien!");
          }(ast);
          verbose && console.log("Ending parser");
          if (options.debug) return {
            dictionary: dictionary,
            ast: ast,
            packed: packed
          };
          return packed;
        };
        var unpack = function unpack(packed, options) {
          options = options || {};
          var rawBuffers = packed.split("^");
          options.verbose && console.log("Building dictionary");
          var dictionary = [];
          var buffer = rawBuffers[0];
          if ("" !== buffer) {
            buffer = buffer.split("|");
            options.verbose && console.log("Parse the strings dictionary");
            for (var i = 0, n = buffer.length; i < n; i++) dictionary.push(_decode(buffer[i]));
          }
          buffer = rawBuffers[1];
          if ("" !== buffer) {
            buffer = buffer.split("|");
            options.verbose && console.log("Parse the integers dictionary");
            for (var i = 0, n = buffer.length; i < n; i++) dictionary.push(_base36To10(buffer[i]));
          }
          buffer = rawBuffers[2];
          if ("" !== buffer) {
            buffer = buffer.split("|");
            options.verbose && console.log("Parse the floats dictionary");
            for (var i = 0, n = buffer.length; i < n; i++) dictionary.push(parseFloat(buffer[i]));
          }
          buffer = null;
          options.verbose && console.log("Tokenizing the structure");
          var number36 = "";
          var tokens = [];
          var len = rawBuffers[3].length;
          for (var i = 0; i < len; i++) {
            var symbol = rawBuffers[3].charAt(i);
            if ("|" === symbol || "$" === symbol || "@" === symbol || "]" === symbol) {
              if (number36) {
                tokens.push(_base36To10(number36));
                number36 = "";
              }
              "|" !== symbol && tokens.push(symbol);
            } else number36 += symbol;
          }
          var tokensLength = tokens.length;
          var tokensIndex = 0;
          options.verbose && console.log("Starting recursive parser");
          return function recursiveUnpackerParser() {
            var type = tokens[tokensIndex++];
            options.verbose && console.log("Reading collection type " + ("$" === type ? "object" : "Array"));
            if ("@" === type) {
              var node = [];
              for (;tokensIndex < tokensLength; tokensIndex++) {
                var value = tokens[tokensIndex];
                options.verbose && console.log("Read " + value + " symbol");
                if ("]" === value) return node;
                if ("@" === value || "$" === value) node.push(recursiveUnpackerParser()); else switch (value) {
                 case TOKEN_TRUE:
                  node.push(true);
                  break;

                 case TOKEN_FALSE:
                  node.push(false);
                  break;

                 case TOKEN_NULL:
                  node.push(null);
                  break;

                 case TOKEN_UNDEFINED:
                  node.push(void 0);
                  break;

                 case TOKEN_EMPTY_STRING:
                  node.push("");
                  break;

                 default:
                  node.push(dictionary[value]);
                }
              }
              options.verbose && console.log("Parsed " + this.JSON.stringify(node));
              return node;
            }
            if ("$" === type) {
              var node = {};
              for (;tokensIndex < tokensLength; tokensIndex++) {
                var key = tokens[tokensIndex];
                if ("]" === key) return node;
                key = key === TOKEN_EMPTY_STRING ? "" : dictionary[key];
                var value = tokens[++tokensIndex];
                if ("@" === value || "$" === value) node[key] = recursiveUnpackerParser(); else switch (value) {
                 case TOKEN_TRUE:
                  node[key] = true;
                  break;

                 case TOKEN_FALSE:
                  node[key] = false;
                  break;

                 case TOKEN_NULL:
                  node[key] = null;
                  break;

                 case TOKEN_UNDEFINED:
                  node[key] = void 0;
                  break;

                 case TOKEN_EMPTY_STRING:
                  node[key] = "";
                  break;

                 default:
                  node[key] = dictionary[value];
                }
              }
              options.verbose && console.log("Parsed " + this.JSON.stringify(node));
              return node;
            }
            throw new TypeError("Bad token " + type + " isn't a type");
          }();
        };
        var _indexOfDictionary = function _indexOfDictionary(dictionary, value) {
          var type = typeof value;
          if ("boolean" === type) return value ? TOKEN_TRUE : TOKEN_FALSE;
          if (null === value) return TOKEN_NULL;
          if ("undefined" === typeof value) return TOKEN_UNDEFINED;
          if ("" === value) return TOKEN_EMPTY_STRING;
          if ("string" === type) {
            value = _encode(value);
            var index = _indexOf.call(dictionary.strings, value);
            if (-1 === index) {
              dictionary.strings.push(value);
              index = dictionary.strings.length - 1;
            }
          }
          if ("string" !== type && "number" !== type) throw new Error("The type is not a JSON type");
          "string" === type ? value = _encode(value) : value % 1 === 0 && (value = _base10To36(value));
          value = "number" === type ? _base10To36(value) : _encode(value);
          var index = _indexOf.call(dictionary[type], value);
          if (-1 === index) {
            dictionary[type].push(value);
            index = dictionary[type].length - 1;
          }
          return "number" === type ? "+" + index : index;
        };
        var _encode = function _encode(str) {
          if ("string" !== typeof str) return str;
          return str.replace(/[\+ \|\^\%]/g, function(a) {
            return {
              " ": "+",
              "+": "%2B",
              "|": "%7C",
              "^": "%5E",
              "%": "%25"
            }[a];
          });
        };
        var _decode = function _decode(str) {
          if ("string" !== typeof str) return str;
          return str.replace(/\+|%2B|%7C|%5E|%25/g, function(a) {
            return {
              "+": " ",
              "%2B": "+",
              "%7C": "|",
              "%5E": "^",
              "%25": "%"
            }[a];
          });
        };
        var _base10To36 = function _base10To36(number) {
          return Number.prototype.toString.call(number, 36).toUpperCase();
        };
        var _base36To10 = function _base36To10(number) {
          return parseInt(number, 36);
        };
        var _indexOf = Array.prototype.indexOf || function(obj, start) {
          for (var i = start || 0, j = this.length; i < j; i++) if (this[i] === obj) return i;
          return -1;
        };
        return {
          JSON: JSON,
          pack: pack,
          unpack: unpack
        };
      });
    })("undefined" != typeof define && define.amd ? define : function(deps, factory) {
      var jsonpack = factory();
      if ("undefined" != typeof exports) for (var key in jsonpack) exports[key] = jsonpack[key]; else window.jsonpack = jsonpack;
    });
    cc._RF.pop();
  }, {} ],
  scrollBarHandler: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "af8daUif6JBU6KV6ThmPtbl", "scrollBarHandler");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        container: {
          default: null,
          type: cc.Node
        },
        scrollView: null
      },
      onLoad: function onLoad() {},
      onEnable: function onEnable() {
        this.scrollIt();
        this.registerUPandDOWN();
      },
      scrollIt: function scrollIt() {
        this.scrollView = this.node.getComponent(cc.ScrollView);
        this.handle = this.node.getChildByName("scrollBar").getChildByName("bar");
        this.handle.on(cc.Node.EventType.TOUCH_MOVE, function(event) {
          event.bubbles = false;
          event.stopPropagation();
          var deltaY = event.getDeltaY();
          var currentOffset = this.scrollView.getScrollOffset();
          var offset = new cc.Vec2(0, 0);
          if (deltaY > 0) {
            var x = cc.v2(0, currentOffset.y - 10);
            this.scrollView.scrollToOffset(x);
          } else if (deltaY < 0) {
            var x = cc.v2(0, currentOffset.y + 10);
            this.scrollView.scrollToOffset(x);
          }
        }.bind(this));
      },
      onUpScrollClick: function onUpScrollClick() {
        var sView = this.getComponent(cc.ScrollView);
        var currentOffset = sView.getScrollOffset();
        var viewChildrenCount = sView.content.children.length;
        var x = cc.v2(0, currentOffset.y - 26);
        this.scrollView.scrollToOffset(x, .2);
      },
      onDownScrollClick: function onDownScrollClick() {
        var sView = this.getComponent(cc.ScrollView);
        var currentOffset = sView.getScrollOffset();
        var x = cc.v2(0, currentOffset.y + 26);
        this.scrollView.scrollToOffset(x, .2);
      },
      registerUPandDOWN: function registerUPandDOWN() {
        return;
        var scrollView;
      }
    });
    cc._RF.pop();
  }, {} ],
  "socket-service": [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "288f0GhN6VFNrs9KhSQvqxS", "socket-service");
    "use strict";
    var SocketService = function SocketService() {
      this.promiseData = {};
    };
    window.SocketService = SocketService;
    SocketService.prototype.io = function(host, options) {
      this.socket = io(host, options);
      var self = this;
      this.socket.onAny(function(event, data) {
        console.log(event, data.eventOrigin, data);
        if ("commonEventResponse" === event && "room.channelHandler.joinChannel" == data.eventOrigin) {
          self.promiseData[data.eventOrigin + "|" + data.data.channelId].resolve && self.promiseData[data.eventOrigin + "|" + data.data.channelId].resolve(data);
          delete self.promiseData[data.eventOrigin + "|" + data.data.channelId];
        } else if ("commonEventResponse" === event && self.promiseData[data.eventOrigin]) {
          self.promiseData[data.eventOrigin].resolve && self.promiseData[data.eventOrigin].resolve(data);
          self.promiseData[data.eventOrigin] ? delete self.promiseData[data.eventOrigin] : data.data && data.data.channelId && delete self.promiseData[data.eventOrigin + "|" + data.data.channelId];
        } else self.onAny && self.onAny(event, data);
      });
    };
    SocketService.prototype.emit = function(event, data, cb) {
      this.socket.emit(event, data, cb);
      var self = this;
      var emitPromise = new Promise(function(resolve, reject) {
        "room.channelHandler.joinChannel" == data.eventName ? self.promiseData[data.eventName + "|" + data.data.channelId] = {
          resolve: resolve,
          reject: reject
        } : self.promiseData[data.eventName] = {
          resolve: resolve,
          reject: reject
        };
        setTimeout(function() {
          self.promiseData[data.eventName] && self.promiseData[data.eventName].reject;
        }, 1e4);
      });
      return emitPromise;
    };
    SocketService.prototype.onAny = function(callback) {
      this.onAny = callback;
    };
    cc._RF.pop();
  }, {} ],
  testPack: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "54bd2vr2jZKnJHBwwwVWwRV", "testPack");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {},
      onLoad: function onLoad() {
        var json = {
          type: "world",
          name: "earth",
          children: [ {
            type: "continent",
            name: "America",
            children: [ {
              type: "country",
              name: "Chile",
              children: [ {
                type: "commune",
                name: "Antofagasta"
              } ]
            } ]
          }, {
            type: "continent",
            name: "Europe"
          } ]
        };
        var packed = jsonpack.pack(json);
      }
    });
    cc._RF.pop();
  }, {} ],
  textureRenderUtils: [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "f55ebW8plpEeIgthwlvCLbJ", "textureRenderUtils");
    "use strict";
    cc.Class({
      extends: cc.Component,
      properties: {
        camera: cc.Camera,
        _canvas: null
      },
      init: function init() {
        var texture = new cc.RenderTexture();
        texture.initWithSize(cc.visibleRect.width, cc.visibleRect.height, cc.gfx.RB_FMT_S8);
        this.camera.targetTexture = texture;
        this.texture = texture;
      },
      createImg: function createImg() {
        var dataURL = this._canvas.toDataURL("image/png");
        var img = document.createElement("img");
        img.src = dataURL;
        return img;
      },
      createCanvas: function createCanvas() {
        var width = this.texture.width;
        var height = this.texture.height;
        if (this._canvas) this.clearCanvas(); else {
          this._canvas = document.createElement("canvas");
          this._canvas.width = width;
          this._canvas.height = height;
        }
        var ctx = this._canvas.getContext("2d");
        this.camera.render();
        var data = this.texture.readPixels();
        var rowBytes = 4 * width;
        for (var row = 0; row < height; row++) {
          var srow = height - 1 - row;
          var imageData = ctx.createImageData(width, 1);
          var start = srow * width * 4;
          for (var i = 0; i < rowBytes; i++) imageData.data[i] = data[start + i];
          ctx.putImageData(imageData, 0, row);
        }
        return this._canvas;
      },
      showImage: function showImage(img) {
        var texture = new cc.Texture2D();
        texture.initWithElement(img);
        var spriteFrame = new cc.SpriteFrame();
        spriteFrame.setTexture(texture);
        var node = new cc.Node();
        var sprite = node.addComponent(cc.Sprite);
        sprite.spriteFrame = spriteFrame;
        node.zIndex = cc.macro.MAX_ZINDEX;
        node.parent = cc.director.getScene();
        var width = cc.winSize.width;
        var height = cc.winSize.height;
        node.x = width / 2;
        node.y = height / 2;
        this.captureAction(node, width, height);
      },
      captureAction: function captureAction(capture, width, height) {
        var scaleAction = cc.scaleTo(.5, .3);
        var targetPos = cc.v2(width - width / 6, height / 4);
        var moveAction = cc.moveTo(.5, targetPos);
        var spawn = cc.spawn(scaleAction, moveAction);
        capture.runAction(cc.sequence(spawn, cc.delayTime(1), cc.callFunc(function() {
          capture.parent = null;
          capture.destroy();
        })));
        var blinkAction = cc.blink(.4, 1);
        this.node.runAction(blinkAction);
      },
      clearCanvas: function clearCanvas() {
        var ctx = this._canvas.getContext("2d");
        ctx.clearRect(0, 0, this._canvas.width, this._canvas.height);
      }
    });
    cc._RF.pop();
  }, {} ],
  "use_v2.0.x_cc.Toggle_event": [ function(require, module, exports) {
    "use strict";
    cc._RF.push(module, "d627fyCLeRJB72wQZ2AmAsl", "use_v2.0.x_cc.Toggle_event");
    "use strict";
    cc.Toggle && (cc.Toggle._triggerEventInScript_check = true);
    cc._RF.pop();
  }, {} ]
}, {}, [ "AnimBase", "BuddiesItemContent", "BuddiesItemIngame", "BuddiesPopup", "BuddiesTablePresenter", "BuildTime", "GameConfig", "OFCConfigs", "FramesController", "GameManager", "BetBtnUtil", "ChatInfoPanel", "ChatPanel", "DealerChatPanel", "HandHistoryTab", "HandPanel", "JohnyChat", "NotePanel", "TableInfoPanel", "OptionalPlayerInput", "PokerChipsView", "PotSplitter", "TableTab", "QSTournamentDetail", "TournamentDetailsHandInfo", "TournamentDetailsPlayerInfo", "TournamentDetailsPrizeInfo", "TournamentLobbyDetailsMain", "TournamentInfoBlindInfo", "TournamentLobbyInfoMain", "TournamentLobbyTableMain", "TournamentTablePlayersInfo", "TournamentTablePlayersOnTableInfo", "TournamentTableRunningTableInfo", "CountryCodes", "OFCPostTypes", "OFCResponseTypes", "PostTypes", "ResponseTypes", "DisableScrollOnButton", "NestablePageView_Outer", "NestableScrollView_Inner", "NestableScrollView_Outer", "NtPageView", "NtScrollView", "NtScrollViewIn", "NtScrollViewOut", "Profile", "SitTournComingSoon", "Launch", "LocalizedLabel", "LocalizedManager", "LocalizedSprite", "LocalizedUI", "AdminNoticePopup", "Advancefilter", "AvatarPopup", "AvatarSelection", "BlindsChangedPopUp", "BuyInPopup", "CashierPopUp", "CashoutPopup", "CommonPopup", "ConfirmQuickSeatSitNGo", "DepositOne", "DisconnectPopup", "EnterPasswordPopup", "ForgotPasswordPopUp", "FreeBuyInPopup", "FriendsList", "FundTransferPopup", "GamePreferencesPopup", "GameResult", "GameVariationPopup", "GeneralBtnsPopup", "HandHistoryDetailPopup", "HandHistoryPopup", "InGamePreferencesPopup", "InSufficientChipsPopup", "InfoPopup", "InstructionPopup", "InviteToPlayPopup", "InvliteFriendsList", "JoinGamePopup", "JoinPrivateTablePopup", "ListNotifications", "LobbySettingsPopup", "MaxTablesPopup", "MobileNotePopup", "MultiLoginPopup", "NewPlayerInfoPopup", "NewVersionPopup", "NotificationPopup", "OnLogOutPopup", "PlayerAccountPopup", "PlayerInfoPopup", "PrivateTablePopup", "QuickSeatPopup", "RegPopup", "RemoveDataPopup", "ReportBug", "ResultPopup", "SeatPreferencesPopup", "SitNGoResultPopup", "TableColorSelectionPopup", "TableTheme", "TournamentLobbyInfoPopup", "UpdateCategory", "UpdatePopup", "VideoPopup", "c", "ProfileHandler", "ProfilePresenter", "RoundRectMask", "GameModel", "GameScreen", "OFCModel", "OFCPresenter", "PokerModel", "PokerPresenter", "SitNGoModelHandler", "OFCPlayerPresenter", "PlayerPresenter", "IP-SelectionScreen", "LobbyHandler", "LobbyPresenter", "CashRoom", "CashTablePresenter", "FreeRollContent", "FreeRollPresenter", "NewTable", "PrivateTableContent", "SitTablePresenter", "Table", "TableContent", "TableHandler", "TableOld", "TournamentHandler", "TourneyTablePresenter", "ViewGroupNesting", "ForgotPassword", "LoginHandler", "LoginScreen", "SignupScreen", "StickerBase", "StickerController", "StickersPopup", "TournamentResponseTypes", "TournamentModelHandler", "TournamentInGameInfo", "TournamentLobbyHandler", "TournamentLobbyListItem", "TournamentLobbyListPresenter", "TournamentLobbyPresenter", "TournamentBreakTime", "TournamentBreakTimeAddon", "TournamentBuyin", "TournamentInfo", "TournamentNotification", "TournamentResultsPlacement", "TournamentResultsWinner", "TutorialManager", "ActivateFullScreen", "AdjustSpriteOrder", "CClick", "Card", "CardDistributer", "CardMovement", "CardPool", "CardTypes", "Decks", "DragManager", "Utils", "Checkbox", "CustomEditBox", "DropDown", "DropDownOption", "DropList", "EditBoxUtil", "EventEmitter", "ExceptionHandler", "Extensions", "FBService", "Movement", "PlatformAdapterUtil", "Queue.src", "ScaleTween", "ScreenResPolicyUtil", "PopUpBase", "PopUpManager", "AbstractScreen", "ScreenData", "ScreenManager", "ServerCom", "SliderTouch", "SliderTouchV", "State", "StateMachine", "AState", "AToB", "BState", "TestSM", "Transition", "SuperCustomEditBox", "TabBtnUtil", "TableSwiper", "TimerUtil", "Toggle", "WebImageUpload", "capture_to_native", "capture_to_web", "scrollBarHandler", "textureRenderUtils", "ae_keep_click", "globals", "EncryptionTest", "PomeloTest", "main", "testPack", "Emitter", "use_v2.0.x_cc.Toggle_event", "socket-service" ]);